!function(t,e){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){"use strict";var n=[],i=t.document,o=Object.getPrototypeOf,s=n.slice,r=n.concat,a=n.push,l=n.indexOf,c={},u=c.toString,h=c.hasOwnProperty,d=h.toString,f=d.call(Object),p={},g=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},m=function(t){return null!=t&&t===t.window},v={type:!0,src:!0,noModule:!0};function y(t,e,n){var o,s=(e=e||i).createElement("script");if(s.text=t,n)for(o in v)n[o]&&(s[o]=n[o]);e.head.appendChild(s).parentNode.removeChild(s)}function b(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?c[u.call(t)]||"object":typeof t}var w=function(t,e){return new w.fn.init(t,e)},_=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function x(t){var e=!!t&&"length"in t&&t.length,n=b(t);return!g(t)&&!m(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}w.fn=w.prototype={jquery:"3.3.1",constructor:w,length:0,toArray:function(){return s.call(this)},get:function(t){return null==t?s.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=w.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return w.each(this,t)},map:function(t){return this.pushStack(w.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:a,sort:n.sort,splice:n.splice},w.extend=w.fn.extend=function(){var t,e,n,i,o,s,r=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof r&&(c=r,r=arguments[a]||{},a++),"object"==typeof r||g(r)||(r={}),a===l&&(r=this,a--);a<l;a++)if(null!=(t=arguments[a]))for(e in t)n=r[e],r!==(i=t[e])&&(c&&i&&(w.isPlainObject(i)||(o=Array.isArray(i)))?(o?(o=!1,s=n&&Array.isArray(n)?n:[]):s=n&&w.isPlainObject(n)?n:{},r[e]=w.extend(c,s,i)):void 0!==i&&(r[e]=i));return r},w.extend({expando:"jQuery"+("3.3.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==u.call(t)||(e=o(t))&&("function"!=typeof(n=h.call(e,"constructor")&&e.constructor)||d.call(n)!==f))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t){y(t)},each:function(t,e){var n,i=0;if(x(t))for(n=t.length;i<n&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},trim:function(t){return null==t?"":(t+"").replace(_,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(x(Object(t))?w.merge(n,"string"==typeof t?[t]:t):a.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:l.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,o=t.length;i<n;i++)t[o++]=e[i];return t.length=o,t},grep:function(t,e,n){for(var i=[],o=0,s=t.length,r=!n;o<s;o++)!e(t[o],o)!==r&&i.push(t[o]);return i},map:function(t,e,n){var i,o,s=0,a=[];if(x(t))for(i=t.length;s<i;s++)null!=(o=e(t[s],s,n))&&a.push(o);else for(s in t)null!=(o=e(t[s],s,n))&&a.push(o);return r.apply([],a)},guid:1,support:p}),"function"==typeof Symbol&&(w.fn[Symbol.iterator]=n[Symbol.iterator]),w.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){c["[object "+e+"]"]=e.toLowerCase()});var C=function(t){var e,n,i,o,s,r,a,l,c,u,h,d,f,p,g,m,v,y,b,w="sizzle"+1*new Date,_=t.document,x=0,C=0,k=rt(),S=rt(),T=rt(),D=function(t,e){return t===e&&(h=!0),0},O={}.hasOwnProperty,E=[],N=E.pop,A=E.push,M=E.push,P=E.slice,I=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},R="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\x20\\t\\r\\n\\f]",j="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",H="\\["+L+"*("+j+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+j+"))|)"+L+"*\\]",B=":("+j+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+H+")*)|.*)\\)|)",q=new RegExp(L+"+","g"),F=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g"),$=new RegExp("^"+L+"*,"+L+"*"),z=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),W=new RegExp("="+L+"*([^\\]'\"]*?)"+L+"*\\]","g"),Y=new RegExp(B),U=new RegExp("^"+j+"$"),V={ID:new RegExp("^#("+j+")"),CLASS:new RegExp("^\\.("+j+")"),TAG:new RegExp("^("+j+"|[*])"),ATTR:new RegExp("^"+H),PSEUDO:new RegExp("^"+B),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+R+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},G=/^(?:input|select|textarea|button)$/i,K=/^h\d$/i,X=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Q=/[+~]/,J=new RegExp("\\\\([\\da-f]{1,6}"+L+"?|("+L+")|.)","ig"),tt=function(t,e,n){var i="0x"+e-65536;return i!=i||n?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},et=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,nt=function(t,e){return e?"\0"===t?"\ufffd":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},it=function(){d()},ot=yt(function(t){return!0===t.disabled&&("form"in t||"label"in t)},{dir:"parentNode",next:"legend"});try{M.apply(E=P.call(_.childNodes),_.childNodes)}catch(t){M={apply:E.length?function(t,e){A.apply(t,P.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}function st(t,e,i,o){var s,a,c,u,h,p,v,y=e&&e.ownerDocument,x=e?e.nodeType:9;if(i=i||[],"string"!=typeof t||!t||1!==x&&9!==x&&11!==x)return i;if(!o&&((e?e.ownerDocument||e:_)!==f&&d(e),e=e||f,g)){if(11!==x&&(h=Z.exec(t)))if(s=h[1]){if(9===x){if(!(c=e.getElementById(s)))return i;if(c.id===s)return i.push(c),i}else if(y&&(c=y.getElementById(s))&&b(e,c)&&c.id===s)return i.push(c),i}else{if(h[2])return M.apply(i,e.getElementsByTagName(t)),i;if((s=h[3])&&n.getElementsByClassName&&e.getElementsByClassName)return M.apply(i,e.getElementsByClassName(s)),i}if(n.qsa&&!T[t+" "]&&(!m||!m.test(t))){if(1!==x)y=e,v=t;else if("object"!==e.nodeName.toLowerCase()){for((u=e.getAttribute("id"))?u=u.replace(et,nt):e.setAttribute("id",u=w),a=(p=r(t)).length;a--;)p[a]="#"+u+" "+vt(p[a]);v=p.join(","),y=Q.test(t)&&gt(e.parentNode)||e}if(v)try{return M.apply(i,y.querySelectorAll(v)),i}catch(t){}finally{u===w&&e.removeAttribute("id")}}}return l(t.replace(F,"$1"),e,i,o)}function rt(){var t=[];return function e(n,o){return t.push(n+" ")>i.cacheLength&&delete e[t.shift()],e[n+" "]=o}}function at(t){return t[w]=!0,t}function lt(t){var e=f.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function ct(t,e){for(var n=t.split("|"),o=n.length;o--;)i.attrHandle[n[o]]=e}function ut(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function ht(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function dt(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function ft(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&ot(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function pt(t){return at(function(e){return e=+e,at(function(n,i){for(var o,s=t([],n.length,e),r=s.length;r--;)n[o=s[r]]&&(n[o]=!(i[o]=n[o]))})})}function gt(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}for(e in n=st.support={},s=st.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},d=st.setDocument=function(t){var e,o,r=t?t.ownerDocument||t:_;return r!==f&&9===r.nodeType&&r.documentElement?(p=(f=r).documentElement,g=!s(f),_!==f&&(o=f.defaultView)&&o.top!==o&&(o.addEventListener?o.addEventListener("unload",it,!1):o.attachEvent&&o.attachEvent("onunload",it)),n.attributes=lt(function(t){return t.className="i",!t.getAttribute("className")}),n.getElementsByTagName=lt(function(t){return t.appendChild(f.createComment("")),!t.getElementsByTagName("*").length}),n.getElementsByClassName=X.test(f.getElementsByClassName),n.getById=lt(function(t){return p.appendChild(t).id=w,!f.getElementsByName||!f.getElementsByName(w).length}),n.getById?(i.filter.ID=function(t){var e=t.replace(J,tt);return function(t){return t.getAttribute("id")===e}},i.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&g){var n=e.getElementById(t);return n?[n]:[]}}):(i.filter.ID=function(t){var e=t.replace(J,tt);return function(t){var n="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},i.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&g){var n,i,o,s=e.getElementById(t);if(s){if((n=s.getAttributeNode("id"))&&n.value===t)return[s];for(o=e.getElementsByName(t),i=0;s=o[i++];)if((n=s.getAttributeNode("id"))&&n.value===t)return[s]}return[]}}),i.find.TAG=n.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):n.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],o=0,s=e.getElementsByTagName(t);if("*"===t){for(;n=s[o++];)1===n.nodeType&&i.push(n);return i}return s},i.find.CLASS=n.getElementsByClassName&&function(t,e){if("undefined"!=typeof e.getElementsByClassName&&g)return e.getElementsByClassName(t)},v=[],m=[],(n.qsa=X.test(f.querySelectorAll))&&(lt(function(t){p.appendChild(t).innerHTML="<a id='"+w+"'></a><select id='"+w+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+L+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||m.push("\\["+L+"*(?:value|"+R+")"),t.querySelectorAll("[id~="+w+"-]").length||m.push("~="),t.querySelectorAll(":checked").length||m.push(":checked"),t.querySelectorAll("a#"+w+"+*").length||m.push(".#.+[+~]")}),lt(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=f.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&m.push("name"+L+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&m.push(":enabled",":disabled"),p.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&m.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),m.push(",.*:")})),(n.matchesSelector=X.test(y=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&lt(function(t){n.disconnectedMatch=y.call(t,"*"),y.call(t,"[s!='']:x"),v.push("!=",B)}),m=m.length&&new RegExp(m.join("|")),v=v.length&&new RegExp(v.join("|")),e=X.test(p.compareDocumentPosition),b=e||X.test(p.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},D=e?function(t,e){if(t===e)return h=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(1&(i=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!n.sortDetached&&e.compareDocumentPosition(t)===i?t===f||t.ownerDocument===_&&b(_,t)?-1:e===f||e.ownerDocument===_&&b(_,e)?1:u?I(u,t)-I(u,e):0:4&i?-1:1)}:function(t,e){if(t===e)return h=!0,0;var n,i=0,o=t.parentNode,s=e.parentNode,r=[t],a=[e];if(!o||!s)return t===f?-1:e===f?1:o?-1:s?1:u?I(u,t)-I(u,e):0;if(o===s)return ut(t,e);for(n=t;n=n.parentNode;)r.unshift(n);for(n=e;n=n.parentNode;)a.unshift(n);for(;r[i]===a[i];)i++;return i?ut(r[i],a[i]):r[i]===_?-1:a[i]===_?1:0},f):f},st.matches=function(t,e){return st(t,null,null,e)},st.matchesSelector=function(t,e){if((t.ownerDocument||t)!==f&&d(t),e=e.replace(W,"='$1']"),n.matchesSelector&&g&&!T[e+" "]&&(!v||!v.test(e))&&(!m||!m.test(e)))try{var i=y.call(t,e);if(i||n.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(t){}return st(e,f,null,[t]).length>0},st.contains=function(t,e){return(t.ownerDocument||t)!==f&&d(t),b(t,e)},st.attr=function(t,e){(t.ownerDocument||t)!==f&&d(t);var o=i.attrHandle[e.toLowerCase()],s=o&&O.call(i.attrHandle,e.toLowerCase())?o(t,e,!g):void 0;return void 0!==s?s:n.attributes||!g?t.getAttribute(e):(s=t.getAttributeNode(e))&&s.specified?s.value:null},st.escape=function(t){return(t+"").replace(et,nt)},st.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},st.uniqueSort=function(t){var e,i=[],o=0,s=0;if(h=!n.detectDuplicates,u=!n.sortStable&&t.slice(0),t.sort(D),h){for(;e=t[s++];)e===t[s]&&(o=i.push(s));for(;o--;)t.splice(i[o],1)}return u=null,t},o=st.getText=function(t){var e,n="",i=0,s=t.nodeType;if(s){if(1===s||9===s||11===s){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=o(t)}else if(3===s||4===s)return t.nodeValue}else for(;e=t[i++];)n+=o(e);return n},(i=st.selectors={cacheLength:50,createPseudo:at,match:V,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(J,tt),t[3]=(t[3]||t[4]||t[5]||"").replace(J,tt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||st.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&st.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return V.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&Y.test(n)&&(e=r(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(J,tt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=k[t+" "];return e||(e=new RegExp("(^|"+L+")"+t+"("+L+"|$)"))&&k(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,e,n){return function(i){var o=st.attr(i,t);return null==o?"!="===e:!e||(o+="","="===e?o===n:"!="===e?o!==n:"^="===e?n&&0===o.indexOf(n):"*="===e?n&&o.indexOf(n)>-1:"$="===e?n&&o.slice(-n.length)===n:"~="===e?(" "+o.replace(q," ")+" ").indexOf(n)>-1:"|="===e&&(o===n||o.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,i,o){var s="nth"!==t.slice(0,3),r="last"!==t.slice(-4),a="of-type"===e;return 1===i&&0===o?function(t){return!!t.parentNode}:function(e,n,l){var c,u,h,d,f,p,g=s!==r?"nextSibling":"previousSibling",m=e.parentNode,v=a&&e.nodeName.toLowerCase(),y=!l&&!a,b=!1;if(m){if(s){for(;g;){for(d=e;d=d[g];)if(a?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;p=g="only"===t&&!p&&"nextSibling"}return!0}if(p=[r?m.firstChild:m.lastChild],r&&y){for(b=(f=(c=(u=(h=(d=m)[w]||(d[w]={}))[d.uniqueID]||(h[d.uniqueID]={}))[t]||[])[0]===x&&c[1])&&c[2],d=f&&m.childNodes[f];d=++f&&d&&d[g]||(b=f=0)||p.pop();)if(1===d.nodeType&&++b&&d===e){u[t]=[x,f,b];break}}else if(y&&(b=f=(c=(u=(h=(d=e)[w]||(d[w]={}))[d.uniqueID]||(h[d.uniqueID]={}))[t]||[])[0]===x&&c[1]),!1===b)for(;(d=++f&&d&&d[g]||(b=f=0)||p.pop())&&((a?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++b||(y&&((u=(h=d[w]||(d[w]={}))[d.uniqueID]||(h[d.uniqueID]={}))[t]=[x,b]),d!==e)););return(b-=o)===i||b%i==0&&b/i>=0}}},PSEUDO:function(t,e){var n,o=i.pseudos[t]||i.setFilters[t.toLowerCase()]||st.error("unsupported pseudo: "+t);return o[w]?o(e):o.length>1?(n=[t,t,"",e],i.setFilters.hasOwnProperty(t.toLowerCase())?at(function(t,n){for(var i,s=o(t,e),r=s.length;r--;)t[i=I(t,s[r])]=!(n[i]=s[r])}):function(t){return o(t,0,n)}):o}},pseudos:{not:at(function(t){var e=[],n=[],i=a(t.replace(F,"$1"));return i[w]?at(function(t,e,n,o){for(var s,r=i(t,null,o,[]),a=t.length;a--;)(s=r[a])&&(t[a]=!(e[a]=s))}):function(t,o,s){return e[0]=t,i(e,null,s,n),e[0]=null,!n.pop()}}),has:at(function(t){return function(e){return st(t,e).length>0}}),contains:at(function(t){return t=t.replace(J,tt),function(e){return(e.textContent||e.innerText||o(e)).indexOf(t)>-1}}),lang:at(function(t){return U.test(t||"")||st.error("unsupported lang: "+t),t=t.replace(J,tt).toLowerCase(),function(e){var n;do{if(n=g?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===p},focus:function(t){return t===f.activeElement&&(!f.hasFocus||f.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:ft(!1),disabled:ft(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!i.pseudos.empty(t)},header:function(t){return K.test(t.nodeName)},input:function(t){return G.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:pt(function(){return[0]}),last:pt(function(t,e){return[e-1]}),eq:pt(function(t,e,n){return[n<0?n+e:n]}),even:pt(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:pt(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:pt(function(t,e,n){for(var i=n<0?n+e:n;--i>=0;)t.push(i);return t}),gt:pt(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}}).pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[e]=ht(e);for(e in{submit:!0,reset:!0})i.pseudos[e]=dt(e);function mt(){}function vt(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function yt(t,e,n){var i=e.dir,o=e.next,s=o||i,r=n&&"parentNode"===s,a=C++;return e.first?function(e,n,o){for(;e=e[i];)if(1===e.nodeType||r)return t(e,n,o);return!1}:function(e,n,l){var c,u,h,d=[x,a];if(l){for(;e=e[i];)if((1===e.nodeType||r)&&t(e,n,l))return!0}else for(;e=e[i];)if(1===e.nodeType||r)if(u=(h=e[w]||(e[w]={}))[e.uniqueID]||(h[e.uniqueID]={}),o&&o===e.nodeName.toLowerCase())e=e[i]||e;else{if((c=u[s])&&c[0]===x&&c[1]===a)return d[2]=c[2];if(u[s]=d,d[2]=t(e,n,l))return!0}return!1}}function bt(t){return t.length>1?function(e,n,i){for(var o=t.length;o--;)if(!t[o](e,n,i))return!1;return!0}:t[0]}function wt(t,e,n,i,o){for(var s,r=[],a=0,l=t.length,c=null!=e;a<l;a++)(s=t[a])&&(n&&!n(s,i,o)||(r.push(s),c&&e.push(a)));return r}function _t(t,e,n,i,o,s){return i&&!i[w]&&(i=_t(i)),o&&!o[w]&&(o=_t(o,s)),at(function(s,r,a,l){var c,u,h,d=[],f=[],p=r.length,g=s||function(t,e,n){for(var i=0,o=e.length;i<o;i++)st(t,e[i],n);return n}(e||"*",a.nodeType?[a]:a,[]),m=!t||!s&&e?g:wt(g,d,t,a,l),v=n?o||(s?t:p||i)?[]:r:m;if(n&&n(m,v,a,l),i)for(c=wt(v,f),i(c,[],a,l),u=c.length;u--;)(h=c[u])&&(v[f[u]]=!(m[f[u]]=h));if(s){if(o||t){if(o){for(c=[],u=v.length;u--;)(h=v[u])&&c.push(m[u]=h);o(null,v=[],c,l)}for(u=v.length;u--;)(h=v[u])&&(c=o?I(s,h):d[u])>-1&&(s[c]=!(r[c]=h))}}else v=wt(v===r?v.splice(p,v.length):v),o?o(null,r,v,l):M.apply(r,v)})}function xt(t){for(var e,n,o,s=t.length,r=i.relative[t[0].type],a=r||i.relative[" "],l=r?1:0,u=yt(function(t){return t===e},a,!0),h=yt(function(t){return I(e,t)>-1},a,!0),d=[function(t,n,i){var o=!r&&(i||n!==c)||((e=n).nodeType?u(t,n,i):h(t,n,i));return e=null,o}];l<s;l++)if(n=i.relative[t[l].type])d=[yt(bt(d),n)];else{if((n=i.filter[t[l].type].apply(null,t[l].matches))[w]){for(o=++l;o<s&&!i.relative[t[o].type];o++);return _t(l>1&&bt(d),l>1&&vt(t.slice(0,l-1).concat({value:" "===t[l-2].type?"*":""})).replace(F,"$1"),n,l<o&&xt(t.slice(l,o)),o<s&&xt(t=t.slice(o)),o<s&&vt(t))}d.push(n)}return bt(d)}return mt.prototype=i.filters=i.pseudos,i.setFilters=new mt,r=st.tokenize=function(t,e){var n,o,s,r,a,l,c,u=S[t+" "];if(u)return e?0:u.slice(0);for(a=t,l=[],c=i.preFilter;a;){for(r in n&&!(o=$.exec(a))||(o&&(a=a.slice(o[0].length)||a),l.push(s=[])),n=!1,(o=z.exec(a))&&(n=o.shift(),s.push({value:n,type:o[0].replace(F," ")}),a=a.slice(n.length)),i.filter)!(o=V[r].exec(a))||c[r]&&!(o=c[r](o))||(n=o.shift(),s.push({value:n,type:r,matches:o}),a=a.slice(n.length));if(!n)break}return e?a.length:a?st.error(t):S(t,l).slice(0)},a=st.compile=function(t,e){var n,o=[],s=[],a=T[t+" "];if(!a){for(e||(e=r(t)),n=e.length;n--;)(a=xt(e[n]))[w]?o.push(a):s.push(a);(a=T(t,function(t,e){var n=e.length>0,o=t.length>0,s=function(s,r,a,l,u){var h,p,m,v=0,y="0",b=s&&[],w=[],_=c,C=s||o&&i.find.TAG("*",u),k=x+=null==_?1:Math.random()||.1,S=C.length;for(u&&(c=r===f||r||u);y!==S&&null!=(h=C[y]);y++){if(o&&h){for(p=0,r||h.ownerDocument===f||(d(h),a=!g);m=t[p++];)if(m(h,r||f,a)){l.push(h);break}u&&(x=k)}n&&((h=!m&&h)&&v--,s&&b.push(h))}if(v+=y,n&&y!==v){for(p=0;m=e[p++];)m(b,w,r,a);if(s){if(v>0)for(;y--;)b[y]||w[y]||(w[y]=N.call(l));w=wt(w)}M.apply(l,w),u&&!s&&w.length>0&&v+e.length>1&&st.uniqueSort(l)}return u&&(x=k,c=_),b};return n?at(s):s}(s,o))).selector=t}return a},l=st.select=function(t,e,n,o){var s,l,c,u,h,d="function"==typeof t&&t,f=!o&&r(t=d.selector||t);if(n=n||[],1===f.length){if((l=f[0]=f[0].slice(0)).length>2&&"ID"===(c=l[0]).type&&9===e.nodeType&&g&&i.relative[l[1].type]){if(!(e=(i.find.ID(c.matches[0].replace(J,tt),e)||[])[0]))return n;d&&(e=e.parentNode),t=t.slice(l.shift().value.length)}for(s=V.needsContext.test(t)?0:l.length;s--&&!i.relative[u=(c=l[s]).type];)if((h=i.find[u])&&(o=h(c.matches[0].replace(J,tt),Q.test(l[0].type)&&gt(e.parentNode)||e))){if(l.splice(s,1),!(t=o.length&&vt(l)))return M.apply(n,o),n;break}}return(d||a(t,f))(o,e,!g,n,!e||Q.test(t)&&gt(e.parentNode)||e),n},n.sortStable=w.split("").sort(D).join("")===w,n.detectDuplicates=!!h,d(),n.sortDetached=lt(function(t){return 1&t.compareDocumentPosition(f.createElement("fieldset"))}),lt(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||ct("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),n.attributes&&lt(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||ct("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),lt(function(t){return null==t.getAttribute("disabled")})||ct(R,function(t,e,n){var i;if(!n)return!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),st}(t);w.find=C,w.expr=C.selectors,w.expr[":"]=w.expr.pseudos,w.uniqueSort=w.unique=C.uniqueSort,w.text=C.getText,w.isXMLDoc=C.isXML,w.contains=C.contains,w.escapeSelector=C.escape;var k=function(t,e,n){for(var i=[],o=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(o&&w(t).is(n))break;i.push(t)}return i},S=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},T=w.expr.match.needsContext;function D(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var O=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function E(t,e,n){return g(e)?w.grep(t,function(t,i){return!!e.call(t,i,t)!==n}):e.nodeType?w.grep(t,function(t){return t===e!==n}):"string"!=typeof e?w.grep(t,function(t){return l.call(e,t)>-1!==n}):w.filter(e,t,n)}w.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?w.find.matchesSelector(i,t)?[i]:[]:w.find.matches(t,w.grep(e,function(t){return 1===t.nodeType}))},w.fn.extend({find:function(t){var e,n,i=this.length,o=this;if("string"!=typeof t)return this.pushStack(w(t).filter(function(){for(e=0;e<i;e++)if(w.contains(o[e],this))return!0}));for(n=this.pushStack([]),e=0;e<i;e++)w.find(t,o[e],n);return i>1?w.uniqueSort(n):n},filter:function(t){return this.pushStack(E(this,t||[],!1))},not:function(t){return this.pushStack(E(this,t||[],!0))},is:function(t){return!!E(this,"string"==typeof t&&T.test(t)?w(t):t||[],!1).length}});var N,A=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(w.fn.init=function(t,e,n){var o,s;if(!t)return this;if(n=n||N,"string"==typeof t){if(!(o="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:A.exec(t))||!o[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(o[1]){if(w.merge(this,w.parseHTML(o[1],(e=e instanceof w?e[0]:e)&&e.nodeType?e.ownerDocument||e:i,!0)),O.test(o[1])&&w.isPlainObject(e))for(o in e)g(this[o])?this[o](e[o]):this.attr(o,e[o]);return this}return(s=i.getElementById(o[2]))&&(this[0]=s,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):g(t)?void 0!==n.ready?n.ready(t):t(w):w.makeArray(t,this)}).prototype=w.fn,N=w(i);var M=/^(?:parents|prev(?:Until|All))/,P={children:!0,contents:!0,next:!0,prev:!0};function I(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}w.fn.extend({has:function(t){var e=w(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(w.contains(this,e[t]))return!0})},closest:function(t,e){var n,i=0,o=this.length,s=[],r="string"!=typeof t&&w(t);if(!T.test(t))for(;i<o;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(r?r.index(n)>-1:1===n.nodeType&&w.find.matchesSelector(n,t))){s.push(n);break}return this.pushStack(s.length>1?w.uniqueSort(s):s)},index:function(t){return t?"string"==typeof t?l.call(w(t),this[0]):l.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(w.uniqueSort(w.merge(this.get(),w(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),w.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return k(t,"parentNode")},parentsUntil:function(t,e,n){return k(t,"parentNode",n)},next:function(t){return I(t,"nextSibling")},prev:function(t){return I(t,"previousSibling")},nextAll:function(t){return k(t,"nextSibling")},prevAll:function(t){return k(t,"previousSibling")},nextUntil:function(t,e,n){return k(t,"nextSibling",n)},prevUntil:function(t,e,n){return k(t,"previousSibling",n)},siblings:function(t){return S((t.parentNode||{}).firstChild,t)},children:function(t){return S(t.firstChild)},contents:function(t){return D(t,"iframe")?t.contentDocument:(D(t,"template")&&(t=t.content||t),w.merge([],t.childNodes))}},function(t,e){w.fn[t]=function(n,i){var o=w.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(o=w.filter(i,o)),this.length>1&&(P[t]||w.uniqueSort(o),M.test(t)&&o.reverse()),this.pushStack(o)}});var R=/[^\x20\t\r\n\f]+/g;function L(t){return t}function j(t){throw t}function H(t,e,n,i){var o;try{t&&g(o=t.promise)?o.call(t).done(e).fail(n):t&&g(o=t.then)?o.call(t,e,n):e.apply(void 0,[t].slice(i))}catch(t){n.apply(void 0,[t])}}w.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return w.each(t.match(R)||[],function(t,n){e[n]=!0}),e}(t):w.extend({},t);var e,n,i,o,s=[],r=[],a=-1,l=function(){for(o=o||t.once,i=e=!0;r.length;a=-1)for(n=r.shift();++a<s.length;)!1===s[a].apply(n[0],n[1])&&t.stopOnFalse&&(a=s.length,n=!1);t.memory||(n=!1),e=!1,o&&(s=n?[]:"")},c={add:function(){return s&&(n&&!e&&(a=s.length-1,r.push(n)),function e(n){w.each(n,function(n,i){g(i)?t.unique&&c.has(i)||s.push(i):i&&i.length&&"string"!==b(i)&&e(i)})}(arguments),n&&!e&&l()),this},remove:function(){return w.each(arguments,function(t,e){for(var n;(n=w.inArray(e,s,n))>-1;)s.splice(n,1),n<=a&&a--}),this},has:function(t){return t?w.inArray(t,s)>-1:s.length>0},empty:function(){return s&&(s=[]),this},disable:function(){return o=r=[],s=n="",this},disabled:function(){return!s},lock:function(){return o=r=[],n||e||(s=n=""),this},locked:function(){return!!o},fireWith:function(t,n){return o||(n=[t,(n=n||[]).slice?n.slice():n],r.push(n),e||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},w.extend({Deferred:function(e){var n=[["notify","progress",w.Callbacks("memory"),w.Callbacks("memory"),2],["resolve","done",w.Callbacks("once memory"),w.Callbacks("once memory"),0,"resolved"],["reject","fail",w.Callbacks("once memory"),w.Callbacks("once memory"),1,"rejected"]],i="pending",o={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},catch:function(t){return o.then(null,t)},pipe:function(){var t=arguments;return w.Deferred(function(e){w.each(n,function(n,i){var o=g(t[i[4]])&&t[i[4]];s[i[1]](function(){var t=o&&o.apply(this,arguments);t&&g(t.promise)?t.promise().progress(e.notify).done(e.resolve).fail(e.reject):e[i[0]+"With"](this,o?[t]:arguments)})}),t=null}).promise()},then:function(e,i,o){var s=0;function r(e,n,i,o){return function(){var a=this,l=arguments,c=function(){var t,c;if(!(e<s)){if((t=i.apply(a,l))===n.promise())throw new TypeError("Thenable self-resolution");g(c=t&&("object"==typeof t||"function"==typeof t)&&t.then)?o?c.call(t,r(s,n,L,o),r(s,n,j,o)):c.call(t,r(++s,n,L,o),r(s,n,j,o),r(s,n,L,n.notifyWith)):(i!==L&&(a=void 0,l=[t]),(o||n.resolveWith)(a,l))}},u=o?c:function(){try{c()}catch(t){w.Deferred.exceptionHook&&w.Deferred.exceptionHook(t,u.stackTrace),e+1>=s&&(i!==j&&(a=void 0,l=[t]),n.rejectWith(a,l))}};e?u():(w.Deferred.getStackHook&&(u.stackTrace=w.Deferred.getStackHook()),t.setTimeout(u))}}return w.Deferred(function(t){n[0][3].add(r(0,t,g(o)?o:L,t.notifyWith)),n[1][3].add(r(0,t,g(e)?e:L)),n[2][3].add(r(0,t,g(i)?i:j))}).promise()},promise:function(t){return null!=t?w.extend(t,o):o}},s={};return w.each(n,function(t,e){var r=e[2],a=e[5];o[e[1]]=r.add,a&&r.add(function(){i=a},n[3-t][2].disable,n[3-t][3].disable,n[0][2].lock,n[0][3].lock),r.add(e[3].fire),s[e[0]]=function(){return s[e[0]+"With"](this===s?void 0:this,arguments),this},s[e[0]+"With"]=r.fireWith}),o.promise(s),e&&e.call(s,s),s},when:function(t){var e=arguments.length,n=e,i=Array(n),o=s.call(arguments),r=w.Deferred(),a=function(t){return function(n){i[t]=this,o[t]=arguments.length>1?s.call(arguments):n,--e||r.resolveWith(i,o)}};if(e<=1&&(H(t,r.done(a(n)).resolve,r.reject,!e),"pending"===r.state()||g(o[n]&&o[n].then)))return r.then();for(;n--;)H(o[n],a(n),r.reject);return r.promise()}});var B=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;w.Deferred.exceptionHook=function(e,n){t.console&&t.console.warn&&e&&B.test(e.name)&&t.console.warn("jQuery.Deferred exception: "+e.message,e.stack,n)},w.readyException=function(e){t.setTimeout(function(){throw e})};var q=w.Deferred();function F(){i.removeEventListener("DOMContentLoaded",F),t.removeEventListener("load",F),w.ready()}w.fn.ready=function(t){return q.then(t).catch(function(t){w.readyException(t)}),this},w.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--w.readyWait:w.isReady)||(w.isReady=!0,!0!==t&&--w.readyWait>0||q.resolveWith(i,[w]))}}),w.ready.then=q.then,"complete"===i.readyState||"loading"!==i.readyState&&!i.documentElement.doScroll?t.setTimeout(w.ready):(i.addEventListener("DOMContentLoaded",F),t.addEventListener("load",F));var $=function(t,e,n,i,o,s,r){var a=0,l=t.length,c=null==n;if("object"===b(n))for(a in o=!0,n)$(t,e,a,n[a],!0,s,r);else if(void 0!==i&&(o=!0,g(i)||(r=!0),c&&(r?(e.call(t,i),e=null):(c=e,e=function(t,e,n){return c.call(w(t),n)})),e))for(;a<l;a++)e(t[a],n,r?i:i.call(t[a],a,e(t[a],n)));return o?t:c?e.call(t):l?e(t[0],n):s},z=/^-ms-/,W=/-([a-z])/g;function Y(t,e){return e.toUpperCase()}function U(t){return t.replace(z,"ms-").replace(W,Y)}var V=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function G(){this.expando=w.expando+G.uid++}G.uid=1,G.prototype={cache:function(t){var e=t[this.expando];return e||(e={},V(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,o=this.cache(t);if("string"==typeof e)o[U(e)]=n;else for(i in e)o[U(i)]=e[i];return o},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][U(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i=t[this.expando];if(void 0!==i){if(void 0!==e){n=(e=Array.isArray(e)?e.map(U):(e=U(e))in i?[e]:e.match(R)||[]).length;for(;n--;)delete i[e[n]]}(void 0===e||w.isEmptyObject(i))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!w.isEmptyObject(e)}};var K=new G,X=new G,Z=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Q=/[A-Z]/g;function J(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(Q,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(i))){try{n=function(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:Z.test(t)?JSON.parse(t):t)}(n)}catch(t){}X.set(t,e,n)}else n=void 0;return n}w.extend({hasData:function(t){return X.hasData(t)||K.hasData(t)},data:function(t,e,n){return X.access(t,e,n)},removeData:function(t,e){X.remove(t,e)},_data:function(t,e,n){return K.access(t,e,n)},_removeData:function(t,e){K.remove(t,e)}}),w.fn.extend({data:function(t,e){var n,i,o,s=this[0],r=s&&s.attributes;if(void 0===t){if(this.length&&(o=X.get(s),1===s.nodeType&&!K.get(s,"hasDataAttrs"))){for(n=r.length;n--;)r[n]&&0===(i=r[n].name).indexOf("data-")&&(i=U(i.slice(5)),J(s,i,o[i]));K.set(s,"hasDataAttrs",!0)}return o}return"object"==typeof t?this.each(function(){X.set(this,t)}):$(this,function(e){var n;if(s&&void 0===e)return void 0!==(n=X.get(s,t))?n:void 0!==(n=J(s,t))?n:void 0;this.each(function(){X.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){X.remove(this,t)})}}),w.extend({queue:function(t,e,n){var i;if(t)return i=K.get(t,e=(e||"fx")+"queue"),n&&(!i||Array.isArray(n)?i=K.access(t,e,w.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){var n=w.queue(t,e=e||"fx"),i=n.length,o=n.shift(),s=w._queueHooks(t,e);"inprogress"===o&&(o=n.shift(),i--),o&&("fx"===e&&n.unshift("inprogress"),delete s.stop,o.call(t,function(){w.dequeue(t,e)},s)),!i&&s&&s.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return K.get(t,n)||K.access(t,n,{empty:w.Callbacks("once memory").add(function(){K.remove(t,[e+"queue",n])})})}}),w.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?w.queue(this[0],t):void 0===e?this:this.each(function(){var n=w.queue(this,t,e);w._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&w.dequeue(this,t)})},dequeue:function(t){return this.each(function(){w.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,o=w.Deferred(),s=this,r=this.length,a=function(){--i||o.resolveWith(s,[s])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";r--;)(n=K.get(s[r],t+"queueHooks"))&&n.empty&&(i++,n.empty.add(a));return a(),o.promise(e)}});var tt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,et=new RegExp("^(?:([+-])=|)("+tt+")([a-z%]*)$","i"),nt=["Top","Right","Bottom","Left"],it=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&w.contains(t.ownerDocument,t)&&"none"===w.css(t,"display")},ot=function(t,e,n,i){var o,s,r={};for(s in e)r[s]=t.style[s],t.style[s]=e[s];for(s in o=n.apply(t,i||[]),e)t.style[s]=r[s];return o};function st(t,e,n,i){var o,s,r=20,a=i?function(){return i.cur()}:function(){return w.css(t,e,"")},l=a(),c=n&&n[3]||(w.cssNumber[e]?"":"px"),u=(w.cssNumber[e]||"px"!==c&&+l)&&et.exec(w.css(t,e));if(u&&u[3]!==c){for(l/=2,c=c||u[3],u=+l||1;r--;)w.style(t,e,u+c),(1-s)*(1-(s=a()/l||.5))<=0&&(r=0),u/=s;w.style(t,e,(u*=2)+c),n=n||[]}return n&&(u=+u||+l||0,o=n[1]?u+(n[1]+1)*n[2]:+n[2],i&&(i.unit=c,i.start=u,i.end=o)),o}var rt={};function at(t){var e,n=t.ownerDocument,i=t.nodeName,o=rt[i];return o||(e=n.body.appendChild(n.createElement(i)),o=w.css(e,"display"),e.parentNode.removeChild(e),"none"===o&&(o="block"),rt[i]=o,o)}function lt(t,e){for(var n,i,o=[],s=0,r=t.length;s<r;s++)(i=t[s]).style&&(n=i.style.display,e?("none"===n&&(o[s]=K.get(i,"display")||null,o[s]||(i.style.display="")),""===i.style.display&&it(i)&&(o[s]=at(i))):"none"!==n&&(o[s]="none",K.set(i,"display",n)));for(s=0;s<r;s++)null!=o[s]&&(t[s].style.display=o[s]);return t}w.fn.extend({show:function(){return lt(this,!0)},hide:function(){return lt(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){it(this)?w(this).show():w(this).hide()})}});var ct=/^(?:checkbox|radio)$/i,ut=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,ht=/^$|^module$|\/(?:java|ecma)script/i,dt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ft(t,e){var n;return n="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e||"*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&D(t,e)?w.merge([t],n):n}function pt(t,e){for(var n=0,i=t.length;n<i;n++)K.set(t[n],"globalEval",!e||K.get(e[n],"globalEval"))}dt.optgroup=dt.option,dt.tbody=dt.tfoot=dt.colgroup=dt.caption=dt.thead,dt.th=dt.td;var gt,mt,vt=/<|&#?\w+;/;function yt(t,e,n,i,o){for(var s,r,a,l,c,u,h=e.createDocumentFragment(),d=[],f=0,p=t.length;f<p;f++)if((s=t[f])||0===s)if("object"===b(s))w.merge(d,s.nodeType?[s]:s);else if(vt.test(s)){for(r=r||h.appendChild(e.createElement("div")),a=(ut.exec(s)||["",""])[1].toLowerCase(),r.innerHTML=(l=dt[a]||dt._default)[1]+w.htmlPrefilter(s)+l[2],u=l[0];u--;)r=r.lastChild;w.merge(d,r.childNodes),(r=h.firstChild).textContent=""}else d.push(e.createTextNode(s));for(h.textContent="",f=0;s=d[f++];)if(i&&w.inArray(s,i)>-1)o&&o.push(s);else if(c=w.contains(s.ownerDocument,s),r=ft(h.appendChild(s),"script"),c&&pt(r),n)for(u=0;s=r[u++];)ht.test(s.type||"")&&n.push(s);return h}gt=i.createDocumentFragment().appendChild(i.createElement("div")),(mt=i.createElement("input")).setAttribute("type","radio"),mt.setAttribute("checked","checked"),mt.setAttribute("name","t"),gt.appendChild(mt),p.checkClone=gt.cloneNode(!0).cloneNode(!0).lastChild.checked,gt.innerHTML="<textarea>x</textarea>",p.noCloneChecked=!!gt.cloneNode(!0).lastChild.defaultValue;var bt=i.documentElement,wt=/^key/,_t=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,xt=/^([^.]*)(?:\.(.+)|)/;function Ct(){return!0}function kt(){return!1}function St(){try{return i.activeElement}catch(t){}}function Tt(t,e,n,i,o,s){var r,a;if("object"==typeof e){for(a in"string"!=typeof n&&(i=i||n,n=void 0),e)Tt(t,a,n,i,e[a],s);return t}if(null==i&&null==o?(o=n,i=n=void 0):null==o&&("string"==typeof n?(o=i,i=void 0):(o=i,i=n,n=void 0)),!1===o)o=kt;else if(!o)return t;return 1===s&&(r=o,(o=function(t){return w().off(t),r.apply(this,arguments)}).guid=r.guid||(r.guid=w.guid++)),t.each(function(){w.event.add(this,e,o,i,n)})}w.event={global:{},add:function(t,e,n,i,o){var s,r,a,l,c,u,h,d,f,p,g,m=K.get(t);if(m)for(n.handler&&(n=(s=n).handler,o=s.selector),o&&w.find.matchesSelector(bt,o),n.guid||(n.guid=w.guid++),(l=m.events)||(l=m.events={}),(r=m.handle)||(r=m.handle=function(e){return"undefined"!=typeof w&&w.event.triggered!==e.type?w.event.dispatch.apply(t,arguments):void 0}),c=(e=(e||"").match(R)||[""]).length;c--;)f=g=(a=xt.exec(e[c])||[])[1],p=(a[2]||"").split(".").sort(),f&&(h=w.event.special[f]||{},h=w.event.special[f=(o?h.delegateType:h.bindType)||f]||{},u=w.extend({type:f,origType:g,data:i,handler:n,guid:n.guid,selector:o,needsContext:o&&w.expr.match.needsContext.test(o),namespace:p.join(".")},s),(d=l[f])||((d=l[f]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(t,i,p,r)||t.addEventListener&&t.addEventListener(f,r)),h.add&&(h.add.call(t,u),u.handler.guid||(u.handler.guid=n.guid)),o?d.splice(d.delegateCount++,0,u):d.push(u),w.event.global[f]=!0)},remove:function(t,e,n,i,o){var s,r,a,l,c,u,h,d,f,p,g,m=K.hasData(t)&&K.get(t);if(m&&(l=m.events)){for(c=(e=(e||"").match(R)||[""]).length;c--;)if(f=g=(a=xt.exec(e[c])||[])[1],p=(a[2]||"").split(".").sort(),f){for(h=w.event.special[f]||{},d=l[f=(i?h.delegateType:h.bindType)||f]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),r=s=d.length;s--;)u=d[s],!o&&g!==u.origType||n&&n.guid!==u.guid||a&&!a.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(d.splice(s,1),u.selector&&d.delegateCount--,h.remove&&h.remove.call(t,u));r&&!d.length&&(h.teardown&&!1!==h.teardown.call(t,p,m.handle)||w.removeEvent(t,f,m.handle),delete l[f])}else for(f in l)w.event.remove(t,f+e[c],n,i,!0);w.isEmptyObject(l)&&K.remove(t,"handle events")}},dispatch:function(t){var e,n,i,o,s,r,a=w.event.fix(t),l=new Array(arguments.length),c=(K.get(this,"events")||{})[a.type]||[],u=w.event.special[a.type]||{};for(l[0]=a,e=1;e<arguments.length;e++)l[e]=arguments[e];if(a.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,a)){for(r=w.event.handlers.call(this,a,c),e=0;(o=r[e++])&&!a.isPropagationStopped();)for(a.currentTarget=o.elem,n=0;(s=o.handlers[n++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(s.namespace)||(a.handleObj=s,a.data=s.data,void 0!==(i=((w.event.special[s.origType]||{}).handle||s.handler).apply(o.elem,l))&&!1===(a.result=i)&&(a.preventDefault(),a.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,a),a.result}},handlers:function(t,e){var n,i,o,s,r,a=[],l=e.delegateCount,c=t.target;if(l&&c.nodeType&&!("click"===t.type&&t.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==t.type||!0!==c.disabled)){for(s=[],r={},n=0;n<l;n++)void 0===r[o=(i=e[n]).selector+" "]&&(r[o]=i.needsContext?w(o,this).index(c)>-1:w.find(o,this,null,[c]).length),r[o]&&s.push(i);s.length&&a.push({elem:c,handlers:s})}return c=this,l<e.length&&a.push({elem:c,handlers:e.slice(l)}),a},addProp:function(t,e){Object.defineProperty(w.Event.prototype,t,{enumerable:!0,configurable:!0,get:g(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[w.expando]?t:new w.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==St()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===St()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&D(this,"input"))return this.click(),!1},_default:function(t){return D(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},w.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},w.Event=function(t,e){if(!(this instanceof w.Event))return new w.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?Ct:kt,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&w.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[w.expando]=!0},w.Event.prototype={constructor:w.Event,isDefaultPrevented:kt,isPropagationStopped:kt,isImmediatePropagationStopped:kt,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=Ct,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=Ct,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=Ct,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},w.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&wt.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&_t.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},w.event.addProp),w.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){w.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=t.relatedTarget,o=t.handleObj;return i&&(i===this||w.contains(this,i))||(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),w.fn.extend({on:function(t,e,n,i){return Tt(this,t,e,n,i)},one:function(t,e,n,i){return Tt(this,t,e,n,i,1)},off:function(t,e,n){var i,o;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,w(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(o in t)this.off(o,e,t[o]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=kt),this.each(function(){w.event.remove(this,t,n,e)})}});var Dt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Ot=/<script|<style|<link/i,Et=/checked\s*(?:[^=]|=\s*.checked.)/i,Nt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function At(t,e){return D(t,"table")&&D(11!==e.nodeType?e:e.firstChild,"tr")&&w(t).children("tbody")[0]||t}function Mt(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function Pt(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function It(t,e){var n,i,o,s,r,a,l,c;if(1===e.nodeType){if(K.hasData(t)&&(s=K.access(t),r=K.set(e,s),c=s.events))for(o in delete r.handle,r.events={},c)for(n=0,i=c[o].length;n<i;n++)w.event.add(e,o,c[o][n]);X.hasData(t)&&(a=X.access(t),l=w.extend({},a),X.set(e,l))}}function Rt(t,e,n,i){e=r.apply([],e);var o,s,a,l,c,u,h=0,d=t.length,f=d-1,m=e[0],v=g(m);if(v||d>1&&"string"==typeof m&&!p.checkClone&&Et.test(m))return t.each(function(o){var s=t.eq(o);v&&(e[0]=m.call(this,o,s.html())),Rt(s,e,n,i)});if(d&&(s=(o=yt(e,t[0].ownerDocument,!1,t,i)).firstChild,1===o.childNodes.length&&(o=s),s||i)){for(l=(a=w.map(ft(o,"script"),Mt)).length;h<d;h++)c=o,h!==f&&(c=w.clone(c,!0,!0),l&&w.merge(a,ft(c,"script"))),n.call(t[h],c,h);if(l)for(u=a[a.length-1].ownerDocument,w.map(a,Pt),h=0;h<l;h++)ht.test((c=a[h]).type||"")&&!K.access(c,"globalEval")&&w.contains(u,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?w._evalUrl&&w._evalUrl(c.src):y(c.textContent.replace(Nt,""),u,c))}return t}function Lt(t,e,n){for(var i,o=e?w.filter(e,t):t,s=0;null!=(i=o[s]);s++)n||1!==i.nodeType||w.cleanData(ft(i)),i.parentNode&&(n&&w.contains(i.ownerDocument,i)&&pt(ft(i,"script")),i.parentNode.removeChild(i));return t}w.extend({htmlPrefilter:function(t){return t.replace(Dt,"<$1></$2>")},clone:function(t,e,n){var i,o,s,r,a,l,c,u=t.cloneNode(!0),h=w.contains(t.ownerDocument,t);if(!(p.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||w.isXMLDoc(t)))for(r=ft(u),i=0,o=(s=ft(t)).length;i<o;i++)a=s[i],"input"===(c=(l=r[i]).nodeName.toLowerCase())&&ct.test(a.type)?l.checked=a.checked:"input"!==c&&"textarea"!==c||(l.defaultValue=a.defaultValue);if(e)if(n)for(s=s||ft(t),r=r||ft(u),i=0,o=s.length;i<o;i++)It(s[i],r[i]);else It(t,u);return(r=ft(u,"script")).length>0&&pt(r,!h&&ft(t,"script")),u},cleanData:function(t){for(var e,n,i,o=w.event.special,s=0;void 0!==(n=t[s]);s++)if(V(n)){if(e=n[K.expando]){if(e.events)for(i in e.events)o[i]?w.event.remove(n,i):w.removeEvent(n,i,e.handle);n[K.expando]=void 0}n[X.expando]&&(n[X.expando]=void 0)}}}),w.fn.extend({detach:function(t){return Lt(this,t,!0)},remove:function(t){return Lt(this,t)},text:function(t){return $(this,function(t){return void 0===t?w.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return Rt(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||At(this,t).appendChild(t)})},prepend:function(){return Rt(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=At(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return Rt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return Rt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(w.cleanData(ft(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return w.clone(this,t,e)})},html:function(t){return $(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Ot.test(t)&&!dt[(ut.exec(t)||["",""])[1].toLowerCase()]){t=w.htmlPrefilter(t);try{for(;n<i;n++)1===(e=this[n]||{}).nodeType&&(w.cleanData(ft(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return Rt(this,arguments,function(e){var n=this.parentNode;w.inArray(this,t)<0&&(w.cleanData(ft(this)),n&&n.replaceChild(e,this))},t)}}),w.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){w.fn[t]=function(t){for(var n,i=[],o=w(t),s=o.length-1,r=0;r<=s;r++)n=r===s?this:this.clone(!0),w(o[r])[e](n),a.apply(i,n.get());return this.pushStack(i)}});var jt=new RegExp("^("+tt+")(?!px)[a-z%]+$","i"),Ht=function(e){var n=e.ownerDocument.defaultView;return n&&n.opener||(n=t),n.getComputedStyle(e)},Bt=new RegExp(nt.join("|"),"i");function qt(t,e,n){var i,o,s,r,a=t.style;return(n=n||Ht(t))&&(""!==(r=n.getPropertyValue(e)||n[e])||w.contains(t.ownerDocument,t)||(r=w.style(t,e)),!p.pixelBoxStyles()&&jt.test(r)&&Bt.test(e)&&(i=a.width,o=a.minWidth,s=a.maxWidth,a.minWidth=a.maxWidth=a.width=r,r=n.width,a.width=i,a.minWidth=o,a.maxWidth=s)),void 0!==r?r+"":r}function Ft(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function e(){if(u){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",bt.appendChild(c).appendChild(u);var e=t.getComputedStyle(u);o="1%"!==e.top,l=12===n(e.marginLeft),u.style.right="60%",a=36===n(e.right),s=36===n(e.width),u.style.position="absolute",r=36===u.offsetWidth||"absolute",bt.removeChild(c),u=null}}function n(t){return Math.round(parseFloat(t))}var o,s,r,a,l,c=i.createElement("div"),u=i.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",p.clearCloneStyle="content-box"===u.style.backgroundClip,w.extend(p,{boxSizingReliable:function(){return e(),s},pixelBoxStyles:function(){return e(),a},pixelPosition:function(){return e(),o},reliableMarginLeft:function(){return e(),l},scrollboxSize:function(){return e(),r}}))}();var $t=/^(none|table(?!-c[ea]).+)/,zt=/^--/,Wt={position:"absolute",visibility:"hidden",display:"block"},Yt={letterSpacing:"0",fontWeight:"400"},Ut=["Webkit","Moz","ms"],Vt=i.createElement("div").style;function Gt(t){var e=w.cssProps[t];return e||(e=w.cssProps[t]=function(t){if(t in Vt)return t;for(var e=t[0].toUpperCase()+t.slice(1),n=Ut.length;n--;)if((t=Ut[n]+e)in Vt)return t}(t)||t),e}function Kt(t,e,n){var i=et.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function Xt(t,e,n,i,o,s){var r="width"===e?1:0,a=0,l=0;if(n===(i?"border":"content"))return 0;for(;r<4;r+=2)"margin"===n&&(l+=w.css(t,n+nt[r],!0,o)),i?("content"===n&&(l-=w.css(t,"padding"+nt[r],!0,o)),"margin"!==n&&(l-=w.css(t,"border"+nt[r]+"Width",!0,o))):(l+=w.css(t,"padding"+nt[r],!0,o),"padding"!==n?l+=w.css(t,"border"+nt[r]+"Width",!0,o):a+=w.css(t,"border"+nt[r]+"Width",!0,o));return!i&&s>=0&&(l+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-s-l-a-.5))),l}function Zt(t,e,n){var i=Ht(t),o=qt(t,e,i),s="border-box"===w.css(t,"boxSizing",!1,i),r=s;if(jt.test(o)){if(!n)return o;o="auto"}return r=r&&(p.boxSizingReliable()||o===t.style[e]),("auto"===o||!parseFloat(o)&&"inline"===w.css(t,"display",!1,i))&&(o=t["offset"+e[0].toUpperCase()+e.slice(1)],r=!0),(o=parseFloat(o)||0)+Xt(t,e,n||(s?"border":"content"),r,i,o)+"px"}function Qt(t,e,n,i,o){return new Qt.prototype.init(t,e,n,i,o)}w.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=qt(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var o,s,r,a=U(e),l=zt.test(e),c=t.style;if(l||(e=Gt(a)),r=w.cssHooks[e]||w.cssHooks[a],void 0===n)return r&&"get"in r&&void 0!==(o=r.get(t,!1,i))?o:c[e];"string"==(s=typeof n)&&(o=et.exec(n))&&o[1]&&(n=st(t,e,o),s="number"),null!=n&&n==n&&("number"===s&&(n+=o&&o[3]||(w.cssNumber[a]?"":"px")),p.clearCloneStyle||""!==n||0!==e.indexOf("background")||(c[e]="inherit"),r&&"set"in r&&void 0===(n=r.set(t,n,i))||(l?c.setProperty(e,n):c[e]=n))}},css:function(t,e,n,i){var o,s,r,a=U(e);return zt.test(e)||(e=Gt(a)),(r=w.cssHooks[e]||w.cssHooks[a])&&"get"in r&&(o=r.get(t,!0,n)),void 0===o&&(o=qt(t,e,i)),"normal"===o&&e in Yt&&(o=Yt[e]),""===n||n?(s=parseFloat(o),!0===n||isFinite(s)?s||0:o):o}}),w.each(["height","width"],function(t,e){w.cssHooks[e]={get:function(t,n,i){if(n)return!$t.test(w.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?Zt(t,e,i):ot(t,Wt,function(){return Zt(t,e,i)})},set:function(t,n,i){var o,s=Ht(t),r="border-box"===w.css(t,"boxSizing",!1,s),a=i&&Xt(t,e,i,r,s);return r&&p.scrollboxSize()===s.position&&(a-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(s[e])-Xt(t,e,"border",!1,s)-.5)),a&&(o=et.exec(n))&&"px"!==(o[3]||"px")&&(t.style[e]=n,n=w.css(t,e)),Kt(0,n,a)}}}),w.cssHooks.marginLeft=Ft(p.reliableMarginLeft,function(t,e){if(e)return(parseFloat(qt(t,"marginLeft"))||t.getBoundingClientRect().left-ot(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),w.each({margin:"",padding:"",border:"Width"},function(t,e){w.cssHooks[t+e]={expand:function(n){for(var i=0,o={},s="string"==typeof n?n.split(" "):[n];i<4;i++)o[t+nt[i]+e]=s[i]||s[i-2]||s[0];return o}},"margin"!==t&&(w.cssHooks[t+e].set=Kt)}),w.fn.extend({css:function(t,e){return $(this,function(t,e,n){var i,o,s={},r=0;if(Array.isArray(e)){for(i=Ht(t),o=e.length;r<o;r++)s[e[r]]=w.css(t,e[r],!1,i);return s}return void 0!==n?w.style(t,e,n):w.css(t,e)},t,e,arguments.length>1)}}),w.Tween=Qt,(Qt.prototype={constructor:Qt,init:function(t,e,n,i,o,s){this.elem=t,this.prop=n,this.easing=o||w.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=s||(w.cssNumber[n]?"":"px")},cur:function(){var t=Qt.propHooks[this.prop];return t&&t.get?t.get(this):Qt.propHooks._default.get(this)},run:function(t){var e,n=Qt.propHooks[this.prop];return this.pos=e=this.options.duration?w.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Qt.propHooks._default.set(this),this}}).init.prototype=Qt.prototype,(Qt.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=w.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){w.fx.step[t.prop]?w.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[w.cssProps[t.prop]]&&!w.cssHooks[t.prop]?t.elem[t.prop]=t.now:w.style(t.elem,t.prop,t.now+t.unit)}}}).scrollTop=Qt.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},w.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},w.fx=Qt.prototype.init,w.fx.step={};var Jt,te,ee=/^(?:toggle|show|hide)$/,ne=/queueHooks$/;function ie(){te&&(!1===i.hidden&&t.requestAnimationFrame?t.requestAnimationFrame(ie):t.setTimeout(ie,w.fx.interval),w.fx.tick())}function oe(){return t.setTimeout(function(){Jt=void 0}),Jt=Date.now()}function se(t,e){var n,i=0,o={height:t};for(e=e?1:0;i<4;i+=2-e)o["margin"+(n=nt[i])]=o["padding"+n]=t;return e&&(o.opacity=o.width=t),o}function re(t,e,n){for(var i,o=(ae.tweeners[e]||[]).concat(ae.tweeners["*"]),s=0,r=o.length;s<r;s++)if(i=o[s].call(n,e,t))return i}function ae(t,e,n){var i,o,s=0,r=ae.prefilters.length,a=w.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var e=Jt||oe(),n=Math.max(0,c.startTime+c.duration-e),i=1-(n/c.duration||0),s=0,r=c.tweens.length;s<r;s++)c.tweens[s].run(i);return a.notifyWith(t,[c,i,n]),i<1&&r?n:(r||a.notifyWith(t,[c,1,0]),a.resolveWith(t,[c]),!1)},c=a.promise({elem:t,props:w.extend({},e),opts:w.extend(!0,{specialEasing:{},easing:w.easing._default},n),originalProperties:e,originalOptions:n,startTime:Jt||oe(),duration:n.duration,tweens:[],createTween:function(e,n){var i=w.Tween(t,c.opts,e,n,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(i),i},stop:function(e){var n=0,i=e?c.tweens.length:0;if(o)return this;for(o=!0;n<i;n++)c.tweens[n].run(1);return e?(a.notifyWith(t,[c,1,0]),a.resolveWith(t,[c,e])):a.rejectWith(t,[c,e]),this}}),u=c.props;for(function(t,e){var n,i,o,s,r;for(n in t)if(o=e[i=U(n)],s=t[n],Array.isArray(s)&&(o=s[1],s=t[n]=s[0]),n!==i&&(t[i]=s,delete t[n]),(r=w.cssHooks[i])&&"expand"in r)for(n in s=r.expand(s),delete t[i],s)n in t||(t[n]=s[n],e[n]=o);else e[i]=o}(u,c.opts.specialEasing);s<r;s++)if(i=ae.prefilters[s].call(c,t,u,c.opts))return g(i.stop)&&(w._queueHooks(c.elem,c.opts.queue).stop=i.stop.bind(i)),i;return w.map(u,re,c),g(c.opts.start)&&c.opts.start.call(t,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),w.fx.timer(w.extend(l,{elem:t,anim:c,queue:c.opts.queue})),c}w.Animation=w.extend(ae,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return st(n.elem,t,et.exec(e),n),n}]},tweener:function(t,e){g(t)?(e=t,t=["*"]):t=t.match(R);for(var n,i=0,o=t.length;i<o;i++)(ae.tweeners[n=t[i]]=ae.tweeners[n]||[]).unshift(e)},prefilters:[function(t,e,n){var i,o,s,r,a,l,c,u,h="width"in e||"height"in e,d=this,f={},p=t.style,g=t.nodeType&&it(t),m=K.get(t,"fxshow");for(i in n.queue||(null==(r=w._queueHooks(t,"fx")).unqueued&&(r.unqueued=0,a=r.empty.fire,r.empty.fire=function(){r.unqueued||a()}),r.unqueued++,d.always(function(){d.always(function(){r.unqueued--,w.queue(t,"fx").length||r.empty.fire()})})),e)if(ee.test(o=e[i])){if(delete e[i],s=s||"toggle"===o,o===(g?"hide":"show")){if("show"!==o||!m||void 0===m[i])continue;g=!0}f[i]=m&&m[i]||w.style(t,i)}if((l=!w.isEmptyObject(e))||!w.isEmptyObject(f))for(i in h&&1===t.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],null==(c=m&&m.display)&&(c=K.get(t,"display")),"none"===(u=w.css(t,"display"))&&(c?u=c:(lt([t],!0),c=t.style.display||c,u=w.css(t,"display"),lt([t]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===w.css(t,"float")&&(l||(d.done(function(){p.display=c}),null==c&&(c="none"===(u=p.display)?"":u)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",d.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]})),l=!1,f)l||(m?"hidden"in m&&(g=m.hidden):m=K.access(t,"fxshow",{display:c}),s&&(m.hidden=!g),g&&lt([t],!0),d.done(function(){for(i in g||lt([t]),K.remove(t,"fxshow"),f)w.style(t,i,f[i])})),l=re(g?m[i]:0,i,d),i in m||(m[i]=l.start,g&&(l.end=l.start,l.start=0))}],prefilter:function(t,e){e?ae.prefilters.unshift(t):ae.prefilters.push(t)}}),w.speed=function(t,e,n){var i=t&&"object"==typeof t?w.extend({},t):{complete:n||!n&&e||g(t)&&t,duration:t,easing:n&&e||e&&!g(e)&&e};return w.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration=i.duration in w.fx.speeds?w.fx.speeds[i.duration]:w.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){g(i.old)&&i.old.call(this),i.queue&&w.dequeue(this,i.queue)},i},w.fn.extend({fadeTo:function(t,e,n,i){return this.filter(it).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var o=w.isEmptyObject(t),s=w.speed(e,n,i),r=function(){var e=ae(this,w.extend({},t),s);(o||K.get(this,"finish"))&&e.stop(!0)};return r.finish=r,o||!1===s.queue?this.each(r):this.queue(s.queue,r)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,o=null!=t&&t+"queueHooks",s=w.timers,r=K.get(this);if(o)r[o]&&r[o].stop&&i(r[o]);else for(o in r)r[o]&&r[o].stop&&ne.test(o)&&i(r[o]);for(o=s.length;o--;)s[o].elem!==this||null!=t&&s[o].queue!==t||(s[o].anim.stop(n),e=!1,s.splice(o,1));!e&&n||w.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,n=K.get(this),i=n[t+"queue"],o=n[t+"queueHooks"],s=w.timers,r=i?i.length:0;for(n.finish=!0,w.queue(this,t,[]),o&&o.stop&&o.stop.call(this,!0),e=s.length;e--;)s[e].elem===this&&s[e].queue===t&&(s[e].anim.stop(!0),s.splice(e,1));for(e=0;e<r;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),w.each(["toggle","show","hide"],function(t,e){var n=w.fn[e];w.fn[e]=function(t,i,o){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(se(e,!0),t,i,o)}}),w.each({slideDown:se("show"),slideUp:se("hide"),slideToggle:se("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){w.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),w.timers=[],w.fx.tick=function(){var t,e=0,n=w.timers;for(Jt=Date.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||w.fx.stop(),Jt=void 0},w.fx.timer=function(t){w.timers.push(t),w.fx.start()},w.fx.interval=13,w.fx.start=function(){te||(te=!0,ie())},w.fx.stop=function(){te=null},w.fx.speeds={slow:600,fast:200,_default:400},w.fn.delay=function(e,n){return e=w.fx&&w.fx.speeds[e]||e,this.queue(n=n||"fx",function(n,i){var o=t.setTimeout(n,e);i.stop=function(){t.clearTimeout(o)}})},function(){var t=i.createElement("input"),e=i.createElement("select").appendChild(i.createElement("option"));t.type="checkbox",p.checkOn=""!==t.value,p.optSelected=e.selected,(t=i.createElement("input")).value="t",t.type="radio",p.radioValue="t"===t.value}();var le,ce=w.expr.attrHandle;w.fn.extend({attr:function(t,e){return $(this,w.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){w.removeAttr(this,t)})}}),w.extend({attr:function(t,e,n){var i,o,s=t.nodeType;if(3!==s&&8!==s&&2!==s)return"undefined"==typeof t.getAttribute?w.prop(t,e,n):(1===s&&w.isXMLDoc(t)||(o=w.attrHooks[e.toLowerCase()]||(w.expr.match.bool.test(e)?le:void 0)),void 0!==n?null===n?void w.removeAttr(t,e):o&&"set"in o&&void 0!==(i=o.set(t,n,e))?i:(t.setAttribute(e,n+""),n):o&&"get"in o&&null!==(i=o.get(t,e))?i:null==(i=w.find.attr(t,e))?void 0:i)},attrHooks:{type:{set:function(t,e){if(!p.radioValue&&"radio"===e&&D(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i=0,o=e&&e.match(R);if(o&&1===t.nodeType)for(;n=o[i++];)t.removeAttribute(n)}}),le={set:function(t,e,n){return!1===e?w.removeAttr(t,n):t.setAttribute(n,n),n}},w.each(w.expr.match.bool.source.match(/\w+/g),function(t,e){var n=ce[e]||w.find.attr;ce[e]=function(t,e,i){var o,s,r=e.toLowerCase();return i||(s=ce[r],ce[r]=o,o=null!=n(t,e,i)?r:null,ce[r]=s),o}});var ue=/^(?:input|select|textarea|button)$/i,he=/^(?:a|area)$/i;function de(t){return(t.match(R)||[]).join(" ")}function fe(t){return t.getAttribute&&t.getAttribute("class")||""}function pe(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(R)||[]}w.fn.extend({prop:function(t,e){return $(this,w.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[w.propFix[t]||t]})}}),w.extend({prop:function(t,e,n){var i,o,s=t.nodeType;if(3!==s&&8!==s&&2!==s)return 1===s&&w.isXMLDoc(t)||(o=w.propHooks[e=w.propFix[e]||e]),void 0!==n?o&&"set"in o&&void 0!==(i=o.set(t,n,e))?i:t[e]=n:o&&"get"in o&&null!==(i=o.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=w.find.attr(t,"tabindex");return e?parseInt(e,10):ue.test(t.nodeName)||he.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),p.optSelected||(w.propHooks.selected={get:function(t){return null},set:function(t){}}),w.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){w.propFix[this.toLowerCase()]=this}),w.fn.extend({addClass:function(t){var e,n,i,o,s,r,a,l=0;if(g(t))return this.each(function(e){w(this).addClass(t.call(this,e,fe(this)))});if((e=pe(t)).length)for(;n=this[l++];)if(o=fe(n),i=1===n.nodeType&&" "+de(o)+" "){for(r=0;s=e[r++];)i.indexOf(" "+s+" ")<0&&(i+=s+" ");o!==(a=de(i))&&n.setAttribute("class",a)}return this},removeClass:function(t){var e,n,i,o,s,r,a,l=0;if(g(t))return this.each(function(e){w(this).removeClass(t.call(this,e,fe(this)))});if(!arguments.length)return this.attr("class","");if((e=pe(t)).length)for(;n=this[l++];)if(o=fe(n),i=1===n.nodeType&&" "+de(o)+" "){for(r=0;s=e[r++];)for(;i.indexOf(" "+s+" ")>-1;)i=i.replace(" "+s+" "," ");o!==(a=de(i))&&n.setAttribute("class",a)}return this},toggleClass:function(t,e){var n=typeof t,i="string"===n||Array.isArray(t);return"boolean"==typeof e&&i?e?this.addClass(t):this.removeClass(t):g(t)?this.each(function(n){w(this).toggleClass(t.call(this,n,fe(this),e),e)}):this.each(function(){var e,o,s,r;if(i)for(o=0,s=w(this),r=pe(t);e=r[o++];)s.hasClass(e)?s.removeClass(e):s.addClass(e);else void 0!==t&&"boolean"!==n||((e=fe(this))&&K.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":K.get(this,"__className__")||""))})},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&(" "+de(fe(n))+" ").indexOf(e)>-1)return!0;return!1}});var ge=/\r/g;w.fn.extend({val:function(t){var e,n,i,o=this[0];return arguments.length?(i=g(t),this.each(function(n){var o;1===this.nodeType&&(null==(o=i?t.call(this,n,w(this).val()):t)?o="":"number"==typeof o?o+="":Array.isArray(o)&&(o=w.map(o,function(t){return null==t?"":t+""})),(e=w.valHooks[this.type]||w.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,o,"value")||(this.value=o))})):o?(e=w.valHooks[o.type]||w.valHooks[o.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(o,"value"))?n:"string"==typeof(n=o.value)?n.replace(ge,""):null==n?"":n:void 0}}),w.extend({valHooks:{option:{get:function(t){var e=w.find.attr(t,"value");return null!=e?e:de(w.text(t))}},select:{get:function(t){var e,n,i,o=t.options,s=t.selectedIndex,r="select-one"===t.type,a=r?null:[],l=r?s+1:o.length;for(i=s<0?l:r?s:0;i<l;i++)if(((n=o[i]).selected||i===s)&&!n.disabled&&(!n.parentNode.disabled||!D(n.parentNode,"optgroup"))){if(e=w(n).val(),r)return e;a.push(e)}return a},set:function(t,e){for(var n,i,o=t.options,s=w.makeArray(e),r=o.length;r--;)((i=o[r]).selected=w.inArray(w.valHooks.option.get(i),s)>-1)&&(n=!0);return n||(t.selectedIndex=-1),s}}}}),w.each(["radio","checkbox"],function(){w.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=w.inArray(w(t).val(),e)>-1}},p.checkOn||(w.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),p.focusin="onfocusin"in t;var me=/^(?:focusinfocus|focusoutblur)$/,ve=function(t){t.stopPropagation()};w.extend(w.event,{trigger:function(e,n,o,s){var r,a,l,c,u,d,f,p,v=[o||i],y=h.call(e,"type")?e.type:e,b=h.call(e,"namespace")?e.namespace.split("."):[];if(a=p=l=o=o||i,3!==o.nodeType&&8!==o.nodeType&&!me.test(y+w.event.triggered)&&(y.indexOf(".")>-1&&(y=(b=y.split(".")).shift(),b.sort()),u=y.indexOf(":")<0&&"on"+y,(e=e[w.expando]?e:new w.Event(y,"object"==typeof e&&e)).isTrigger=s?2:3,e.namespace=b.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+b.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=o),n=null==n?[e]:w.makeArray(n,[e]),f=w.event.special[y]||{},s||!f.trigger||!1!==f.trigger.apply(o,n))){if(!s&&!f.noBubble&&!m(o)){for(me.test((c=f.delegateType||y)+y)||(a=a.parentNode);a;a=a.parentNode)v.push(a),l=a;l===(o.ownerDocument||i)&&v.push(l.defaultView||l.parentWindow||t)}for(r=0;(a=v[r++])&&!e.isPropagationStopped();)p=a,e.type=r>1?c:f.bindType||y,(d=(K.get(a,"events")||{})[e.type]&&K.get(a,"handle"))&&d.apply(a,n),(d=u&&a[u])&&d.apply&&V(a)&&(e.result=d.apply(a,n),!1===e.result&&e.preventDefault());return e.type=y,s||e.isDefaultPrevented()||f._default&&!1!==f._default.apply(v.pop(),n)||!V(o)||u&&g(o[y])&&!m(o)&&((l=o[u])&&(o[u]=null),w.event.triggered=y,e.isPropagationStopped()&&p.addEventListener(y,ve),o[y](),e.isPropagationStopped()&&p.removeEventListener(y,ve),w.event.triggered=void 0,l&&(o[u]=l)),e.result}},simulate:function(t,e,n){var i=w.extend(new w.Event,n,{type:t,isSimulated:!0});w.event.trigger(i,null,e)}}),w.fn.extend({trigger:function(t,e){return this.each(function(){w.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return w.event.trigger(t,e,n,!0)}}),p.focusin||w.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){w.event.simulate(e,t.target,w.event.fix(t))};w.event.special[e]={setup:function(){var i=this.ownerDocument||this,o=K.access(i,e);o||i.addEventListener(t,n,!0),K.access(i,e,(o||0)+1)},teardown:function(){var i=this.ownerDocument||this,o=K.access(i,e)-1;o?K.access(i,e,o):(i.removeEventListener(t,n,!0),K.remove(i,e))}}});var ye=t.location,be=Date.now(),we=/\?/;w.parseXML=function(e){var n;if(!e||"string"!=typeof e)return null;try{n=(new t.DOMParser).parseFromString(e,"text/xml")}catch(t){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||w.error("Invalid XML: "+e),n};var _e=/\[\]$/,xe=/\r?\n/g,Ce=/^(?:submit|button|image|reset|file)$/i,ke=/^(?:input|select|textarea|keygen)/i;function Se(t,e,n,i){var o;if(Array.isArray(e))w.each(e,function(e,o){n||_e.test(t)?i(t,o):Se(t+"["+("object"==typeof o&&null!=o?e:"")+"]",o,n,i)});else if(n||"object"!==b(e))i(t,e);else for(o in e)Se(t+"["+o+"]",e[o],n,i)}w.param=function(t,e){var n,i=[],o=function(t,e){var n=g(e)?e():e;i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(t)||t.jquery&&!w.isPlainObject(t))w.each(t,function(){o(this.name,this.value)});else for(n in t)Se(n,t[n],e,o);return i.join("&")},w.fn.extend({serialize:function(){return w.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=w.prop(this,"elements");return t?w.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!w(this).is(":disabled")&&ke.test(this.nodeName)&&!Ce.test(t)&&(this.checked||!ct.test(t))}).map(function(t,e){var n=w(this).val();return null==n?null:Array.isArray(n)?w.map(n,function(t){return{name:e.name,value:t.replace(xe,"\r\n")}}):{name:e.name,value:n.replace(xe,"\r\n")}}).get()}});var Te=/%20/g,De=/#.*$/,Oe=/([?&])_=[^&]*/,Ee=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ne=/^(?:GET|HEAD)$/,Ae=/^\/\//,Me={},Pe={},Ie="*/".concat("*"),Re=i.createElement("a");function Le(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,o=0,s=e.toLowerCase().match(R)||[];if(g(n))for(;i=s[o++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function je(t,e,n,i){var o={},s=t===Pe;function r(a){var l;return o[a]=!0,w.each(t[a]||[],function(t,a){var c=a(e,n,i);return"string"!=typeof c||s||o[c]?s?!(l=c):void 0:(e.dataTypes.unshift(c),r(c),!1)}),l}return r(e.dataTypes[0])||!o["*"]&&r("*")}function He(t,e){var n,i,o=w.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((o[n]?t:i||(i={}))[n]=e[n]);return i&&w.extend(!0,t,i),t}Re.href=ye.href,w.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ye.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(ye.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ie,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":w.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?He(He(t,w.ajaxSettings),e):He(w.ajaxSettings,t)},ajaxPrefilter:Le(Me),ajaxTransport:Le(Pe),ajax:function(e,n){"object"==typeof e&&(n=e,e=void 0);var o,s,r,a,l,c,u,h,d,f,p=w.ajaxSetup({},n=n||{}),g=p.context||p,m=p.context&&(g.nodeType||g.jquery)?w(g):w.event,v=w.Deferred(),y=w.Callbacks("once memory"),b=p.statusCode||{},_={},x={},C="canceled",k={readyState:0,getResponseHeader:function(t){var e;if(u){if(!a)for(a={};e=Ee.exec(r);)a[e[1].toLowerCase()]=e[2];e=a[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return u?r:null},setRequestHeader:function(t,e){return null==u&&(t=x[t.toLowerCase()]=x[t.toLowerCase()]||t,_[t]=e),this},overrideMimeType:function(t){return null==u&&(p.mimeType=t),this},statusCode:function(t){var e;if(t)if(u)k.always(t[k.status]);else for(e in t)b[e]=[b[e],t[e]];return this},abort:function(t){var e=t||C;return o&&o.abort(e),S(0,e),this}};if(v.promise(k),p.url=((e||p.url||ye.href)+"").replace(Ae,ye.protocol+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(R)||[""],null==p.crossDomain){c=i.createElement("a");try{c.href=p.url,c.href=c.href,p.crossDomain=Re.protocol+"//"+Re.host!=c.protocol+"//"+c.host}catch(t){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=w.param(p.data,p.traditional)),je(Me,p,n,k),u)return k;for(d in(h=w.event&&p.global)&&0==w.active++&&w.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Ne.test(p.type),s=p.url.replace(De,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(Te,"+")):(f=p.url.slice(s.length),p.data&&(p.processData||"string"==typeof p.data)&&(s+=(we.test(s)?"&":"?")+p.data,delete p.data),!1===p.cache&&(s=s.replace(Oe,"$1"),f=(we.test(s)?"&":"?")+"_="+be+++f),p.url=s+f),p.ifModified&&(w.lastModified[s]&&k.setRequestHeader("If-Modified-Since",w.lastModified[s]),w.etag[s]&&k.setRequestHeader("If-None-Match",w.etag[s])),(p.data&&p.hasContent&&!1!==p.contentType||n.contentType)&&k.setRequestHeader("Content-Type",p.contentType),k.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Ie+"; q=0.01":""):p.accepts["*"]),p.headers)k.setRequestHeader(d,p.headers[d]);if(p.beforeSend&&(!1===p.beforeSend.call(g,k,p)||u))return k.abort();if(C="abort",y.add(p.complete),k.done(p.success),k.fail(p.error),o=je(Pe,p,n,k)){if(k.readyState=1,h&&m.trigger("ajaxSend",[k,p]),u)return k;p.async&&p.timeout>0&&(l=t.setTimeout(function(){k.abort("timeout")},p.timeout));try{u=!1,o.send(_,S)}catch(t){if(u)throw t;S(-1,t)}}else S(-1,"No Transport");function S(e,n,i,a){var c,d,f,_,x,C=n;u||(u=!0,l&&t.clearTimeout(l),o=void 0,r=a||"",k.readyState=e>0?4:0,c=e>=200&&e<300||304===e,i&&(_=function(t,e,n){for(var i,o,s,r,a=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(o in a)if(a[o]&&a[o].test(i)){l.unshift(o);break}if(l[0]in n)s=l[0];else{for(o in n){if(!l[0]||t.converters[o+" "+l[0]]){s=o;break}r||(r=o)}s=s||r}if(s)return s!==l[0]&&l.unshift(s),n[s]}(p,k,i)),_=function(t,e,n,i){var o,s,r,a,l,c={},u=t.dataTypes.slice();if(u[1])for(r in t.converters)c[r.toLowerCase()]=t.converters[r];for(s=u.shift();s;)if(t.responseFields[s]&&(n[t.responseFields[s]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=s,s=u.shift())if("*"===s)s=l;else if("*"!==l&&l!==s){if(!(r=c[l+" "+s]||c["* "+s]))for(o in c)if((a=o.split(" "))[1]===s&&(r=c[l+" "+a[0]]||c["* "+a[0]])){!0===r?r=c[o]:!0!==c[o]&&(s=a[0],u.unshift(a[1]));break}if(!0!==r)if(r&&t.throws)e=r(e);else try{e=r(e)}catch(t){return{state:"parsererror",error:r?t:"No conversion from "+l+" to "+s}}}return{state:"success",data:e}}(p,_,k,c),c?(p.ifModified&&((x=k.getResponseHeader("Last-Modified"))&&(w.lastModified[s]=x),(x=k.getResponseHeader("etag"))&&(w.etag[s]=x)),204===e||"HEAD"===p.type?C="nocontent":304===e?C="notmodified":(C=_.state,d=_.data,c=!(f=_.error))):(f=C,!e&&C||(C="error",e<0&&(e=0))),k.status=e,k.statusText=(n||C)+"",c?v.resolveWith(g,[d,C,k]):v.rejectWith(g,[k,C,f]),k.statusCode(b),b=void 0,h&&m.trigger(c?"ajaxSuccess":"ajaxError",[k,p,c?d:f]),y.fireWith(g,[k,C]),h&&(m.trigger("ajaxComplete",[k,p]),--w.active||w.event.trigger("ajaxStop")))}return k},getJSON:function(t,e,n){return w.get(t,e,n,"json")},getScript:function(t,e){return w.get(t,void 0,e,"script")}}),w.each(["get","post"],function(t,e){w[e]=function(t,n,i,o){return g(n)&&(o=o||i,i=n,n=void 0),w.ajax(w.extend({url:t,type:e,dataType:o,data:n,success:i},w.isPlainObject(t)&&t))}}),w._evalUrl=function(t){return w.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},w.fn.extend({wrapAll:function(t){var e;return this[0]&&(g(t)&&(t=t.call(this[0])),e=w(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return g(t)?this.each(function(e){w(this).wrapInner(t.call(this,e))}):this.each(function(){var e=w(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=g(t);return this.each(function(n){w(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){w(this).replaceWith(this.childNodes)}),this}}),w.expr.pseudos.hidden=function(t){return!w.expr.pseudos.visible(t)},w.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},w.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(t){}};var Be={0:200,1223:204},qe=w.ajaxSettings.xhr();p.cors=!!qe&&"withCredentials"in qe,p.ajax=qe=!!qe,w.ajaxTransport(function(e){var n,i;if(p.cors||qe&&!e.crossDomain)return{send:function(o,s){var r,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(r in e.xhrFields)a[r]=e.xhrFields[r];for(r in e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest"),o)a.setRequestHeader(r,o[r]);n=function(t){return function(){n&&(n=i=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!=typeof a.status?s(0,"error"):s(a.status,a.statusText):s(Be[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=n(),i=a.onerror=a.ontimeout=n("error"),void 0!==a.onabort?a.onabort=i:a.onreadystatechange=function(){4===a.readyState&&t.setTimeout(function(){n&&i()})},n=n("abort");try{a.send(e.hasContent&&e.data||null)}catch(t){if(n)throw t}},abort:function(){n&&n()}}}),w.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),w.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return w.globalEval(t),t}}}),w.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),w.ajaxTransport("script",function(t){var e,n;if(t.crossDomain)return{send:function(o,s){e=w("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&s("error"===t.type?404:200,t.type)}),i.head.appendChild(e[0])},abort:function(){n&&n()}}});var Fe,$e=[],ze=/(=)\?(?=&|$)|\?\?/;w.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=$e.pop()||w.expando+"_"+be++;return this[t]=!0,t}}),w.ajaxPrefilter("json jsonp",function(e,n,i){var o,s,r,a=!1!==e.jsonp&&(ze.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&ze.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return o=e.jsonpCallback=g(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(ze,"$1"+o):!1!==e.jsonp&&(e.url+=(we.test(e.url)?"&":"?")+e.jsonp+"="+o),e.converters["script json"]=function(){return r||w.error(o+" was not called"),r[0]},e.dataTypes[0]="json",s=t[o],t[o]=function(){r=arguments},i.always(function(){void 0===s?w(t).removeProp(o):t[o]=s,e[o]&&(e.jsonpCallback=n.jsonpCallback,$e.push(o)),r&&g(s)&&s(r[0]),r=s=void 0}),"script"}),p.createHTMLDocument=((Fe=i.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Fe.childNodes.length),w.parseHTML=function(t,e,n){return"string"!=typeof t?[]:("boolean"==typeof e&&(n=e,e=!1),e||(p.createHTMLDocument?((o=(e=i.implementation.createHTMLDocument("")).createElement("base")).href=i.location.href,e.head.appendChild(o)):e=i),s=O.exec(t),r=!n&&[],s?[e.createElement(s[1])]:(s=yt([t],e,r),r&&r.length&&w(r).remove(),w.merge([],s.childNodes)));var o,s,r},w.fn.load=function(t,e,n){var i,o,s,r=this,a=t.indexOf(" ");return a>-1&&(i=de(t.slice(a)),t=t.slice(0,a)),g(e)?(n=e,e=void 0):e&&"object"==typeof e&&(o="POST"),r.length>0&&w.ajax({url:t,type:o||"GET",dataType:"html",data:e}).done(function(t){s=arguments,r.html(i?w("<div>").append(w.parseHTML(t)).find(i):t)}).always(n&&function(t,e){r.each(function(){n.apply(this,s||[t.responseText,e,t])})}),this},w.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){w.fn[e]=function(t){return this.on(e,t)}}),w.expr.pseudos.animated=function(t){return w.grep(w.timers,function(e){return t===e.elem}).length},w.offset={setOffset:function(t,e,n){var i,o,s,r,a,l,c=w.css(t,"position"),u=w(t),h={};"static"===c&&(t.style.position="relative"),a=u.offset(),s=w.css(t,"top"),l=w.css(t,"left"),("absolute"===c||"fixed"===c)&&(s+l).indexOf("auto")>-1?(r=(i=u.position()).top,o=i.left):(r=parseFloat(s)||0,o=parseFloat(l)||0),g(e)&&(e=e.call(t,n,w.extend({},a))),null!=e.top&&(h.top=e.top-a.top+r),null!=e.left&&(h.left=e.left-a.left+o),"using"in e?e.using.call(t,h):u.css(h)}},w.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){w.offset.setOffset(this,t,e)});var e,n,i=this[0];return i?i.getClientRects().length?{top:(e=i.getBoundingClientRect()).top+(n=i.ownerDocument.defaultView).pageYOffset,left:e.left+n.pageXOffset}:{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n,i=this[0],o={top:0,left:0};if("fixed"===w.css(i,"position"))e=i.getBoundingClientRect();else{for(e=this.offset(),n=i.ownerDocument,t=i.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&"static"===w.css(t,"position");)t=t.parentNode;t&&t!==i&&1===t.nodeType&&((o=w(t).offset()).top+=w.css(t,"borderTopWidth",!0),o.left+=w.css(t,"borderLeftWidth",!0))}return{top:e.top-o.top-w.css(i,"marginTop",!0),left:e.left-o.left-w.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===w.css(t,"position");)t=t.offsetParent;return t||bt})}}),w.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n="pageYOffset"===e;w.fn[t]=function(i){return $(this,function(t,i,o){var s;if(m(t)?s=t:9===t.nodeType&&(s=t.defaultView),void 0===o)return s?s[e]:t[i];s?s.scrollTo(n?s.pageXOffset:o,n?o:s.pageYOffset):t[i]=o},t,i,arguments.length)}}),w.each(["top","left"],function(t,e){w.cssHooks[e]=Ft(p.pixelPosition,function(t,n){if(n)return n=qt(t,e),jt.test(n)?w(t).position()[e]+"px":n})}),w.each({Height:"height",Width:"width"},function(t,e){w.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){w.fn[i]=function(o,s){var r=arguments.length&&(n||"boolean"!=typeof o),a=n||(!0===o||!0===s?"margin":"border");return $(this,function(e,n,o){var s;return m(e)?0===i.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(s=e.documentElement,Math.max(e.body["scroll"+t],s["scroll"+t],e.body["offset"+t],s["offset"+t],s["client"+t])):void 0===o?w.css(e,n,a):w.style(e,n,o,a)},e,r?o:void 0,r)}})}),w.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){w.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),w.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),w.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),w.proxy=function(t,e){var n,i,o;if("string"==typeof e&&(n=t[e],e=t,t=n),g(t))return i=s.call(arguments,2),(o=function(){return t.apply(e||this,i.concat(s.call(arguments)))}).guid=t.guid=t.guid||w.guid++,o},w.holdReady=function(t){t?w.readyWait++:w.ready(!0)},w.isArray=Array.isArray,w.parseJSON=JSON.parse,w.nodeName=D,w.isFunction=g,w.isWindow=m,w.camelCase=U,w.type=b,w.now=Date.now,w.isNumeric=function(t){var e=w.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},"function"==typeof define&&define.amd&&define("jquery",[],function(){return w});var We=t.jQuery,Ye=t.$;return w.noConflict=function(e){return t.$===w&&(t.$=Ye),e&&t.jQuery===w&&(t.jQuery=We),w},e||(t.jQuery=t.$=w),w});var $jscomp={scope:{},findInternal:function(t,e,n){t instanceof String&&(t=String(t));for(var i=t.length,o=0;o<i;o++){var s=t[o];if(e.call(n,s,o,t))return{i:o,v:s}}return{i:-1,v:void 0}}};if($jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){if(n.get||n.set)throw new TypeError("ES3 does not support getters and setters.");t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},$jscomp.getGlobal=function(t){return"undefined"!=typeof window&&window===t?t:"undefined"!=typeof global&&null!=global?global:t},$jscomp.global=$jscomp.getGlobal(this),$jscomp.polyfill=function(t,e,n,i){if(e){for(n=$jscomp.global,t=t.split("."),i=0;i<t.length-1;i++){var o=t[i];o in n||(n[o]={}),n=n[o]}(e=e(i=n[t=t[t.length-1]]))!=i&&null!=e&&$jscomp.defineProperty(n,t,{configurable:!0,writable:!0,value:e})}},$jscomp.polyfill("Array.prototype.find",function(t){return t||function(t,e){return $jscomp.findInternal(this,t,e).v}},"es6-impl","es3"),function(t,e,n){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(e||n)}(function(t){var e=function(e,n,i){var o={invalid:[],getCaret:function(){try{var t,n=0,i=e.get(0),s=document.selection,r=i.selectionStart;return s&&-1===navigator.appVersion.indexOf("MSIE 10")?((t=s.createRange()).moveStart("character",-o.val().length),n=t.text.length):(r||"0"===r)&&(n=r),n}catch(t){}},setCaret:function(t){try{if(e.is(":focus")){var n,i=e.get(0);i.setSelectionRange?i.setSelectionRange(t,t):((n=i.createTextRange()).collapse(!0),n.moveEnd("character",t),n.moveStart("character",t),n.select())}}catch(t){}},events:function(){e.on("keydown.mask",function(t){e.data("mask-keycode",t.keyCode||t.which),e.data("mask-previus-value",e.val()),e.data("mask-previus-caret-pos",o.getCaret()),o.maskDigitPosMapOld=o.maskDigitPosMap}).on(t.jMaskGlobals.useInput?"input.mask":"keyup.mask",o.behaviour).on("paste.mask drop.mask",function(){setTimeout(function(){e.keydown().keyup()},100)}).on("change.mask",function(){e.data("changed",!0)}).on("blur.mask",function(){a===o.val()||e.data("changed")||e.trigger("change"),e.data("changed",!1)}).on("blur.mask",function(){a=o.val()}).on("focus.mask",function(e){!0===i.selectOnFocus&&t(e.target).select()}).on("focusout.mask",function(){i.clearIfNotMatch&&!s.test(o.val())&&o.val("")})},getRegexMask:function(){for(var t,e,i,o,s=[],a=0;a<n.length;a++)(t=r.translation[n.charAt(a)])?(e=t.pattern.toString().replace(/.{1}$|^.{1}/g,""),i=t.optional,(t=t.recursive)?(s.push(n.charAt(a)),o={digit:n.charAt(a),pattern:e}):s.push(i||t?e+"?":e)):s.push(n.charAt(a).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"));return s=s.join(""),o&&(s=s.replace(new RegExp("("+o.digit+"(.*"+o.digit+")?)"),"($1)?").replace(new RegExp(o.digit,"g"),o.pattern)),new RegExp(s)},destroyEvents:function(){e.off("input keydown keyup paste drop blur focusout ".split(" ").join(".mask "))},val:function(t){var n=e.is("input")?"val":"text";return 0<arguments.length?(e[n]()!==t&&e[n](t),n=e):n=e[n](),n},calculateCaretPosition:function(){var t=e.data("mask-previus-value")||"",n=o.getMasked(),i=o.getCaret();if(t!==n){var s,r=e.data("mask-previus-caret-pos")||0,a=(n=n.length,t.length),l=t=0,c=0,u=0;for(s=i;s<n&&o.maskDigitPosMap[s];s++)l++;for(s=i-1;0<=s&&o.maskDigitPosMap[s];s--)t++;for(s=i-1;0<=s;s--)o.maskDigitPosMap[s]&&c++;for(s=r-1;0<=s;s--)o.maskDigitPosMapOld[s]&&u++;i>a?i=10*n:r>=i&&r!==a?o.maskDigitPosMapOld[i]||(r=i,o.maskDigitPosMap[i=i-(u-c)-t]&&(i=r)):i>r&&(i=i+(c-u)+l)}return i},behaviour:function(n){n=n||window.event,o.invalid=[];var i=e.data("mask-keycode");if(-1===t.inArray(i,r.byPassKeys)){i=o.getMasked();var s=o.getCaret();return setTimeout(function(){o.setCaret(o.calculateCaretPosition())},t.jMaskGlobals.keyStrokeCompensation),o.val(i),o.setCaret(s),o.callbacks(n)}},getMasked:function(t,e){var s,a,l,c=[],u=void 0===e?o.val():e+"",h=0,d=n.length,f=0,p=u.length,g=1,m="push",v=-1,y=0,b=[];for(i.reverse?(m="unshift",g=-1,s=0,h=d-1,f=p-1,a=function(){return-1<h&&-1<f}):(s=d-1,a=function(){return h<d&&f<p});a();){var w=n.charAt(h),_=u.charAt(f),x=r.translation[w];x?(_.match(x.pattern)?(c[m](_),x.recursive&&(-1===v?v=h:h===s&&h!==v&&(h=v-g),s===v&&(h-=g)),h+=g):_===l?(y--,l=void 0):x.optional?(h+=g,f-=g):x.fallback?(c[m](x.fallback),h+=g,f-=g):o.invalid.push({p:f,v:_,e:x.pattern}),f+=g):(t||c[m](w),_===w?(b.push(f),f+=g):(l=w,b.push(f+y),y++),h+=g)}return u=n.charAt(s),d!==p+1||r.translation[u]||c.push(u),c=c.join(""),o.mapMaskdigitPositions(c,b,p),c},mapMaskdigitPositions:function(t,e,n){for(t=i.reverse?t.length-n:0,o.maskDigitPosMap={},n=0;n<e.length;n++)o.maskDigitPosMap[e[n]+t]=1},callbacks:function(t){var s=o.val(),r=s!==a,l=[s,t,e,i],c=function(t,e,n){"function"==typeof i[t]&&e&&i[t].apply(this,n)};c("onChange",!0===r,l),c("onKeyPress",!0===r,l),c("onComplete",s.length===n.length,l),c("onInvalid",0<o.invalid.length,[s,t,e,o.invalid,i])}};e=t(e);var s,r=this,a=o.val();n="function"==typeof n?n(o.val(),void 0,e,i):n,r.mask=n,r.options=i,r.remove=function(){var t=o.getCaret();return r.options.placeholder&&e.removeAttr("placeholder"),e.data("mask-maxlength")&&e.removeAttr("maxlength"),o.destroyEvents(),o.val(r.getCleanVal()),o.setCaret(t),e},r.getCleanVal=function(){return o.getMasked(!0)},r.getMaskedVal=function(t){return o.getMasked(!1,t)},r.init=function(a){if(a=a||!1,i=i||{},r.clearIfNotMatch=t.jMaskGlobals.clearIfNotMatch,r.byPassKeys=t.jMaskGlobals.byPassKeys,r.translation=t.extend({},t.jMaskGlobals.translation,i.translation),r=t.extend(!0,{},r,i),s=o.getRegexMask(),a)o.events(),o.val(o.getMasked());else{i.placeholder&&e.attr("placeholder",i.placeholder),e.data("mask")&&e.attr("autocomplete","off"),a=0;for(var l=!0;a<n.length;a++){var c=r.translation[n.charAt(a)];if(c&&c.recursive){l=!1;break}}l&&e.attr("maxlength",n.length).data("mask-maxlength",!0),o.destroyEvents(),o.events(),a=o.getCaret(),o.val(o.getMasked()),o.setCaret(a)}},r.init(!e.is("input"))};t.maskWatchers={};var n=function(){var n=t(this),o={},s=n.attr("data-mask");if(n.attr("data-mask-reverse")&&(o.reverse=!0),n.attr("data-mask-clearifnotmatch")&&(o.clearIfNotMatch=!0),"true"===n.attr("data-mask-selectonfocus")&&(o.selectOnFocus=!0),i(n,s,o))return n.data("mask",new e(this,s,o))},i=function(e,n,i){i=i||{};var o=t(e).data("mask"),s=JSON.stringify;e=t(e).val()||t(e).text();try{return"function"==typeof n&&(n=n(e)),"object"!=typeof o||s(o.options)!==s(i)||o.mask!==n}catch(t){}},o=function(t){var e,n=document.createElement("div");return(e=(t="on"+t)in n)||(n.setAttribute(t,"return;"),e="function"==typeof n[t]),e};t.fn.mask=function(n,o){var s=this.selector,r=(a=t.jMaskGlobals).watchInterval,a=(o=o||{}).watchInputs||a.watchInputs,l=function(){if(i(this,n,o))return t(this).data("mask",new e(this,n,o))};return t(this).each(l),s&&""!==s&&a&&(clearInterval(t.maskWatchers[s]),t.maskWatchers[s]=setInterval(function(){t(document).find(s).each(l)},r)),this},t.fn.masked=function(t){return this.data("mask").getMaskedVal(t)},t.fn.unmask=function(){return clearInterval(t.maskWatchers[this.selector]),delete t.maskWatchers[this.selector],this.each(function(){var e=t(this).data("mask");e&&e.remove().removeData("mask")})},t.fn.cleanVal=function(){return this.data("mask").getCleanVal()},t.applyDataMask=function(e){((e=e||t.jMaskGlobals.maskElements)instanceof t?e:t(e)).filter(t.jMaskGlobals.dataMaskAttr).each(n)},o={maskElements:"input,td,span,div",dataMaskAttr:"*[data-mask]",dataMask:!0,watchInterval:300,watchInputs:!0,keyStrokeCompensation:10,useInput:!/Chrome\/[2-4][0-9]|SamsungBrowser/.test(window.navigator.userAgent)&&o("input"),watchDataMask:!1,byPassKeys:[9,16,17,18,36,37,38,39,40,91],translation:{0:{pattern:/\d/},9:{pattern:/\d/,optional:!0},"#":{pattern:/\d/,recursive:!0},A:{pattern:/[a-zA-Z0-9]/},S:{pattern:/[a-zA-Z]/}}},t.jMaskGlobals=t.jMaskGlobals||{},(o=t.jMaskGlobals=t.extend(!0,{},o,t.jMaskGlobals)).dataMask&&t.applyDataMask(),setInterval(function(){t.jMaskGlobals.watchDataMask&&t.applyDataMask()},o.watchInterval)},window.jQuery,window.Zepto),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){var e,n,i,o;function s(e,n){var i,o,s,a=e.nodeName.toLowerCase();return"area"===a?(o=(i=e.parentNode).name,!(!e.href||!o||"map"!==i.nodeName.toLowerCase())&&!!(s=t("img[usemap='#"+o+"']")[0])&&r(s)):(/input|select|textarea|button|object/.test(a)?!e.disabled:"a"===a&&e.href||n)&&r(e)}function r(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter(function(){return"hidden"===t.css(this,"visibility")}).length}t.ui=t.ui||{},t.extend(t.ui,{version:"1.11.1",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({scrollParent:function(e){var n=this.css("position"),i="absolute"===n,o=e?/(auto|scroll|hidden)/:/(auto|scroll)/,s=this.parents().filter(function(){var e=t(this);return(!i||"static"!==e.css("position"))&&o.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==n&&s.length?s:t(this[0].ownerDocument||document)},uniqueId:(e=0,function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(n){return!!t.data(n,e)}}):function(e,n,i){return!!t.data(e,i[3])},focusable:function(e){return s(e,!isNaN(t.attr(e,"tabindex")))},tabbable:function(e){var n=t.attr(e,"tabindex"),i=isNaN(n);return(i||n>=0)&&s(e,!i)}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(e,n){var i="Width"===n?["Left","Right"]:["Top","Bottom"],o=n.toLowerCase(),s={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};function r(e,n,o,s){return t.each(i,function(){n-=parseFloat(t.css(e,"padding"+this))||0,o&&(n-=parseFloat(t.css(e,"border"+this+"Width"))||0),s&&(n-=parseFloat(t.css(e,"margin"+this))||0)}),n}t.fn["inner"+n]=function(e){return void 0===e?s["inner"+n].call(this):this.each(function(){t(this).css(o,r(this,e)+"px")})},t.fn["outer"+n]=function(e,i){return"number"!=typeof e?s["outer"+n].call(this,e):this.each(function(){t(this).css(o,r(this,e,!0,i)+"px")})}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=(n=t.fn.removeData,function(e){return arguments.length?n.call(this,t.camelCase(e)):n.call(this)})),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),t.fn.extend({focus:(o=t.fn.focus,function(e,n){return"number"==typeof e?this.each(function(){var i=this;setTimeout(function(){t(i).focus(),n&&n.call(i)},e)}):o.apply(this,arguments)}),disableSelection:(i="onselectstart"in document.createElement("div")?"selectstart":"mousedown",function(){return this.bind(i+".ui-disableSelection",function(t){t.preventDefault()})}),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(e){if(void 0!==e)return this.css("zIndex",e);if(this.length)for(var n,i,o=t(this[0]);o.length&&o[0]!==document;){if(("absolute"===(n=o.css("position"))||"relative"===n||"fixed"===n)&&(i=parseInt(o.css("zIndex"),10),!isNaN(i)&&0!==i))return i;o=o.parent()}return 0}}),t.ui.plugin={add:function(e,n,i){var o,s=t.ui[e].prototype;for(o in i)s.plugins[o]=s.plugins[o]||[],s.plugins[o].push([n,i[o]])},call:function(t,e,n,i){var o,s=t.plugins[e];if(s&&(i||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(o=0;o<s.length;o++)t.options[s[o][0]]&&s[o][1].apply(t.element,n)}};var a=0,l=Array.prototype.slice;t.cleanData=function(e){return function(n){var i,o,s;for(s=0;null!=(o=n[s]);s++)try{(i=t._data(o,"events"))&&i.remove&&t(o).triggerHandler("remove")}catch(t){}e(n)}}(t.cleanData),t.widget=function(e,n,i){var o,s,r,a,l={},c=e.split(".")[0];return e=e.split(".")[1],o=c+"-"+e,i||(i=n,n=t.Widget),t.expr[":"][o.toLowerCase()]=function(e){return!!t.data(e,o)},t[c]=t[c]||{},s=t[c][e],r=t[c][e]=function(t,e){if(!this._createWidget)return new r(t,e);arguments.length&&this._createWidget(t,e)},t.extend(r,s,{version:i.version,_proto:t.extend({},i),_childConstructors:[]}),(a=new n).options=t.widget.extend({},a.options),t.each(i,function(e,i){var o,s;l[e]=t.isFunction(i)?(o=function(){return n.prototype[e].apply(this,arguments)},s=function(t){return n.prototype[e].apply(this,t)},function(){var t,e=this._super,n=this._superApply;return this._super=o,this._superApply=s,t=i.apply(this,arguments),this._super=e,this._superApply=n,t}):i}),r.prototype=t.widget.extend(a,{widgetEventPrefix:s&&a.widgetEventPrefix||e},l,{constructor:r,namespace:c,widgetName:e,widgetFullName:o}),s?(t.each(s._childConstructors,function(e,n){var i=n.prototype;t.widget(i.namespace+"."+i.widgetName,r,n._proto)}),delete s._childConstructors):n._childConstructors.push(r),t.widget.bridge(e,r),r},t.widget.extend=function(e){for(var n,i,o=l.call(arguments,1),s=0,r=o.length;s<r;s++)for(n in o[s])i=o[s][n],o[s].hasOwnProperty(n)&&void 0!==i&&(e[n]=t.isPlainObject(i)?t.isPlainObject(e[n])?t.widget.extend({},e[n],i):t.widget.extend({},i):i);return e},t.widget.bridge=function(e,n){var i=n.prototype.widgetFullName||e;t.fn[e]=function(o){var s="string"==typeof o,r=l.call(arguments,1),a=this;return o=!s&&r.length?t.widget.extend.apply(null,[o].concat(r)):o,this.each(s?function(){var n,s=t.data(this,i);return"instance"===o?(a=s,!1):s?t.isFunction(s[o])&&"_"!==o.charAt(0)?(n=s[o].apply(s,r))!==s&&void 0!==n?(a=n&&n.jquery?a.pushStack(n.get()):n,!1):void 0:t.error("no such method '"+o+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+o+"'")}:function(){var e=t.data(this,i);e?(e.option(o||{}),e._init&&e._init()):t.data(this,i,new n(o,this))}),a}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,n){n=t(n||this.defaultElement||this)[0],this.element=t(n),this.uuid=a++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this.bindings=t(),this.hoverable=t(),this.focusable=t(),n!==this&&(t.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===n&&this.destroy()}}),this.document=t(n.style?n.ownerDocument:n.document||n),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(e,n){var i,o,s,r=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(r={},e=(i=e.split(".")).shift(),i.length){for(o=r[e]=t.widget.extend({},this.options[e]),s=0;s<i.length-1;s++)o[i[s]]=o[i[s]]||{},o=o[i[s]];if(e=i.pop(),1===arguments.length)return void 0===o[e]?null:o[e];o[e]=n}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];r[e]=n}return this._setOptions(r),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!e),e&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(e,n,i){var o,s=this;"boolean"!=typeof e&&(i=n,n=e,e=!1),i?(n=o=t(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,o=this.widget()),t.each(i,function(i,r){function a(){if(e||!0!==s.options.disabled&&!t(this).hasClass("ui-state-disabled"))return("string"==typeof r?s[r]:r).apply(s,arguments)}"string"!=typeof r&&(a.guid=r.guid=r.guid||a.guid||t.guid++);var l=i.match(/^([\w:-]*)\s*(.*)$/),c=l[1]+s.eventNamespace,u=l[2];u?o.delegate(u,c,a):n.bind(c,a)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(e).undelegate(e)},_delay:function(t,e){var n=this;return setTimeout(function(){return("string"==typeof t?n[t]:t).apply(n,arguments)},e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,n,i){var o,s,r=this.options[e];if(i=i||{},(n=t.Event(n)).type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),n.target=this.element[0],s=n.originalEvent)for(o in s)o in n||(n[o]=s[o]);return this.element.trigger(n,i),!(t.isFunction(r)&&!1===r.apply(this.element[0],[n].concat(i))||n.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,n){t.Widget.prototype["_"+e]=function(i,o,s){"string"==typeof o&&(o={effect:o});var r,a=o?!0===o||"number"==typeof o?n:o.effect||n:e;"number"==typeof(o=o||{})&&(o={duration:o}),r=!t.isEmptyObject(o),o.complete=s,o.delay&&i.delay(o.delay),r&&t.effects&&t.effects.effect[a]?i[e](o):a!==e&&i[a]?i[a](o.duration,o.easing,s):i.queue(function(n){t(this)[e](),s&&s.call(i[0]),n()})}});var c=!1;t(document).mouseup(function(){c=!1}),t.widget("ui.mouse",{version:"1.11.1",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(n){if(!0===t.data(n.target,e.widgetName+".preventClickEvent"))return t.removeData(n.target,e.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!c){this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var n=this,i=1===e.which,o=!("string"!=typeof this.options.cancel||!e.target.nodeName)&&t(e.target).closest(this.options.cancel).length;return!(i&&!o&&this._mouseCapture(e)&&(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(e),!this._mouseStarted)?(e.preventDefault(),0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return n._mouseMove(t)},this._mouseUpDelegate=function(t){return n._mouseUp(t)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),c=!0,0)))}},_mouseMove:function(e){return t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button?this._mouseUp(e):e.which?this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted):this._mouseUp(e)},_mouseUp:function(e){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),c=!1,!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),function(){t.ui=t.ui||{};var e,n,i=Math.max,o=Math.abs,s=Math.round,r=/left|center|right/,a=/top|center|bottom/,l=/[\+\-]\d+(\.[\d]+)?%?/,c=/^\w+/,u=/%$/,h=t.fn.position;function d(t,e,n){return[parseFloat(t[0])*(u.test(t[0])?e/100:1),parseFloat(t[1])*(u.test(t[1])?n/100:1)]}function f(e,n){return parseInt(t.css(e,n),10)||0}t.position={scrollbarWidth:function(){if(void 0!==e)return e;var n,i,o=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),s=o.children()[0];return t("body").append(o),n=s.offsetWidth,o.css("overflow","scroll"),n===(i=s.offsetWidth)&&(i=o[0].clientWidth),o.remove(),e=n-i},getScrollInfo:function(e){var n=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),i=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),o="scroll"===n||"auto"===n&&e.width<e.element[0].scrollWidth;return{width:"scroll"===i||"auto"===i&&e.height<e.element[0].scrollHeight?t.position.scrollbarWidth():0,height:o?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var n=t(e||window),i=t.isWindow(n[0]),o=!!n[0]&&9===n[0].nodeType;return{element:n,isWindow:i,isDocument:o,offset:n.offset()||{left:0,top:0},scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:i||o?n.width():n.outerWidth(),height:i||o?n.height():n.outerHeight()}}},t.fn.position=function(e){if(!e||!e.of)return h.apply(this,arguments);e=t.extend({},e);var u,p,g,m,v,y,b,w,_=t(e.of),x=t.position.getWithinInfo(e.within),C=t.position.getScrollInfo(x),k=(e.collision||"flip").split(" "),S={};return y=9===(w=(b=_)[0]).nodeType?{width:b.width(),height:b.height(),offset:{top:0,left:0}}:t.isWindow(w)?{width:b.width(),height:b.height(),offset:{top:b.scrollTop(),left:b.scrollLeft()}}:w.preventDefault?{width:0,height:0,offset:{top:w.pageY,left:w.pageX}}:{width:b.outerWidth(),height:b.outerHeight(),offset:b.offset()},_[0].preventDefault&&(e.at="left top"),p=y.width,g=y.height,v=t.extend({},m=y.offset),t.each(["my","at"],function(){var t,n,i=(e[this]||"").split(" ");1===i.length&&(i=r.test(i[0])?i.concat(["center"]):a.test(i[0])?["center"].concat(i):["center","center"]),i[0]=r.test(i[0])?i[0]:"center",i[1]=a.test(i[1])?i[1]:"center",t=l.exec(i[0]),n=l.exec(i[1]),S[this]=[t?t[0]:0,n?n[0]:0],e[this]=[c.exec(i[0])[0],c.exec(i[1])[0]]}),1===k.length&&(k[1]=k[0]),"right"===e.at[0]?v.left+=p:"center"===e.at[0]&&(v.left+=p/2),"bottom"===e.at[1]?v.top+=g:"center"===e.at[1]&&(v.top+=g/2),u=d(S.at,p,g),v.left+=u[0],v.top+=u[1],this.each(function(){var r,a,l=t(this),c=l.outerWidth(),h=l.outerHeight(),y=f(this,"marginLeft"),b=f(this,"marginTop"),w=c+y+f(this,"marginRight")+C.width,T=h+b+f(this,"marginBottom")+C.height,D=t.extend({},v),O=d(S.my,l.outerWidth(),l.outerHeight());"right"===e.my[0]?D.left-=c:"center"===e.my[0]&&(D.left-=c/2),"bottom"===e.my[1]?D.top-=h:"center"===e.my[1]&&(D.top-=h/2),D.left+=O[0],D.top+=O[1],n||(D.left=s(D.left),D.top=s(D.top)),r={marginLeft:y,marginTop:b},t.each(["left","top"],function(n,i){t.ui.position[k[n]]&&t.ui.position[k[n]][i](D,{targetWidth:p,targetHeight:g,elemWidth:c,elemHeight:h,collisionPosition:r,collisionWidth:w,collisionHeight:T,offset:[u[0]+O[0],u[1]+O[1]],my:e.my,at:e.at,within:x,elem:l})}),e.using&&(a=function(t){var n=m.left-D.left,s=n+p-c,r=m.top-D.top,a=r+g-h,u={target:{element:_,left:m.left,top:m.top,width:p,height:g},element:{element:l,left:D.left,top:D.top,width:c,height:h},horizontal:s<0?"left":n>0?"right":"center",vertical:a<0?"top":r>0?"bottom":"middle"};p<c&&o(n+s)<p&&(u.horizontal="center"),g<h&&o(r+a)<g&&(u.vertical="middle"),u.important=i(o(n),o(s))>i(o(r),o(a))?"horizontal":"vertical",e.using.call(this,t,u)}),l.offset(t.extend(D,{using:a}))})},t.ui.position={fit:{left:function(t,e){var n=e.within,o=n.isWindow?n.scrollLeft:n.offset.left,s=n.width,r=t.left-e.collisionPosition.marginLeft,a=o-r,l=r+e.collisionWidth-s-o;e.collisionWidth>s?a>0&&l<=0?t.left+=a-(t.left+a+e.collisionWidth-s-o):t.left=l>0&&a<=0?o:a>l?o+s-e.collisionWidth:o:a>0?t.left+=a:l>0?t.left-=l:t.left=i(t.left-r,t.left)},top:function(t,e){var n=e.within,o=n.isWindow?n.scrollTop:n.offset.top,s=e.within.height,r=t.top-e.collisionPosition.marginTop,a=o-r,l=r+e.collisionHeight-s-o;e.collisionHeight>s?a>0&&l<=0?t.top+=a-(t.top+a+e.collisionHeight-s-o):t.top=l>0&&a<=0?o:a>l?o+s-e.collisionHeight:o:a>0?t.top+=a:l>0?t.top-=l:t.top=i(t.top-r,t.top)}},flip:{left:function(t,e){var n,i,s=e.within,r=s.width,a=s.isWindow?s.scrollLeft:s.offset.left,l=t.left-e.collisionPosition.marginLeft,c=l-a,u=l+e.collisionWidth-r-a,h="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,d="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,f=-2*e.offset[0];c<0?((n=t.left+h+d+f+e.collisionWidth-r-(s.offset.left+s.scrollLeft))<0||n<o(c))&&(t.left+=h+d+f):u>0&&((i=t.left-e.collisionPosition.marginLeft+h+d+f-a)>0||o(i)<u)&&(t.left+=h+d+f)},top:function(t,e){var n,i,s=e.within,r=s.height,a=s.isWindow?s.scrollTop:s.offset.top,l=t.top-e.collisionPosition.marginTop,c=l-a,u=l+e.collisionHeight-r-a,h="top"===e.my[1]?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,d="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,f=-2*e.offset[1];c<0?(i=t.top+h+d+f+e.collisionHeight-r-(s.offset.top+s.scrollTop),t.top+h+d+f>c&&(i<0||i<o(c))&&(t.top+=h+d+f)):u>0&&(n=t.top-e.collisionPosition.marginTop+h+d+f-a,t.top+h+d+f>u&&(n>0||o(n)<u)&&(t.top+=h+d+f))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}},function(){var e,i,o,s,r,a=document.getElementsByTagName("body")[0],l=document.createElement("div");for(r in e=document.createElement(a?"div":"body"),o={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},a&&t.extend(o,{position:"absolute",left:"-1000px",top:"-1000px"}),o)e.style[r]=o[r];e.appendChild(l),(i=a||document.documentElement).insertBefore(e,i.firstChild),l.style.cssText="position: absolute; left: 10.7432222px;",s=t(l).offset().left,n=s>10&&s<11,e.innerHTML="",i.removeChild(e)}()}(),t.widget("ui.accordion",{version:"1.11.1",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var e=this.options;this.prevShow=this.prevHide=t(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),e.collapsible||!1!==e.active&&null!=e.active||(e.active=0),this._processPanels(),e.active<0&&(e.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():t()}},_createIcons:function(){var e=this.options.icons;e&&(t("<span>").addClass("ui-accordion-header-icon ui-icon "+e.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(e.header).addClass(e.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var t;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").removeUniqueId(),this._destroyIcons(),t=this.headers.next().removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&t.css("height","")},_setOption:function(t,e){"active"!==t?("event"===t&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(e)),this._super(t,e),"collapsible"!==t||e||!1!==this.options.active||this._activate(0),"icons"===t&&(this._destroyIcons(),e&&this._createIcons()),"disabled"===t&&(this.element.toggleClass("ui-state-disabled",!!e).attr("aria-disabled",e),this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!e))):this._activate(e)},_keydown:function(e){if(!e.altKey&&!e.ctrlKey){var n=t.ui.keyCode,i=this.headers.length,o=this.headers.index(e.target),s=!1;switch(e.keyCode){case n.RIGHT:case n.DOWN:s=this.headers[(o+1)%i];break;case n.LEFT:case n.UP:s=this.headers[(o-1+i)%i];break;case n.SPACE:case n.ENTER:this._eventHandler(e);break;case n.HOME:s=this.headers[0];break;case n.END:s=this.headers[i-1]}s&&(t(e.target).attr("tabIndex",-1),t(s).attr("tabIndex",0),s.focus(),e.preventDefault())}},_panelKeyDown:function(e){e.keyCode===t.ui.keyCode.UP&&e.ctrlKey&&t(e.currentTarget).prev().focus()},refresh:function(){var e=this.options;this._processPanels(),!1===e.active&&!0===e.collapsible||!this.headers.length?(e.active=!1,this.active=t()):!1===e.active?this._activate(0):this.active.length&&!t.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(e.active=!1,this.active=t()):this._activate(Math.max(0,e.active-1)):e.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-state-default ui-corner-all"),this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()},_refresh:function(){var e,n=this.options,i=n.heightStyle,o=this.element.parent();this.active=this._findActive(n.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(){var e=t(this),n=e.uniqueId().attr("id"),i=e.next(),o=i.uniqueId().attr("id");e.attr("aria-controls",o),i.attr("aria-labelledby",n)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(n.event),"fill"===i?(e=o.height(),this.element.siblings(":visible").each(function(){var n=t(this),i=n.css("position");"absolute"!==i&&"fixed"!==i&&(e-=n.outerHeight(!0))}),this.headers.each(function(){e-=t(this).outerHeight(!0)}),this.headers.next().each(function(){t(this).height(Math.max(0,e-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===i&&(e=0,this.headers.next().each(function(){e=Math.max(e,t(this).css("height","").height())}).height(e))},_activate:function(e){var n=this._findActive(e)[0];n!==this.active[0]&&this._eventHandler({target:n=n||this.active[0],currentTarget:n,preventDefault:t.noop})},_findActive:function(e){return"number"==typeof e?this.headers.eq(e):t()},_setupEvents:function(e){var n={keydown:"_keydown"};e&&t.each(e.split(" "),function(t,e){n[e]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,n),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(e){var n=this.options,i=this.active,o=t(e.currentTarget),s=o[0]===i[0],r=s&&n.collapsible,a=r?t():o.next(),l={oldHeader:i,oldPanel:i.next(),newHeader:r?t():o,newPanel:a};e.preventDefault(),s&&!n.collapsible||!1===this._trigger("beforeActivate",e,l)||(n.active=!r&&this.headers.index(o),this.active=s?t():o,this._toggle(l),i.removeClass("ui-accordion-header-active ui-state-active"),n.icons&&i.children(".ui-accordion-header-icon").removeClass(n.icons.activeHeader).addClass(n.icons.header),s||(o.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),n.icons&&o.children(".ui-accordion-header-icon").removeClass(n.icons.header).addClass(n.icons.activeHeader),o.next().addClass("ui-accordion-content-active")))},_toggle:function(e){var n=e.newPanel,i=this.prevShow.length?this.prevShow:e.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=n,this.prevHide=i,this.options.animate?this._animate(n,i,e):(i.hide(),n.show(),this._toggleComplete(e)),i.attr({"aria-hidden":"true"}),i.prev().attr("aria-selected","false"),n.length&&i.length?i.prev().attr({tabIndex:-1,"aria-expanded":"false"}):n.length&&this.headers.filter(function(){return 0===t(this).attr("tabIndex")}).attr("tabIndex",-1),n.attr("aria-hidden","false").prev().attr({"aria-selected":"true",tabIndex:0,"aria-expanded":"true"})},_animate:function(t,e,n){var i,o,s,r=this,a=0,l=t.length&&(!e.length||t.index()<e.index()),c=this.options.animate||{},u=l&&c.down||c,h=function(){r._toggleComplete(n)};return"number"==typeof u&&(s=u),"string"==typeof u&&(o=u),o=o||u.easing||c.easing,s=s||u.duration||c.duration,e.length?t.length?(i=t.show().outerHeight(),e.animate(this.hideProps,{duration:s,easing:o,step:function(t,e){e.now=Math.round(t)}}),void t.hide().animate(this.showProps,{duration:s,easing:o,complete:h,step:function(t,n){n.now=Math.round(t),"height"!==n.prop?a+=n.now:"content"!==r.options.heightStyle&&(n.now=Math.round(i-e.outerHeight()-a),a=0)}})):e.animate(this.hideProps,s,o,h):t.animate(this.showProps,s,o,h)},_toggleComplete:function(t){var e=t.oldPanel;e.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),e.length&&(e.parent()[0].className=e.parent()[0].className),this._trigger("activate",null,t)}}),t.widget("ui.menu",{version:"1.11.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item":function(t){t.preventDefault()},"click .ui-menu-item":function(e){var n=t(e.target);!this.mouseHandled&&n.not(".ui-state-disabled").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=!0),n.has(".ui-menu").length?this.expand(e):!this.element.is(":focus")&&t(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){var n=t(e.currentTarget);n.siblings(".ui-state-active").removeClass("ui-state-active"),this.focus(e,n)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var n=this.active||this.element.find(this.options.items).eq(0);e||this.focus(t,n)},blur:function(e){this._delay(function(){t.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){this._closeOnDocumentClick(t)&&this.collapseAll(t),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var e=t(this);e.data("ui-menu-submenu-carat")&&e.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(e){var n,i,o,s,r,a=!0;function l(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:a=!1,i=this.previousFilter||"",o=String.fromCharCode(e.keyCode),s=!1,clearTimeout(this.filterTimer),o===i?s=!0:o=i+o,r=new RegExp("^"+l(o),"i"),n=this.activeMenu.find(this.options.items).filter(function(){return r.test(t(this).text())}),(n=s&&-1!==n.index(this.active.next())?this.active.nextAll(".ui-menu-item"):n).length||(o=String.fromCharCode(e.keyCode),r=new RegExp("^"+l(o),"i"),n=this.activeMenu.find(this.options.items).filter(function(){return r.test(t(this).text())})),n.length?(this.focus(e,n),n.length>1?(this.previousFilter=o,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}a&&e.preventDefault()},_activate:function(t){this.active.is(".ui-state-disabled")||(this.active.is("[aria-haspopup='true']")?this.expand(t):this.select(t))},refresh:function(){var e,n=this,i=this.options.icons.submenu,o=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),o.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=t(this),n=e.parent(),o=t("<span>").addClass("ui-menu-icon ui-icon "+i).data("ui-menu-submenu-carat",!0);n.attr("aria-haspopup","true").prepend(o),e.attr("aria-labelledby",n.attr("id"))}),(e=o.add(this.element).find(this.options.items)).not(".ui-menu-item").each(function(){var e=t(this);n._isDivider(e)&&e.addClass("ui-widget-content ui-menu-divider")}),e.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),e.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){"icons"===t&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(e.submenu),"disabled"===t&&this.element.toggleClass("ui-state-disabled",!!e).attr("aria-disabled",e),this._super(t,e)},focus:function(t,e){var n,i;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),i=this.active.addClass("ui-state-focus").removeClass("ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",i.attr("id")),this.active.parent().closest(".ui-menu-item").addClass("ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),(n=e.children(".ui-menu")).length&&t&&/^mouse/.test(t.type)&&this._startOpening(n),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(e){var n,i,o,s,r,a;this._hasScroll()&&(n=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,i=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,o=e.offset().top-this.activeMenu.offset().top-n-i,s=this.activeMenu.scrollTop(),r=this.activeMenu.height(),a=e.outerHeight(),o<0?this.activeMenu.scrollTop(s+o):o+a>r&&this.activeMenu.scrollTop(s+o-r+a))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this.active.removeClass("ui-state-focus"),this.active=null,this._trigger("blur",t,{item:this.active}))},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(e){var n=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(n)},collapseAll:function(e,n){clearTimeout(this.timer),this.timer=this._delay(function(){var i=n?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));i.length||(i=this.element),this._close(i),this.blur(e),this.activeMenu=i},this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")},_closeOnDocumentClick:function(e){return!t(e.target).closest(".ui-menu").length},_isDivider:function(t){return!/[^\-\u2014\u2013\s]/.test(t.text())},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,n){var i;this.active&&(i="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),i&&i.length&&this.active||(i=this.activeMenu.find(this.options.items)[e]()),this.focus(n,i)},nextPage:function(e){var n,i,o;this.active?this.isLastItem()||(this._hasScroll()?(i=this.active.offset().top,o=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return(n=t(this)).offset().top-i-o<0}),this.focus(e,n)):this.focus(e,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())):this.next(e)},previousPage:function(e){var n,i,o;this.active?this.isFirstItem()||(this._hasScroll()?(i=this.active.offset().top,o=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return(n=t(this)).offset().top-i+o>0}),this.focus(e,n)):this.focus(e,this.activeMenu.find(this.options.items).first())):this.next(e)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var n={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,n)}}),t.widget("ui.autocomplete",{version:"1.11.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var e,n,i,o=this.element[0].nodeName.toLowerCase(),s="textarea"===o,r="input"===o;this.isMultiLine=!!s||!r&&this.element.prop("isContentEditable"),this.valueMethod=this.element[s||r?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(o){if(this.element.prop("readOnly"))return e=!0,i=!0,void(n=!0);e=!1,i=!1,n=!1;var s=t.ui.keyCode;switch(o.keyCode){case s.PAGE_UP:e=!0,this._move("previousPage",o);break;case s.PAGE_DOWN:e=!0,this._move("nextPage",o);break;case s.UP:e=!0,this._keyEvent("previous",o);break;case s.DOWN:e=!0,this._keyEvent("next",o);break;case s.ENTER:this.menu.active&&(e=!0,o.preventDefault(),this.menu.select(o));break;case s.TAB:this.menu.active&&this.menu.select(o);break;case s.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(o),o.preventDefault());break;default:n=!0,this._searchTimeout(o)}},keypress:function(i){if(e)return e=!1,void(this.isMultiLine&&!this.menu.element.is(":visible")||i.preventDefault());if(!n){var o=t.ui.keyCode;switch(i.keyCode){case o.PAGE_UP:this._move("previousPage",i);break;case o.PAGE_DOWN:this._move("nextPage",i);break;case o.UP:this._keyEvent("previous",i);break;case o.DOWN:this._keyEvent("next",i)}}},input:function(t){if(i)return i=!1,void t.preventDefault();this._searchTimeout(t)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){this.cancelBlur?delete this.cancelBlur:(clearTimeout(this.searching),this.close(t),this._change(t))}}),this._initSource(),this.menu=t("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var n=this.menu.element[0];t(e.target).closest(".ui-menu-item").length||this._delay(function(){var e=this;this.document.one("mousedown",function(i){i.target===e.element[0]||i.target===n||t.contains(n,i.target)||e.close()})})},menufocus:function(e,n){var i,o;if(this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){t(e.target).trigger(e.originalEvent)});o=n.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",e,{item:o})&&e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(o.value),(i=n.item.attr("aria-label")||o.value)&&t.trim(i).length&&(this.liveRegion.children().hide(),t("<div>").text(i).appendTo(this.liveRegion))},menuselect:function(t,e){var n=e.item.data("ui-autocomplete-item"),i=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=i,this._delay(function(){this.previous=i,this.selectedItem=n})),!1!==this._trigger("select",t,{item:n})&&this._value(n.value),this.term=this._value(),this.close(t),this.selectedItem=n}}),this.liveRegion=t("<span>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this._appendTo()),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front")),e.length||(e=this.document[0].body),e},_initSource:function(){var e,n,i=this;t.isArray(this.options.source)?(e=this.options.source,this.source=function(n,i){i(t.ui.autocomplete.filter(e,n.term))}):"string"==typeof this.options.source?(n=this.options.source,this.source=function(e,o){i.xhr&&i.xhr.abort(),i.xhr=t.ajax({url:n,data:e,dataType:"json",success:function(t){o(t)},error:function(){o([])}})}):this.source=this.options.source},_searchTimeout:function(t){clearTimeout(this.searching),this.searching=this._delay(function(){var e=this.term===this._value(),n=this.menu.element.is(":visible");e&&(!e||n||t.altKey||t.ctrlKey||t.metaKey||t.shiftKey)||(this.selectedItem=null,this.search(null,t))},this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):!1!==this._trigger("search",e)?this._search(t):void 0},_search:function(t){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var e=++this.requestIndex;return t.proxy(function(t){e===this.requestIndex&&this.__response(t),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(t){t&&(t=this._normalize(t)),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,function(e){return"string"==typeof e?{label:e,value:e}:t.extend({},e,{label:e.label||e.value,value:e.value||e.label})})},_suggest:function(e){var n=this.menu.element.empty();this._renderMenu(n,e),this.isNewMenu=!0,this.menu.refresh(),n.show(),this._resizeMenu(),n.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,n){var i=this;t.each(n,function(t,n){i._renderItemData(e,n)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(e,n){return t("<li>").text(n.label).appendTo(e)},_move:function(t,e){if(this.menu.element.is(":visible"))return this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[t](e);this.search(null,e)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(t,e),e.preventDefault())}}),t.extend(t.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,n){var i=new RegExp(t.ui.autocomplete.escapeRegex(n),"i");return t.grep(e,function(t){return i.test(t.label||t.value||t)})}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(t>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var n;this._superApply(arguments),this.options.disabled||this.cancelSearch||(n=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.children().hide(),t("<div>").text(n).appendTo(this.liveRegion))}});var u,h,d="ui-button ui-widget ui-state-default ui-corner-all",f="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",p=function(){var e=t(this);setTimeout(function(){e.find(":ui-button").button("refresh")},1)},g=function(e){var n=e.name,i=e.form,o=t([]);return n&&(n=n.replace(/'/g,"\\'"),o=i?t(i).find("[name='"+n+"'][type=radio]"):t("[name='"+n+"'][type=radio]",e.ownerDocument).filter(function(){return!this.form})),o};function m(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.regional.en=t.extend(!0,{},this.regional[""]),this.regional["en-US"]=t.extend(!0,{},this.regional.en),this.dpDiv=v(t("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function v(e){var n="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.delegate(n,"mouseout",function(){t(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).removeClass("ui-datepicker-next-hover")}).delegate(n,"mouseover",y)}function y(){t.datepicker._isDisabledDatepicker(h.inline?h.dpDiv.parent()[0]:h.input[0])||(t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).addClass("ui-datepicker-next-hover"))}function b(e,n){for(var i in t.extend(e,n),n)null==n[i]&&(e[i]=n[i]);return e}t.widget("ui.button",{version:"1.11.1",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,p),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var e=this,n=this.options,i="checkbox"===this.type||"radio"===this.type,o=i?"":"ui-state-active";null===n.label&&(n.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(d).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){n.disabled||this===u&&t(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){n.disabled||t(this).removeClass(o)}).bind("click"+this.eventNamespace,function(t){n.disabled&&(t.preventDefault(),t.stopImmediatePropagation())}),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),i&&this.element.bind("change"+this.eventNamespace,function(){e.refresh()}),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(n.disabled)return!1}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(n.disabled)return!1;t(this).addClass("ui-state-active"),e.buttonElement.attr("aria-pressed","true");var i=e.element[0];g(i).not(i).map(function(){return t(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){if(n.disabled)return!1;t(this).addClass("ui-state-active"),u=this,e.document.one("mouseup",function(){u=null})}).bind("mouseup"+this.eventNamespace,function(){if(n.disabled)return!1;t(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(e){if(n.disabled)return!1;e.keyCode!==t.ui.keyCode.SPACE&&e.keyCode!==t.ui.keyCode.ENTER||t(this).addClass("ui-state-active")}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){t(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(e){e.keyCode===t.ui.keyCode.SPACE&&t(this).click()})),this._setOption("disabled",n.disabled),this._resetButton()},_determineButtonType:function(){var t,e,n;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button","checkbox"===this.type||"radio"===this.type?(t=this.element.parents().last(),e="label[for='"+this.element.attr("id")+"']",this.buttonElement=t.find(e),this.buttonElement.length||(t=t.length?t.siblings():this.element.siblings(),this.buttonElement=t.filter(e),this.buttonElement.length||(this.buttonElement=t.find(e))),this.element.addClass("ui-helper-hidden-accessible"),(n=this.element.is(":checked"))&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",n)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(d+" ui-state-active "+f).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(t,e){if(this._super(t,e),"disabled"===t)return this.widget().toggleClass("ui-state-disabled",!!e),this.element.prop("disabled",!!e),void(e&&this.buttonElement.removeClass("checkbox"===this.type||"radio"===this.type?"ui-state-focus":"ui-state-focus ui-state-active"));this._resetButton()},refresh:function(){var e=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");e!==this.options.disabled&&this._setOption("disabled",e),"radio"===this.type?g(this.element[0]).each(function(){t(this).is(":checked")?t(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):t(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"!==this.type){var e=this.buttonElement.removeClass(f),n=t("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(e.empty()).text(),i=this.options.icons,o=i.primary&&i.secondary,s=[];i.primary||i.secondary?(this.options.text&&s.push("ui-button-text-icon"+(o?"s":i.primary?"-primary":"-secondary")),i.primary&&e.prepend("<span class='ui-button-icon-primary ui-icon "+i.primary+"'></span>"),i.secondary&&e.append("<span class='ui-button-icon-secondary ui-icon "+i.secondary+"'></span>"),this.options.text||(s.push(o?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||e.attr("title",t.trim(n)))):s.push("ui-button-text-only"),e.addClass(s.join(" "))}else this.options.label&&this.element.val(this.options.label)}}),t.widget("ui.buttonset",{version:"1.11.1",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(t,e){"disabled"===t&&this.buttons.button("option",t,e),this._super(t,e)},refresh:function(){var e="rtl"===this.element.css("direction"),n=this.element.find(this.options.items),i=n.filter(":ui-button");n.not(":ui-button").button(),i.button("refresh"),this.buttons=n.map(function(){return t(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(e?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(e?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return t(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}}),t.extend(t.ui,{datepicker:{version:"1.11.1"}}),t.extend(m.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return b(this._defaults,t||{}),this},_attachDatepicker:function(e,n){var i,o,s;o="div"===(i=e.nodeName.toLowerCase())||"span"===i,e.id||(this.uuid+=1,e.id="dp"+this.uuid),(s=this._newInst(t(e),o)).settings=t.extend({},n||{}),"input"===i?this._connectDatepicker(e,s):o&&this._inlineDatepicker(e,s)},_newInst:function(e,n){return{id:e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:n,dpDiv:n?v(t("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,n){var i=t(e);n.append=t([]),n.trigger=t([]),i.hasClass(this.markerClassName)||(this._attachments(i,n),i.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(n),t.data(e,"datepicker",n),n.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,n){var i,o,s,r=this._get(n,"appendText"),a=this._get(n,"isRTL");n.append&&n.append.remove(),r&&(n.append=t("<span class='"+this._appendClass+"'>"+r+"</span>"),e[a?"before":"after"](n.append)),e.unbind("focus",this._showDatepicker),n.trigger&&n.trigger.remove(),"focus"!==(i=this._get(n,"showOn"))&&"both"!==i||e.focus(this._showDatepicker),"button"!==i&&"both"!==i||(o=this._get(n,"buttonText"),s=this._get(n,"buttonImage"),n.trigger=t(this._get(n,"buttonImageOnly")?t("<img/>").addClass(this._triggerClass).attr({src:s,alt:o,title:o}):t("<button type='button'></button>").addClass(this._triggerClass).html(s?t("<img/>").attr({src:s,alt:o,title:o}):o)),e[a?"before":"after"](n.trigger),n.trigger.click(function(){return t.datepicker._datepickerShowing&&t.datepicker._lastInput===e[0]?t.datepicker._hideDatepicker():t.datepicker._datepickerShowing&&t.datepicker._lastInput!==e[0]?(t.datepicker._hideDatepicker(),t.datepicker._showDatepicker(e[0])):t.datepicker._showDatepicker(e[0]),!1}))},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,n,i,o,s=new Date(2009,11,20),r=this._get(t,"dateFormat");r.match(/[DM]/)&&(s.setMonth((e=function(t){for(n=0,i=0,o=0;o<t.length;o++)t[o].length>n&&(n=t[o].length,i=o);return i})(this._get(t,r.match(/MM/)?"monthNames":"monthNamesShort"))),s.setDate(e(this._get(t,r.match(/DD/)?"dayNames":"dayNamesShort"))+20-s.getDay())),t.input.attr("size",this._formatDate(t,s).length)}},_inlineDatepicker:function(e,n){var i=t(e);i.hasClass(this.markerClassName)||(i.addClass(this.markerClassName).append(n.dpDiv),t.data(e,"datepicker",n),this._setDate(n,this._getDefaultDate(n),!0),this._updateDatepicker(n),this._updateAlternate(n),n.settings.disabled&&this._disableDatepicker(e),n.dpDiv.css("display","block"))},_dialogDatepicker:function(e,n,i,o,s){var r,a,l,c,u=this._dialogInst;return u||(this.uuid+=1,this._dialogInput=t("<input type='text' id='dp"+this.uuid+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),t("body").append(this._dialogInput),(u=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},t.data(this._dialogInput[0],"datepicker",u)),b(u.settings,o||{}),n=n&&n.constructor===Date?this._formatDate(u,n):n,this._dialogInput.val(n),this._pos=s?s.length?s:[s.pageX,s.pageY]:null,this._pos||(r=document.documentElement.clientWidth,a=document.documentElement.clientHeight,l=document.documentElement.scrollLeft||document.body.scrollLeft,c=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[r/2-100+l,a/2-150+c]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),u.settings.onSelect=i,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],"datepicker",u),this},_destroyDatepicker:function(e){var n,i=t(e),o=t.data(e,"datepicker");i.hasClass(this.markerClassName)&&(n=e.nodeName.toLowerCase(),t.removeData(e,"datepicker"),"input"===n?(o.append.remove(),o.trigger.remove(),i.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):"div"!==n&&"span"!==n||i.removeClass(this.markerClassName).empty())},_enableDatepicker:function(e){var n,i,o=t(e),s=t.data(e,"datepicker");o.hasClass(this.markerClassName)&&("input"===(n=e.nodeName.toLowerCase())?(e.disabled=!1,s.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==n&&"span"!==n||((i=o.children("."+this._inlineClass)).children().removeClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}))},_disableDatepicker:function(e){var n,i,o=t(e),s=t.data(e,"datepicker");o.hasClass(this.markerClassName)&&("input"===(n=e.nodeName.toLowerCase())?(e.disabled=!0,s.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==n&&"span"!==n||((i=o.children("."+this._inlineClass)).children().addClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;e<this._disabledInputs.length;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(e){try{return t.data(e,"datepicker")}catch(t){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,n,i){var o,s,r,a,l=this._getInst(e);if(2===arguments.length&&"string"==typeof n)return"defaults"===n?t.extend({},t.datepicker._defaults):l?"all"===n?t.extend({},l.settings):this._get(l,n):null;o=n||{},"string"==typeof n&&((o={})[n]=i),l&&(this._curInst===l&&this._hideDatepicker(),s=this._getDateDatepicker(e,!0),r=this._getMinMaxDate(l,"min"),a=this._getMinMaxDate(l,"max"),b(l.settings,o),null!==r&&void 0!==o.dateFormat&&void 0===o.minDate&&(l.settings.minDate=this._formatDate(l,r)),null!==a&&void 0!==o.dateFormat&&void 0===o.maxDate&&(l.settings.maxDate=this._formatDate(l,a)),"disabled"in o&&(o.disabled?this._disableDatepicker(e):this._enableDatepicker(e)),this._attachments(t(e),l),this._autoSize(l),this._setDate(l,s),this._updateAlternate(l),this._updateDatepicker(l))},_changeDatepicker:function(t,e,n){this._optionDatepicker(t,e,n)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var n=this._getInst(t);n&&(this._setDate(n,e),this._updateDatepicker(n),this._updateAlternate(n))},_getDateDatepicker:function(t,e){var n=this._getInst(t);return n&&!n.inline&&this._setDateFromField(n,e),n?this._getDate(n):null},_doKeyDown:function(e){var n,i,o,s=t.datepicker._getInst(e.target),r=!0,a=s.dpDiv.is(".ui-datepicker-rtl");if(s._keyEvent=!0,t.datepicker._datepickerShowing)switch(e.keyCode){case 9:t.datepicker._hideDatepicker(),r=!1;break;case 13:return(o=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",s.dpDiv))[0]&&t.datepicker._selectDay(e.target,s.selectedMonth,s.selectedYear,o[0]),(n=t.datepicker._get(s,"onSelect"))?(i=t.datepicker._formatDate(s),n.apply(s.input?s.input[0]:null,[i,s])):t.datepicker._hideDatepicker(),!1;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(s,"stepBigMonths"):-t.datepicker._get(s,"stepMonths"),"M");break;case 34:t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(s,"stepBigMonths"):+t.datepicker._get(s,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&t.datepicker._clearDate(e.target),r=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&t.datepicker._gotoToday(e.target),r=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,a?1:-1,"D"),r=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(s,"stepBigMonths"):-t.datepicker._get(s,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,-7,"D"),r=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,a?-1:1,"D"),r=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(s,"stepBigMonths"):+t.datepicker._get(s,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,7,"D"),r=e.ctrlKey||e.metaKey;break;default:r=!1}else 36===e.keyCode&&e.ctrlKey?t.datepicker._showDatepicker(this):r=!1;r&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var n,i,o=t.datepicker._getInst(e.target);if(t.datepicker._get(o,"constrainInput"))return n=t.datepicker._possibleChars(t.datepicker._get(o,"dateFormat")),i=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||i<" "||!n||n.indexOf(i)>-1},_doKeyUp:function(e){var n=t.datepicker._getInst(e.target);if(n.input.val()!==n.lastVal)try{t.datepicker.parseDate(t.datepicker._get(n,"dateFormat"),n.input?n.input.val():null,t.datepicker._getFormatConfig(n))&&(t.datepicker._setDateFromField(n),t.datepicker._updateAlternate(n),t.datepicker._updateDatepicker(n))}catch(t){}return!0},_showDatepicker:function(e){var n,i,o,s,r,a,l;"input"!==(e=e.target||e).nodeName.toLowerCase()&&(e=t("input",e.parentNode)[0]),t.datepicker._isDisabledDatepicker(e)||t.datepicker._lastInput===e||(n=t.datepicker._getInst(e),t.datepicker._curInst&&t.datepicker._curInst!==n&&(t.datepicker._curInst.dpDiv.stop(!0,!0),n&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),!1!==(o=(i=t.datepicker._get(n,"beforeShow"))?i.apply(e,[e,n]):{})&&(b(n.settings,o),n.lastVal=null,t.datepicker._lastInput=e,t.datepicker._setDateFromField(n),t.datepicker._inDialog&&(e.value=""),t.datepicker._pos||(t.datepicker._pos=t.datepicker._findPos(e),t.datepicker._pos[1]+=e.offsetHeight),s=!1,t(e).parents().each(function(){return!(s|="fixed"===t(this).css("position"))}),r={left:t.datepicker._pos[0],top:t.datepicker._pos[1]},t.datepicker._pos=null,n.dpDiv.empty(),n.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.datepicker._updateDatepicker(n),r=t.datepicker._checkOffset(n,r,s),n.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":s?"fixed":"absolute",display:"none",left:r.left+"px",top:r.top+"px"}),n.inline||(a=t.datepicker._get(n,"showAnim"),l=t.datepicker._get(n,"duration"),n.dpDiv.css("z-index",function(t){for(var e,n;t.length&&t[0]!==document;){if(("absolute"===(e=t.css("position"))||"relative"===e||"fixed"===e)&&(n=parseInt(t.css("zIndex"),10),!isNaN(n)&&0!==n))return n;t=t.parent()}return 0}(t(e))+1),t.datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[a]?n.dpDiv.show(a,t.datepicker._get(n,"showOptions"),l):n.dpDiv[a||"show"](a?l:null),t.datepicker._shouldFocusInput(n)&&n.input.focus(),t.datepicker._curInst=n)))},_updateDatepicker:function(e){this.maxRows=4,h=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var n,i=this._getNumberOfMonths(e),o=i[1],s=e.dpDiv.find("."+this._dayOverClass+" a");s.length>0&&y.apply(s.get(0)),e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),o>1&&e.dpDiv.addClass("ui-datepicker-multi-"+o).css("width",17*o+"em"),e.dpDiv[(1!==i[0]||1!==i[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===t.datepicker._curInst&&t.datepicker._datepickerShowing&&t.datepicker._shouldFocusInput(e)&&e.input.focus(),e.yearshtml&&(n=e.yearshtml,setTimeout(function(){n===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),n=e.yearshtml=null},0))},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(e,n,i){var o=e.dpDiv.outerWidth(),s=e.dpDiv.outerHeight(),r=e.input?e.input.outerWidth():0,a=e.input?e.input.outerHeight():0,l=document.documentElement.clientWidth+(i?0:t(document).scrollLeft()),c=document.documentElement.clientHeight+(i?0:t(document).scrollTop());return n.left-=this._get(e,"isRTL")?o-r:0,n.left-=i&&n.left===e.input.offset().left?t(document).scrollLeft():0,n.top-=i&&n.top===e.input.offset().top+a?t(document).scrollTop():0,n.left-=Math.min(n.left,n.left+o>l&&l>o?Math.abs(n.left+o-l):0),n.top-=Math.min(n.top,n.top+s>c&&c>s?Math.abs(s+a):0),n},_findPos:function(e){for(var n,i=this._getInst(e),o=this._get(i,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||t.expr.filters.hidden(e));)e=e[o?"previousSibling":"nextSibling"];return[(n=t(e).offset()).left,n.top]},_hideDatepicker:function(e){var n,i,o,s,r=this._curInst;!r||e&&r!==t.data(e,"datepicker")||this._datepickerShowing&&(n=this._get(r,"showAnim"),i=this._get(r,"duration"),o=function(){t.datepicker._tidyDialog(r)},t.effects&&(t.effects.effect[n]||t.effects[n])?r.dpDiv.hide(n,t.datepicker._get(r,"showOptions"),i,o):r.dpDiv["slideDown"===n?"slideUp":"fadeIn"===n?"fadeOut":"hide"](n?i:null,o),n||o(),this._datepickerShowing=!1,(s=this._get(r,"onClose"))&&s.apply(r.input?r.input[0]:null,[r.input?r.input.val():"",r]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(t.datepicker._curInst){var n=t(e.target),i=t.datepicker._getInst(n[0]);(n[0].id===t.datepicker._mainDivId||0!==n.parents("#"+t.datepicker._mainDivId).length||n.hasClass(t.datepicker.markerClassName)||n.closest("."+t.datepicker._triggerClass).length||!t.datepicker._datepickerShowing||t.datepicker._inDialog&&t.blockUI)&&(!n.hasClass(t.datepicker.markerClassName)||t.datepicker._curInst===i)||t.datepicker._hideDatepicker()}},_adjustDate:function(e,n,i){var o=t(e),s=this._getInst(o[0]);this._isDisabledDatepicker(o[0])||(this._adjustInstDate(s,n+("M"===i?this._get(s,"showCurrentAtPos"):0),i),this._updateDatepicker(s))},_gotoToday:function(e){var n,i=t(e),o=this._getInst(i[0]);this._get(o,"gotoCurrent")&&o.currentDay?(o.selectedDay=o.currentDay,o.drawMonth=o.selectedMonth=o.currentMonth,o.drawYear=o.selectedYear=o.currentYear):(n=new Date,o.selectedDay=n.getDate(),o.drawMonth=o.selectedMonth=n.getMonth(),o.drawYear=o.selectedYear=n.getFullYear()),this._notifyChange(o),this._adjustDate(i)},_selectMonthYear:function(e,n,i){var o=t(e),s=this._getInst(o[0]);s["selected"+("M"===i?"Month":"Year")]=s["draw"+("M"===i?"Month":"Year")]=parseInt(n.options[n.selectedIndex].value,10),this._notifyChange(s),this._adjustDate(o)},_selectDay:function(e,n,i,o){var s,r=t(e);t(o).hasClass(this._unselectableClass)||this._isDisabledDatepicker(r[0])||((s=this._getInst(r[0])).selectedDay=s.currentDay=t("a",o).html(),s.selectedMonth=s.currentMonth=n,s.selectedYear=s.currentYear=i,this._selectDate(e,this._formatDate(s,s.currentDay,s.currentMonth,s.currentYear)))},_clearDate:function(e){var n=t(e);this._selectDate(n,"")},_selectDate:function(e,n){var i,o=t(e),s=this._getInst(o[0]);n=null!=n?n:this._formatDate(s),s.input&&s.input.val(n),this._updateAlternate(s),(i=this._get(s,"onSelect"))?i.apply(s.input?s.input[0]:null,[n,s]):s.input&&s.input.trigger("change"),s.inline?this._updateDatepicker(s):(this._hideDatepicker(),this._lastInput=s.input[0],"object"!=typeof s.input[0]&&s.input.focus(),this._lastInput=null)},_updateAlternate:function(e){var n,i,o,s=this._get(e,"altField");s&&(n=this._get(e,"altFormat")||this._get(e,"dateFormat"),i=this._getDate(e),o=this.formatDate(n,i,this._getFormatConfig(e)),t(s).each(function(){t(this).val(o)}))},noWeekends:function(t){var e=t.getDay();return[e>0&&e<6,""]},iso8601Week:function(t){var e,n=new Date(t.getTime());return n.setDate(n.getDate()+4-(n.getDay()||7)),e=n.getTime(),n.setMonth(0),n.setDate(1),Math.floor(Math.round((e-n)/864e5)/7)+1},parseDate:function(e,n,i){if(null==e||null==n)throw"Invalid arguments";if(""===(n="object"==typeof n?n.toString():n+""))return null;var o,s,r,a,l=0,c=(i?i.shortYearCutoff:null)||this._defaults.shortYearCutoff,u="string"!=typeof c?c:(new Date).getFullYear()%100+parseInt(c,10),h=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,d=(i?i.dayNames:null)||this._defaults.dayNames,f=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,p=(i?i.monthNames:null)||this._defaults.monthNames,g=-1,m=-1,v=-1,y=-1,b=!1,w=function(t){var n=o+1<e.length&&e.charAt(o+1)===t;return n&&o++,n},_=function(t){var e=w(t),i="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,o=new RegExp("^\\d{"+("y"===t?i:1)+","+i+"}"),s=n.substring(l).match(o);if(!s)throw"Missing number at position "+l;return l+=s[0].length,parseInt(s[0],10)},x=function(e,i,o){var s=-1,r=t.map(w(e)?o:i,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});if(t.each(r,function(t,e){var i=e[1];if(n.substr(l,i.length).toLowerCase()===i.toLowerCase())return s=e[0],l+=i.length,!1}),-1!==s)return s+1;throw"Unknown name at position "+l},C=function(){if(n.charAt(l)!==e.charAt(o))throw"Unexpected literal at position "+l;l++};for(o=0;o<e.length;o++)if(b)"'"!==e.charAt(o)||w("'")?C():b=!1;else switch(e.charAt(o)){case"d":v=_("d");break;case"D":x("D",h,d);break;case"o":y=_("o");break;case"m":m=_("m");break;case"M":m=x("M",f,p);break;case"y":g=_("y");break;case"@":g=(a=new Date(_("@"))).getFullYear(),m=a.getMonth()+1,v=a.getDate();break;case"!":g=(a=new Date((_("!")-this._ticksTo1970)/1e4)).getFullYear(),m=a.getMonth()+1,v=a.getDate();break;case"'":w("'")?C():b=!0;break;default:C()}if(l<n.length&&(r=n.substr(l),!/^\s+/.test(r)))throw"Extra/unparsed characters found in date: "+r;if(-1===g?g=(new Date).getFullYear():g<100&&(g+=(new Date).getFullYear()-(new Date).getFullYear()%100+(g<=u?0:-100)),y>-1)for(m=1,v=y;!(v<=(s=this._getDaysInMonth(g,m-1)));)m++,v-=s;if((a=this._daylightSavingAdjust(new Date(g,m-1,v))).getFullYear()!==g||a.getMonth()+1!==m||a.getDate()!==v)throw"Invalid date";return a},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(t,e,n){if(!e)return"";var i,o=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,s=(n?n.dayNames:null)||this._defaults.dayNames,r=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,a=(n?n.monthNames:null)||this._defaults.monthNames,l=function(e){var n=i+1<t.length&&t.charAt(i+1)===e;return n&&i++,n},c=function(t,e,n){var i=""+e;if(l(t))for(;i.length<n;)i="0"+i;return i},u=function(t,e,n,i){return l(t)?i[e]:n[e]},h="",d=!1;if(e)for(i=0;i<t.length;i++)if(d)"'"!==t.charAt(i)||l("'")?h+=t.charAt(i):d=!1;else switch(t.charAt(i)){case"d":h+=c("d",e.getDate(),2);break;case"D":h+=u("D",e.getDay(),o,s);break;case"o":h+=c("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":h+=c("m",e.getMonth()+1,2);break;case"M":h+=u("M",e.getMonth(),r,a);break;case"y":h+=l("y")?e.getFullYear():(e.getYear()%100<10?"0":"")+e.getYear()%100;break;case"@":h+=e.getTime();break;case"!":h+=1e4*e.getTime()+this._ticksTo1970;break;case"'":l("'")?h+="'":d=!0;break;default:h+=t.charAt(i)}return h},_possibleChars:function(t){var e,n="",i=!1,o=function(n){var i=e+1<t.length&&t.charAt(e+1)===n;return i&&e++,i};for(e=0;e<t.length;e++)if(i)"'"!==t.charAt(e)||o("'")?n+=t.charAt(e):i=!1;else switch(t.charAt(e)){case"d":case"m":case"y":case"@":n+="0123456789";break;case"D":case"M":return null;case"'":o("'")?n+="'":i=!0;break;default:n+=t.charAt(e)}return n},_get:function(t,e){return void 0!==t.settings[e]?t.settings[e]:this._defaults[e]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var n=this._get(t,"dateFormat"),i=t.lastVal=t.input?t.input.val():null,o=this._getDefaultDate(t),s=o,r=this._getFormatConfig(t);try{s=this.parseDate(n,i,r)||o}catch(t){i=e?"":i}t.selectedDay=s.getDate(),t.drawMonth=t.selectedMonth=s.getMonth(),t.drawYear=t.selectedYear=s.getFullYear(),t.currentDay=i?s.getDate():0,t.currentMonth=i?s.getMonth():0,t.currentYear=i?s.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(e,n,i){var o=null==n||""===n?i:"string"==typeof n?function(n){try{return t.datepicker.parseDate(t.datepicker._get(e,"dateFormat"),n,t.datepicker._getFormatConfig(e))}catch(t){}for(var i=(n.toLowerCase().match(/^c/)?t.datepicker._getDate(e):null)||new Date,o=i.getFullYear(),s=i.getMonth(),r=i.getDate(),a=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=a.exec(n);l;){switch(l[2]||"d"){case"d":case"D":r+=parseInt(l[1],10);break;case"w":case"W":r+=7*parseInt(l[1],10);break;case"m":case"M":s+=parseInt(l[1],10),r=Math.min(r,t.datepicker._getDaysInMonth(o,s));break;case"y":case"Y":o+=parseInt(l[1],10),r=Math.min(r,t.datepicker._getDaysInMonth(o,s))}l=a.exec(n)}return new Date(o,s,r)}(n):"number"==typeof n?isNaN(n)?i:function(t){var e=new Date;return e.setDate(e.getDate()+t),e}(n):new Date(n.getTime());return(o=o&&"Invalid Date"===o.toString()?i:o)&&(o.setHours(0),o.setMinutes(0),o.setSeconds(0),o.setMilliseconds(0)),this._daylightSavingAdjust(o)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,n){var i=!e,o=t.selectedMonth,s=t.selectedYear,r=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=r.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=r.getMonth(),t.drawYear=t.selectedYear=t.currentYear=r.getFullYear(),o===t.selectedMonth&&s===t.selectedYear||n||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(i?"":this._formatDate(t))},_getDate:function(t){return!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay))},_attachHandlers:function(e){var n=this._get(e,"stepMonths"),i="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){t.datepicker._adjustDate(i,-n,"M")},next:function(){t.datepicker._adjustDate(i,+n,"M")},hide:function(){t.datepicker._hideDatepicker()},today:function(){t.datepicker._gotoToday(i)},selectDay:function(){return t.datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return t.datepicker._selectMonthYear(i,this,"M"),!1},selectYear:function(){return t.datepicker._selectMonthYear(i,this,"Y"),!1}};t(this).bind(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e,n,i,o,s,r,a,l,c,u,h,d,f,p,g,m,v,y,b,w,_,x,C,k,S,T,D,O,E,N,A,M,P,I,R,L,j,H,B,q=new Date,F=this._daylightSavingAdjust(new Date(q.getFullYear(),q.getMonth(),q.getDate())),$=this._get(t,"isRTL"),z=this._get(t,"showButtonPanel"),W=this._get(t,"hideIfNoPrevNext"),Y=this._get(t,"navigationAsDateFormat"),U=this._getNumberOfMonths(t),V=this._get(t,"showCurrentAtPos"),G=this._get(t,"stepMonths"),K=1!==U[0]||1!==U[1],X=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),Z=this._getMinMaxDate(t,"min"),Q=this._getMinMaxDate(t,"max"),J=t.drawMonth-V,tt=t.drawYear;if(J<0&&(J+=12,tt--),Q)for(e=this._daylightSavingAdjust(new Date(Q.getFullYear(),Q.getMonth()-U[0]*U[1]+1,Q.getDate())),e=Z&&e<Z?Z:e;this._daylightSavingAdjust(new Date(tt,J,1))>e;)--J<0&&(J=11,tt--);for(t.drawMonth=J,t.drawYear=tt,n=this._get(t,"prevText"),n=Y?this.formatDate(n,this._daylightSavingAdjust(new Date(tt,J-G,1)),this._getFormatConfig(t)):n,i=this._canAdjustMonth(t,-1,tt,J)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+($?"e":"w")+"'>"+n+"</span></a>":W?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+($?"e":"w")+"'>"+n+"</span></a>",o=this._get(t,"nextText"),o=Y?this.formatDate(o,this._daylightSavingAdjust(new Date(tt,J+G,1)),this._getFormatConfig(t)):o,s=this._canAdjustMonth(t,1,tt,J)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+o+"'><span class='ui-icon ui-icon-circle-triangle-"+($?"w":"e")+"'>"+o+"</span></a>":W?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+o+"'><span class='ui-icon ui-icon-circle-triangle-"+($?"w":"e")+"'>"+o+"</span></a>",r=this._get(t,"currentText"),a=this._get(t,"gotoCurrent")&&t.currentDay?X:F,r=Y?this.formatDate(r,a,this._getFormatConfig(t)):r,l=t.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>",c=z?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+($?l:"")+(this._isInRange(t,a)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+r+"</button>":"")+($?"":l)+"</div>":"",u=parseInt(this._get(t,"firstDay"),10),u=isNaN(u)?0:u,h=this._get(t,"showWeek"),d=this._get(t,"dayNames"),f=this._get(t,"dayNamesMin"),p=this._get(t,"monthNames"),g=this._get(t,"monthNamesShort"),m=this._get(t,"beforeShowDay"),v=this._get(t,"showOtherMonths"),y=this._get(t,"selectOtherMonths"),b=this._getDefaultDate(t),w="",x=0;x<U[0];x++){for(C="",this.maxRows=4,k=0;k<U[1];k++){if(S=this._daylightSavingAdjust(new Date(tt,J,t.selectedDay)),T=" ui-corner-all",D="",K){if(D+="<div class='ui-datepicker-group",U[1]>1)switch(k){case 0:D+=" ui-datepicker-group-first",T=" ui-corner-"+($?"right":"left");break;case U[1]-1:D+=" ui-datepicker-group-last",T=" ui-corner-"+($?"left":"right");break;default:D+=" ui-datepicker-group-middle",T=""}D+="'>"}for(D+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+T+"'>"+(/all|left/.test(T)&&0===x?$?s:i:"")+(/all|right/.test(T)&&0===x?$?i:s:"")+this._generateMonthYearHeader(t,J,tt,Z,Q,x>0||k>0,p,g)+"</div><table class='ui-datepicker-calendar'><thead><tr>",O=h?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",_=0;_<7;_++)E=(_+u)%7,O+="<th scope='col'"+((_+u+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+d[E]+"'>"+f[E]+"</span></th>";for(D+=O+"</tr></thead><tbody>",N=this._getDaysInMonth(tt,J),tt===t.selectedYear&&J===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,N)),A=(this._getFirstDayOfMonth(tt,J)-u+7)%7,M=Math.ceil((A+N)/7),this.maxRows=P=K&&this.maxRows>M?this.maxRows:M,I=this._daylightSavingAdjust(new Date(tt,J,1-A)),R=0;R<P;R++){for(D+="<tr>",L=h?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(I)+"</td>":"",_=0;_<7;_++)j=m?m.apply(t.input?t.input[0]:null,[I]):[!0,""],B=(H=I.getMonth()!==J)&&!y||!j[0]||Z&&I<Z||Q&&I>Q,L+="<td class='"+((_+u+6)%7>=5?" ui-datepicker-week-end":"")+(H?" ui-datepicker-other-month":"")+(I.getTime()===S.getTime()&&J===t.selectedMonth&&t._keyEvent||b.getTime()===I.getTime()&&b.getTime()===S.getTime()?" "+this._dayOverClass:"")+(B?" "+this._unselectableClass+" ui-state-disabled":"")+(H&&!v?"":" "+j[1]+(I.getTime()===X.getTime()?" "+this._currentClass:"")+(I.getTime()===F.getTime()?" ui-datepicker-today":""))+"'"+(H&&!v||!j[2]?"":" title='"+j[2].replace(/'/g,"&#39;")+"'")+(B?"":" data-handler='selectDay' data-event='click' data-month='"+I.getMonth()+"' data-year='"+I.getFullYear()+"'")+">"+(H&&!v?"&#xa0;":B?"<span class='ui-state-default'>"+I.getDate()+"</span>":"<a class='ui-state-default"+(I.getTime()===F.getTime()?" ui-state-highlight":"")+(I.getTime()===X.getTime()?" ui-state-active":"")+(H?" ui-priority-secondary":"")+"' href='#'>"+I.getDate()+"</a>")+"</td>",I.setDate(I.getDate()+1),I=this._daylightSavingAdjust(I);D+=L+"</tr>"}++J>11&&(J=0,tt++),C+=D+="</tbody></table>"+(K?"</div>"+(U[0]>0&&k===U[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"")}w+=C}return w+=c,t._keyEvent=!1,w},_generateMonthYearHeader:function(t,e,n,i,o,s,r,a){var l,c,u,h,d,f,p,g,m=this._get(t,"changeMonth"),v=this._get(t,"changeYear"),y=this._get(t,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",w="";if(s||!m)w+="<span class='ui-datepicker-month'>"+r[e]+"</span>";else{for(l=i&&i.getFullYear()===n,c=o&&o.getFullYear()===n,w+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",u=0;u<12;u++)(!l||u>=i.getMonth())&&(!c||u<=o.getMonth())&&(w+="<option value='"+u+"'"+(u===e?" selected='selected'":"")+">"+a[u]+"</option>");w+="</select>"}if(y||(b+=w+(!s&&m&&v?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",s||!v)b+="<span class='ui-datepicker-year'>"+n+"</span>";else{for(h=this._get(t,"yearRange").split(":"),d=(new Date).getFullYear(),p=(f=function(t){var e=t.match(/c[+\-].*/)?n+parseInt(t.substring(1),10):t.match(/[+\-].*/)?d+parseInt(t,10):parseInt(t,10);return isNaN(e)?d:e})(h[0]),g=Math.max(p,f(h[1]||"")),p=i?Math.max(p,i.getFullYear()):p,g=o?Math.min(g,o.getFullYear()):g,t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";p<=g;p++)t.yearshtml+="<option value='"+p+"'"+(p===n?" selected='selected'":"")+">"+p+"</option>";t.yearshtml+="</select>",b+=t.yearshtml,t.yearshtml=null}return b+=this._get(t,"yearSuffix"),y&&(b+=(!s&&m&&v?"":"&#xa0;")+w),b+"</div>"},_adjustInstDate:function(t,e,n){var i=t.drawYear+("Y"===n?e:0),o=t.drawMonth+("M"===n?e:0),s=Math.min(t.selectedDay,this._getDaysInMonth(i,o))+("D"===n?e:0),r=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(i,o,s)));t.selectedDay=r.getDate(),t.drawMonth=t.selectedMonth=r.getMonth(),t.drawYear=t.selectedYear=r.getFullYear(),"M"!==n&&"Y"!==n||this._notifyChange(t)},_restrictMinMax:function(t,e){var n=this._getMinMaxDate(t,"min"),i=this._getMinMaxDate(t,"max"),o=n&&e<n?n:e;return i&&o>i?i:o},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,n,i){var o=this._getNumberOfMonths(t),s=this._daylightSavingAdjust(new Date(n,i+(e<0?e:o[0]*o[1]),1));return e<0&&s.setDate(this._getDaysInMonth(s.getFullYear(),s.getMonth())),this._isInRange(t,s)},_isInRange:function(t,e){var n,i,o=this._getMinMaxDate(t,"min"),s=this._getMinMaxDate(t,"max"),r=null,a=null,l=this._get(t,"yearRange");return l&&(n=l.split(":"),i=(new Date).getFullYear(),r=parseInt(n[0],10),a=parseInt(n[1],10),n[0].match(/[+\-].*/)&&(r+=i),n[1].match(/[+\-].*/)&&(a+=i)),(!o||e.getTime()>=o.getTime())&&(!s||e.getTime()<=s.getTime())&&(!r||e.getFullYear()>=r)&&(!a||e.getFullYear()<=a)},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return{shortYearCutoff:e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,n,i){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var o=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(i,n,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),o,this._getFormatConfig(t))}}),t.fn.datepicker=function(e){if(!this.length)return this;t.datepicker.initialized||(t(document).mousedown(t.datepicker._checkExternalClick),t.datepicker.initialized=!0),0===t("#"+t.datepicker._mainDivId).length&&t("body").append(t.datepicker.dpDiv);var n=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(n)):this.each(function(){"string"==typeof e?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this].concat(n)):t.datepicker._attachDatepicker(this,e)}):t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(n))},t.datepicker=new m,t.datepicker.initialized=!1,t.datepicker.uuid=(new Date).getTime(),t.datepicker.version="1.11.1",t.widget("ui.draggable",t.ui.mouse,{version:"1.11.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){(this.helper||this.element).is(".ui-draggable-dragging")?this.destroyOnClear=!0:(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),this._mouseDestroy())},_mouseCapture:function(e){var n=this.document[0],i=this.options;try{n.activeElement&&"body"!==n.activeElement.nodeName.toLowerCase()&&t(n.activeElement).blur()}catch(t){}return!(this.helper||i.disabled||t(e.target).closest(".ui-resizable-handle").length>0||(this.handle=this._getHandle(e),!this.handle||(t(!0===i.iframeFix?"iframe":i.iframeFix).each(function(){t("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(t(this).offset()).appendTo("body")}),0)))},_mouseStart:function(e){var n=this.options;return this.helper=this._createHelper(e),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),this._setContainment(),!1===this._trigger("start",e)?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_mouseDrag:function(e,n){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!n){var i=this._uiHash();if(!1===this._trigger("drag",e,i))return this._mouseUp({}),!1;this.position=i.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var n=this,i=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(i=t.ui.ddmanager.drop(this,e)),this.dropped&&(i=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||!0===this.options.revert||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==n._trigger("stop",e)&&n._clear()}):!1!==this._trigger("stop",e)&&this._clear(),!1},_mouseUp:function(e){return t("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.element.focus(),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(e){return!this.options.handle||!!t(e.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(e){var n=this.options,i=t.isFunction(n.helper)?t(n.helper.apply(this.element[0],[e])):"clone"===n.helper?this.element.clone().removeAttr("id"):this.element;return i.parents("body").length||i.appendTo("parent"===n.appendTo?this.element[0].parentNode:n.appendTo),i[0]===this.element[0]||/(fixed|absolute)/.test(i.css("position"))||i.css("position","absolute"),i},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,n,i,o=this.options,s=this.document[0];this.relativeContainer=null,o.containment?"window"!==o.containment?"document"!==o.containment?o.containment.constructor!==Array?("parent"===o.containment&&(o.containment=this.helper[0].parentNode),(i=(n=t(o.containment))[0])&&(e="hidden"!==n.css("overflow"),this.containment=[(parseInt(n.css("borderLeftWidth"),10)||0)+(parseInt(n.css("paddingLeft"),10)||0),(parseInt(n.css("borderTopWidth"),10)||0)+(parseInt(n.css("paddingTop"),10)||0),(e?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(n.css("borderRightWidth"),10)||0)-(parseInt(n.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(n.css("borderBottomWidth"),10)||0)-(parseInt(n.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=n)):this.containment=o.containment:this.containment=[0,0,t(s).width()-this.helperProportions.width-this.margins.left,(t(s).height()||s.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||s.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=null},_convertPositionTo:function(t,e){e||(e=this.position);var n="absolute"===t?1:-1,i=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.offset.scroll.top:i?0:this.offset.scroll.top)*n,left:e.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.offset.scroll.left:i?0:this.offset.scroll.left)*n}},_generatePosition:function(t,e){var n,i,o,s,r=this.options,a=this._isRootNode(this.scrollParent[0]),l=t.pageX,c=t.pageY;return a&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(i=this.relativeContainer.offset(),n=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):n=this.containment,t.pageX-this.offset.click.left<n[0]&&(l=n[0]+this.offset.click.left),t.pageY-this.offset.click.top<n[1]&&(c=n[1]+this.offset.click.top),t.pageX-this.offset.click.left>n[2]&&(l=n[2]+this.offset.click.left),t.pageY-this.offset.click.top>n[3]&&(c=n[3]+this.offset.click.top)),r.grid&&(o=r.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/r.grid[1])*r.grid[1]:this.originalPageY,c=n?o-this.offset.click.top>=n[1]||o-this.offset.click.top>n[3]?o:o-this.offset.click.top>=n[1]?o-r.grid[1]:o+r.grid[1]:o,s=r.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/r.grid[0])*r.grid[0]:this.originalPageX,l=n?s-this.offset.click.left>=n[0]||s-this.offset.click.left>n[2]?s:s-this.offset.click.left>=n[0]?s-r.grid[0]:s+r.grid[0]:s),"y"===r.axis&&(l=this.originalPageX),"x"===r.axis&&(c=this.originalPageY)),{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:a?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:a?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(e,n,i){return i=i||this._uiHash(),t.ui.plugin.call(this,e,[n,i,this],!0),"drag"===e&&(this.positionAbs=this._convertPositionTo("absolute")),t.Widget.prototype._trigger.call(this,e,n,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,n,i){var o=i.options,s=t.extend({},n,{item:i.element});i.sortables=[],t(o.connectToSortable).each(function(){var n=t(this).sortable("instance");n&&!n.options.disabled&&(i.sortables.push({instance:n,shouldRevert:n.options.revert}),n.refreshPositions(),n._trigger("activate",e,s))})},stop:function(e,n,i){var o=t.extend({},n,{item:i.element});t.each(i.sortables,function(){this.instance.isOver?(this.instance.isOver=0,i.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(e),this.instance.options.helper=this.instance.options._helper,"original"===i.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",e,o))})},drag:function(e,n,i){var o=this;t.each(i.sortables,function(){var s=!1,r=this;this.instance.positionAbs=i.positionAbs,this.instance.helperProportions=i.helperProportions,this.instance.offset.click=i.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(s=!0,t.each(i.sortables,function(){return this.instance.positionAbs=i.positionAbs,this.instance.helperProportions=i.helperProportions,this.instance.offset.click=i.offset.click,this!==r&&this.instance._intersectsWith(this.instance.containerCache)&&t.contains(r.instance.element[0],this.instance.element[0])&&(s=!1),s})),s?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=t(o).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return n.helper[0]},e.target=this.instance.currentItem[0],this.instance._mouseCapture(e,!0),this.instance._mouseStart(e,!0,!0),this.instance.offset.click.top=i.offset.click.top,this.instance.offset.click.left=i.offset.click.left,this.instance.offset.parent.left-=i.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=i.offset.parent.top-this.instance.offset.parent.top,i._trigger("toSortable",e),i.dropped=this.instance.element,i.currentItem=i.element,this.instance.fromOutside=i),this.instance.currentItem&&this.instance._mouseDrag(e)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",e,this.instance._uiHash(this.instance)),this.instance._mouseStop(e,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),i._trigger("fromSortable",e),i.dropped=!1)})}}),t.ui.plugin.add("draggable","cursor",{start:function(e,n,i){var o=t("body"),s=i.options;o.css("cursor")&&(s._cursor=o.css("cursor")),o.css("cursor",s.cursor)},stop:function(e,n,i){var o=i.options;o._cursor&&t("body").css("cursor",o._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,n,i){var o=t(n.helper),s=i.options;o.css("opacity")&&(s._opacity=o.css("opacity")),o.css("opacity",s.opacity)},stop:function(e,n,i){var o=i.options;o._opacity&&t(n.helper).css("opacity",o._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(t,e,n){n.scrollParentNotHidden||(n.scrollParentNotHidden=n.helper.scrollParent(!1)),n.scrollParentNotHidden[0]!==n.document[0]&&"HTML"!==n.scrollParentNotHidden[0].tagName&&(n.overflowOffset=n.scrollParentNotHidden.offset())},drag:function(e,n,i){var o=i.options,s=!1,r=i.scrollParentNotHidden[0],a=i.document[0];r!==a&&"HTML"!==r.tagName?(o.axis&&"x"===o.axis||(i.overflowOffset.top+r.offsetHeight-e.pageY<o.scrollSensitivity?r.scrollTop=s=r.scrollTop+o.scrollSpeed:e.pageY-i.overflowOffset.top<o.scrollSensitivity&&(r.scrollTop=s=r.scrollTop-o.scrollSpeed)),o.axis&&"y"===o.axis||(i.overflowOffset.left+r.offsetWidth-e.pageX<o.scrollSensitivity?r.scrollLeft=s=r.scrollLeft+o.scrollSpeed:e.pageX-i.overflowOffset.left<o.scrollSensitivity&&(r.scrollLeft=s=r.scrollLeft-o.scrollSpeed))):(o.axis&&"x"===o.axis||(e.pageY-t(a).scrollTop()<o.scrollSensitivity?s=t(a).scrollTop(t(a).scrollTop()-o.scrollSpeed):t(window).height()-(e.pageY-t(a).scrollTop())<o.scrollSensitivity&&(s=t(a).scrollTop(t(a).scrollTop()+o.scrollSpeed))),o.axis&&"y"===o.axis||(e.pageX-t(a).scrollLeft()<o.scrollSensitivity?s=t(a).scrollLeft(t(a).scrollLeft()-o.scrollSpeed):t(window).width()-(e.pageX-t(a).scrollLeft())<o.scrollSensitivity&&(s=t(a).scrollLeft(t(a).scrollLeft()+o.scrollSpeed)))),!1!==s&&t.ui.ddmanager&&!o.dropBehaviour&&t.ui.ddmanager.prepareOffsets(i,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,n,i){var o=i.options;i.snapElements=[],t(o.snap.constructor!==String?o.snap.items||":data(ui-draggable)":o.snap).each(function(){var e=t(this),n=e.offset();this!==i.element[0]&&i.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:n.top,left:n.left})})},drag:function(e,n,i){var o,s,r,a,l,c,u,h,d,f,p=i.options,g=p.snapTolerance,m=n.offset.left,v=m+i.helperProportions.width,y=n.offset.top,b=y+i.helperProportions.height;for(d=i.snapElements.length-1;d>=0;d--)c=(l=i.snapElements[d].left)+i.snapElements[d].width,h=(u=i.snapElements[d].top)+i.snapElements[d].height,v<l-g||m>c+g||b<u-g||y>h+g||!t.contains(i.snapElements[d].item.ownerDocument,i.snapElements[d].item)?(i.snapElements[d].snapping&&i.options.snap.release&&i.options.snap.release.call(i.element,e,t.extend(i._uiHash(),{snapItem:i.snapElements[d].item})),i.snapElements[d].snapping=!1):("inner"!==p.snapMode&&(o=Math.abs(u-b)<=g,s=Math.abs(h-y)<=g,r=Math.abs(l-v)<=g,a=Math.abs(c-m)<=g,o&&(n.position.top=i._convertPositionTo("relative",{top:u-i.helperProportions.height,left:0}).top-i.margins.top),s&&(n.position.top=i._convertPositionTo("relative",{top:h,left:0}).top-i.margins.top),r&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l-i.helperProportions.width}).left-i.margins.left),a&&(n.position.left=i._convertPositionTo("relative",{top:0,left:c}).left-i.margins.left)),f=o||s||r||a,"outer"!==p.snapMode&&(o=Math.abs(u-y)<=g,s=Math.abs(h-b)<=g,r=Math.abs(l-m)<=g,a=Math.abs(c-v)<=g,o&&(n.position.top=i._convertPositionTo("relative",{top:u,left:0}).top-i.margins.top),s&&(n.position.top=i._convertPositionTo("relative",{top:h-i.helperProportions.height,left:0}).top-i.margins.top),r&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l}).left-i.margins.left),a&&(n.position.left=i._convertPositionTo("relative",{top:0,left:c-i.helperProportions.width}).left-i.margins.left)),!i.snapElements[d].snapping&&(o||s||r||a||f)&&i.options.snap.snap&&i.options.snap.snap.call(i.element,e,t.extend(i._uiHash(),{snapItem:i.snapElements[d].item})),i.snapElements[d].snapping=o||s||r||a||f)}}),t.ui.plugin.add("draggable","stack",{start:function(e,n,i){var o,s=t.makeArray(t(i.options.stack)).sort(function(e,n){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(n).css("zIndex"),10)||0)});s.length&&(o=parseInt(t(s[0]).css("zIndex"),10)||0,t(s).each(function(e){t(this).css("zIndex",o+e)}),this.css("zIndex",o+s.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,n,i){var o=t(n.helper),s=i.options;o.css("zIndex")&&(s._zIndex=o.css("zIndex")),o.css("zIndex",s.zIndex)},stop:function(e,n,i){var o=i.options;o._zIndex&&t(n.helper).css("zIndex",o._zIndex)}}),t.widget("ui.resizable",t.ui.mouse,{version:"1.11.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseInt(t,10)||0},_isNumber:function(t){return!isNaN(parseInt(t,10))},_hasScroll:function(e,n){if("hidden"===t(e).css("overflow"))return!1;var i,o=n&&"left"===n?"scrollLeft":"scrollTop";return e[o]>0||(e[o]=1,i=e[o]>0,e[o]=0,i)},_create:function(){var e,n,i,o,s=this,r=this.options;if(this.element.addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!r.aspectRatio,aspectRatio:r.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:r.helper||r.ghost||r.animate?r.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=r.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),e=this.handles.split(","),this.handles={},n=0;n<e.length;n++)i=t.trim(e[n]),(o=t("<div class='ui-resizable-handle ui-resizable-"+i+"'></div>")).css({zIndex:r.zIndex}),"se"===i&&o.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[i]=".ui-resizable-"+i,this.element.append(o);this._renderAxis=function(e){var n,i,o,s;for(n in e=e||this.element,this.handles)this.handles[n].constructor===String&&(this.handles[n]=this.element.children(this.handles[n]).first().show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(i=t(this.handles[n],this.element),s=/sw|ne|nw|se|n|s/.test(n)?i.outerHeight():i.outerWidth(),o=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join(""),e.css(o,s),this._proportionallyResize()),t(this.handles[n])},this._renderAxis(this.element),this._handles=t(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){s.resizing||(this.className&&(o=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),s.axis=o&&o[1]?o[1]:"se")}),r.autoHide&&(this._handles.hide(),t(this.element).addClass("ui-resizable-autohide").mouseenter(function(){r.disabled||(t(this).removeClass("ui-resizable-autohide"),s._handles.show())}).mouseleave(function(){r.disabled||s.resizing||(t(this).addClass("ui-resizable-autohide"),s._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,n=function(e){t(e).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(n(this.element),this.originalElement.css({position:(e=this.element).css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),n(this.originalElement),this},_mouseCapture:function(e){var n,i,o=!1;for(n in this.handles)((i=t(this.handles[n])[0])===e.target||t.contains(i,e.target))&&(o=!0);return!this.options.disabled&&o},_mouseStart:function(e){var n,i,o,s=this.options,r=this.element;return this.resizing=!0,this._renderProxy(),n=this._num(this.helper.css("left")),i=this._num(this.helper.css("top")),s.containment&&(n+=t(s.containment).scrollLeft()||0,i+=t(s.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:n,top:i},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:r.width(),height:r.height()},this.originalSize=this._helper?{width:r.outerWidth(),height:r.outerHeight()}:{width:r.width(),height:r.height()},this.sizeDiff={width:r.outerWidth()-r.width(),height:r.outerHeight()-r.height()},this.originalPosition={left:n,top:i},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof s.aspectRatio?s.aspectRatio:this.originalSize.width/this.originalSize.height||1,o=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===o?this.axis+"-resize":o),r.addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var n,i,o=this.originalMousePosition,s=e.pageX-o.left||0,r=e.pageY-o.top||0,a=this._change[this.axis];return this._updatePrevProperties(),!!a&&(n=a.apply(this,[e,s,r]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(n=this._updateRatio(n,e)),n=this._respectSize(n,e),this._updateCache(n),this._propagate("resize",e),i=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(i)||(this._updatePrevProperties(),this._trigger("resize",e,this.ui()),this._applyChanges()),!1)},_mouseStop:function(e){this.resizing=!1;var n,i,o,s,r,a,l,c=this.options;return this._helper&&(o=(i=(n=this._proportionallyResizeElements).length&&/textarea/i.test(n[0].nodeName))&&this._hasScroll(n[0],"left")?0:this.sizeDiff.height,s=i?0:this.sizeDiff.width,r={width:this.helper.width()-s,height:this.helper.height()-o},a=parseInt(this.element.css("left"),10)+(this.position.left-this.originalPosition.left)||null,l=parseInt(this.element.css("top"),10)+(this.position.top-this.originalPosition.top)||null,c.animate||this.element.css(t.extend(r,{top:l,left:a})),this.helper.height(this.size.height),this.helper.width(this.size.width),this._helper&&!c.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(t.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(t.height=this.size.height+"px"),this.helper.css(t),t},_updateVirtualBoundaries:function(t){var e,n,i,o,s,r=this.options;s={minWidth:this._isNumber(r.minWidth)?r.minWidth:0,maxWidth:this._isNumber(r.maxWidth)?r.maxWidth:1/0,minHeight:this._isNumber(r.minHeight)?r.minHeight:0,maxHeight:this._isNumber(r.maxHeight)?r.maxHeight:1/0},(this._aspectRatio||t)&&(i=s.minWidth/this.aspectRatio,n=s.maxHeight*this.aspectRatio,o=s.maxWidth/this.aspectRatio,(e=s.minHeight*this.aspectRatio)>s.minWidth&&(s.minWidth=e),i>s.minHeight&&(s.minHeight=i),n<s.maxWidth&&(s.maxWidth=n),o<s.maxHeight&&(s.maxHeight=o)),this._vBoundaries=s},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,n=this.size,i=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===i&&(t.left=e.left+(n.width-t.width),t.top=null),"nw"===i&&(t.top=e.top+(n.height-t.height),t.left=e.left+(n.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,n=this.axis,i=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,o=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,s=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,r=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,a=this.originalPosition.left+this.originalSize.width,l=this.position.top+this.size.height,c=/sw|nw|w/.test(n),u=/nw|ne|n/.test(n);return s&&(t.width=e.minWidth),r&&(t.height=e.minHeight),i&&(t.width=e.maxWidth),o&&(t.height=e.maxHeight),s&&c&&(t.left=a-e.minWidth),i&&c&&(t.left=a-e.maxWidth),r&&u&&(t.top=l-e.minHeight),o&&u&&(t.top=l-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_getPaddingPlusBorderDimensions:function(t){for(var e=0,n=[],i=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],o=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];e<4;e++)n[e]=parseInt(i[e],10)||0,n[e]+=parseInt(o[e],10)||0;return{height:n[0]+n[2],width:n[1]+n[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,e=0,n=this.helper||this.element;e<this._proportionallyResizeElements.length;e++)t=this._proportionallyResizeElements[e],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:n.height()-this.outerDimensions.height||0,width:n.width()-this.outerDimensions.width||0})},_renderProxy:function(){var e=this.options;this.elementOffset=this.element.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++e.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){return{left:this.originalPosition.left+e,width:this.originalSize.width-e}},n:function(t,e,n){return{top:this.originalPosition.top+n,height:this.originalSize.height-n}},s:function(t,e,n){return{height:this.originalSize.height+n}},se:function(e,n,i){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,n,i]))},sw:function(e,n,i){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,n,i]))},ne:function(e,n,i){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,n,i]))},nw:function(e,n,i){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,n,i]))}},_propagate:function(e,n){t.ui.plugin.call(this,e,[n,this.ui()]),"resize"!==e&&this._trigger(e,n,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var n=t(this).resizable("instance"),i=n.options,o=n._proportionallyResizeElements,s=o.length&&/textarea/i.test(o[0].nodeName),r=s&&n._hasScroll(o[0],"left")?0:n.sizeDiff.height,a={width:n.size.width-(s?0:n.sizeDiff.width),height:n.size.height-r},l=parseInt(n.element.css("left"),10)+(n.position.left-n.originalPosition.left)||null,c=parseInt(n.element.css("top"),10)+(n.position.top-n.originalPosition.top)||null;n.element.animate(t.extend(a,c&&l?{top:c,left:l}:{}),{duration:i.animateDuration,easing:i.animateEasing,step:function(){var i={width:parseInt(n.element.css("width"),10),height:parseInt(n.element.css("height"),10),top:parseInt(n.element.css("top"),10),left:parseInt(n.element.css("left"),10)};o&&o.length&&t(o[0]).css({width:i.width,height:i.height}),n._updateCache(i),n._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var e,n,i,o,s,r,a,l=t(this).resizable("instance"),c=l.element,u=l.options.containment,h=u instanceof t?u.get(0):/parent/.test(u)?c.parent().get(0):u;h&&(l.containerElement=t(h),/document/.test(u)||u===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(e=t(h),n=[],t(["Top","Right","Left","Bottom"]).each(function(t,i){n[t]=l._num(e.css("padding"+i))}),l.containerOffset=e.offset(),l.containerPosition=e.position(),l.containerSize={height:e.innerHeight()-n[3],width:e.innerWidth()-n[1]},i=l.containerOffset,o=l.containerSize.height,s=l.containerSize.width,r=l._hasScroll(h,"left")?h.scrollWidth:s,a=l._hasScroll(h)?h.scrollHeight:o,l.parentData={element:h,left:i.left,top:i.top,width:r,height:a}))},resize:function(e){var n,i,o,s,r=t(this).resizable("instance"),a=r.options,l=r.containerOffset,c=r.position,u=r._aspectRatio||e.shiftKey,h={top:0,left:0},d=r.containerElement,f=!0;d[0]!==document&&/static/.test(d.css("position"))&&(h=l),c.left<(r._helper?l.left:0)&&(r.size.width=r.size.width+(r._helper?r.position.left-l.left:r.position.left-h.left),u&&(r.size.height=r.size.width/r.aspectRatio,f=!1),r.position.left=a.helper?l.left:0),c.top<(r._helper?l.top:0)&&(r.size.height=r.size.height+(r._helper?r.position.top-l.top:r.position.top),u&&(r.size.width=r.size.height*r.aspectRatio,f=!1),r.position.top=r._helper?l.top:0),o=r.containerElement.get(0)===r.element.parent().get(0),s=/relative|absolute/.test(r.containerElement.css("position")),o&&s?(r.offset.left=r.parentData.left+r.position.left,r.offset.top=r.parentData.top+r.position.top):(r.offset.left=r.element.offset().left,r.offset.top=r.element.offset().top),n=Math.abs(r.sizeDiff.width+(r._helper?r.offset.left-h.left:r.offset.left-l.left)),i=Math.abs(r.sizeDiff.height+(r._helper?r.offset.top-h.top:r.offset.top-l.top)),n+r.size.width>=r.parentData.width&&(r.size.width=r.parentData.width-n,u&&(r.size.height=r.size.width/r.aspectRatio,f=!1)),i+r.size.height>=r.parentData.height&&(r.size.height=r.parentData.height-i,u&&(r.size.width=r.size.height*r.aspectRatio,f=!1)),f||(r.position.left=r.prevPosition.left,r.position.top=r.prevPosition.top,r.size.width=r.prevSize.width,r.size.height=r.prevSize.height)},stop:function(){var e=t(this).resizable("instance"),n=e.options,i=e.containerOffset,o=e.containerPosition,s=e.containerElement,r=t(e.helper),a=r.offset(),l=r.outerWidth()-e.sizeDiff.width,c=r.outerHeight()-e.sizeDiff.height;e._helper&&!n.animate&&/relative/.test(s.css("position"))&&t(this).css({left:a.left-o.left-i.left,width:l,height:c}),e._helper&&!n.animate&&/static/.test(s.css("position"))&&t(this).css({left:a.left-o.left-i.left,width:l,height:c})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).resizable("instance").options,n=function(e){t(e).each(function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseInt(e.width(),10),height:parseInt(e.height(),10),left:parseInt(e.css("left"),10),top:parseInt(e.css("top"),10)})})};"object"!=typeof e.alsoResize||e.alsoResize.parentNode?n(e.alsoResize):e.alsoResize.length?(e.alsoResize=e.alsoResize[0],n(e.alsoResize)):t.each(e.alsoResize,function(t){n(t)})},resize:function(e,n){var i=t(this).resizable("instance"),o=i.options,s=i.originalSize,r=i.originalPosition,a={height:i.size.height-s.height||0,width:i.size.width-s.width||0,top:i.position.top-r.top||0,left:i.position.left-r.left||0},l=function(e,i){t(e).each(function(){var e=t(this),o=t(this).data("ui-resizable-alsoresize"),s={},r=i&&i.length?i:e.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(r,function(t,e){var n=(o[e]||0)+(a[e]||0);n&&n>=0&&(s[e]=n||null)}),e.css(s)})};"object"!=typeof o.alsoResize||o.alsoResize.nodeType?l(o.alsoResize):t.each(o.alsoResize,function(t,e){l(t,e)})},stop:function(){t(this).removeData("resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).resizable("instance"),n=e.options,i=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:i.height,width:i.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof n.ghost?n.ghost:""),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).resizable("instance");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).resizable("instance");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e,n=t(this).resizable("instance"),i=n.options,o=n.size,s=n.originalSize,r=n.originalPosition,a=n.axis,l="number"==typeof i.grid?[i.grid,i.grid]:i.grid,c=l[0]||1,u=l[1]||1,h=Math.round((o.width-s.width)/c)*c,d=Math.round((o.height-s.height)/u)*u,f=s.width+h,p=s.height+d,g=i.maxWidth&&i.maxWidth<f,m=i.maxHeight&&i.maxHeight<p,v=i.minWidth&&i.minWidth>f,y=i.minHeight&&i.minHeight>p;i.grid=l,v&&(f+=c),y&&(p+=u),g&&(f-=c),m&&(p-=u),/^(se|s|e)$/.test(a)?(n.size.width=f,n.size.height=p):/^(ne)$/.test(a)?(n.size.width=f,n.size.height=p,n.position.top=r.top-d):/^(sw)$/.test(a)?(n.size.width=f,n.size.height=p,n.position.left=r.left-h):((p-u<=0||f-c<=0)&&(e=n._getPaddingPlusBorderDimensions(this)),p-u>0?(n.size.height=p,n.position.top=r.top-d):(n.size.height=p=u-e.height,n.position.top=r.top+s.height-p),f-c>0?(n.size.width=f,n.position.left=r.left-h):(n.size.width=f=u-e.height,n.position.left=r.left+s.width-f))}}),t.widget("ui.dialog",{version:"1.11.1",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"Close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var n=t(this).css(e).offset().top;n<0&&t(this).css("top",e.top-n)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&t.fn.draggable&&this._makeDraggable(),this.options.resizable&&t.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var e=this.options.appendTo;return e&&(e.jquery||e.nodeType)?t(e):this.document.find(e||"body").eq(0)},_destroy:function(){var t,e=this.originalPosition;this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),(t=e.parent.children().eq(e.index)).length&&t[0]!==this.element[0]?t.before(this.element):e.parent.append(this.element)},widget:function(){return this.uiDialog},disable:t.noop,enable:t.noop,close:function(e){var n,i=this;if(this._isOpen&&!1!==this._trigger("beforeClose",e)){if(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),!this.opener.filter(":focusable").focus().length)try{(n=this.document[0].activeElement)&&"body"!==n.nodeName.toLowerCase()&&t(n).blur()}catch(t){}this._hide(this.uiDialog,this.options.hide,function(){i._trigger("close",e)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,n){var i=!1,o=this.uiDialog.siblings(".ui-front:visible").map(function(){return+t(this).css("z-index")}).get(),s=Math.max.apply(null,o);return s>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",s+1),i=!0),i&&!n&&this._trigger("focus",e),i},open:function(){var e=this;this._isOpen?this._moveToTop()&&this._focusTabbable():(this._isOpen=!0,this.opener=t(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){e._focusTabbable(),e._trigger("focus")}),this._makeFocusTarget(),this._trigger("open"))},_focusTabbable:function(){var t=this._focusedElement;t||(t=this.element.find("[autofocus]")),t.length||(t=this.element.find(":tabbable")),t.length||(t=this.uiDialogButtonPane.find(":tabbable")),t.length||(t=this.uiDialogTitlebarClose.filter(":tabbable")),t.length||(t=this.uiDialog),t.eq(0).focus()},_keepFocus:function(e){function n(){var e=this.document[0].activeElement;this.uiDialog[0]===e||t.contains(this.uiDialog[0],e)||this._focusTabbable()}e.preventDefault(),n.call(this),this._delay(n)},_createWrapper:function(){this.uiDialog=t("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===t.ui.keyCode.ESCAPE)return e.preventDefault(),void this.close(e);if(e.keyCode===t.ui.keyCode.TAB&&!e.isDefaultPrevented()){var n=this.uiDialog.find(":tabbable"),i=n.filter(":first"),o=n.filter(":last");e.target!==o[0]&&e.target!==this.uiDialog[0]||e.shiftKey?e.target!==i[0]&&e.target!==this.uiDialog[0]||!e.shiftKey||(this._delay(function(){o.focus()}),e.preventDefault()):(this._delay(function(){i.focus()}),e.preventDefault())}},mousedown:function(t){this._moveToTop(t)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var e;this.uiDialogTitlebar=t("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(e){t(e.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=t("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(t){t.preventDefault(),this.close(t)}}),e=t("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(e),this.uiDialog.attr({"aria-labelledby":e.attr("id")})},_title:function(t){this.options.title||t.html("&#160;"),t.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=t("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=t("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var e=this,n=this.options.buttons;this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),t.isEmptyObject(n)||t.isArray(n)&&!n.length?this.uiDialog.removeClass("ui-dialog-buttons"):(t.each(n,function(n,i){var o,s;i=t.isFunction(i)?{click:i,text:n}:i,i=t.extend({type:"button"},i),o=i.click,i.click=function(){o.apply(e.element[0],arguments)},s={icons:i.icons,text:i.showText},delete i.icons,delete i.showText,t("<button></button>",i).button(s).appendTo(e.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){var e=this,n=this.options;function i(t){return{position:t.position,offset:t.offset}}this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(n,o){t(this).addClass("ui-dialog-dragging"),e._blockFrames(),e._trigger("dragStart",n,i(o))},drag:function(t,n){e._trigger("drag",t,i(n))},stop:function(o,s){var r=s.offset.left-e.document.scrollLeft(),a=s.offset.top-e.document.scrollTop();n.position={my:"left top",at:"left"+(r>=0?"+":"")+r+" top"+(a>=0?"+":"")+a,of:e.window},t(this).removeClass("ui-dialog-dragging"),e._unblockFrames(),e._trigger("dragStop",o,i(s))}})},_makeResizable:function(){var e=this,n=this.options,i=n.resizable,o=this.uiDialog.css("position"),s="string"==typeof i?i:"n,e,s,w,se,sw,ne,nw";function r(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size}}this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:n.maxWidth,maxHeight:n.maxHeight,minWidth:n.minWidth,minHeight:this._minHeight(),handles:s,start:function(n,i){t(this).addClass("ui-dialog-resizing"),e._blockFrames(),e._trigger("resizeStart",n,r(i))},resize:function(t,n){e._trigger("resize",t,r(n))},stop:function(i,o){var s=e.uiDialog.offset(),a=s.left-e.document.scrollLeft(),l=s.top-e.document.scrollTop();n.height=e.uiDialog.height(),n.width=e.uiDialog.width(),n.position={my:"left top",at:"left"+(a>=0?"+":"")+a+" top"+(l>=0?"+":"")+l,of:e.window},t(this).removeClass("ui-dialog-resizing"),e._unblockFrames(),e._trigger("resizeStop",i,r(o))}}).css("position",o)},_trackFocus:function(){this._on(this.widget(),{focusin:function(e){this._makeFocusTarget(),this._focusedElement=t(e.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var e=this._trackingInstances(),n=t.inArray(this,e);-1!==n&&e.splice(n,1)},_trackingInstances:function(){var t=this.document.data("ui-dialog-instances");return t||this.document.data("ui-dialog-instances",t=[]),t},_minHeight:function(){var t=this.options;return"auto"===t.height?t.minHeight:Math.min(t.minHeight,t.height)},_position:function(){var t=this.uiDialog.is(":visible");t||this.uiDialog.show(),this.uiDialog.position(this.options.position),t||this.uiDialog.hide()},_setOptions:function(e){var n=this,i=!1,o={};t.each(e,function(t,e){n._setOption(t,e),t in n.sizeRelatedOptions&&(i=!0),t in n.resizableRelatedOptions&&(o[t]=e)}),i&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",o)},_setOption:function(t,e){var n,i,o=this.uiDialog;"dialogClass"===t&&o.removeClass(this.options.dialogClass).addClass(e),"disabled"!==t&&(this._super(t,e),"appendTo"===t&&this.uiDialog.appendTo(this._appendTo()),"buttons"===t&&this._createButtons(),"closeText"===t&&this.uiDialogTitlebarClose.button({label:""+e}),"draggable"===t&&((n=o.is(":data(ui-draggable)"))&&!e&&o.draggable("destroy"),!n&&e&&this._makeDraggable()),"position"===t&&this._position(),"resizable"===t&&((i=o.is(":data(ui-resizable)"))&&!e&&o.resizable("destroy"),i&&"string"==typeof e&&o.resizable("option","handles",e),i||!1===e||this._makeResizable()),"title"===t&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var t,e,n,i=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),i.minWidth>i.width&&(i.width=i.minWidth),t=this.uiDialog.css({height:"auto",width:i.width}).outerHeight(),e=Math.max(0,i.minHeight-t),n="number"==typeof i.maxHeight?Math.max(0,i.maxHeight-t):"none","auto"===i.height?this.element.css({minHeight:e,maxHeight:n,height:"auto"}):this.element.height(Math.max(0,i.height-t)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var e=t(this);return t("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(e){return!!t(e.target).closest(".ui-dialog").length||!!t(e.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var e=!0;this._delay(function(){e=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(t){e||this._allowInteraction(t)||(t.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=t("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var t=this.document.data("ui-dialog-overlays")-1;t?this.document.data("ui-dialog-overlays",t):this.document.unbind("focusin").removeData("ui-dialog-overlays"),this.overlay.remove(),this.overlay=null}}}),t.widget("ui.droppable",{version:"1.11.1",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,n=this.options,i=n.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(i)?i:function(t){return t.is(i)},this.proportions=function(){if(!arguments.length)return e||(e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight});e=arguments[0]},this._addToManager(n.scope),n.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(e){t.ui.ddmanager.droppables[e]=t.ui.ddmanager.droppables[e]||[],t.ui.ddmanager.droppables[e].push(this)},_splice:function(t){for(var e=0;e<t.length;e++)t[e]===this&&t.splice(e,1)},_destroy:function(){this._splice(t.ui.ddmanager.droppables[this.options.scope]),this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(e,n){"accept"===e?this.accept=t.isFunction(n)?n:function(t){return t.is(n)}:"scope"===e&&(this._splice(t.ui.ddmanager.droppables[this.options.scope]),this._addToManager(n)),this._super(e,n)},_activate:function(e){var n=t.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),n&&this._trigger("activate",e,this.ui(n))},_deactivate:function(e){var n=t.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),n&&this._trigger("deactivate",e,this.ui(n))},_over:function(e){var n=t.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",e,this.ui(n)))},_out:function(e){var n=t.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",e,this.ui(n)))},_drop:function(e,n){var i=n||t.ui.ddmanager.current,o=!1;return!(!i||(i.currentItem||i.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var n=t(this).droppable("instance");if(n.options.greedy&&!n.options.disabled&&n.options.scope===i.options.scope&&n.accept.call(n.element[0],i.currentItem||i.element)&&t.ui.intersect(i,t.extend(n,{offset:n.element.offset()}),n.options.tolerance,e))return o=!0,!1}),!o&&!!this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",e,this.ui(i)),this.element))},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}}}),t.ui.intersect=function(){function t(t,e,n){return t>=e&&t<e+n}return function(e,n,i,o){if(!n.offset)return!1;var s=(e.positionAbs||e.position.absolute).left,r=(e.positionAbs||e.position.absolute).top,a=s+e.helperProportions.width,l=r+e.helperProportions.height,c=n.offset.left,u=n.offset.top,h=c+n.proportions().width,d=u+n.proportions().height;switch(i){case"fit":return c<=s&&a<=h&&u<=r&&l<=d;case"intersect":return c<s+e.helperProportions.width/2&&a-e.helperProportions.width/2<h&&u<r+e.helperProportions.height/2&&l-e.helperProportions.height/2<d;case"pointer":return t(o.pageY,u,n.proportions().height)&&t(o.pageX,c,n.proportions().width);case"touch":return(r>=u&&r<=d||l>=u&&l<=d||r<u&&l>d)&&(s>=c&&s<=h||a>=c&&a<=h||s<c&&a>h);default:return!1}}}(),t.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(e,n){var i,o,s=t.ui.ddmanager.droppables[e.options.scope]||[],r=n?n.type:null,a=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();t:for(i=0;i<s.length;i++)if(!(s[i].options.disabled||e&&!s[i].accept.call(s[i].element[0],e.currentItem||e.element))){for(o=0;o<a.length;o++)if(a[o]===s[i].element[0]){s[i].proportions().height=0;continue t}s[i].visible="none"!==s[i].element.css("display"),s[i].visible&&("mousedown"===r&&s[i]._activate.call(s[i],n),s[i].offset=s[i].element.offset(),s[i].proportions({width:s[i].element[0].offsetWidth,height:s[i].element[0].offsetHeight}))}},drop:function(e,n){var i=!1;return t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&t.ui.intersect(e,this,this.options.tolerance,n)&&(i=this._drop.call(this,n)||i),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,n)))}),i},dragStart:function(e,n){e.element.parentsUntil("body").bind("scroll.droppable",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,n)})},drag:function(e,n){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,n),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var i,o,s,r=t.ui.intersect(e,this,this.options.tolerance,n),a=!r&&this.isover?"isout":r&&!this.isover?"isover":null;a&&(this.options.greedy&&(o=this.options.scope,(s=this.element.parents(":data(ui-droppable)").filter(function(){return t(this).droppable("instance").options.scope===o})).length&&((i=t(s[0]).droppable("instance")).greedyChild="isover"===a)),i&&"isover"===a&&(i.isover=!1,i.isout=!0,i._out.call(i,n)),this[a]=!0,this["isout"===a?"isover":"isout"]=!1,this["isover"===a?"_over":"_out"].call(this,n),i&&"isout"===a&&(i.isout=!1,i.isover=!0,i._over.call(i,n)))}})},dragStop:function(e,n){e.element.parentsUntil("body").unbind("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,n)}};var w,_,x=t;function C(t){return function(){var e=this.element.val();t.apply(this,arguments),this._refresh(),e!==this.element.val()&&this._trigger("change")}}t.effects={effect:{}},function(t,e){var n,i=/^([\-+])=\s*(\d+\.?\d*)/,o=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],s=t.Color=function(e,n,i,o){return new t.Color.fn.parse(e,n,i,o)},r={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},a={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},l=s.support={},c=t("<p>")[0],u=t.each;function h(t,e,n){var i=a[e.type]||{};return null==t?n||!e.def?null:e.def:(t=i.floor?~~t:parseFloat(t),isNaN(t)?e.def:i.mod?(t+i.mod)%i.mod:0>t?0:i.max<t?i.max:t)}function d(e){var i=s(),a=i._rgba=[];return e=e.toLowerCase(),u(o,function(t,n){var o,s=n.re.exec(e),l=s&&n.parse(s),c=n.space||"rgba";if(l)return o=i[c](l),i[r[c].cache]=o[r[c].cache],a=i._rgba=o._rgba,!1}),a.length?("0,0,0,0"===a.join()&&t.extend(a,n.transparent),i):n[e]}function f(t,e,n){return 6*(n=(n+1)%1)<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}c.style.cssText="background-color:rgba(1,1,1,.5)",l.rgba=c.style.backgroundColor.indexOf("rgba")>-1,u(r,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),s.fn=t.extend(s.prototype,{parse:function(e,i,o,a){if(void 0===e)return this._rgba=[null,null,null,null],this;(e.jquery||e.nodeType)&&(e=t(e).css(i),i=void 0);var l=this,c=t.type(e),f=this._rgba=[];return void 0!==i&&(e=[e,i,o,a],c="array"),"string"===c?this.parse(d(e)||n._default):"array"===c?(u(r.rgba.props,function(t,n){f[n.idx]=h(e[n.idx],n)}),this):"object"===c?(u(r,e instanceof s?function(t,n){e[n.cache]&&(l[n.cache]=e[n.cache].slice())}:function(n,i){var o=i.cache;u(i.props,function(t,n){if(!l[o]&&i.to){if("alpha"===t||null==e[t])return;l[o]=i.to(l._rgba)}l[o][n.idx]=h(e[t],n,!0)}),l[o]&&t.inArray(null,l[o].slice(0,3))<0&&(l[o][3]=1,i.from&&(l._rgba=i.from(l[o])))}),this):void 0},is:function(t){var e=s(t),n=!0,i=this;return u(r,function(t,o){var s,r=e[o.cache];return r&&(s=i[o.cache]||o.to&&o.to(i._rgba)||[],u(o.props,function(t,e){if(null!=r[e.idx])return n=r[e.idx]===s[e.idx]})),n}),n},_space:function(){var t=[],e=this;return u(r,function(n,i){e[i.cache]&&t.push(n)}),t.pop()},transition:function(t,e){var n=s(t),i=n._space(),o=r[i],l=0===this.alpha()?s("transparent"):this,c=l[o.cache]||o.to(l._rgba),d=c.slice();return n=n[o.cache],u(o.props,function(t,i){var o=i.idx,s=c[o],r=n[o],l=a[i.type]||{};null!==r&&(null===s?d[o]=r:(l.mod&&(r-s>l.mod/2?s+=l.mod:s-r>l.mod/2&&(s-=l.mod)),d[o]=h((r-s)*e+s,i)))}),this[i](d)},blend:function(e){if(1===this._rgba[3])return this;var n=this._rgba.slice(),i=n.pop(),o=s(e)._rgba;return s(t.map(n,function(t,e){return(1-i)*o[e]+i*t}))},toRgbaString:function(){var e="rgba(",n=t.map(this._rgba,function(t,e){return null==t?e>2?1:0:t});return 1===n[3]&&(n.pop(),e="rgb("),e+n.join()+")"},toHslaString:function(){var e="hsla(",n=t.map(this.hsla(),function(t,e){return null==t&&(t=e>2?1:0),e&&e<3&&(t=Math.round(100*t)+"%"),t});return 1===n[3]&&(n.pop(),e="hsl("),e+n.join()+")"},toHexString:function(e){var n=this._rgba.slice(),i=n.pop();return e&&n.push(~~(255*i)),"#"+t.map(n,function(t){return 1===(t=(t||0).toString(16)).length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),s.fn.parse.prototype=s.fn,r.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,n=t[0]/255,i=t[1]/255,o=t[2]/255,s=t[3],r=Math.max(n,i,o),a=Math.min(n,i,o),l=r-a,c=r+a,u=.5*c;return e=0===l?0:u<=.5?l/c:l/(2-c),[Math.round(a===r?0:n===r?60*(i-o)/l+360:i===r?60*(o-n)/l+120:60*(n-i)/l+240)%360,e,u,null==s?1:s]},r.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,n=t[1],i=t[2],o=t[3],s=i<=.5?i*(1+n):i+n-i*n,r=2*i-s;return[Math.round(255*f(r,s,e+1/3)),Math.round(255*f(r,s,e)),Math.round(255*f(r,s,e-1/3)),o]},u(r,function(e,n){var o=n.props,r=n.cache,a=n.to,l=n.from;s.fn[e]=function(e){if(a&&!this[r]&&(this[r]=a(this._rgba)),void 0===e)return this[r].slice();var n,i=t.type(e),c="array"===i||"object"===i?e:arguments,d=this[r].slice();return u(o,function(t,e){var n=c["object"===i?t:e.idx];null==n&&(n=d[e.idx]),d[e.idx]=h(n,e)}),l?((n=s(l(d)))[r]=d,n):s(d)},u(o,function(n,o){s.fn[n]||(s.fn[n]=function(s){var r,a=t.type(s),l="alpha"===n?this._hsla?"hsla":"rgba":e,c=this[l](),u=c[o.idx];return"undefined"===a?u:("function"===a&&(s=s.call(this,u),a=t.type(s)),null==s&&o.empty?this:("string"===a&&(r=i.exec(s))&&(s=u+parseFloat(r[2])*("+"===r[1]?1:-1)),c[o.idx]=s,this[l](c)))})})}),s.hook=function(e){var n=e.split(" ");u(n,function(e,n){t.cssHooks[n]={set:function(e,i){var o,r,a="";if("transparent"!==i&&("string"!==t.type(i)||(o=d(i)))){if(i=s(o||i),!l.rgba&&1!==i._rgba[3]){for(r="backgroundColor"===n?e.parentNode:e;(""===a||"transparent"===a)&&r&&r.style;)try{a=t.css(r,"backgroundColor"),r=r.parentNode}catch(t){}i=i.blend(a&&"transparent"!==a?a:"_default")}i=i.toRgbaString()}try{e.style[n]=i}catch(t){}}},t.fx.step[n]=function(e){e.colorInit||(e.start=s(e.elem,n),e.end=s(e.end),e.colorInit=!0),t.cssHooks[n].set(e.elem,e.start.transition(e.end,e.pos))}})},s.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),t.cssHooks.borderColor={expand:function(t){var e={};return u(["Top","Right","Bottom","Left"],function(n,i){e["border"+i+"Color"]=t}),e}},n=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(x),function(){var e,n=["add","remove","toggle"],i={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};function o(e){var n,i,o=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,s={};if(o&&o.length&&o[0]&&o[o[0]])for(i=o.length;i--;)"string"==typeof o[n=o[i]]&&(s[t.camelCase(n)]=o[n]);else for(n in o)"string"==typeof o[n]&&(s[n]=o[n]);return s}t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,n){t.fx.step[n]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(x.style(t.elem,n,t.end),t.setAttr=!0)}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.effects.animateClass=function(e,s,r,a){var l=t.speed(s,r,a);return this.queue(function(){var s,r=t(this),a=r.attr("class")||"",c=l.children?r.find("*").addBack():r;c=c.map(function(){return{el:t(this),start:o(this)}}),(s=function(){t.each(n,function(t,n){e[n]&&r[n+"Class"](e[n])})})(),c=c.map(function(){return this.end=o(this.el[0]),this.diff=function(e,n){var o,s,r={};for(o in n)e[o]!==(s=n[o])&&(i[o]||!t.fx.step[o]&&isNaN(parseFloat(s))||(r[o]=s));return r}(this.start,this.end),this}),r.attr("class",a),c=c.map(function(){var e=this,n=t.Deferred(),i=t.extend({},l,{queue:!1,complete:function(){n.resolve(e)}});return this.el.animate(this.diff,i),n.promise()}),t.when.apply(t,c.get()).done(function(){s(),t.each(arguments,function(){var e=this.el;t.each(this.diff,function(t){e.css(t,"")})}),l.complete.call(r[0])})})},t.fn.extend({addClass:(e=t.fn.addClass,function(n,i,o,s){return i?t.effects.animateClass.call(this,{add:n},i,o,s):e.apply(this,arguments)}),removeClass:function(e){return function(n,i,o,s){return arguments.length>1?t.effects.animateClass.call(this,{remove:n},i,o,s):e.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(e){return function(n,i,o,s,r){return"boolean"==typeof i||void 0===i?o?t.effects.animateClass.call(this,i?{add:n}:{remove:n},o,s,r):e.apply(this,arguments):t.effects.animateClass.call(this,{toggle:n},i,o,s)}}(t.fn.toggleClass),switchClass:function(e,n,i,o,s){return t.effects.animateClass.call(this,{add:n,remove:e},i,o,s)}})}(),function(){function e(e,n,i,o){return t.isPlainObject(e)&&(n=e,e=e.effect),e={effect:e},null==n&&(n={}),t.isFunction(n)&&(o=n,i=null,n={}),("number"==typeof n||t.fx.speeds[n])&&(o=i,i=n,n={}),t.isFunction(i)&&(o=i,i=null),n&&t.extend(e,n),i=i||n.duration,e.duration=t.fx.off?0:"number"==typeof i?i:i in t.fx.speeds?t.fx.speeds[i]:t.fx.speeds._default,e.complete=o||n.complete,e}function n(e){return!(e&&"number"!=typeof e&&!t.fx.speeds[e])||"string"==typeof e&&!t.effects.effect[e]||!!t.isFunction(e)||"object"==typeof e&&!e.effect}var i;t.extend(t.effects,{version:"1.11.1",save:function(t,e){for(var n=0;n<e.length;n++)null!==e[n]&&t.data("ui-effects-"+e[n],t[0].style[e[n]])},restore:function(t,e){var n,i;for(i=0;i<e.length;i++)null!==e[i]&&(void 0===(n=t.data("ui-effects-"+e[i]))&&(n=""),t.css(e[i],n))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},getBaseline:function(t,e){var n,i;switch(t[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=t[0]/e.height}switch(t[1]){case"left":i=0;break;case"center":i=.5;break;case"right":i=1;break;default:i=t[1]/e.width}return{x:i,y:n}},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var n={width:e.outerWidth(!0),height:e.outerHeight(!0),float:e.css("float")},i=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),o={width:e.width(),height:e.height()},s=document.activeElement;return e.wrap(i),(e[0]===s||t.contains(e[0],s))&&t(s).focus(),i=e.parent(),"static"===e.css("position")?(i.css({position:"relative"}),e.css({position:"relative"})):(t.extend(n,{position:e.css("position"),zIndex:e.css("z-index")}),t.each(["top","left","bottom","right"],function(t,i){n[i]=e.css(i),isNaN(parseInt(n[i],10))&&(n[i]="auto")}),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(o),i.css(n).show()},removeWrapper:function(e){var n=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===n||t.contains(e[0],n))&&t(n).focus()),e},setTransition:function(e,n,i,o){return o=o||{},t.each(n,function(t,n){var s=e.cssUnit(n);s[0]>0&&(o[n]=s[0]*i+s[1])}),o}}),t.fn.extend({effect:function(){var n=e.apply(this,arguments),i=n.mode,o=n.queue,s=t.effects.effect[n.effect];if(t.fx.off||!s)return i?this[i](n.duration,n.complete):this.each(function(){n.complete&&n.complete.call(this)});function r(e){var i=t(this),o=n.complete,r=n.mode;function a(){t.isFunction(o)&&o.call(i[0]),t.isFunction(e)&&e()}(i.is(":hidden")?"hide"===r:"show"===r)?(i[r](),a()):s.call(i[0],n,a)}return!1===o?this.each(r):this.queue(o||"fx",r)},show:(i=t.fn.show,function(t){if(n(t))return i.apply(this,arguments);var o=e.apply(this,arguments);return o.mode="show",this.effect.call(this,o)}),hide:function(t){return function(i){if(n(i))return t.apply(this,arguments);var o=e.apply(this,arguments);return o.mode="hide",this.effect.call(this,o)}}(t.fn.hide),toggle:function(t){return function(i){if(n(i)||"boolean"==typeof i)return t.apply(this,arguments);var o=e.apply(this,arguments);return o.mode="toggle",this.effect.call(this,o)}}(t.fn.toggle),cssUnit:function(e){var n=this.css(e),i=[];return t.each(["em","px","%","pt"],function(t,e){n.indexOf(e)>0&&(i=[parseFloat(n),e])}),i}})}(),w={},t.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,e){w[e]=function(e){return Math.pow(e,t+2)}}),t.extend(w,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,n=4;t<((e=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*e-2)/22-t,2)}}),t.each(w,function(e,n){t.easing["easeIn"+e]=n,t.easing["easeOut"+e]=function(t){return 1-n(1-t)},t.easing["easeInOut"+e]=function(t){return t<.5?n(2*t)/2:1-n(-2*t+2)/2}}),t.effects.effect.blind=function(e,n){var i,o,s,r=t(this),a=["position","top","bottom","left","right","height","width"],l=t.effects.setMode(r,e.mode||"hide"),c=e.direction||"up",u=/up|down|vertical/.test(c),h=u?"height":"width",d=u?"top":"left",f=/up|left|vertical|horizontal/.test(c),p={},g="show"===l;r.parent().is(".ui-effects-wrapper")?t.effects.save(r.parent(),a):t.effects.save(r,a),r.show(),o=(i=t.effects.createWrapper(r).css({overflow:"hidden"}))[h](),s=parseFloat(i.css(d))||0,p[h]=g?o:0,f||(r.css(u?"bottom":"right",0).css(u?"top":"left","auto").css({position:"absolute"}),p[d]=g?s:o+s),g&&(i.css(h,0),f||i.css(d,s+o)),i.animate(p,{duration:e.duration,easing:e.easing,queue:!1,complete:function(){"hide"===l&&r.hide(),t.effects.restore(r,a),t.effects.removeWrapper(r),n()}})},t.effects.effect.bounce=function(e,n){var i,o,s,r=t(this),a=["position","top","bottom","left","right","height","width"],l=t.effects.setMode(r,e.mode||"effect"),c="hide"===l,u="show"===l,h=e.direction||"up",d=e.distance,f=e.times||5,p=2*f+(u||c?1:0),g=e.duration/p,m=e.easing,v="up"===h||"down"===h?"top":"left",y="up"===h||"left"===h,b=r.queue(),w=b.length;for((u||c)&&a.push("opacity"),t.effects.save(r,a),r.show(),t.effects.createWrapper(r),d||(d=r["top"===v?"outerHeight":"outerWidth"]()/3),u&&((s={opacity:1})[v]=0,r.css("opacity",0).css(v,y?2*-d:2*d).animate(s,g,m)),c&&(d/=Math.pow(2,f-1)),(s={})[v]=0,i=0;i<f;i++)(o={})[v]=(y?"-=":"+=")+d,r.animate(o,g,m).animate(s,g,m),d=c?2*d:d/2;c&&((o={opacity:0})[v]=(y?"-=":"+=")+d,r.animate(o,g,m)),r.queue(function(){c&&r.hide(),t.effects.restore(r,a),t.effects.removeWrapper(r),n()}),w>1&&b.splice.apply(b,[1,0].concat(b.splice(w,p+1))),r.dequeue()},t.effects.effect.clip=function(e,n){var i,o,s,r=t(this),a=["position","top","bottom","left","right","height","width"],l="show"===t.effects.setMode(r,e.mode||"hide"),c="vertical"===(e.direction||"vertical"),u=c?"height":"width",h=c?"top":"left",d={};t.effects.save(r,a),r.show(),i=t.effects.createWrapper(r).css({overflow:"hidden"}),s=(o="IMG"===r[0].tagName?i:r)[u](),l&&(o.css(u,0),o.css(h,s/2)),d[u]=l?s:0,d[h]=l?0:s/2,o.animate(d,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){l||r.hide(),t.effects.restore(r,a),t.effects.removeWrapper(r),n()}})},t.effects.effect.drop=function(e,n){var i,o=t(this),s=["position","top","bottom","left","right","opacity","height","width"],r=t.effects.setMode(o,e.mode||"hide"),a="show"===r,l=e.direction||"left",c="up"===l||"down"===l?"top":"left",u="up"===l||"left"===l?"pos":"neg",h={opacity:a?1:0};t.effects.save(o,s),o.show(),t.effects.createWrapper(o),i=e.distance||o["top"===c?"outerHeight":"outerWidth"](!0)/2,a&&o.css("opacity",0).css(c,"pos"===u?-i:i),h[c]=(a?"pos"===u?"+=":"-=":"pos"===u?"-=":"+=")+i,o.animate(h,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===r&&o.hide(),t.effects.restore(o,s),t.effects.removeWrapper(o),n()}})},t.effects.effect.explode=function(e,n){var i,o,s,r,a,l,c=e.pieces?Math.round(Math.sqrt(e.pieces)):3,u=c,h=t(this),d="show"===t.effects.setMode(h,e.mode||"hide"),f=h.show().css("visibility","hidden").offset(),p=Math.ceil(h.outerWidth()/u),g=Math.ceil(h.outerHeight()/c),m=[];function v(){m.push(this),m.length===c*u&&(h.css({visibility:"visible"}),t(m).remove(),d||h.hide(),n())}for(i=0;i<c;i++)for(r=f.top+i*g,l=i-(c-1)/2,o=0;o<u;o++)s=f.left+o*p,a=o-(u-1)/2,h.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-o*p,top:-i*g}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:p,height:g,left:s+(d?a*p:0),top:r+(d?l*g:0),opacity:d?0:1}).animate({left:s+(d?0:a*p),top:r+(d?0:l*g),opacity:d?1:0},e.duration||500,e.easing,v)},t.effects.effect.fade=function(e,n){var i=t(this),o=t.effects.setMode(i,e.mode||"toggle");i.animate({opacity:o},{queue:!1,duration:e.duration,easing:e.easing,complete:n})},t.effects.effect.fold=function(e,n){var i,o,s=t(this),r=["position","top","bottom","left","right","height","width"],a=t.effects.setMode(s,e.mode||"hide"),l="show"===a,c="hide"===a,u=e.size||15,h=/([0-9]+)%/.exec(u),d=!!e.horizFirst,f=l!==d,p=f?["width","height"]:["height","width"],g=e.duration/2,m={},v={};t.effects.save(s,r),s.show(),i=t.effects.createWrapper(s).css({overflow:"hidden"}),o=f?[i.width(),i.height()]:[i.height(),i.width()],h&&(u=parseInt(h[1],10)/100*o[c?0:1]),l&&i.css(d?{height:0,width:u}:{height:u,width:0}),m[p[0]]=l?o[0]:u,v[p[1]]=l?o[1]:0,i.animate(m,g,e.easing).animate(v,g,e.easing,function(){c&&s.hide(),t.effects.restore(s,r),t.effects.removeWrapper(s),n()})},t.effects.effect.highlight=function(e,n){var i=t(this),o=["backgroundImage","backgroundColor","opacity"],s=t.effects.setMode(i,e.mode||"show"),r={backgroundColor:i.css("backgroundColor")};"hide"===s&&(r.opacity=0),t.effects.save(i,o),i.show().css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(r,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===s&&i.hide(),t.effects.restore(i,o),n()}})},t.effects.effect.size=function(e,n){var i,o,s,r=t(this),a=["position","top","bottom","left","right","width","height","overflow","opacity"],l=["width","height","overflow"],c=["fontSize"],u=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],h=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],d=t.effects.setMode(r,e.mode||"effect"),f=e.restore||"effect"!==d,p=e.scale||"both",g=e.origin||["middle","center"],m=r.css("position"),v=f?a:["position","top","bottom","left","right","overflow","opacity"],y={height:0,width:0,outerHeight:0,outerWidth:0};"show"===d&&r.show(),i={height:r.height(),width:r.width(),outerHeight:r.outerHeight(),outerWidth:r.outerWidth()},"toggle"===e.mode&&"show"===d?(r.from=e.to||y,r.to=e.from||i):(r.from=e.from||("show"===d?y:i),r.to=e.to||("hide"===d?y:i)),s={from:{y:r.from.height/i.height,x:r.from.width/i.width},to:{y:r.to.height/i.height,x:r.to.width/i.width}},"box"!==p&&"both"!==p||(s.from.y!==s.to.y&&(v=v.concat(u),r.from=t.effects.setTransition(r,u,s.from.y,r.from),r.to=t.effects.setTransition(r,u,s.to.y,r.to)),s.from.x!==s.to.x&&(v=v.concat(h),r.from=t.effects.setTransition(r,h,s.from.x,r.from),r.to=t.effects.setTransition(r,h,s.to.x,r.to))),"content"!==p&&"both"!==p||s.from.y!==s.to.y&&(v=v.concat(c).concat(l),r.from=t.effects.setTransition(r,c,s.from.y,r.from),r.to=t.effects.setTransition(r,c,s.to.y,r.to)),t.effects.save(r,v),r.show(),t.effects.createWrapper(r),r.css("overflow","hidden").css(r.from),g&&(o=t.effects.getBaseline(g,i),r.from.top=(i.outerHeight-r.outerHeight())*o.y,r.from.left=(i.outerWidth-r.outerWidth())*o.x,r.to.top=(i.outerHeight-r.to.outerHeight)*o.y,r.to.left=(i.outerWidth-r.to.outerWidth)*o.x),r.css(r.from),"content"!==p&&"both"!==p||(u=u.concat(["marginTop","marginBottom"]).concat(c),h=h.concat(["marginLeft","marginRight"]),l=a.concat(u).concat(h),r.find("*[width]").each(function(){var n=t(this),i=n.height(),o=n.width(),r=n.outerHeight(),a=n.outerWidth();f&&t.effects.save(n,l),n.from={height:i*s.from.y,width:o*s.from.x,outerHeight:r*s.from.y,outerWidth:a*s.from.x},n.to={height:i*s.to.y,width:o*s.to.x,outerHeight:i*s.to.y,outerWidth:o*s.to.x},s.from.y!==s.to.y&&(n.from=t.effects.setTransition(n,u,s.from.y,n.from),n.to=t.effects.setTransition(n,u,s.to.y,n.to)),s.from.x!==s.to.x&&(n.from=t.effects.setTransition(n,h,s.from.x,n.from),n.to=t.effects.setTransition(n,h,s.to.x,n.to)),n.css(n.from),n.animate(n.to,e.duration,e.easing,function(){f&&t.effects.restore(n,l)})})),r.animate(r.to,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){0===r.to.opacity&&r.css("opacity",r.from.opacity),"hide"===d&&r.hide(),t.effects.restore(r,v),f||("static"===m?r.css({position:"relative",top:r.to.top,left:r.to.left}):t.each(["top","left"],function(t,e){r.css(e,function(e,n){var i=parseInt(n,10),o=t?r.to.left:r.to.top;return"auto"===n?o+"px":i+o+"px"})})),t.effects.removeWrapper(r),n()}})},t.effects.effect.scale=function(e,n){var i=t(this),o=t.extend(!0,{},e),s=t.effects.setMode(i,e.mode||"effect"),r=parseInt(e.percent,10)||(0===parseInt(e.percent,10)?0:"hide"===s?0:100),a=e.direction||"both",l=e.origin,c={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()},u="horizontal"!==a?r/100:1,h="vertical"!==a?r/100:1;o.effect="size",o.queue=!1,o.complete=n,"effect"!==s&&(o.origin=l||["middle","center"],o.restore=!0),o.from=e.from||("show"===s?{height:0,width:0,outerHeight:0,outerWidth:0}:c),o.to={height:c.height*u,width:c.width*h,outerHeight:c.outerHeight*u,outerWidth:c.outerWidth*h},o.fade&&("show"===s&&(o.from.opacity=0,o.to.opacity=1),"hide"===s&&(o.from.opacity=1,o.to.opacity=0)),i.effect(o)},t.effects.effect.puff=function(e,n){var i=t(this),o=t.effects.setMode(i,e.mode||"hide"),s="hide"===o,r=parseInt(e.percent,10)||150,a=r/100,l={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};t.extend(e,{effect:"scale",queue:!1,fade:!0,mode:o,complete:n,percent:s?r:100,from:s?l:{height:l.height*a,width:l.width*a,outerHeight:l.outerHeight*a,outerWidth:l.outerWidth*a}}),i.effect(e)},t.effects.effect.pulsate=function(e,n){var i,o=t(this),s=t.effects.setMode(o,e.mode||"show"),r="show"===s,a="hide"===s,l=2*(e.times||5)+(r||"hide"===s?1:0),c=e.duration/l,u=0,h=o.queue(),d=h.length;for(!r&&o.is(":visible")||(o.css("opacity",0).show(),u=1),i=1;i<l;i++)o.animate({opacity:u},c,e.easing),u=1-u;o.animate({opacity:u},c,e.easing),o.queue(function(){a&&o.hide(),n()}),d>1&&h.splice.apply(h,[1,0].concat(h.splice(d,l+1))),o.dequeue()},t.effects.effect.shake=function(e,n){var i,o=t(this),s=["position","top","bottom","left","right","height","width"],r=t.effects.setMode(o,e.mode||"effect"),a=e.direction||"left",l=e.distance||20,c=e.times||3,u=2*c+1,h=Math.round(e.duration/u),d="up"===a||"down"===a?"top":"left",f="up"===a||"left"===a,p={},g={},m={},v=o.queue(),y=v.length;for(t.effects.save(o,s),o.show(),t.effects.createWrapper(o),p[d]=(f?"-=":"+=")+l,g[d]=(f?"+=":"-=")+2*l,m[d]=(f?"-=":"+=")+2*l,o.animate(p,h,e.easing),i=1;i<c;i++)o.animate(g,h,e.easing).animate(m,h,e.easing);o.animate(g,h,e.easing).animate(p,h/2,e.easing).queue(function(){"hide"===r&&o.hide(),t.effects.restore(o,s),t.effects.removeWrapper(o),n()}),y>1&&v.splice.apply(v,[1,0].concat(v.splice(y,u+1))),o.dequeue()},t.effects.effect.slide=function(e,n){var i,o=t(this),s=["position","top","bottom","left","right","width","height"],r=t.effects.setMode(o,e.mode||"show"),a="show"===r,l=e.direction||"left",c="up"===l||"down"===l?"top":"left",u="up"===l||"left"===l,h={};t.effects.save(o,s),o.show(),i=e.distance||o["top"===c?"outerHeight":"outerWidth"](!0),t.effects.createWrapper(o).css({overflow:"hidden"}),a&&o.css(c,u?isNaN(i)?"-"+i:-i:i),h[c]=(a?u?"+=":"-=":u?"-=":"+=")+i,o.animate(h,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===r&&o.hide(),t.effects.restore(o,s),t.effects.removeWrapper(o),n()}})},t.effects.effect.transfer=function(e,n){var i=t(this),o=t(e.to),s="fixed"===o.css("position"),r=t("body"),a=s?r.scrollTop():0,l=s?r.scrollLeft():0,c=o.offset(),u={top:c.top-a,left:c.left-l,height:o.innerHeight(),width:o.innerWidth()},h=i.offset(),d=t("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(e.className).css({top:h.top-a,left:h.left-l,height:i.innerHeight(),width:i.innerWidth(),position:s?"fixed":"absolute"}).animate(u,e.duration,e.easing,function(){d.remove(),n()})},t.widget("ui.progressbar",{version:"1.11.1",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=t("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(t){if(void 0===t)return this.options.value;this.options.value=this._constrainedValue(t),this._refreshValue()},_constrainedValue:function(t){return void 0===t&&(t=this.options.value),this.indeterminate=!1===t,"number"!=typeof t&&(t=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,t))},_setOptions:function(t){var e=t.value;delete t.value,this._super(t),this.options.value=this._constrainedValue(e),this._refreshValue()},_setOption:function(t,e){"max"===t&&(e=Math.max(this.min,e)),"disabled"===t&&this.element.toggleClass("ui-state-disabled",!!e).attr("aria-disabled",e),this._super(t,e)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var e=this.options.value,n=this._percentage();this.valueDiv.toggle(this.indeterminate||e>this.min).toggleClass("ui-corner-right",e===this.options.max).width(n.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=t("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":e}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),e===this.options.max&&this._trigger("complete")}}),t.widget("ui.selectable",t.ui.mouse,{version:"1.11.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e,n=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){(e=t(n.options.filter,n.element[0])).addClass("ui-selectee"),e.each(function(){var e=t(this),n=e.offset();t.data(this,"selectable-item",{element:this,$element:e,left:n.left,top:n.top,right:n.left+e.outerWidth(),bottom:n.top+e.outerHeight(),startselected:!1,selected:e.hasClass("ui-selected"),selecting:e.hasClass("ui-selecting"),unselecting:e.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=e.addClass("ui-selectee"),this._mouseInit(),this.helper=t("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(e){var n=this,i=this.options;this.opos=[e.pageX,e.pageY],this.options.disabled||(this.selectees=t(i.filter,this.element[0]),this._trigger("start",e),t(i.appendTo).append(this.helper),this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0}),i.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var i=t.data(this,"selectable-item");i.startselected=!0,e.metaKey||e.ctrlKey||(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,n._trigger("unselecting",e,{unselecting:i.element}))}),t(e.target).parents().addBack().each(function(){var i,o=t.data(this,"selectable-item");if(o)return i=!e.metaKey&&!e.ctrlKey||!o.$element.hasClass("ui-selected"),o.$element.removeClass(i?"ui-unselecting":"ui-selected").addClass(i?"ui-selecting":"ui-unselecting"),o.unselecting=!i,o.selecting=i,o.selected=i,i?n._trigger("selecting",e,{selecting:o.element}):n._trigger("unselecting",e,{unselecting:o.element}),!1}))},_mouseDrag:function(e){if(this.dragged=!0,!this.options.disabled){var n,i=this,o=this.options,s=this.opos[0],r=this.opos[1],a=e.pageX,l=e.pageY;return s>a&&(n=a,a=s,s=n),r>l&&(n=l,l=r,r=n),this.helper.css({left:s,top:r,width:a-s,height:l-r}),this.selectees.each(function(){var n=t.data(this,"selectable-item"),c=!1;n&&n.element!==i.element[0]&&("touch"===o.tolerance?c=!(n.left>a||n.right<s||n.top>l||n.bottom<r):"fit"===o.tolerance&&(c=n.left>s&&n.right<a&&n.top>r&&n.bottom<l),c?(n.selected&&(n.$element.removeClass("ui-selected"),n.selected=!1),n.unselecting&&(n.$element.removeClass("ui-unselecting"),n.unselecting=!1),n.selecting||(n.$element.addClass("ui-selecting"),n.selecting=!0,i._trigger("selecting",e,{selecting:n.element}))):(n.selecting&&((e.metaKey||e.ctrlKey)&&n.startselected?(n.$element.removeClass("ui-selecting"),n.selecting=!1,n.$element.addClass("ui-selected"),n.selected=!0):(n.$element.removeClass("ui-selecting"),n.selecting=!1,n.startselected&&(n.$element.addClass("ui-unselecting"),n.unselecting=!0),i._trigger("unselecting",e,{unselecting:n.element}))),n.selected&&(e.metaKey||e.ctrlKey||n.startselected||(n.$element.removeClass("ui-selected"),n.selected=!1,n.$element.addClass("ui-unselecting"),n.unselecting=!0,i._trigger("unselecting",e,{unselecting:n.element})))))}),!1}},_mouseStop:function(e){var n=this;return this.dragged=!1,t(".ui-unselecting",this.element[0]).each(function(){var i=t.data(this,"selectable-item");i.$element.removeClass("ui-unselecting"),i.unselecting=!1,i.startselected=!1,n._trigger("unselected",e,{unselected:i.element})}),t(".ui-selecting",this.element[0]).each(function(){var i=t.data(this,"selectable-item");i.$element.removeClass("ui-selecting").addClass("ui-selected"),i.selecting=!1,i.selected=!0,i.startselected=!0,n._trigger("selected",e,{selected:i.element})}),this._trigger("stop",e),this.helper.remove(),!1}}),t.widget("ui.selectmenu",{version:"1.11.1",defaultElement:"<select>",options:{appendTo:null,disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:null,change:null,close:null,focus:null,open:null,select:null},_create:function(){var t=this.element.uniqueId().attr("id");this.ids={element:t,button:t+"-button",menu:t+"-menu"},this._drawButton(),this._drawMenu(),this.options.disabled&&this.disable()},_drawButton:function(){var e=this,n=this.element.attr("tabindex");this.label=t("label[for='"+this.ids.element+"']").attr("for",this.ids.button),this._on(this.label,{click:function(t){this.button.focus(),t.preventDefault()}}),this.element.hide(),this.button=t("<span>",{class:"ui-selectmenu-button ui-widget ui-state-default ui-corner-all",tabindex:n||this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true"}).insertAfter(this.element),t("<span>",{class:"ui-icon "+this.options.icons.button}).prependTo(this.button),this.buttonText=t("<span>",{class:"ui-selectmenu-text"}).appendTo(this.button),this._setText(this.buttonText,this.element.find("option:selected").text()),this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){e.menuItems||e._refreshMenu()}),this._hoverable(this.button),this._focusable(this.button)},_drawMenu:function(){var e=this;this.menu=t("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=t("<div>",{class:"ui-selectmenu-menu ui-front"}).append(this.menu).appendTo(this._appendTo()),this.menuInstance=this.menu.menu({role:"listbox",select:function(t,n){t.preventDefault(),e._select(n.item.data("ui-selectmenu-item"),t)},focus:function(t,n){var i=n.item.data("ui-selectmenu-item");null!=e.focusIndex&&i.index!==e.focusIndex&&(e._trigger("focus",t,{item:i}),e.isOpen||e._select(i,t)),e.focusIndex=i.index,e.button.attr("aria-activedescendant",e.menuItems.eq(i.index).attr("id"))}}).menu("instance"),this.menu.addClass("ui-corner-bottom").removeClass("ui-corner-all"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this._setText(this.buttonText,this._getSelectedItem().text()),this.options.width||this._resizeButton()},_refreshMenu:function(){this.menu.empty();var t,e=this.element.find("option");e.length&&(this._parseOptions(e),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup"),t=this._getSelectedItem(),this.menuInstance.focus(null,t),this._setAria(t.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(t){this.options.disabled||(this.menuItems?(this.menu.find(".ui-state-focus").removeClass("ui-state-focus"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",t))},_position:function(){this.menuWrap.position(t.extend({of:this.button},this.options.position))},close:function(t){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this._off(this.document),this._trigger("close",t))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderMenu:function(e,n){var i=this,o="";t.each(n,function(n,s){s.optgroup!==o&&(t("<li>",{class:"ui-selectmenu-optgroup ui-menu-divider"+(s.element.parent("optgroup").prop("disabled")?" ui-state-disabled":""),text:s.optgroup}).appendTo(e),o=s.optgroup),i._renderItemData(e,s)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-selectmenu-item",e)},_renderItem:function(e,n){var i=t("<li>");return n.disabled&&i.addClass("ui-state-disabled"),this._setText(i,n.label),i.appendTo(e)},_setText:function(t,e){e?t.text(e):t.html("&#160;")},_move:function(t,e){var n,i,o=".ui-menu-item";this.isOpen?n=this.menuItems.eq(this.focusIndex):(n=this.menuItems.eq(this.element[0].selectedIndex),o+=":not(.ui-state-disabled)"),(i="first"===t||"last"===t?n["first"===t?"prevAll":"nextAll"](o).eq(-1):n[t+"All"](o).eq(0)).length&&this.menuInstance.focus(e,i)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex)},_toggle:function(t){this[this.isOpen?"close":"open"](t)},_documentClick:{mousedown:function(e){this.isOpen&&(t(e.target).closest(".ui-selectmenu-menu, #"+this.ids.button).length||this.close(e))}},_buttonEvents:{mousedown:function(t){t.preventDefault()},click:"_toggle",keydown:function(e){var n=!0;switch(e.keyCode){case t.ui.keyCode.TAB:case t.ui.keyCode.ESCAPE:this.close(e),n=!1;break;case t.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(e);break;case t.ui.keyCode.UP:e.altKey?this._toggle(e):this._move("prev",e);break;case t.ui.keyCode.DOWN:e.altKey?this._toggle(e):this._move("next",e);break;case t.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(e):this._toggle(e);break;case t.ui.keyCode.LEFT:this._move("prev",e);break;case t.ui.keyCode.RIGHT:this._move("next",e);break;case t.ui.keyCode.HOME:case t.ui.keyCode.PAGE_UP:this._move("first",e);break;case t.ui.keyCode.END:case t.ui.keyCode.PAGE_DOWN:this._move("last",e);break;default:this.menu.trigger(e),n=!1}n&&e.preventDefault()}},_selectFocusedItem:function(t){var e=this.menuItems.eq(this.focusIndex);e.hasClass("ui-state-disabled")||this._select(e.data("ui-selectmenu-item"),t)},_select:function(t,e){var n=this.element[0].selectedIndex;this.element[0].selectedIndex=t.index,this._setText(this.buttonText,t.label),this._setAria(t),this._trigger("select",e,{item:t}),t.index!==n&&this._trigger("change",e,{item:t}),this.close(e)},_setAria:function(t){var e=this.menuItems.eq(t.index).attr("id");this.button.attr({"aria-labelledby":e,"aria-activedescendant":e}),this.menu.attr("aria-activedescendant",e)},_setOption:function(t,e){"icons"===t&&this.button.find("span.ui-icon").removeClass(this.options.icons.button).addClass(e.button),this._super(t,e),"appendTo"===t&&this.menuWrap.appendTo(this._appendTo()),"disabled"===t&&(this.menuInstance.option("disabled",e),this.button.toggleClass("ui-state-disabled",e).attr("aria-disabled",e),this.element.prop("disabled",e),e?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)),"width"===t&&this._resizeButton()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front")),e.length||(e=this.document[0].body),e},_toggleAttr:function(){this.button.toggleClass("ui-corner-top",this.isOpen).toggleClass("ui-corner-all",!this.isOpen).attr("aria-expanded",this.isOpen),this.menuWrap.toggleClass("ui-selectmenu-open",this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var t=this.options.width;t||(t=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(t)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){return{disabled:this.element.prop("disabled")}},_parseOptions:function(e){var n=[];e.each(function(e,i){var o=t(i),s=o.parent("optgroup");n.push({element:o,index:e,value:o.attr("value"),label:o.text(),optgroup:s.attr("label")||"",disabled:s.prop("disabled")||o.prop("disabled")})}),this.items=n},_destroy:function(){this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.label.attr("for",this.ids.element)}}),t.widget("ui.slider",t.ui.mouse,{version:"1.11.1",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,n,i=this.options,o=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),s=[];for(o.length>(n=i.values&&i.values.length||1)&&(o.slice(n).remove(),o=o.slice(0,n)),e=o.length;e<n;e++)s.push("<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>");this.handles=o.add(t(s.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(e){t(this).data("ui-slider-handle-index",e)})},_createRange:function(){var e=this.options,n="";e.range?(!0===e.range&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:t.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=t("<div></div>").appendTo(this.element),n="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(n+("min"===e.range||"max"===e.range?" ui-slider-range-"+e.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(e){var n,i,o,s,r,a,l=this,c=this.options;return!c.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),n=this._normValueFromMouse({x:e.pageX,y:e.pageY}),i=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var r=Math.abs(n-l.values(e));(i>r||i===r&&(e===l._lastChangedValue||l.values(e)===c.min))&&(i=r,o=t(this),s=e)}),!1!==this._start(e,s)&&(this._mouseSliding=!0,this._handleIndex=s,o.addClass("ui-state-active").focus(),r=o.offset(),a=!t(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=a?{left:0,top:0}:{left:e.pageX-r.left-o.width()/2,top:e.pageY-r.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,s,n),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e=this._normValueFromMouse({x:t.pageX,y:t.pageY});return this._slide(t,this._handleIndex,e),!1},_mouseStop:function(t){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,n,i,o,s;return"horizontal"===this.orientation?(e=this.elementSize.width,n=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,n=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),(i=n/e)>1&&(i=1),i<0&&(i=0),"vertical"===this.orientation&&(i=1-i),o=this._valueMax()-this._valueMin(),s=this._valueMin()+i*o,this._trimAlignValue(s)},_start:function(t,e){var n={handle:this.handles[e],value:this.value()};return this.options.values&&this.options.values.length&&(n.value=this.values(e),n.values=this.values()),this._trigger("start",t,n)},_slide:function(t,e,n){var i,o,s;this.options.values&&this.options.values.length?(i=this.values(e?0:1),2===this.options.values.length&&!0===this.options.range&&(0===e&&n>i||1===e&&n<i)&&(n=i),n!==this.values(e)&&((o=this.values())[e]=n,s=this._trigger("slide",t,{handle:this.handles[e],value:n,values:o}),i=this.values(e?0:1),!1!==s&&this.values(e,n))):n!==this.value()&&!1!==(s=this._trigger("slide",t,{handle:this.handles[e],value:n}))&&this.value(n)},_stop:function(t,e){var n={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(e),n.values=this.values()),this._trigger("stop",t,n)},_change:function(t,e){if(!this._keySliding&&!this._mouseSliding){var n={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(e),n.values=this.values()),this._lastChangedValue=e,this._trigger("change",t,n)}},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),void this._change(null,0)):this._value()},values:function(e,n){var i,o,s;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(n),this._refreshValue(),void this._change(null,e);if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(e):this.value();for(i=this.options.values,o=arguments[0],s=0;s<i.length;s+=1)i[s]=this._trimAlignValue(o[s]),this._change(null,s);this._refreshValue()},_setOption:function(e,n){var i,o=0;switch("range"===e&&!0===this.options.range&&("min"===n?(this.options.value=this._values(0),this.options.values=null):"max"===n&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),t.isArray(this.options.values)&&(o=this.options.values.length),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!n),this._super(e,n),e){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue(),this.handles.css("horizontal"===n?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),i=0;i<o;i+=1)this._change(null,i);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){return this._trimAlignValue(this.options.value)},_values:function(t){var e,n;if(arguments.length)return this._trimAlignValue(this.options.values[t]);if(this.options.values&&this.options.values.length){for(e=this.options.values.slice(),n=0;n<e.length;n+=1)e[n]=this._trimAlignValue(e[n]);return e}return[]},_trimAlignValue:function(t){if(t<=this._valueMin())return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,n=(t-this._valueMin())%e,i=t-n;return 2*Math.abs(n)>=e&&(i+=n>0?e:-e),parseFloat(i.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var e,n,i,o,s,r=this.options.range,a=this.options,l=this,c=!this._animateOff&&a.animate,u={};this.options.values&&this.options.values.length?this.handles.each(function(i){n=(l.values(i)-l._valueMin())/(l._valueMax()-l._valueMin())*100,u["horizontal"===l.orientation?"left":"bottom"]=n+"%",t(this).stop(1,1)[c?"animate":"css"](u,a.animate),!0===l.options.range&&("horizontal"===l.orientation?(0===i&&l.range.stop(1,1)[c?"animate":"css"]({left:n+"%"},a.animate),1===i&&l.range[c?"animate":"css"]({width:n-e+"%"},{queue:!1,duration:a.animate})):(0===i&&l.range.stop(1,1)[c?"animate":"css"]({bottom:n+"%"},a.animate),1===i&&l.range[c?"animate":"css"]({height:n-e+"%"},{queue:!1,duration:a.animate}))),e=n}):(i=this.value(),o=this._valueMin(),s=this._valueMax(),n=s!==o?(i-o)/(s-o)*100:0,u["horizontal"===this.orientation?"left":"bottom"]=n+"%",this.handle.stop(1,1)[c?"animate":"css"](u,a.animate),"min"===r&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:n+"%"},a.animate),"max"===r&&"horizontal"===this.orientation&&this.range[c?"animate":"css"]({width:100-n+"%"},{queue:!1,duration:a.animate}),"min"===r&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:n+"%"},a.animate),"max"===r&&"vertical"===this.orientation&&this.range[c?"animate":"css"]({height:100-n+"%"},{queue:!1,duration:a.animate}))},_handleEvents:{keydown:function(e){var n,i,o,s=t(e.target).data("ui-slider-handle-index");switch(e.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,t(e.target).addClass("ui-state-active"),!1===this._start(e,s)))return}switch(o=this.options.step,n=i=this.options.values&&this.options.values.length?this.values(s):this.value(),e.keyCode){case t.ui.keyCode.HOME:i=this._valueMin();break;case t.ui.keyCode.END:i=this._valueMax();break;case t.ui.keyCode.PAGE_UP:i=this._trimAlignValue(n+(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.PAGE_DOWN:i=this._trimAlignValue(n-(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(n===this._valueMax())return;i=this._trimAlignValue(n+o);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(n===this._valueMin())return;i=this._trimAlignValue(n-o)}this._slide(e,s,i)},keyup:function(e){var n=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,n),this._change(e,n),t(e.target).removeClass("ui-state-active"))}}}),t.widget("ui.sortable",t.ui.mouse,{version:"1.11.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,n){return t>=e&&t<e+n},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){var t=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=!!this.items.length&&("x"===t.axis||this._isFloating(this.items[0].item)),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),t.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,n){var i=null,o=!1,s=this;return!(this.reverting||this.options.disabled||"static"===this.options.type||(this._refreshItems(e),t(e.target).parents().each(function(){if(t.data(this,s.widgetName+"-item")===s)return i=t(this),!1}),t.data(e.target,s.widgetName+"-item")===s&&(i=t(e.target)),!i||this.options.handle&&!n&&(t(this.options.handle,i).find("*").addBack().each(function(){this===e.target&&(o=!0)}),!o)||(this.currentItem=i,this._removeCurrentsFromItems(),0)))},_mouseStart:function(e,n,i){var o,s,r=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,r.cursorAt&&this._adjustOffsetFromHelper(r.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),r.containment&&this._setContainment(),r.cursor&&"auto"!==r.cursor&&(s=this.document.find("body"),this.storedCursor=s.css("cursor"),s.css("cursor",r.cursor),this.storedStylesheet=t("<style>*{ cursor: "+r.cursor+" !important; }</style>").appendTo(s)),r.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",r.opacity)),r.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",r.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(o=this.containers.length-1;o>=0;o--)this.containers[o]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!r.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var n,i,o,s,r=this.options,a=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<r.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+r.scrollSpeed:e.pageY-this.overflowOffset.top<r.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-r.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<r.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+r.scrollSpeed:e.pageX-this.overflowOffset.left<r.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-r.scrollSpeed)):(e.pageY-t(document).scrollTop()<r.scrollSensitivity?a=t(document).scrollTop(t(document).scrollTop()-r.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<r.scrollSensitivity&&(a=t(document).scrollTop(t(document).scrollTop()+r.scrollSpeed)),e.pageX-t(document).scrollLeft()<r.scrollSensitivity?a=t(document).scrollLeft(t(document).scrollLeft()-r.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<r.scrollSensitivity&&(a=t(document).scrollLeft(t(document).scrollLeft()+r.scrollSpeed))),!1!==a&&t.ui.ddmanager&&!r.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),n=this.items.length-1;n>=0;n--)if(o=(i=this.items[n]).item[0],(s=this._intersectsWithPointer(i))&&i.instance===this.currentContainer&&!(o===this.currentItem[0]||this.placeholder[1===s?"next":"prev"]()[0]===o||t.contains(this.placeholder[0],o)||"semi-dynamic"===this.options.type&&t.contains(this.element[0],o))){if(this.direction=1===s?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(e,i),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,n){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var i=this,o=this.placeholder.offset(),s=this.options.axis,r={};s&&"x"!==s||(r.left=o.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),s&&"y"!==s||(r.top=o.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(r,parseInt(this.options.revert,10)||500,function(){i._clear(e)})}else this._clear(e,n);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},t(n).each(function(){var n=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);n&&i.push((e.key||n[1]+"[]")+"="+(e.key&&e.expression?n[1]:n[2]))}),!i.length&&e.key&&i.push(e.key+"="),i.join("&")},toArray:function(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},n.each(function(){i.push(t(e.item||this).attr(e.attribute||"id")||"")}),i},_intersectsWith:function(t){var e=this.positionAbs.left,n=this.positionAbs.top,i=t.left,o=i+t.width,s=t.top,r=s+t.height,a=this.offset.click.top,l=this.offset.click.left;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?("x"===this.options.axis||n+a>s&&n+a<r)&&("y"===this.options.axis||e+l>i&&e+l<o):i<e+this.helperProportions.width/2&&e+this.helperProportions.width-this.helperProportions.width/2<o&&s<n+this.helperProportions.height/2&&n+this.helperProportions.height-this.helperProportions.height/2<r},_intersectsWithPointer:function(t){var e="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),n="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),i=e&&n,o=this._getDragVerticalDirection(),s=this._getDragHorizontalDirection();return!!i&&(this.floating?s&&"right"===s||"down"===o?2:1:o&&("down"===o?2:1))},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),n=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),i=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return this.floating&&o?"right"===o&&n||"left"===o&&!n:i&&("down"===i&&e||"up"===i&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){var n,i,o,s,r=[],a=[],l=this._connectWith();if(l&&e)for(n=l.length-1;n>=0;n--)for(i=(o=t(l[n])).length-1;i>=0;i--)(s=t.data(o[i],this.widgetFullName))&&s!==this&&!s.options.disabled&&a.push([t.isFunction(s.options.items)?s.options.items.call(s.element):t(s.options.items,s.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),s]);function c(){r.push(this)}for(a.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),n=a.length-1;n>=0;n--)a[n][0].each(c);return t(r)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var n=0;n<e.length;n++)if(e[n]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var n,i,o,s,r,a,l,c,u=this.items,h=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(n=d.length-1;n>=0;n--)for(i=(o=t(d[n])).length-1;i>=0;i--)(s=t.data(o[i],this.widgetFullName))&&s!==this&&!s.options.disabled&&(h.push([t.isFunction(s.options.items)?s.options.items.call(s.element[0],e,{item:this.currentItem}):t(s.options.items,s.element),s]),this.containers.push(s));for(n=h.length-1;n>=0;n--)for(r=h[n][1],i=0,c=(a=h[n][0]).length;i<c;i++)(l=t(a[i])).data(this.widgetName+"-item",r),u.push({item:l,instance:r,width:0,height:0,left:0,top:0})},refreshPositions:function(e){var n,i,o,s;for(this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),n=this.items.length-1;n>=0;n--)(i=this.items[n]).instance!==this.currentContainer&&this.currentContainer&&i.item[0]!==this.currentItem[0]||(o=this.options.toleranceElement?t(this.options.toleranceElement,i.item):i.item,e||(i.width=o.outerWidth(),i.height=o.outerHeight()),s=o.offset(),i.left=s.left,i.top=s.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--)s=this.containers[n].element.offset(),this.containers[n].containerCache.left=s.left,this.containers[n].containerCache.top=s.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight();return this},_createPlaceholder:function(e){var n,i=(e=e||this).options;i.placeholder&&i.placeholder.constructor!==String||(n=i.placeholder,i.placeholder={element:function(){var i=e.currentItem[0].nodeName.toLowerCase(),o=t("<"+i+">",e.document[0]).addClass(n||e.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===i?e.currentItem.children().each(function(){t("<td>&#160;</td>",e.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(o)}):"img"===i&&o.attr("src",e.currentItem.attr("src")),n||o.css("visibility","hidden"),o},update:function(t,o){n&&!i.forcePlaceholderSize||(o.height()||o.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),o.width()||o.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(i.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),i.placeholder.update(e,e.placeholder)},_contactContainers:function(e){var n,i,o,s,r,a,l,c,u,h,d=null,f=null;for(n=this.containers.length-1;n>=0;n--)if(!t.contains(this.currentItem[0],this.containers[n].element[0]))if(this._intersectsWith(this.containers[n].containerCache)){if(d&&t.contains(this.containers[n].element[0],d.element[0]))continue;d=this.containers[n],f=n}else this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",e,this._uiHash(this)),this.containers[n].containerCache.over=0);if(d)if(1===this.containers.length)this.containers[f].containerCache.over||(this.containers[f]._trigger("over",e,this._uiHash(this)),this.containers[f].containerCache.over=1);else{for(o=1e4,s=null,r=(u=d.floating||this._isFloating(this.currentItem))?"left":"top",a=u?"width":"height",h=u?"clientX":"clientY",i=this.items.length-1;i>=0;i--)t.contains(this.containers[f].element[0],this.items[i].item[0])&&this.items[i].item[0]!==this.currentItem[0]&&(l=this.items[i].item.offset()[r],c=!1,e[h]-l>this.items[i][a]/2&&(c=!0),Math.abs(e[h]-l)<o&&(o=Math.abs(e[h]-l),s=this.items[i],this.direction=c?"up":"down"));if(!s&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[f])return;s?this._rearrange(e,s,null,!0):this._rearrange(e,null,this.containers[f].element,!0),this._trigger("change",e,this._uiHash()),this.containers[f]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[f],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[f]._trigger("over",e,this._uiHash(this)),this.containers[f].containerCache.over=1}},_createHelper:function(e){var n=this.options,i=t.isFunction(n.helper)?t(n.helper.apply(this.element[0],[e,this.currentItem])):"clone"===n.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||t("parent"!==n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),i[0].style.width&&!n.forceHelperSize||i.width(this.currentItem.width()),i[0].style.height&&!n.forceHelperSize||i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,n,i,o=this.options;"parent"===o.containment&&(o.containment=this.helper[0].parentNode),"document"!==o.containment&&"window"!==o.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,t("document"===o.containment?document:window).width()-this.helperProportions.width-this.margins.left,(t("document"===o.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(o.containment)||(e=t(o.containment)[0],n=t(o.containment).offset(),i="hidden"!==t(e).css("overflow"),this.containment=[n.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,n.left+(i?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(i?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,n){n||(n=this.position);var i="absolute"===e?1:-1,o="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,s=/(html|body)/i.test(o[0].tagName);return{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():s?0:o.scrollTop())*i,left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():s?0:o.scrollLeft())*i}},_generatePosition:function(e){var n,i,o=this.options,s=e.pageX,r=e.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(a[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(s=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(r=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(s=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(r=this.containment[3]+this.offset.click.top)),o.grid&&(n=this.originalPageY+Math.round((r-this.originalPageY)/o.grid[1])*o.grid[1],r=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-o.grid[1]:n+o.grid[1]:n,i=this.originalPageX+Math.round((s-this.originalPageX)/o.grid[0])*o.grid[0],s=this.containment?i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2]?i:i-this.offset.click.left>=this.containment[0]?i-o.grid[0]:i+o.grid[0]:i)),{top:r-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:a.scrollTop()),left:s-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:a.scrollLeft())}},_rearrange:function(t,e,n,i){n?n[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var o=this.counter;this._delay(function(){o===this.counter&&this.refreshPositions(!i)})},_clear:function(t,e){this.reverting=!1;var n,i=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)"auto"!==this._storedCSS[n]&&"static"!==this._storedCSS[n]||(this._storedCSS[n]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();function o(t,e,n){return function(i){n._trigger(t,i,e._uiHash(e))}}for(this.fromOutside&&!e&&i.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||i.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(i.push(function(t){this._trigger("remove",t,this._uiHash())}),i.push((function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}).call(this,this.currentContainer)),i.push((function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}).call(this,this.currentContainer)))),n=this.containers.length-1;n>=0;n--)e||i.push(o("deactivate",this,this.containers[n])),this.containers[n].containerCache.over&&(i.push(o("out",this,this.containers[n])),this.containers[n].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!e){for(this._trigger("beforeStop",t,this._uiHash()),n=0;n<i.length;n++)i[n].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!1}if(e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!e){for(n=0;n<i.length;n++)i[n].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){!1===t.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(e){var n=e||this;return{helper:n.helper,placeholder:n.placeholder||t([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:e?e.element:null}}}),t.widget("ui.spinner",{version:"1.11.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var e={},n=this.element;return t.each(["min","max","step"],function(t,i){var o=n.attr(i);void 0!==o&&o.length&&(e[i]=o)}),e},_events:{keydown:function(t){this._start(t)&&this._keydown(t)&&t.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(t){this.cancelBlur?delete this.cancelBlur:(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",t))},mousewheel:function(t,e){if(e){if(!this.spinning&&!this._start(t))return!1;this._spin((e>0?1:-1)*this.options.step,t),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(t)},100),t.preventDefault()}},"mousedown .ui-spinner-button":function(e){var n;function i(){this.element[0]===this.document[0].activeElement||(this.element.focus(),this.previous=n,this._delay(function(){this.previous=n}))}n=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),e.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),!1!==this._start(e)&&this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(e){if(t(e.currentTarget).hasClass("ui-state-active"))return!1!==this._start(e)&&void this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var t=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=t.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*t.height())&&t.height()>0&&t.height(t.height()),this.options.disabled&&this.disable()},_keydown:function(e){var n=this.options,i=t.ui.keyCode;switch(e.keyCode){case i.UP:return this._repeat(null,1,e),!0;case i.DOWN:return this._repeat(null,-1,e),!0;case i.PAGE_UP:return this._repeat(null,n.page,e),!0;case i.PAGE_DOWN:return this._repeat(null,-n.page,e),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(t){return!(!this.spinning&&!1===this._trigger("start",t)||(this.counter||(this.counter=1),this.spinning=!0,0))},_repeat:function(t,e,n){t=t||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,e,n)},t),this._spin(e*this.options.step,n)},_spin:function(t,e){var n=this.value()||0;this.counter||(this.counter=1),n=this._adjustValue(n+t*this._increment(this.counter)),this.spinning&&!1===this._trigger("spin",e,{value:n})||(this._value(n),this.counter++)},_increment:function(e){var n=this.options.incremental;return n?t.isFunction(n)?n(e):Math.floor(e*e*e/5e4-e*e/500+17*e/200+1):1},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=t.toString(),n=e.indexOf(".");return-1===n?0:e.length-n-1},_adjustValue:function(t){var e,n,i=this.options;return n=t-(e=null!==i.min?i.min:0),t=e+(n=Math.round(n/i.step)*i.step),t=parseFloat(t.toFixed(this._precision())),null!==i.max&&t>i.max?i.max:null!==i.min&&t<i.min?i.min:t},_stop:function(t){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",t))},_setOption:function(t,e){if("culture"===t||"numberFormat"===t){var n=this._parse(this.element.val());return this.options[t]=e,void this.element.val(this._format(n))}"max"!==t&&"min"!==t&&"step"!==t||"string"==typeof e&&(e=this._parse(e)),"icons"===t&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(e.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(e.down)),this._super(t,e),"disabled"===t&&(this.widget().toggleClass("ui-state-disabled",!!e),this.element.prop("disabled",!!e),this.buttons.button(e?"disable":"enable"))},_setOptions:C(function(t){this._super(t)}),_parse:function(t){return"string"==typeof t&&""!==t&&(t=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(t,10,this.options.culture):+t),""===t||isNaN(t)?null:t},_format:function(t){return""===t?"":window.Globalize&&this.options.numberFormat?Globalize.format(t,this.options.numberFormat,this.options.culture):t},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var t=this.value();return null!==t&&t===this._adjustValue(t)},_value:function(t,e){var n;""!==t&&null!==(n=this._parse(t))&&(e||(n=this._adjustValue(n)),t=this._format(n)),this.element.val(t),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:C(function(t){this._stepUp(t)}),_stepUp:function(t){this._start()&&(this._spin((t||1)*this.options.step),this._stop())},stepDown:C(function(t){this._stepDown(t)}),_stepDown:function(t){this._start()&&(this._spin((t||1)*-this.options.step),this._stop())},pageUp:C(function(t){this._stepUp((t||1)*this.options.page)}),pageDown:C(function(t){this._stepDown((t||1)*this.options.page)}),value:function(t){if(!arguments.length)return this._parse(this.element.val());C(this._value).call(this,t)},widget:function(){return this.uiSpinner}}),t.widget("ui.tabs",{version:"1.11.1",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:(_=/#.*$/,function(t){var e,n;e=(t=t.cloneNode(!1)).href.replace(_,""),n=location.href.replace(_,"");try{e=decodeURIComponent(e)}catch(t){}try{n=decodeURIComponent(n)}catch(t){}return t.hash.length>1&&e===n}),_create:function(){var e=this,n=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",n.collapsible),this._processTabs(),n.active=this._initialActive(),t.isArray(n.disabled)&&(n.disabled=t.unique(n.disabled.concat(t.map(this.tabs.filter(".ui-state-disabled"),function(t){return e.tabs.index(t)}))).sort()),this.active=!1!==this.options.active&&this.anchors.length?this._findActive(n.active):t(),this._refresh(),this.active.length&&this.load(n.active)},_initialActive:function(){var e=this.options.active,n=this.options.collapsible,i=location.hash.substring(1);return null===e&&(i&&this.tabs.each(function(n,o){if(t(o).attr("aria-controls")===i)return e=n,!1}),null===e&&(e=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null!==e&&-1!==e||(e=!!this.tabs.length&&0)),!1!==e&&-1===(e=this.tabs.index(this.tabs.eq(e)))&&(e=!n&&0),!n&&!1===e&&this.anchors.length&&(e=0),e},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):t()}},_tabKeydown:function(e){var n=t(this.document[0].activeElement).closest("li"),i=this.tabs.index(n),o=!0;if(!this._handlePageNav(e)){switch(e.keyCode){case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:i++;break;case t.ui.keyCode.UP:case t.ui.keyCode.LEFT:o=!1,i--;break;case t.ui.keyCode.END:i=this.anchors.length-1;break;case t.ui.keyCode.HOME:i=0;break;case t.ui.keyCode.SPACE:return e.preventDefault(),clearTimeout(this.activating),void this._activate(i);case t.ui.keyCode.ENTER:return e.preventDefault(),clearTimeout(this.activating),void this._activate(i!==this.options.active&&i);default:return}e.preventDefault(),clearTimeout(this.activating),i=this._focusNextTab(i,o),e.ctrlKey||(n.attr("aria-selected","false"),this.tabs.eq(i).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",i)},this.delay))}},_panelKeydown:function(e){this._handlePageNav(e)||e.ctrlKey&&e.keyCode===t.ui.keyCode.UP&&(e.preventDefault(),this.active.focus())},_handlePageNav:function(e){return e.altKey&&e.keyCode===t.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):e.altKey&&e.keyCode===t.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(e,n){for(var i=this.tabs.length-1;-1!==t.inArray((e>i&&(e=0),e<0&&(e=i),e),this.options.disabled);)e=n?e+1:e-1;return e},_focusNextTab:function(t,e){return t=this._findNextTab(t,e),this.tabs.eq(t).focus(),t},_setOption:function(t,e){"active"!==t?"disabled"!==t?(this._super(t,e),"collapsible"===t&&(this.element.toggleClass("ui-tabs-collapsible",e),e||!1!==this.options.active||this._activate(0)),"event"===t&&this._setupEvents(e),"heightStyle"===t&&this._setupHeightStyle(e)):this._setupDisabled(e):this._activate(e)},_sanitizeSelector:function(t){return t?t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,n=this.tablist.children(":has(a[href])");e.disabled=t.map(n.filter(".ui-state-disabled"),function(t){return n.index(t)}),this._processTabs(),!1!==e.active&&this.anchors.length?this.active.length&&!t.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=t()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active):(e.active=!1,this.active=t()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var e=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist").delegate("> li","mousedown"+this.eventNamespace,function(e){t(this).is(".ui-state-disabled")&&e.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){t(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return t("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=t(),this.anchors.each(function(n,i){var o,s,r,a=t(i).uniqueId().attr("id"),l=t(i).closest("li"),c=l.attr("aria-controls");e._isLocal(i)?(r=(o=i.hash).substring(1),s=e.element.find(e._sanitizeSelector(o))):(r=l.attr("aria-controls")||t({}).uniqueId()[0].id,(s=e.element.find(o="#"+r)).length||(s=e._createPanel(r)).insertAfter(e.panels[n-1]||e.tablist),s.attr("aria-live","polite")),s.length&&(e.panels=e.panels.add(s)),c&&l.data("ui-tabs-aria-controls",c),l.attr({"aria-controls":r,"aria-labelledby":a}),s.attr("aria-labelledby",a)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(e){return t("<div>").attr("id",e).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(e){t.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1);for(var n,i=0;n=this.tabs[i];i++)!0===e||-1!==t.inArray(i,e)?t(n).addClass("ui-state-disabled").attr("aria-disabled","true"):t(n).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=e},_setupEvents:function(e){var n={};e&&t.each(e.split(" "),function(t,e){n[e]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(t){t.preventDefault()}}),this._on(this.anchors,n),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(e){var n,i=this.element.parent();"fill"===e?(n=i.height(),n-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var e=t(this),i=e.css("position");"absolute"!==i&&"fixed"!==i&&(n-=e.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){n-=t(this).outerHeight(!0)}),this.panels.each(function(){t(this).height(Math.max(0,n-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===e&&(n=0,this.panels.each(function(){n=Math.max(n,t(this).height("").height())}).height(n))},_eventHandler:function(e){var n=this.options,i=this.active,o=t(e.currentTarget).closest("li"),s=o[0]===i[0],r=s&&n.collapsible,a=r?t():this._getPanelForTab(o),l=i.length?this._getPanelForTab(i):t(),c={oldTab:i,oldPanel:l,newTab:r?t():o,newPanel:a};e.preventDefault(),o.hasClass("ui-state-disabled")||o.hasClass("ui-tabs-loading")||this.running||s&&!n.collapsible||!1===this._trigger("beforeActivate",e,c)||(n.active=!r&&this.tabs.index(o),this.active=s?t():o,this.xhr&&this.xhr.abort(),l.length||a.length||t.error("jQuery UI Tabs: Mismatching fragment identifier."),a.length&&this.load(this.tabs.index(o),e),this._toggle(e,c))},_toggle:function(e,n){var i=this,o=n.newPanel,s=n.oldPanel;function r(){i.running=!1,i._trigger("activate",e,n)}function a(){n.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),o.length&&i.options.show?i._show(o,i.options.show,r):(o.show(),r())}this.running=!0,s.length&&this.options.hide?this._hide(s,this.options.hide,function(){n.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),a()}):(n.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),s.hide(),a()),s.attr("aria-hidden","true"),n.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),o.length&&s.length?n.oldTab.attr("tabIndex",-1):o.length&&this.tabs.filter(function(){return 0===t(this).attr("tabIndex")}).attr("tabIndex",-1),o.attr("aria-hidden","false"),n.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(e){var n,i=this._findActive(e);i[0]!==this.active[0]&&(i.length||(i=this.active),n=i.find(".ui-tabs-anchor")[0],this._eventHandler({target:n,currentTarget:n,preventDefault:t.noop}))},_findActive:function(e){return!1===e?t():this.tabs.eq(e)},_getIndex:function(t){return"string"==typeof t&&(t=this.anchors.index(this.anchors.filter("[href$='"+t+"']"))),t},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tablist.unbind(this.eventNamespace),this.tabs.add(this.panels).each(function(){t.data(this,"ui-tabs-destroy")?t(this).remove():t(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var e=t(this),n=e.data("ui-tabs-aria-controls");n?e.attr("aria-controls",n).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(e){var n=this.options.disabled;!1!==n&&(void 0===e?n=!1:(e=this._getIndex(e),n=t.isArray(n)?t.map(n,function(t){return t!==e?t:null}):t.map(this.tabs,function(t,n){return n!==e?n:null})),this._setupDisabled(n))},disable:function(e){var n=this.options.disabled;if(!0!==n){if(void 0===e)n=!0;else{if(e=this._getIndex(e),-1!==t.inArray(e,n))return;n=t.isArray(n)?t.merge([e],n).sort():[e]}this._setupDisabled(n)}},load:function(e,n){e=this._getIndex(e);var i=this,o=this.tabs.eq(e),s=o.find(".ui-tabs-anchor"),r=this._getPanelForTab(o),a={tab:o,panel:r};this._isLocal(s[0])||(this.xhr=t.ajax(this._ajaxSettings(s,n,a)),this.xhr&&"canceled"!==this.xhr.statusText&&(o.addClass("ui-tabs-loading"),r.attr("aria-busy","true"),this.xhr.success(function(t){setTimeout(function(){r.html(t),i._trigger("load",n,a)},1)}).complete(function(t,e){setTimeout(function(){"abort"===e&&i.panels.stop(!1,!0),o.removeClass("ui-tabs-loading"),r.removeAttr("aria-busy"),t===i.xhr&&delete i.xhr},1)})))},_ajaxSettings:function(e,n,i){var o=this;return{url:e.attr("href"),beforeSend:function(e,s){return o._trigger("beforeLoad",n,t.extend({jqXHR:e,ajaxSettings:s},i))}}},_getPanelForTab:function(e){var n=t(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+n))}}),t.widget("ui.tooltip",{version:"1.11.1",options:{content:function(){var e=t(this).attr("title")||"";return t("<a>").text(e).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_addDescribedBy:function(e,n){var i=(e.attr("aria-describedby")||"").split(/\s+/);i.push(n),e.data("ui-tooltip-id",n).attr("aria-describedby",t.trim(i.join(" ")))},_removeDescribedBy:function(e){var n=e.data("ui-tooltip-id"),i=(e.attr("aria-describedby")||"").split(/\s+/),o=t.inArray(n,i);-1!==o&&i.splice(o,1),e.removeData("ui-tooltip-id"),(i=t.trim(i.join(" ")))?e.attr("aria-describedby",i):e.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable(),this.liveRegion=t("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body)},_setOption:function(e,n){var i=this;if("disabled"===e)return this[n?"_disable":"_enable"](),void(this.options[e]=n);this._super(e,n),"content"===e&&t.each(this.tooltips,function(t,e){i._updateContent(e)})},_disable:function(){var e=this;t.each(this.tooltips,function(n,i){var o=t.Event("blur");o.target=o.currentTarget=i[0],e.close(o,!0)}),this.element.find(this.options.items).addBack().each(function(){var e=t(this);e.is("[title]")&&e.data("ui-tooltip-title",e.attr("title")).removeAttr("title")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var e=t(this);e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title"))})},open:function(e){var n=this,i=t(e?e.target:this.element).closest(this.options.items);i.length&&!i.data("ui-tooltip-id")&&(i.attr("title")&&i.data("ui-tooltip-title",i.attr("title")),i.data("ui-tooltip-open",!0),e&&"mouseover"===e.type&&i.parents().each(function(){var e,i=t(this);i.data("ui-tooltip-open")&&((e=t.Event("blur")).target=e.currentTarget=this,n.close(e,!0)),i.attr("title")&&(i.uniqueId(),n.parents[this.id]={element:this,title:i.attr("title")},i.attr("title",""))}),this._updateContent(i,e))},_updateContent:function(t,e){var n,i=this.options.content,o=this,s=e?e.type:null;if("string"==typeof i)return this._open(e,t,i);(n=i.call(t[0],function(n){t.data("ui-tooltip-open")&&o._delay(function(){e&&(e.type=s),this._open(e,t,n)})}))&&this._open(e,t,n)},_open:function(e,n,i){var o,s,r,a,l=t.extend({},this.options.position);function c(t){l.of=t,o.is(":hidden")||o.position(l)}i&&((o=this._find(n)).length?o.find(".ui-tooltip-content").html(i):(n.is("[title]")&&(e&&"mouseover"===e.type?n.attr("title",""):n.removeAttr("title")),o=this._tooltip(n),this._addDescribedBy(n,o.attr("id")),o.find(".ui-tooltip-content").html(i),this.liveRegion.children().hide(),i.clone?(a=i.clone()).removeAttr("id").find("[id]").removeAttr("id"):a=i,t("<div>").html(a).appendTo(this.liveRegion),this.options.track&&e&&/^mouse/.test(e.type)?(this._on(this.document,{mousemove:c}),c(e)):o.position(t.extend({of:n},this.options.position)),this.hiding=!1,this.closing=!1,o.hide(),this._show(o,this.options.show),this.options.show&&this.options.show.delay&&(r=this.delayedShow=setInterval(function(){o.is(":visible")&&(c(l.of),clearInterval(r))},t.fx.interval)),this._trigger("open",e,{tooltip:o}),s={keyup:function(e){if(e.keyCode===t.ui.keyCode.ESCAPE){var i=t.Event(e);i.currentTarget=n[0],this.close(i,!0)}}},n[0]!==this.element[0]&&(s.remove=function(){this._removeTooltip(o)}),e&&"mouseover"!==e.type||(s.mouseleave="close"),e&&"focusin"!==e.type||(s.focusout="close"),this._on(!0,n,s)))},close:function(e){var n=this,i=t(e?e.currentTarget:this.element),o=this._find(i);this.closing||(clearInterval(this.delayedShow),i.data("ui-tooltip-title")&&!i.attr("title")&&i.attr("title",i.data("ui-tooltip-title")),this._removeDescribedBy(i),this.hiding=!0,o.stop(!0),this._hide(o,this.options.hide,function(){n._removeTooltip(t(this)),this.hiding=!1,this.closing=!1}),i.removeData("ui-tooltip-open"),this._off(i,"mouseleave focusout keyup"),i[0]!==this.element[0]&&this._off(i,"remove"),this._off(this.document,"mousemove"),e&&"mouseleave"===e.type&&t.each(this.parents,function(e,i){t(i.element).attr("title",i.title),delete n.parents[e]}),this.closing=!0,this._trigger("close",e,{tooltip:o}),this.hiding||(this.closing=!1))},_tooltip:function(e){var n=t("<div>").attr("role","tooltip").addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||"")),i=n.uniqueId().attr("id");return t("<div>").addClass("ui-tooltip-content").appendTo(n),n.appendTo(this.document[0].body),this.tooltips[i]=e,n},_find:function(e){var n=e.data("ui-tooltip-id");return n?t("#"+n):t()},_removeTooltip:function(t){t.remove(),delete this.tooltips[t.attr("id")]},_destroy:function(){var e=this;t.each(this.tooltips,function(n,i){var o=t.Event("blur");o.target=o.currentTarget=i[0],e.close(o,!0),t("#"+n).remove(),i.data("ui-tooltip-title")&&(i.attr("title")||i.attr("title",i.data("ui-tooltip-title")),i.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}})}),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");!function(t){"use strict";var e=t.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1||e[0]>3)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")}(jQuery),function(t){"use strict";t.fn.emulateTransitionEnd=function(e){var n=!1,i=this;return t(this).one("bsTransitionEnd",function(){n=!0}),setTimeout(function(){n||t(i).trigger(t.support.transition.end)},e),this},t(function(){t.support.transition=function(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(void 0!==t.style[n])return{end:e[n]};return!1}(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){if(t(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}})})}(jQuery),function(t){"use strict";var e='[data-dismiss="alert"]',n=function(n){t(n).on("click",e,this.close)};n.VERSION="3.3.7",n.TRANSITION_DURATION=150,n.prototype.close=function(e){var i=t(this),o=i.attr("data-target");o||(o=(o=i.attr("href"))&&o.replace(/.*(?=#[^\s]*$)/,""));var s=t("#"===o?[]:o);function r(){s.detach().trigger("closed.bs.alert").remove()}e&&e.preventDefault(),s.length||(s=i.closest(".alert")),s.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(s.removeClass("in"),t.support.transition&&s.hasClass("fade")?s.one("bsTransitionEnd",r).emulateTransitionEnd(n.TRANSITION_DURATION):r())};var i=t.fn.alert;t.fn.alert=function(e){return this.each(function(){var i=t(this),o=i.data("bs.alert");o||i.data("bs.alert",o=new n(this)),"string"==typeof e&&o[e].call(i)})},t.fn.alert.Constructor=n,t.fn.alert.noConflict=function(){return t.fn.alert=i,this},t(document).on("click.bs.alert.data-api",e,n.prototype.close)}(jQuery),function(t){"use strict";var e=function(n,i){this.$element=t(n),this.options=t.extend({},e.DEFAULTS,i),this.isLoading=!1};function n(n){return this.each(function(){var i=t(this),o=i.data("bs.button");o||i.data("bs.button",o=new e(this,"object"==typeof n&&n)),"toggle"==n?o.toggle():n&&o.setState(n)})}e.VERSION="3.3.7",e.DEFAULTS={loadingText:"loading..."},e.prototype.setState=function(e){var n="disabled",i=this.$element,o=i.is("input")?"val":"html",s=i.data();e+="Text",null==s.resetText&&i.data("resetText",i[o]()),setTimeout(t.proxy(function(){i[o](null==s[e]?this.options[e]:s[e]),"loadingText"==e?(this.isLoading=!0,i.addClass(n).attr(n,n).prop(n,!0)):this.isLoading&&(this.isLoading=!1,i.removeClass(n).removeAttr(n).prop(n,!1))},this),0)},e.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var n=this.$element.find("input");"radio"==n.prop("type")?(n.prop("checked")&&(t=!1),e.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==n.prop("type")&&(n.prop("checked")!==this.$element.hasClass("active")&&(t=!1),this.$element.toggleClass("active")),n.prop("checked",this.$element.hasClass("active")),t&&n.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var i=t.fn.button;t.fn.button=n,t.fn.button.Constructor=e,t.fn.button.noConflict=function(){return t.fn.button=i,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(e){var i=t(e.target).closest(".btn");n.call(i,"toggle"),t(e.target).is('input[type="radio"], input[type="checkbox"]')||(e.preventDefault(),i.is("input,button")?i.trigger("focus"):i.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(e){t(e.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(e.type))})}(jQuery),function(t){"use strict";var e=function(e,n){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",t.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};function n(n){return this.each(function(){var i=t(this),o=i.data("bs.carousel"),s=t.extend({},e.DEFAULTS,i.data(),"object"==typeof n&&n),r="string"==typeof n?n:s.slide;o||i.data("bs.carousel",o=new e(this,s)),"number"==typeof n?o.to(n):r?o[r]():s.interval&&o.pause().cycle()})}e.VERSION="3.3.7",e.TRANSITION_DURATION=600,e.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},e.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},e.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},e.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},e.prototype.getItemForDirection=function(t,e){var n=this.getItemIndex(e);return("prev"==t&&0===n||"next"==t&&n==this.$items.length-1)&&!this.options.wrap?e:this.$items.eq((n+("prev"==t?-1:1))%this.$items.length)},e.prototype.to=function(t){var e=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(t>this.$items.length-1||t<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):n==t?this.pause().cycle():this.slide(t>n?"next":"prev",this.$items.eq(t))},e.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},e.prototype.next=function(){if(!this.sliding)return this.slide("next")},e.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},e.prototype.slide=function(n,i){var o=this.$element.find(".item.active"),s=i||this.getItemForDirection(n,o),r=this.interval,a="next"==n?"left":"right",l=this;if(s.hasClass("active"))return this.sliding=!1;var c=s[0],u=t.Event("slide.bs.carousel",{relatedTarget:c,direction:a});if(this.$element.trigger(u),!u.isDefaultPrevented()){if(this.sliding=!0,r&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var h=t(this.$indicators.children()[this.getItemIndex(s)]);h&&h.addClass("active")}var d=t.Event("slid.bs.carousel",{relatedTarget:c,direction:a});return t.support.transition&&this.$element.hasClass("slide")?(s.addClass(n),o.addClass(a),s.addClass(a),o.one("bsTransitionEnd",function(){s.removeClass([n,a].join(" ")).addClass("active"),o.removeClass(["active",a].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(d)},0)}).emulateTransitionEnd(e.TRANSITION_DURATION)):(o.removeClass("active"),s.addClass("active"),this.sliding=!1,this.$element.trigger(d)),r&&this.cycle(),this}};var i=t.fn.carousel;t.fn.carousel=n,t.fn.carousel.Constructor=e,t.fn.carousel.noConflict=function(){return t.fn.carousel=i,this};var o=function(e){var i,o=t(this),s=t(o.attr("data-target")||(i=o.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""));if(s.hasClass("carousel")){var r=t.extend({},s.data(),o.data()),a=o.attr("data-slide-to");a&&(r.interval=!1),n.call(s,r),a&&s.data("bs.carousel").to(a),e.preventDefault()}};t(document).on("click.bs.carousel.data-api","[data-slide]",o).on("click.bs.carousel.data-api","[data-slide-to]",o),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var e=t(this);n.call(e,e.data())})})}(jQuery),function(t){"use strict";var e=function(n,i){this.$element=t(n),this.options=t.extend({},e.DEFAULTS,i),this.$trigger=t('[data-toggle="collapse"][href="#'+n.id+'"],[data-toggle="collapse"][data-target="#'+n.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};function n(e){var n,i=e.attr("data-target")||(n=e.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"");return t(i)}function i(n){return this.each(function(){var i=t(this),o=i.data("bs.collapse"),s=t.extend({},e.DEFAULTS,i.data(),"object"==typeof n&&n);!o&&s.toggle&&/show|hide/.test(n)&&(s.toggle=!1),o||i.data("bs.collapse",o=new e(this,s)),"string"==typeof n&&o[n]()})}e.VERSION="3.3.7",e.TRANSITION_DURATION=350,e.DEFAULTS={toggle:!0},e.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},e.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var n,o=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(o&&o.length&&(n=o.data("bs.collapse"))&&n.transitioning)){var s=t.Event("show.bs.collapse");if(this.$element.trigger(s),!s.isDefaultPrevented()){o&&o.length&&(i.call(o,"hide"),n||o.data("bs.collapse",null));var r=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[r](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var a=function(){this.$element.removeClass("collapsing").addClass("collapse in")[r](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return a.call(this);var l=t.camelCase(["scroll",r].join("-"));this.$element.one("bsTransitionEnd",t.proxy(a,this)).emulateTransitionEnd(e.TRANSITION_DURATION)[r](this.$element[0][l])}}}},e.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var n=t.Event("hide.bs.collapse");if(this.$element.trigger(n),!n.isDefaultPrevented()){var i=this.dimension();this.$element[i](this.$element[i]()),this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var o=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!t.support.transition)return o.call(this);this.$element[i](0).one("bsTransitionEnd",t.proxy(o,this)).emulateTransitionEnd(e.TRANSITION_DURATION)}}},e.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},e.prototype.getParent=function(){return t(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy(function(e,i){var o=t(i);this.addAriaAndCollapsedClass(n(o),o)},this)).end()},e.prototype.addAriaAndCollapsedClass=function(t,e){var n=t.hasClass("in");t.attr("aria-expanded",n),e.toggleClass("collapsed",!n).attr("aria-expanded",n)};var o=t.fn.collapse;t.fn.collapse=i,t.fn.collapse.Constructor=e,t.fn.collapse.noConflict=function(){return t.fn.collapse=o,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(e){var o=t(this);o.attr("data-target")||e.preventDefault();var s=n(o),r=s.data("bs.collapse")?"toggle":o.data();i.call(s,r)})}(jQuery),function(t){"use strict";var e=".dropdown-backdrop",n='[data-toggle="dropdown"]',i=function(e){t(e).on("click.bs.dropdown",this.toggle)};function o(e){var n=e.attr("data-target");n||(n=(n=e.attr("href"))&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var i=n&&t(n);return i&&i.length?i:e.parent()}function s(i){i&&3===i.which||(t(e).remove(),t(n).each(function(){var e=t(this),n=o(e),s={relatedTarget:this};n.hasClass("open")&&(i&&"click"==i.type&&/input|textarea/i.test(i.target.tagName)&&t.contains(n[0],i.target)||(n.trigger(i=t.Event("hide.bs.dropdown",s)),i.isDefaultPrevented()||(e.attr("aria-expanded","false"),n.removeClass("open").trigger(t.Event("hidden.bs.dropdown",s)))))}))}i.VERSION="3.3.7",i.prototype.toggle=function(e){var n=t(this);if(!n.is(".disabled, :disabled")){var i=o(n),r=i.hasClass("open");if(s(),!r){"ontouchstart"in document.documentElement&&!i.closest(".navbar-nav").length&&t(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(t(this)).on("click",s);var a={relatedTarget:this};if(i.trigger(e=t.Event("show.bs.dropdown",a)),e.isDefaultPrevented())return;n.trigger("focus").attr("aria-expanded","true"),i.toggleClass("open").trigger(t.Event("shown.bs.dropdown",a))}return!1}},i.prototype.keydown=function(e){if(/(38|40|27|32)/.test(e.which)&&!/input|textarea/i.test(e.target.tagName)){var i=t(this);if(e.preventDefault(),e.stopPropagation(),!i.is(".disabled, :disabled")){var s=o(i),r=s.hasClass("open");if(!r&&27!=e.which||r&&27==e.which)return 27==e.which&&s.find(n).trigger("focus"),i.trigger("click");var a=s.find(".dropdown-menu li:not(.disabled):visible a");if(a.length){var l=a.index(e.target);38==e.which&&l>0&&l--,40==e.which&&l<a.length-1&&l++,~l||(l=0),a.eq(l).trigger("focus")}}}};var r=t.fn.dropdown;t.fn.dropdown=function(e){return this.each(function(){var n=t(this),o=n.data("bs.dropdown");o||n.data("bs.dropdown",o=new i(this)),"string"==typeof e&&o[e].call(n)})},t.fn.dropdown.Constructor=i,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=r,this},t(document).on("click.bs.dropdown.data-api",s).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",n,i.prototype.toggle).on("keydown.bs.dropdown.data-api",n,i.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",i.prototype.keydown)}(jQuery),function(t){"use strict";var e=function(e,n){this.options=n,this.$body=t(document.body),this.$element=t(e),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};function n(n,i){return this.each(function(){var o=t(this),s=o.data("bs.modal"),r=t.extend({},e.DEFAULTS,o.data(),"object"==typeof n&&n);s||o.data("bs.modal",s=new e(this,r)),"string"==typeof n?s[n](i):r.show&&s.show(i)})}e.VERSION="3.3.7",e.TRANSITION_DURATION=300,e.BACKDROP_TRANSITION_DURATION=150,e.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},e.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},e.prototype.show=function(n){var i=this,o=t.Event("show.bs.modal",{relatedTarget:n});this.$element.trigger(o),this.isShown||o.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){i.$element.one("mouseup.dismiss.bs.modal",function(e){t(e.target).is(i.$element)&&(i.ignoreBackdropClick=!0)})}),this.backdrop(function(){var o=t.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),i.adjustDialog(),i.$element.addClass("in"),i.enforceFocus();var s=t.Event("shown.bs.modal",{relatedTarget:n});o?i.$dialog.one("bsTransitionEnd",function(){i.$element.trigger("focus").trigger(s)}).emulateTransitionEnd(e.TRANSITION_DURATION):i.$element.trigger("focus").trigger(s)}))},e.prototype.hide=function(n){n&&n.preventDefault(),n=t.Event("hide.bs.modal"),this.$element.trigger(n),this.isShown&&!n.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(e.TRANSITION_DURATION):this.hideModal())},e.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){document===t.target||this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},e.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},e.prototype.resize=function(){this.isShown?t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this)):t(window).off("resize.bs.modal")},e.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},e.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},e.prototype.backdrop=function(n){var i=this,o=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var s=t.support.transition&&o;if(this.$backdrop=t(document.createElement("div")).addClass("modal-backdrop "+o).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){this.ignoreBackdropClick?this.ignoreBackdropClick=!1:t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide())},this)),this.$backdrop.addClass("in"),!n)return;s?this.$backdrop.one("bsTransitionEnd",n).emulateTransitionEnd(e.BACKDROP_TRANSITION_DURATION):n()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var r=function(){i.removeBackdrop(),n&&n()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",r).emulateTransitionEnd(e.BACKDROP_TRANSITION_DURATION):r()}else n&&n()},e.prototype.handleUpdate=function(){this.adjustDialog()},e.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},e.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},e.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},e.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},e.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},e.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var i=t.fn.modal;t.fn.modal=n,t.fn.modal.Constructor=e,t.fn.modal.noConflict=function(){return t.fn.modal=i,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(e){var i=t(this),o=i.attr("href"),s=t(i.attr("data-target")||o&&o.replace(/.*(?=#[^\s]+$)/,"")),r=s.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(o)&&o},s.data(),i.data());i.is("a")&&e.preventDefault(),s.one("show.bs.modal",function(t){t.isDefaultPrevented()||s.one("hidden.bs.modal",function(){i.is(":visible")&&i.trigger("focus")})}),n.call(s,r,this)})}(jQuery),function(t){"use strict";var e=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)};e.VERSION="3.3.7",e.TRANSITION_DURATION=150,e.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},e.prototype.init=function(e,n,i){if(this.enabled=!0,this.type=e,this.$element=t(n),this.options=this.getOptions(i),this.$viewport=this.options.viewport&&t(t.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var o=this.options.trigger.split(" "),s=o.length;s--;){var r=o[s];if("click"==r)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=r){var a="hover"==r?"mouseleave":"focusout";this.$element.on(("hover"==r?"mouseenter":"focusin")+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(a+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.getOptions=function(e){return(e=t.extend({},this.getDefaults(),this.$element.data(),e)).delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},e.prototype.getDelegateOptions=function(){var e={},n=this.getDefaults();return this._options&&t.each(this._options,function(t,i){n[t]!=i&&(e[t]=i)}),e},e.prototype.enter=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);if(n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),e instanceof t.Event&&(n.inState["focusin"==e.type?"focus":"hover"]=!0),n.tip().hasClass("in")||"in"==n.hoverState)n.hoverState="in";else{if(clearTimeout(n.timeout),n.hoverState="in",!n.options.delay||!n.options.delay.show)return n.show();n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)}},e.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},e.prototype.leave=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);if(n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),e instanceof t.Event&&(n.inState["focusout"==e.type?"focus":"hover"]=!1),!n.isInStateTrue()){if(clearTimeout(n.timeout),n.hoverState="out",!n.options.delay||!n.options.delay.hide)return n.hide();n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)}},e.prototype.show=function(){var n=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(n);var i=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(n.isDefaultPrevented()||!i)return;var o=this,s=this.tip(),r=this.getUID(this.type);this.setContent(),s.attr("id",r),this.$element.attr("aria-describedby",r),this.options.animation&&s.addClass("fade");var a="function"==typeof this.options.placement?this.options.placement.call(this,s[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,c=l.test(a);c&&(a=a.replace(l,"")||"top"),s.detach().css({top:0,left:0,display:"block"}).addClass(a).data("bs."+this.type,this),this.options.container?s.appendTo(this.options.container):s.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var u=this.getPosition(),h=s[0].offsetWidth,d=s[0].offsetHeight;if(c){var f=a,p=this.getPosition(this.$viewport);a="bottom"==a&&u.bottom+d>p.bottom?"top":"top"==a&&u.top-d<p.top?"bottom":"right"==a&&u.right+h>p.width?"left":"left"==a&&u.left-h<p.left?"right":a,s.removeClass(f).addClass(a)}var g=this.getCalculatedOffset(a,u,h,d);this.applyPlacement(g,a);var m=function(){var t=o.hoverState;o.$element.trigger("shown.bs."+o.type),o.hoverState=null,"out"==t&&o.leave(o)};t.support.transition&&this.$tip.hasClass("fade")?s.one("bsTransitionEnd",m).emulateTransitionEnd(e.TRANSITION_DURATION):m()}},e.prototype.applyPlacement=function(e,n){var i=this.tip(),o=i[0].offsetWidth,s=i[0].offsetHeight,r=parseInt(i.css("margin-top"),10),a=parseInt(i.css("margin-left"),10);isNaN(r)&&(r=0),isNaN(a)&&(a=0),e.top+=r,e.left+=a,t.offset.setOffset(i[0],t.extend({using:function(t){i.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),i.addClass("in");var l=i[0].offsetWidth,c=i[0].offsetHeight;"top"==n&&c!=s&&(e.top=e.top+s-c);var u=this.getViewportAdjustedDelta(n,e,l,c);u.left?e.left+=u.left:e.top+=u.top;var h=/top|bottom/.test(n),d=h?2*u.left-o+l:2*u.top-s+c,f=h?"offsetWidth":"offsetHeight";i.offset(e),this.replaceArrow(d,i[0][f],h)},e.prototype.replaceArrow=function(t,e,n){this.arrow().css(n?"left":"top",50*(1-t/e)+"%").css(n?"top":"left","")},e.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},e.prototype.hide=function(n){var i=this,o=t(this.$tip),s=t.Event("hide.bs."+this.type);function r(){"in"!=i.hoverState&&o.detach(),i.$element&&i.$element.removeAttr("aria-describedby").trigger("hidden.bs."+i.type),n&&n()}if(this.$element.trigger(s),!s.isDefaultPrevented())return o.removeClass("in"),t.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",r).emulateTransitionEnd(e.TRANSITION_DURATION):r(),this.hoverState=null,this},e.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},e.prototype.hasContent=function(){return this.getTitle()},e.prototype.getPosition=function(e){var n=(e=e||this.$element)[0],i="BODY"==n.tagName,o=n.getBoundingClientRect();null==o.width&&(o=t.extend({},o,{width:o.right-o.left,height:o.bottom-o.top}));var s=window.SVGElement&&n instanceof window.SVGElement,r=i?{top:0,left:0}:s?null:e.offset(),a={scroll:i?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},l=i?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},o,a,l,r)},e.prototype.getCalculatedOffset=function(t,e,n,i){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-n/2}:"top"==t?{top:e.top-i,left:e.left+e.width/2-n/2}:"left"==t?{top:e.top+e.height/2-i/2,left:e.left-n}:{top:e.top+e.height/2-i/2,left:e.left+e.width}},e.prototype.getViewportAdjustedDelta=function(t,e,n,i){var o={top:0,left:0};if(!this.$viewport)return o;var s=this.options.viewport&&this.options.viewport.padding||0,r=this.getPosition(this.$viewport);if(/right|left/.test(t)){var a=e.top-s-r.scroll,l=e.top+s-r.scroll+i;a<r.top?o.top=r.top-a:l>r.top+r.height&&(o.top=r.top+r.height-l)}else{var c=e.left-s,u=e.left+s+n;c<r.left?o.left=r.left-c:u>r.right&&(o.left=r.left+r.width-u)}return o},e.prototype.getTitle=function(){var t=this.$element,e=this.options;return t.attr("data-original-title")||("function"==typeof e.title?e.title.call(t[0]):e.title)},e.prototype.getUID=function(t){do{t+=~~(1e6*Math.random())}while(document.getElementById(t));return t},e.prototype.tip=function(){if(!this.$tip&&(this.$tip=t(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},e.prototype.enable=function(){this.enabled=!0},e.prototype.disable=function(){this.enabled=!1},e.prototype.toggleEnabled=function(){this.enabled=!this.enabled},e.prototype.toggle=function(e){var n=this;e&&((n=t(e.currentTarget).data("bs."+this.type))||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n))),e?(n.inState.click=!n.inState.click,n.isInStateTrue()?n.enter(n):n.leave(n)):n.tip().hasClass("in")?n.leave(n):n.enter(n)},e.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null,t.$element=null})};var n=t.fn.tooltip;t.fn.tooltip=function(n){return this.each(function(){var i=t(this),o=i.data("bs.tooltip"),s="object"==typeof n&&n;!o&&/destroy|hide/.test(n)||(o||i.data("bs.tooltip",o=new e(this,s)),"string"==typeof n&&o[n]())})},t.fn.tooltip.Constructor=e,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=n,this}}(jQuery),function(t){"use strict";var e=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");e.VERSION="3.3.7",e.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),(e.prototype=t.extend({},t.fn.tooltip.Constructor.prototype)).constructor=e,e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},e.prototype.hasContent=function(){return this.getTitle()||this.getContent()},e.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var n=t.fn.popover;t.fn.popover=function(n){return this.each(function(){var i=t(this),o=i.data("bs.popover"),s="object"==typeof n&&n;!o&&/destroy|hide/.test(n)||(o||i.data("bs.popover",o=new e(this,s)),"string"==typeof n&&o[n]())})},t.fn.popover.Constructor=e,t.fn.popover.noConflict=function(){return t.fn.popover=n,this}}(jQuery),function(t){"use strict";function e(n,i){this.$body=t(document.body),this.$scrollElement=t(n).is(document.body)?t(window):t(n),this.options=t.extend({},e.DEFAULTS,i),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",t.proxy(this.process,this)),this.refresh(),this.process()}function n(n){return this.each(function(){var i=t(this),o=i.data("bs.scrollspy");o||i.data("bs.scrollspy",o=new e(this,"object"==typeof n&&n)),"string"==typeof n&&o[n]()})}e.VERSION="3.3.7",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var e=this,n="offset",i=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),t.isWindow(this.$scrollElement[0])||(n="position",i=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var e=t(this),o=e.data("target")||e.attr("href"),s=/^#./.test(o)&&t(o);return s&&s.length&&s.is(":visible")&&[[s[n]().top+i,o]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){e.offsets.push(this[0]),e.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),i=this.options.offset+n-this.$scrollElement.height(),o=this.offsets,s=this.targets,r=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),e>=i)return r!=(t=s[s.length-1])&&this.activate(t);if(r&&e<o[0])return this.activeTarget=null,this.clear();for(t=o.length;t--;)r!=s[t]&&e>=o[t]&&(void 0===o[t+1]||e<o[t+1])&&this.activate(s[t])},e.prototype.activate=function(e){this.activeTarget=e,this.clear();var n=t(this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]').parents("li").addClass("active");n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate.bs.scrollspy")},e.prototype.clear=function(){t(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var i=t.fn.scrollspy;t.fn.scrollspy=n,t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=i,this},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);n.call(e,e.data())})})}(jQuery),function(t){"use strict";var e=function(e){this.element=t(e)};function n(n){return this.each(function(){var i=t(this),o=i.data("bs.tab");o||i.data("bs.tab",o=new e(this)),"string"==typeof n&&o[n]()})}e.VERSION="3.3.7",e.TRANSITION_DURATION=150,e.prototype.show=function(){var e=this.element,n=e.closest("ul:not(.dropdown-menu)"),i=e.data("target");if(i||(i=(i=e.attr("href"))&&i.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var o=n.find(".active:last a"),s=t.Event("hide.bs.tab",{relatedTarget:e[0]}),r=t.Event("show.bs.tab",{relatedTarget:o[0]});if(o.trigger(s),e.trigger(r),!r.isDefaultPrevented()&&!s.isDefaultPrevented()){var a=t(i);this.activate(e.closest("li"),n),this.activate(a,a.parent(),function(){o.trigger({type:"hidden.bs.tab",relatedTarget:e[0]}),e.trigger({type:"shown.bs.tab",relatedTarget:o[0]})})}}},e.prototype.activate=function(n,i,o){var s=i.find("> .active"),r=o&&t.support.transition&&(s.length&&s.hasClass("fade")||!!i.find("> .fade").length);function a(){s.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),n.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),r?n.addClass("in"):n.removeClass("fade"),n.parent(".dropdown-menu").length&&n.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),o&&o()}s.length&&r?s.one("bsTransitionEnd",a).emulateTransitionEnd(e.TRANSITION_DURATION):a(),s.removeClass("in")};var i=t.fn.tab;t.fn.tab=n,t.fn.tab.Constructor=e,t.fn.tab.noConflict=function(){return t.fn.tab=i,this};var o=function(e){e.preventDefault(),n.call(t(this),"show")};t(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',o).on("click.bs.tab.data-api",'[data-toggle="pill"]',o)}(jQuery),function(t){"use strict";var e=function(n,i){this.options=t.extend({},e.DEFAULTS,i),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(n),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};function n(n){return this.each(function(){var i=t(this),o=i.data("bs.affix");o||i.data("bs.affix",o=new e(this,"object"==typeof n&&n)),"string"==typeof n&&o[n]()})}e.VERSION="3.3.7",e.RESET="affix affix-top affix-bottom",e.DEFAULTS={offset:0,target:window},e.prototype.getState=function(t,e,n,i){var o=this.$target.scrollTop(),s=this.$element.offset(),r=this.$target.height();if(null!=n&&"top"==this.affixed)return o<n&&"top";if("bottom"==this.affixed)return null!=n?!(o+this.unpin<=s.top)&&"bottom":!(o+r<=t-i)&&"bottom";var a=null==this.affixed;return null!=n&&o<=n?"top":null!=i&&(a?o:s.top)+(a?r:e)>=t-i&&"bottom"},e.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(e.RESET).addClass("affix");var t=this.$target.scrollTop(),n=this.$element.offset();return this.pinnedOffset=n.top-t},e.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},e.prototype.checkPosition=function(){if(this.$element.is(":visible")){var n=this.$element.height(),i=this.options.offset,o=i.top,s=i.bottom,r=Math.max(t(document).height(),t(document.body).height());"object"!=typeof i&&(s=o=i),"function"==typeof o&&(o=i.top(this.$element)),"function"==typeof s&&(s=i.bottom(this.$element));var a=this.getState(r,n,o,s);if(this.affixed!=a){null!=this.unpin&&this.$element.css("top","");var l="affix"+(a?"-"+a:""),c=t.Event(l+".bs.affix");if(this.$element.trigger(c),c.isDefaultPrevented())return;this.affixed=a,this.unpin="bottom"==a?this.getPinnedOffset():null,this.$element.removeClass(e.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==a&&this.$element.offset({top:r-n-s})}};var i=t.fn.affix;t.fn.affix=n,t.fn.affix.Constructor=e,t.fn.affix.noConflict=function(){return t.fn.affix=i,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var e=t(this),i=e.data();i.offset=i.offset||{},null!=i.offsetBottom&&(i.offset.bottom=i.offsetBottom),null!=i.offsetTop&&(i.offset.top=i.offsetTop),n.call(e,i)})})}(jQuery),function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Raphael=e():t.Raphael=e()}(this,function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={exports:{},id:i,loaded:!1};return t[i].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=t,n.c=e,n.p="",n(0)}([function(t,e,n){var i,o;i=[n(1),n(3),n(4)],void 0===(o=(function(t){return t}).apply(e,i))||(t.exports=o)},function(t,e,n){var i,o;i=[n(2)],void 0===(o=(function(t){function e(i){if(e.is(i,"function"))return n?i():t.on("raphael.DOMload",i);if(e.is(i,N))return e._engine.create[f](e,i.splice(0,3+e.is(i[0],E))).add(i);var o=Array.prototype.slice.call(arguments,0);if(e.is(o[o.length-1],"function")){var s=o.pop();return n?s.call(e._engine.create[f](e,o)):t.on("raphael.DOMload",function(){s.call(e._engine.create[f](e,o))})}return e._engine.create[f](e,arguments)}e.version="2.2.0",e.eve=t;var n,i,o,s,r=/[, ]+/,a={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},l=/\{(\d+)\}/g,c="hasOwnProperty",u={doc:document,win:window},h={was:Object.prototype[c].call(u.win,"Raphael"),is:u.win.Raphael},d=function(){this.ca=this.customAttributes={}},f="apply",p="concat",g="ontouchstart"in u.win||u.win.DocumentTouch&&u.doc instanceof DocumentTouch,m="",v=" ",y=String,b="split",w="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[b](v),_={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},x=y.prototype.toLowerCase,C=Math,k=C.max,S=C.min,T=C.abs,D=C.pow,O=C.PI,E="number",N="array",A=Object.prototype.toString,M=(e._ISURL=/^url\(['"]?(.+?)['"]?\)$/i,/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i),P={NaN:1,Infinity:1,"-Infinity":1},I=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,R=C.round,L=parseFloat,j=parseInt,H=y.prototype.toUpperCase,B=e._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0,class:""},q=e._availableAnimAttrs={blur:E,"clip-rect":"csv",cx:E,cy:E,fill:"colour","fill-opacity":E,"font-size":E,height:E,opacity:E,path:"path",r:E,rx:E,ry:E,stroke:"colour","stroke-opacity":E,"stroke-width":E,transform:"transform",width:E,x:E,y:E},F=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,$={hs:1,rg:1},z=/,?([achlmqrstvxz]),?/gi,W=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,Y=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,U=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi,V=(e._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,{}),G=function(t,e){return L(t)-L(e)},K=function(t){return t},X=e._rectPath=function(t,e,n,i,o){return o?[["M",t+o,e],["l",n-2*o,0],["a",o,o,0,0,1,o,o],["l",0,i-2*o],["a",o,o,0,0,1,-o,o],["l",2*o-n,0],["a",o,o,0,0,1,-o,-o],["l",0,2*o-i],["a",o,o,0,0,1,o,-o],["z"]]:[["M",t,e],["l",n,0],["l",0,i],["l",-n,0],["z"]]},Z=function(t,e,n,i){return null==i&&(i=n),[["M",t,e],["m",0,-i],["a",n,i,0,1,1,0,2*i],["a",n,i,0,1,1,0,-2*i],["z"]]},Q=e._getPath={path:function(t){return t.attr("path")},circle:function(t){var e=t.attrs;return Z(e.cx,e.cy,e.r)},ellipse:function(t){var e=t.attrs;return Z(e.cx,e.cy,e.rx,e.ry)},rect:function(t){var e=t.attrs;return X(e.x,e.y,e.width,e.height,e.r)},image:function(t){var e=t.attrs;return X(e.x,e.y,e.width,e.height)},text:function(t){var e=t._getBBox();return X(e.x,e.y,e.width,e.height)},set:function(t){var e=t._getBBox();return X(e.x,e.y,e.width,e.height)}},J=e.mapPath=function(t,e){if(!e)return t;var n,i,o,s,r,a,l;for(o=0,r=(t=Dt(t)).length;o<r;o++)for(s=1,a=(l=t[o]).length;s<a;s+=2)n=e.x(l[s],l[s+1]),i=e.y(l[s],l[s+1]),l[s]=n,l[s+1]=i;return t};if(e._g=u,"VML"==(e.type=u.win.SVGAngle||u.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML")){var tt,et=u.doc.createElement("div");if(et.innerHTML='<v:shape adj="1"/>',(tt=et.firstChild).style.behavior="url(#default#VML)",!tt||"object"!=typeof tt.adj)return e.type=m;et=null}function nt(t){if("function"==typeof t||Object(t)!==t)return t;var e=new t.constructor;for(var n in t)t[c](n)&&(e[n]=nt(t[n]));return e}e.svg=!(e.vml="VML"==e.type),e._Paper=d,e.fn=i=d.prototype=e.prototype,e._id=0,e.is=function(t,e){return"finite"==(e=x.call(e))?!P[c](+t):"array"==e?t instanceof Array:"null"==e&&null===t||e==typeof t&&null!==t||"object"==e&&t===Object(t)||"array"==e&&Array.isArray&&Array.isArray(t)||A.call(t).slice(8,-1).toLowerCase()==e},e.angle=function(t,n,i,o,s,r){if(null==s){var a=t-i,l=n-o;return a||l?(180+180*C.atan2(-l,-a)/O+360)%360:0}return e.angle(t,n,s,r)-e.angle(i,o,s,r)},e.rad=function(t){return t%360*O/180},e.deg=function(t){return Math.round(180*t/O%360*1e3)/1e3},e.snapTo=function(t,n,i){if(i=e.is(i,"finite")?i:10,e.is(t,N)){for(var o=t.length;o--;)if(T(t[o]-n)<=i)return t[o]}else{var s=n%(t=+t);if(s<i)return n-s;if(s>t-i)return n-s+t}return n},e.createUUID=(o=/[xy]/g,s=function(t){var e=16*C.random()|0;return("x"==t?e:3&e|8).toString(16)},function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(o,s).toUpperCase()}),e.setWindow=function(n){t("raphael.setWindow",e,u.win,n),u.win=n,u.doc=u.win.document,e._engine.initWin&&e._engine.initWin(u.win)};var it=function(t){if(e.vml){var n,i=/^\s+|\s+$/g;try{var o=new ActiveXObject("htmlfile");o.write("<body>"),o.close(),n=o.body}catch(t){n=createPopup().document.body}var s=n.createTextRange();it=ct(function(t){try{n.style.color=y(t).replace(i,m);var e=s.queryCommandValue("ForeColor");return"#"+("000000"+(e=(255&e)<<16|65280&e|(16711680&e)>>>16).toString(16)).slice(-6)}catch(t){return"none"}})}else{var r=u.doc.createElement("i");r.title="Rapha\xebl Colour Picker",r.style.display="none",u.doc.body.appendChild(r),it=ct(function(t){return r.style.color=t,u.doc.defaultView.getComputedStyle(r,m).getPropertyValue("color")})}return it(t)},ot=function(){return"hsb("+[this.h,this.s,this.b]+")"},st=function(){return"hsl("+[this.h,this.s,this.l]+")"},rt=function(){return this.hex},at=function(t,n,i){if(null==n&&e.is(t,"object")&&"r"in t&&"g"in t&&"b"in t&&(i=t.b,n=t.g,t=t.r),null==n&&e.is(t,"string")){var o=e.getRGB(t);t=o.r,n=o.g,i=o.b}return(t>1||n>1||i>1)&&(t/=255,n/=255,i/=255),[t,n,i]},lt=function(t,n,i,o){var s={r:t*=255,g:n*=255,b:i*=255,hex:e.rgb(t,n,i),toString:rt};return e.is(o,"finite")&&(s.opacity=o),s};function ct(t,e,n){return function i(){var o=Array.prototype.slice.call(arguments,0),s=o.join("\u2400"),r=i.cache=i.cache||{},a=i.count=i.count||[];return r[c](s)?(function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return t.push(t.splice(n,1)[0])}(a,s),n?n(r[s]):r[s]):(a.length>=1e3&&delete r[a.shift()],a.push(s),r[s]=t[f](e,o),n?n(r[s]):r[s])}}function ut(){return this.hex}function ht(t,e){for(var n=[],i=0,o=t.length;o-2*!e>i;i+=2){var s=[{x:+t[i-2],y:+t[i-1]},{x:+t[i],y:+t[i+1]},{x:+t[i+2],y:+t[i+3]},{x:+t[i+4],y:+t[i+5]}];e?i?o-4==i?s[3]={x:+t[0],y:+t[1]}:o-2==i&&(s[2]={x:+t[0],y:+t[1]},s[3]={x:+t[2],y:+t[3]}):s[0]={x:+t[o-2],y:+t[o-1]}:o-4==i?s[3]=s[2]:i||(s[0]={x:+t[i],y:+t[i+1]}),n.push(["C",(6*s[1].x-s[0].x+s[2].x)/6,(6*s[1].y-s[0].y+s[2].y)/6,(s[1].x+6*s[2].x-s[3].x)/6,(s[1].y+6*s[2].y-s[3].y)/6,s[2].x,s[2].y])}return n}e.color=function(t){var n;return e.is(t,"object")&&"h"in t&&"s"in t&&"b"in t?(n=e.hsb2rgb(t),t.r=n.r,t.g=n.g,t.b=n.b,t.hex=n.hex):e.is(t,"object")&&"h"in t&&"s"in t&&"l"in t?(n=e.hsl2rgb(t),t.r=n.r,t.g=n.g,t.b=n.b,t.hex=n.hex):(e.is(t,"string")&&(t=e.getRGB(t)),e.is(t,"object")&&"r"in t&&"g"in t&&"b"in t?(n=e.rgb2hsl(t),t.h=n.h,t.s=n.s,t.l=n.l,n=e.rgb2hsb(t),t.v=n.b):(t={hex:"none"}).r=t.g=t.b=t.h=t.s=t.v=t.l=-1),t.toString=rt,t},e.hsb2rgb=function(t,e,n,i){var o,s,r,a,l;return this.is(t,"object")&&"h"in t&&"s"in t&&"b"in t&&(n=t.b,e=t.s,i=t.o,t=t.h),a=(l=n*e)*(1-T((t=(t*=360)%360/60)%2-1)),o=s=r=n-l,lt(o+=[l,a,0,0,a,l][t=~~t],s+=[a,l,l,a,0,0][t],r+=[0,0,a,l,l,a][t],i)},e.hsl2rgb=function(t,e,n,i){var o,s,r,a,l;return this.is(t,"object")&&"h"in t&&"s"in t&&"l"in t&&(n=t.l,e=t.s,t=t.h),(t>1||e>1||n>1)&&(t/=360,e/=100,n/=100),t=(t*=360)%360/60,a=(l=2*e*(n<.5?n:1-n))*(1-T(t%2-1)),o=s=r=n-l/2,lt(o+=[l,a,0,0,a,l][t=~~t],s+=[a,l,l,a,0,0][t],r+=[0,0,a,l,l,a][t],i)},e.rgb2hsb=function(t,e,n){var i,o;return n=at(t,e,n),{h:((0==(o=(i=k(t=n[0],e=n[1],n=n[2]))-S(t,e,n))?null:i==t?(e-n)/o:i==e?(n-t)/o+2:(t-e)/o+4)+360)%6*60/360,s:0==o?0:o/i,b:i,toString:ot}},e.rgb2hsl=function(t,e,n){var i,o,s,r;return n=at(t,e,n),i=((o=k(t=n[0],e=n[1],n=n[2]))+(s=S(t,e,n)))/2,{h:((0==(r=o-s)?null:o==t?(e-n)/r:o==e?(n-t)/r+2:(t-e)/r+4)+360)%6*60/360,s:0==r?0:i<.5?r/(2*i):r/(2-2*i),l:i,toString:st}},e._path2string=function(){return this.join(",").replace(z,"$1")},e._preload=function(t,e){var n=u.doc.createElement("img");n.style.cssText="position:absolute;left:-9999em;top:-9999em",n.onload=function(){e.call(this),this.onload=null,u.doc.body.removeChild(this)},n.onerror=function(){u.doc.body.removeChild(this)},u.doc.body.appendChild(n),n.src=t},e.getRGB=ct(function(t){if(!t||(t=y(t)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:ut};if("none"==t)return{r:-1,g:-1,b:-1,hex:"none",toString:ut};!$[c](t.toLowerCase().substring(0,2))&&"#"!=t.charAt()&&(t=it(t));var n,i,o,s,r,a,l=t.match(M);return l?(l[2]&&(o=j(l[2].substring(5),16),i=j(l[2].substring(3,5),16),n=j(l[2].substring(1,3),16)),l[3]&&(o=j((r=l[3].charAt(3))+r,16),i=j((r=l[3].charAt(2))+r,16),n=j((r=l[3].charAt(1))+r,16)),l[4]&&(a=l[4][b](F),n=L(a[0]),"%"==a[0].slice(-1)&&(n*=2.55),i=L(a[1]),"%"==a[1].slice(-1)&&(i*=2.55),o=L(a[2]),"%"==a[2].slice(-1)&&(o*=2.55),"rgba"==l[1].toLowerCase().slice(0,4)&&(s=L(a[3])),a[3]&&"%"==a[3].slice(-1)&&(s/=100)),l[5]?(a=l[5][b](F),n=L(a[0]),"%"==a[0].slice(-1)&&(n*=2.55),i=L(a[1]),"%"==a[1].slice(-1)&&(i*=2.55),o=L(a[2]),"%"==a[2].slice(-1)&&(o*=2.55),("deg"==a[0].slice(-3)||"\xb0"==a[0].slice(-1))&&(n/=360),"hsba"==l[1].toLowerCase().slice(0,4)&&(s=L(a[3])),a[3]&&"%"==a[3].slice(-1)&&(s/=100),e.hsb2rgb(n,i,o,s)):l[6]?(a=l[6][b](F),n=L(a[0]),"%"==a[0].slice(-1)&&(n*=2.55),i=L(a[1]),"%"==a[1].slice(-1)&&(i*=2.55),o=L(a[2]),"%"==a[2].slice(-1)&&(o*=2.55),("deg"==a[0].slice(-3)||"\xb0"==a[0].slice(-1))&&(n/=360),"hsla"==l[1].toLowerCase().slice(0,4)&&(s=L(a[3])),a[3]&&"%"==a[3].slice(-1)&&(s/=100),e.hsl2rgb(n,i,o,s)):((l={r:n,g:i,b:o,toString:ut}).hex="#"+(16777216|o|i<<8|n<<16).toString(16).slice(1),e.is(s,"finite")&&(l.opacity=s),l)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:ut}},e),e.hsb=ct(function(t,n,i){return e.hsb2rgb(t,n,i).hex}),e.hsl=ct(function(t,n,i){return e.hsl2rgb(t,n,i).hex}),e.rgb=ct(function(t,e,n){function i(t){return t+.5|0}return"#"+(16777216|i(n)|i(e)<<8|i(t)<<16).toString(16).slice(1)}),(e.getColor=function(t){var e=this.getColor.start=this.getColor.start||{h:0,s:1,b:t||.75},n=this.hsb2rgb(e.h,e.s,e.b);return e.h+=.075,e.h>1&&(e.h=0,e.s-=.2,e.s<=0&&(this.getColor.start={h:0,s:1,b:e.b})),n.hex}).reset=function(){delete this.start},e.parsePathString=function(t){if(!t)return null;var n=dt(t);if(n.arr)return bt(n.arr);var i={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},o=[];return e.is(t,N)&&e.is(t[0],N)&&(o=bt(t)),o.length||y(t).replace(W,function(t,e,n){var s=[],r=e.toLowerCase();if(n.replace(U,function(t,e){e&&s.push(+e)}),"m"==r&&s.length>2&&(o.push([e][p](s.splice(0,2))),r="l",e="m"==e?"l":"L"),"r"==r)o.push([e][p](s));else for(;s.length>=i[r]&&(o.push([e][p](s.splice(0,i[r]))),i[r]););}),o.toString=e._path2string,n.arr=bt(o),o},e.parseTransformString=ct(function(t){if(!t)return null;var n=[];return e.is(t,N)&&e.is(t[0],N)&&(n=bt(t)),n.length||y(t).replace(Y,function(t,e,i){var o=[];x.call(e),i.replace(U,function(t,e){e&&o.push(+e)}),n.push([e][p](o))}),n.toString=e._path2string,n});var dt=function(t){var e=dt.ps=dt.ps||{};return e[t]?e[t].sleep=100:e[t]={sleep:100},setTimeout(function(){for(var n in e)e[c](n)&&n!=t&&(e[n].sleep--,!e[n].sleep&&delete e[n])}),e[t]};function ft(t,e,n,i,o){return t*(t*(-3*e+9*n-9*i+3*o)+6*e-12*n+6*i)-3*e+3*n}function pt(t,e,n,i,o,s,r,a,l){null==l&&(l=1);for(var c=(l=l>1?1:l<0?0:l)/2,u=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],h=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],d=0,f=0;f<12;f++){var p=c*u[f]+c,g=ft(p,t,n,o,r),m=ft(p,e,i,s,a);d+=h[f]*C.sqrt(g*g+m*m)}return c*d}function gt(t,e,n,i,o,s,r,a){if(!(k(t,n)<S(o,r)||S(t,n)>k(o,r)||k(e,i)<S(s,a)||S(e,i)>k(s,a))){var l=(t-n)*(s-a)-(e-i)*(o-r);if(l){var c=((t*i-e*n)*(o-r)-(t-n)*(o*a-s*r))/l,u=((t*i-e*n)*(s-a)-(e-i)*(o*a-s*r))/l,h=+c.toFixed(2),d=+u.toFixed(2);if(!(h<+S(t,n).toFixed(2)||h>+k(t,n).toFixed(2)||h<+S(o,r).toFixed(2)||h>+k(o,r).toFixed(2)||d<+S(e,i).toFixed(2)||d>+k(e,i).toFixed(2)||d<+S(s,a).toFixed(2)||d>+k(s,a).toFixed(2)))return{x:c,y:u}}}}function mt(t,n,i){var o=e.bezierBBox(t),s=e.bezierBBox(n);if(!e.isBBoxIntersect(o,s))return i?0:[];for(var r=pt.apply(0,t),a=pt.apply(0,n),l=k(~~(r/5),1),c=k(~~(a/5),1),u=[],h=[],d={},f=i?0:[],p=0;p<l+1;p++){var g=e.findDotsAtSegment.apply(e,t.concat(p/l));u.push({x:g.x,y:g.y,t:p/l})}for(p=0;p<c+1;p++)g=e.findDotsAtSegment.apply(e,n.concat(p/c)),h.push({x:g.x,y:g.y,t:p/c});for(p=0;p<l;p++)for(var m=0;m<c;m++){var v=u[p],y=u[p+1],b=h[m],w=h[m+1],_=T(y.x-v.x)<.001?"y":"x",x=T(w.x-b.x)<.001?"y":"x",C=gt(v.x,v.y,y.x,y.y,b.x,b.y,w.x,w.y);if(C){if(d[C.x.toFixed(4)]==C.y.toFixed(4))continue;d[C.x.toFixed(4)]=C.y.toFixed(4);var D=v.t+T((C[_]-v[_])/(y[_]-v[_]))*(y.t-v.t),O=b.t+T((C[x]-b[x])/(w[x]-b[x]))*(w.t-b.t);D>=0&&D<=1.001&&O>=0&&O<=1.001&&(i?f++:f.push({x:C.x,y:C.y,t1:S(D,1),t2:S(O,1)}))}}return f}function vt(t,n,i){t=e._path2curve(t),n=e._path2curve(n);for(var o,s,r,a,l,c,u,h,d,f,p=i?0:[],g=0,m=t.length;g<m;g++){var v=t[g];if("M"==v[0])o=l=v[1],s=c=v[2];else{"C"==v[0]?(o=(d=[o,s].concat(v.slice(1)))[6],s=d[7]):(d=[o,s,o,s,l,c,l,c],o=l,s=c);for(var y=0,b=n.length;y<b;y++){var w=n[y];if("M"==w[0])r=u=w[1],a=h=w[2];else{"C"==w[0]?(r=(f=[r,a].concat(w.slice(1)))[6],a=f[7]):(f=[r,a,r,a,u,h,u,h],r=u,a=h);var _=mt(d,f,i);if(i)p+=_;else{for(var x=0,C=_.length;x<C;x++)_[x].segment1=g,_[x].segment2=y,_[x].bez1=d,_[x].bez2=f;p=p.concat(_)}}}}}return p}e.findDotsAtSegment=function(t,e,n,i,o,s,r,a,l){var c=1-l,u=D(c,3),h=D(c,2),d=l*l,f=d*l,p=u*t+3*h*l*n+3*c*l*l*o+f*r,g=u*e+3*h*l*i+3*c*l*l*s+f*a,m=t+2*l*(n-t)+d*(o-2*n+t),v=e+2*l*(i-e)+d*(s-2*i+e),y=n+2*l*(o-n)+d*(r-2*o+n),b=i+2*l*(s-i)+d*(a-2*s+i),w=c*t+l*n,_=c*e+l*i,x=c*o+l*r,k=c*s+l*a,S=90-180*C.atan2(m-y,v-b)/O;return(m>y||v<b)&&(S+=180),{x:p,y:g,m:{x:m,y:v},n:{x:y,y:b},start:{x:w,y:_},end:{x:x,y:k},alpha:S}},e.bezierBBox=function(t,n,i,o,s,r,a,l){e.is(t,"array")||(t=[t,n,i,o,s,r,a,l]);var c=Tt.apply(null,t);return{x:c.min.x,y:c.min.y,x2:c.max.x,y2:c.max.y,width:c.max.x-c.min.x,height:c.max.y-c.min.y}},e.isPointInsideBBox=function(t,e,n){return e>=t.x&&e<=t.x2&&n>=t.y&&n<=t.y2},e.isBBoxIntersect=function(t,n){var i=e.isPointInsideBBox;return i(n,t.x,t.y)||i(n,t.x2,t.y)||i(n,t.x,t.y2)||i(n,t.x2,t.y2)||i(t,n.x,n.y)||i(t,n.x2,n.y)||i(t,n.x,n.y2)||i(t,n.x2,n.y2)||(t.x<n.x2&&t.x>n.x||n.x<t.x2&&n.x>t.x)&&(t.y<n.y2&&t.y>n.y||n.y<t.y2&&n.y>t.y)},e.pathIntersection=function(t,e){return vt(t,e)},e.pathIntersectionNumber=function(t,e){return vt(t,e,1)},e.isPointInsidePath=function(t,n,i){var o=e.pathBBox(t);return e.isPointInsideBBox(o,n,i)&&vt(t,[["M",n,i],["H",o.x2+10]],1)%2==1},e._removedFactory=function(e){return function(){t("raphael.log",null,"Rapha\xebl: you are calling to method \u201c"+e+"\u201d of removed object",e)}};var yt=e.pathBBox=function(t){var e=dt(t);if(e.bbox)return nt(e.bbox);if(!t)return{x:0,y:0,width:0,height:0,x2:0,y2:0};for(var n,i=0,o=0,s=[],r=[],a=0,l=(t=Dt(t)).length;a<l;a++)if("M"==(n=t[a])[0])o=n[2],s.push(i=n[1]),r.push(o);else{var c=Tt(i,o,n[1],n[2],n[3],n[4],n[5],n[6]);s=s[p](c.min.x,c.max.x),r=r[p](c.min.y,c.max.y),i=n[5],o=n[6]}var u=S[f](0,s),h=S[f](0,r),d=k[f](0,s),g=k[f](0,r),m=d-u,v=g-h,y={x:u,y:h,x2:d,y2:g,width:m,height:v,cx:u+m/2,cy:h+v/2};return e.bbox=nt(y),y},bt=function(t){var n=nt(t);return n.toString=e._path2string,n},wt=e._pathToRelative=function(t){var n=dt(t);if(n.rel)return bt(n.rel);e.is(t,N)&&e.is(t&&t[0],N)||(t=e.parsePathString(t));var i=[],o=0,s=0,r=0,a=0,l=0;"M"==t[0][0]&&(r=o=t[0][1],a=s=t[0][2],l++,i.push(["M",o,s]));for(var c=l,u=t.length;c<u;c++){var h=i[c]=[],d=t[c];if(d[0]!=x.call(d[0]))switch(h[0]=x.call(d[0]),h[0]){case"a":h[1]=d[1],h[2]=d[2],h[3]=d[3],h[4]=d[4],h[5]=d[5],h[6]=+(d[6]-o).toFixed(3),h[7]=+(d[7]-s).toFixed(3);break;case"v":h[1]=+(d[1]-s).toFixed(3);break;case"m":r=d[1],a=d[2];default:for(var f=1,p=d.length;f<p;f++)h[f]=+(d[f]-(f%2?o:s)).toFixed(3)}else{h=i[c]=[],"m"==d[0]&&(r=d[1]+o,a=d[2]+s);for(var g=0,m=d.length;g<m;g++)i[c][g]=d[g]}var v=i[c].length;switch(i[c][0]){case"z":o=r,s=a;break;case"h":o+=+i[c][v-1];break;case"v":s+=+i[c][v-1];break;default:o+=+i[c][v-2],s+=+i[c][v-1]}}return i.toString=e._path2string,n.rel=bt(i),i},_t=e._pathToAbsolute=function(t){var n=dt(t);if(n.abs)return bt(n.abs);if(e.is(t,N)&&e.is(t&&t[0],N)||(t=e.parsePathString(t)),!t||!t.length)return[["M",0,0]];var i=[],o=0,s=0,r=0,a=0,l=0;"M"==t[0][0]&&(r=o=+t[0][1],a=s=+t[0][2],l++,i[0]=["M",o,s]);for(var c,u,h=3==t.length&&"M"==t[0][0]&&"R"==t[1][0].toUpperCase()&&"Z"==t[2][0].toUpperCase(),d=l,f=t.length;d<f;d++){if(i.push(c=[]),(u=t[d])[0]!=H.call(u[0]))switch(c[0]=H.call(u[0]),c[0]){case"A":c[1]=u[1],c[2]=u[2],c[3]=u[3],c[4]=u[4],c[5]=u[5],c[6]=+(u[6]+o),c[7]=+(u[7]+s);break;case"V":c[1]=+u[1]+s;break;case"H":c[1]=+u[1]+o;break;case"R":for(var g=[o,s][p](u.slice(1)),m=2,v=g.length;m<v;m++)g[m]=+g[m]+o,g[++m]=+g[m]+s;i.pop(),i=i[p](ht(g,h));break;case"M":r=+u[1]+o,a=+u[2]+s;default:for(m=1,v=u.length;m<v;m++)c[m]=+u[m]+(m%2?o:s)}else if("R"==u[0])g=[o,s][p](u.slice(1)),i.pop(),i=i[p](ht(g,h)),c=["R"][p](u.slice(-2));else for(var y=0,b=u.length;y<b;y++)c[y]=u[y];switch(c[0]){case"Z":o=r,s=a;break;case"H":o=c[1];break;case"V":s=c[1];break;case"M":r=c[c.length-2],a=c[c.length-1];default:o=c[c.length-2],s=c[c.length-1]}}return i.toString=e._path2string,n.abs=bt(i),i},xt=function(t,e,n,i){return[t,e,n,i,n,i]},Ct=function(t,e,n,i,o,s){return[1/3*t+2/3*n,1/3*e+2/3*i,1/3*o+2/3*n,1/3*s+2/3*i,o,s]},kt=function(t,e,n,i,o,s,r,a,l,c){var u,h=120*O/180,d=O/180*(+o||0),f=[],g=ct(function(t,e,n){return{x:t*C.cos(n)-e*C.sin(n),y:t*C.sin(n)+e*C.cos(n)}});if(c)D=c[0],E=c[1],k=c[2],S=c[3];else{t=(u=g(t,e,-d)).x,e=u.y,a=(u=g(a,l,-d)).x,l=u.y,C.cos(O/180*o),C.sin(O/180*o);var m=(t-a)/2,v=(e-l)/2,y=m*m/(n*n)+v*v/(i*i);y>1&&(n*=y=C.sqrt(y),i*=y);var w=n*n,_=i*i,x=(s==r?-1:1)*C.sqrt(T((w*_-w*v*v-_*m*m)/(w*v*v+_*m*m))),k=x*n*v/i+(t+a)/2,S=x*-i*m/n+(e+l)/2,D=C.asin(((e-S)/i).toFixed(9)),E=C.asin(((l-S)/i).toFixed(9));D=t<k?O-D:D,E=a<k?O-E:E,D<0&&(D=2*O+D),E<0&&(E=2*O+E),r&&D>E&&(D-=2*O),!r&&E>D&&(E-=2*O)}var N=E-D;if(T(N)>h){var A=E,M=a,P=l;a=k+n*C.cos(E=D+h*(r&&E>D?1:-1)),l=S+i*C.sin(E),f=kt(a,l,n,i,o,0,r,M,P,[E,A,k,S])}N=E-D;var I=C.cos(D),R=C.sin(D),L=C.cos(E),j=C.sin(E),H=C.tan(N/4),B=4/3*n*H,q=4/3*i*H,F=[t,e],$=[t+B*R,e-q*I],z=[a+B*j,l-q*L],W=[a,l];if($[0]=2*F[0]-$[0],$[1]=2*F[1]-$[1],c)return[$,z,W][p](f);for(var Y=[],U=0,V=(f=[$,z,W][p](f).join()[b](",")).length;U<V;U++)Y[U]=U%2?g(f[U-1],f[U],d).y:g(f[U],f[U+1],d).x;return Y},St=function(t,e,n,i,o,s,r,a,l){var c=1-l;return{x:D(c,3)*t+3*D(c,2)*l*n+3*c*l*l*o+D(l,3)*r,y:D(c,3)*e+3*D(c,2)*l*i+3*c*l*l*s+D(l,3)*a}},Tt=ct(function(t,e,n,i,o,s,r,a){var l,c=o-2*n+t-(r-2*o+n),u=2*(n-t)-2*(o-n),h=t-n,d=(-u+C.sqrt(u*u-4*c*h))/2/c,p=(-u-C.sqrt(u*u-4*c*h))/2/c,g=[e,a],m=[t,r];return T(d)>"1e12"&&(d=.5),T(p)>"1e12"&&(p=.5),d>0&&d<1&&(l=St(t,e,n,i,o,s,r,a,d),m.push(l.x),g.push(l.y)),p>0&&p<1&&(l=St(t,e,n,i,o,s,r,a,p),m.push(l.x),g.push(l.y)),d=(-(u=2*(i-e)-2*(s-i))+C.sqrt(u*u-4*(c=s-2*i+e-(a-2*s+i))*(h=e-i)))/2/c,p=(-u-C.sqrt(u*u-4*c*h))/2/c,T(d)>"1e12"&&(d=.5),T(p)>"1e12"&&(p=.5),d>0&&d<1&&(l=St(t,e,n,i,o,s,r,a,d),m.push(l.x),g.push(l.y)),p>0&&p<1&&(l=St(t,e,n,i,o,s,r,a,p),m.push(l.x),g.push(l.y)),{min:{x:S[f](0,m),y:S[f](0,g)},max:{x:k[f](0,m),y:k[f](0,g)}}}),Dt=e._path2curve=ct(function(t,e){var n=!e&&dt(t);if(!e&&n.curve)return bt(n.curve);for(var i=_t(t),o=e&&_t(e),s={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},r={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a=function(t,e,n){var i,o;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(!(t[0]in{T:1,Q:1})&&(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"][p](kt[f](0,[e.x,e.y][p](t.slice(1))));break;case"S":"C"==n||"S"==n?(i=2*e.x-e.bx,o=2*e.y-e.by):(i=e.x,o=e.y),t=["C",i,o][p](t.slice(1));break;case"T":"Q"==n||"T"==n?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),t=["C"][p](Ct(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"][p](Ct(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"][p](xt(e.x,e.y,t[1],t[2]));break;case"H":t=["C"][p](xt(e.x,e.y,t[1],e.y));break;case"V":t=["C"][p](xt(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"][p](xt(e.x,e.y,e.X,e.Y))}return t},l=function(t,e){if(t[e].length>7){t[e].shift();for(var n=t[e];n.length;)u[e]="A",o&&(h[e]="A"),t.splice(e++,0,["C"][p](n.splice(0,6)));t.splice(e,1),v=k(i.length,o&&o.length||0)}},c=function(t,e,n,s,r){t&&e&&"M"==t[r][0]&&"M"!=e[r][0]&&(e.splice(r,0,["M",s.x,s.y]),n.bx=0,n.by=0,n.x=t[r][1],n.y=t[r][2],v=k(i.length,o&&o.length||0))},u=[],h=[],d="",g="",m=0,v=k(i.length,o&&o.length||0);m<v;m++){i[m]&&(d=i[m][0]),"C"!=d&&(u[m]=d,m&&(g=u[m-1])),i[m]=a(i[m],s,g),"A"!=u[m]&&"C"==d&&(u[m]="C"),l(i,m),o&&(o[m]&&(d=o[m][0]),"C"!=d&&(h[m]=d,m&&(g=h[m-1])),o[m]=a(o[m],r,g),"A"!=h[m]&&"C"==d&&(h[m]="C"),l(o,m)),c(i,o,s,r,m),c(o,i,r,s,m);var y=i[m],b=o&&o[m],w=y.length,_=o&&b.length;s.x=y[w-2],s.y=y[w-1],s.bx=L(y[w-4])||s.x,s.by=L(y[w-3])||s.y,r.bx=o&&(L(b[_-4])||r.x),r.by=o&&(L(b[_-3])||r.y),r.x=o&&b[_-2],r.y=o&&b[_-1]}return o||(n.curve=bt(i)),o?[i,o]:i},null,bt),Ot=(e._parseDots=ct(function(t){for(var n=[],i=0,o=t.length;i<o;i++){var s={},r=t[i].match(/^([^:]*):?([\d\.]*)/);if(s.color=e.getRGB(r[1]),s.color.error)return null;s.opacity=s.color.opacity,s.color=s.color.hex,r[2]&&(s.offset=r[2]+"%"),n.push(s)}for(i=1,o=n.length-1;i<o;i++)if(!n[i].offset){for(var a=L(n[i-1].offset||0),l=0,c=i+1;c<o;c++)if(n[c].offset){l=n[c].offset;break}l||(l=100,c=o);for(var u=((l=L(l))-a)/(c-i+1);i<c;i++)n[i].offset=(a+=u)+"%"}return n}),e._tear=function(t,e){t==e.top&&(e.top=t.prev),t==e.bottom&&(e.bottom=t.next),t.next&&(t.next.prev=t.prev),t.prev&&(t.prev.next=t.next)}),Et=(e._tofront=function(t,e){e.top!==t&&(Ot(t,e),t.next=null,t.prev=e.top,e.top.next=t,e.top=t)},e._toback=function(t,e){e.bottom!==t&&(Ot(t,e),t.next=e.bottom,t.prev=null,e.bottom.prev=t,e.bottom=t)},e._insertafter=function(t,e,n){Ot(t,n),e==n.top&&(n.top=t),e.next&&(e.next.prev=t),t.next=e.next,t.prev=e,e.next=t},e._insertbefore=function(t,e,n){Ot(t,n),e==n.bottom&&(n.bottom=t),e.prev&&(e.prev.next=t),t.prev=e.prev,e.prev=t,t.next=e},e.toMatrix=function(t,e){var n=yt(t),i={_:{transform:m},getBBox:function(){return n}};return Nt(i,e),i.matrix}),Nt=(e.transformPath=function(t,e){return J(t,Et(t,e))},e._extractTransform=function(t,n){if(null==n)return t._.transform;n=y(n).replace(/\.{3}|\u2026/g,t._.transform||m);var i,o,s=e.parseTransformString(n),r=0,a=1,l=1,c=t._,u=new Pt;if(c.transform=s||[],s)for(var h=0,d=s.length;h<d;h++){var f,p,g,v,b,w=s[h],_=w.length,x=y(w[0]).toLowerCase(),C=w[0]!=x,k=C?u.invert():0;"t"==x&&3==_?C?(f=k.x(0,0),p=k.y(0,0),g=k.x(w[1],w[2]),v=k.y(w[1],w[2]),u.translate(g-f,v-p)):u.translate(w[1],w[2]):"r"==x?2==_?(b=b||t.getBBox(1),u.rotate(w[1],b.x+b.width/2,b.y+b.height/2),r+=w[1]):4==_&&(C?(g=k.x(w[2],w[3]),v=k.y(w[2],w[3]),u.rotate(w[1],g,v)):u.rotate(w[1],w[2],w[3]),r+=w[1]):"s"==x?2==_||3==_?(b=b||t.getBBox(1),u.scale(w[1],w[_-1],b.x+b.width/2,b.y+b.height/2),a*=w[1],l*=w[_-1]):5==_&&(C?(g=k.x(w[3],w[4]),v=k.y(w[3],w[4]),u.scale(w[1],w[2],g,v)):u.scale(w[1],w[2],w[3],w[4]),a*=w[1],l*=w[2]):"m"==x&&7==_&&u.add(w[1],w[2],w[3],w[4],w[5],w[6]),c.dirtyT=1,t.matrix=u}t.matrix=u,c.sx=a,c.sy=l,c.deg=r,c.dx=i=u.e,c.dy=o=u.f,1==a&&1==l&&!r&&c.bbox?(c.bbox.x+=+i,c.bbox.y+=+o):c.dirtyT=1}),At=function(t){var e=t[0];switch(e.toLowerCase()){case"t":return[e,0,0];case"m":return[e,1,0,0,1,0,0];case"r":return 4==t.length?[e,0,t[2],t[3]]:[e,0];case"s":return 5==t.length?[e,1,1,t[3],t[4]]:3==t.length?[e,1,1]:[e,1]}},Mt=e._equaliseTransform=function(t,n){n=y(n).replace(/\.{3}|\u2026/g,t),t=e.parseTransformString(t)||[],n=e.parseTransformString(n)||[];for(var i,o,s,r,a=k(t.length,n.length),l=[],c=[],u=0;u<a;u++){if(s=t[u]||At(n[u]),r=n[u]||At(s),s[0]!=r[0]||"r"==s[0].toLowerCase()&&(s[2]!=r[2]||s[3]!=r[3])||"s"==s[0].toLowerCase()&&(s[3]!=r[3]||s[4]!=r[4]))return;for(l[u]=[],c[u]=[],i=0,o=k(s.length,r.length);i<o;i++)i in s&&(l[u][i]=s[i]),i in r&&(c[u][i]=r[i])}return{from:l,to:c}};function Pt(t,e,n,i,o,s){null!=t?(this.a=+t,this.b=+e,this.c=+n,this.d=+i,this.e=+o,this.f=+s):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}e._getContainer=function(t,n,i,o){var s;if(null!=(s=null!=o||e.is(t,"object")?t:u.doc.getElementById(t)))return s.tagName?null==n?{container:s,width:s.style.pixelWidth||s.offsetWidth,height:s.style.pixelHeight||s.offsetHeight}:{container:s,width:n,height:i}:{container:1,x:t,y:n,width:i,height:o}},e.pathToRelative=wt,e._engine={},e.path2curve=Dt,e.matrix=function(t,e,n,i,o,s){return new Pt(t,e,n,i,o,s)},function(t){function n(t){return t[0]*t[0]+t[1]*t[1]}function i(t){var e=C.sqrt(n(t));t[0]&&(t[0]/=e),t[1]&&(t[1]/=e)}t.add=function(t,e,n,i,o,s){var r,a,l,c,u=[[],[],[]],h=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],d=[[t,n,o],[e,i,s],[0,0,1]];for(t&&t instanceof Pt&&(d=[[t.a,t.c,t.e],[t.b,t.d,t.f],[0,0,1]]),r=0;r<3;r++)for(a=0;a<3;a++){for(c=0,l=0;l<3;l++)c+=h[r][l]*d[l][a];u[r][a]=c}this.a=u[0][0],this.b=u[1][0],this.c=u[0][1],this.d=u[1][1],this.e=u[0][2],this.f=u[1][2]},t.invert=function(){var t=this,e=t.a*t.d-t.b*t.c;return new Pt(t.d/e,-t.b/e,-t.c/e,t.a/e,(t.c*t.f-t.d*t.e)/e,(t.b*t.e-t.a*t.f)/e)},t.clone=function(){return new Pt(this.a,this.b,this.c,this.d,this.e,this.f)},t.translate=function(t,e){this.add(1,0,0,1,t,e)},t.scale=function(t,e,n,i){null==e&&(e=t),(n||i)&&this.add(1,0,0,1,n,i),this.add(t,0,0,e,0,0),(n||i)&&this.add(1,0,0,1,-n,-i)},t.rotate=function(t,n,i){t=e.rad(t),n=n||0,i=i||0;var o=+C.cos(t).toFixed(9),s=+C.sin(t).toFixed(9);this.add(o,s,-s,o,n,i),this.add(1,0,0,1,-n,-i)},t.x=function(t,e){return t*this.a+e*this.c+this.e},t.y=function(t,e){return t*this.b+e*this.d+this.f},t.get=function(t){return+this[y.fromCharCode(97+t)].toFixed(4)},t.toString=function(){return e.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()},t.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"},t.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},t.split=function(){var t={};t.dx=this.e,t.dy=this.f;var o=[[this.a,this.c],[this.b,this.d]];t.scalex=C.sqrt(n(o[0])),i(o[0]),t.shear=o[0][0]*o[1][0]+o[0][1]*o[1][1],o[1]=[o[1][0]-o[0][0]*t.shear,o[1][1]-o[0][1]*t.shear],t.scaley=C.sqrt(n(o[1])),i(o[1]),t.shear/=t.scaley;var s=-o[0][1],r=o[1][1];return r<0?(t.rotate=e.deg(C.acos(r)),s<0&&(t.rotate=360-t.rotate)):t.rotate=e.deg(C.asin(s)),t.isSimple=!(+t.shear.toFixed(9)||t.scalex.toFixed(9)!=t.scaley.toFixed(9)&&t.rotate),t.isSuperSimple=!+t.shear.toFixed(9)&&t.scalex.toFixed(9)==t.scaley.toFixed(9)&&!t.rotate,t.noRotation=!+t.shear.toFixed(9)&&!t.rotate,t},t.toTransformString=function(t){var e=t||this[b]();return e.isSimple?(e.scalex=+e.scalex.toFixed(4),e.scaley=+e.scaley.toFixed(4),e.rotate=+e.rotate.toFixed(4),(e.dx||e.dy?"t"+[e.dx,e.dy]:m)+(1!=e.scalex||1!=e.scaley?"s"+[e.scalex,e.scaley,0,0]:m)+(e.rotate?"r"+[e.rotate,0,0]:m)):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}}(Pt.prototype);for(var It=function(){this.returnValue=!1},Rt=function(){return this.originalEvent.preventDefault()},Lt=function(){this.cancelBubble=!0},jt=function(){return this.originalEvent.stopPropagation()},Ht=function(t){return{x:t.clientX+(u.doc.documentElement.scrollLeft||u.doc.body.scrollLeft),y:t.clientY+(u.doc.documentElement.scrollTop||u.doc.body.scrollTop)}},Bt=u.doc.addEventListener?function(t,e,n,i){var o=function(t){var e=Ht(t);return n.call(i,t,e.x,e.y)};if(t.addEventListener(e,o,!1),g&&_[e]){var s=function(e){for(var o=Ht(e),s=e,r=0,a=e.targetTouches&&e.targetTouches.length;r<a;r++)if(e.targetTouches[r].target==t){(e=e.targetTouches[r]).originalEvent=s,e.preventDefault=Rt,e.stopPropagation=jt;break}return n.call(i,e,o.x,o.y)};t.addEventListener(_[e],s,!1)}return function(){return t.removeEventListener(e,o,!1),g&&_[e]&&t.removeEventListener(_[e],s,!1),!0}}:u.doc.attachEvent?function(t,e,n,i){var o=function(t){var e=(t=t||u.win.event).clientX+(u.doc.documentElement.scrollLeft||u.doc.body.scrollLeft),o=t.clientY+(u.doc.documentElement.scrollTop||u.doc.body.scrollTop);return t.preventDefault=t.preventDefault||It,t.stopPropagation=t.stopPropagation||Lt,n.call(i,t,e,o)};return t.attachEvent("on"+e,o),function(){return t.detachEvent("on"+e,o),!0}}:void 0,qt=[],Ft=function(e){for(var n,i=e.clientX,o=e.clientY,s=u.doc.documentElement.scrollTop||u.doc.body.scrollTop,r=u.doc.documentElement.scrollLeft||u.doc.body.scrollLeft,a=qt.length;a--;){if(n=qt[a],g&&e.touches){for(var l,c=e.touches.length;c--;)if((l=e.touches[c]).identifier==n.el._drag.id){i=l.clientX,o=l.clientY,(e.originalEvent?e.originalEvent:e).preventDefault();break}}else e.preventDefault();var h,d=n.el.node,f=d.nextSibling,p=d.parentNode,m=d.style.display;u.win.opera&&p.removeChild(d),d.style.display="none",h=n.el.paper.getElementByPoint(i,o),d.style.display=m,u.win.opera&&(f?p.insertBefore(d,f):p.appendChild(d)),h&&t("raphael.drag.over."+n.el.id,n.el,h),i+=r,o+=s,t("raphael.drag.move."+n.el.id,n.move_scope||n.el,i-n.el._drag.x,o-n.el._drag.y,i,o,e)}},$t=function(n){e.unmousemove(Ft).unmouseup($t);for(var i,o=qt.length;o--;)(i=qt[o]).el._drag={},t("raphael.drag.end."+i.el.id,i.end_scope||i.start_scope||i.move_scope||i.el,n);qt=[]},zt=e.el={},Wt=w.length;Wt--;)!function(t){e[t]=zt[t]=function(n,i){return e.is(n,"function")&&(this.events=this.events||[],this.events.push({name:t,f:n,unbind:Bt(this.shape||this.node||u.doc,t,n,i||this)})),this},e["un"+t]=zt["un"+t]=function(n){for(var i=this.events||[],o=i.length;o--;)i[o].name!=t||!e.is(n,"undefined")&&i[o].f!=n||(i[o].unbind(),i.splice(o,1),!i.length&&delete this.events);return this}}(w[Wt]);zt.data=function(n,i){var o=V[this.id]=V[this.id]||{};if(0==arguments.length)return o;if(1==arguments.length){if(e.is(n,"object")){for(var s in n)n[c](s)&&this.data(s,n[s]);return this}return t("raphael.data.get."+this.id,this,o[n],n),o[n]}return o[n]=i,t("raphael.data.set."+this.id,this,i,n),this},zt.removeData=function(t){return null==t?V[this.id]={}:V[this.id]&&delete V[this.id][t],this},zt.getData=function(){return nt(V[this.id]||{})},zt.hover=function(t,e,n,i){return this.mouseover(t,n).mouseout(e,i||n)},zt.unhover=function(t,e){return this.unmouseover(t).unmouseout(e)};var Yt=[];function Ut(){return this.x+v+this.y+v+this.width+" \xd7 "+this.height}zt.drag=function(n,i,o,s,r,a){function l(l){(l.originalEvent||l).preventDefault();var c=l.clientX,h=l.clientY,d=u.doc.documentElement.scrollTop||u.doc.body.scrollTop,f=u.doc.documentElement.scrollLeft||u.doc.body.scrollLeft;if(this._drag.id=l.identifier,g&&l.touches)for(var p,m=l.touches.length;m--;)if(this._drag.id=(p=l.touches[m]).identifier,p.identifier==this._drag.id){c=p.clientX,h=p.clientY;break}this._drag.x=c+f,this._drag.y=h+d,!qt.length&&e.mousemove(Ft).mouseup($t),qt.push({el:this,move_scope:s,start_scope:r,end_scope:a}),i&&t.on("raphael.drag.start."+this.id,i),n&&t.on("raphael.drag.move."+this.id,n),o&&t.on("raphael.drag.end."+this.id,o),t("raphael.drag.start."+this.id,r||s||this,l.clientX+f,l.clientY+d,l)}return this._drag={},Yt.push({el:this,start:l}),this.mousedown(l),this},zt.onDragOver=function(e){e?t.on("raphael.drag.over."+this.id,e):t.unbind("raphael.drag.over."+this.id)},zt.undrag=function(){for(var n=Yt.length;n--;)Yt[n].el==this&&(this.unmousedown(Yt[n].start),Yt.splice(n,1),t.unbind("raphael.drag.*."+this.id));!Yt.length&&e.unmousemove(Ft).unmouseup($t),qt=[]},i.circle=function(t,n,i){var o=e._engine.circle(this,t||0,n||0,i||0);return this.__set__&&this.__set__.push(o),o},i.rect=function(t,n,i,o,s){var r=e._engine.rect(this,t||0,n||0,i||0,o||0,s||0);return this.__set__&&this.__set__.push(r),r},i.ellipse=function(t,n,i,o){var s=e._engine.ellipse(this,t||0,n||0,i||0,o||0);return this.__set__&&this.__set__.push(s),s},i.path=function(t){t&&!e.is(t,"string")&&!e.is(t[0],N)&&(t+=m);var n=e._engine.path(e.format[f](e,arguments),this);return this.__set__&&this.__set__.push(n),n},i.image=function(t,n,i,o,s){var r=e._engine.image(this,t||"about:blank",n||0,i||0,o||0,s||0);return this.__set__&&this.__set__.push(r),r},i.text=function(t,n,i){var o=e._engine.text(this,t||0,n||0,y(i));return this.__set__&&this.__set__.push(o),o},i.set=function(t){!e.is(t,"array")&&(t=Array.prototype.splice.call(arguments,0,arguments.length));var n=new ue(t);return this.__set__&&this.__set__.push(n),n.paper=this,n.type="set",n},i.setStart=function(t){this.__set__=t||this.set()},i.setFinish=function(t){var e=this.__set__;return delete this.__set__,e},i.getSize=function(){var t=this.canvas.parentNode;return{width:t.offsetWidth,height:t.offsetHeight}},i.setSize=function(t,n){return e._engine.setSize.call(this,t,n)},i.setViewBox=function(t,n,i,o,s){return e._engine.setViewBox.call(this,t,n,i,o,s)},i.top=i.bottom=null,i.raphael=e,i.getElementByPoint=function(t,e){var n,i,o,s,r,a=this.canvas,l=u.doc.elementFromPoint(t,e);if(u.win.opera&&"svg"==l.tagName){var c=(i=(n=a).getBoundingClientRect(),s=(o=n.ownerDocument).body,r=o.documentElement,{y:i.top+(u.win.pageYOffset||r.scrollTop||s.scrollTop)-(r.clientTop||s.clientTop||0),x:i.left+(u.win.pageXOffset||r.scrollLeft||s.scrollLeft)-(r.clientLeft||s.clientLeft||0)}),h=a.createSVGRect();h.x=t-c.x,h.y=e-c.y,h.width=h.height=1;var d=a.getIntersectionList(h,null);d.length&&(l=d[d.length-1])}if(!l)return null;for(;l.parentNode&&l!=a.parentNode&&!l.raphael;)l=l.parentNode;return l==this.canvas.parentNode&&(l=a),l&&l.raphael?this.getById(l.raphaelid):null},i.getElementsByBBox=function(t){var n=this.set();return this.forEach(function(i){e.isBBoxIntersect(i.getBBox(),t)&&n.push(i)}),n},i.getById=function(t){for(var e=this.bottom;e;){if(e.id==t)return e;e=e.next}return null},i.forEach=function(t,e){for(var n=this.bottom;n;){if(!1===t.call(e,n))return this;n=n.next}return this},i.getElementsByPoint=function(t,e){var n=this.set();return this.forEach(function(i){i.isPointInside(t,e)&&n.push(i)}),n},zt.isPointInside=function(t,n){var i=this.realPath=Q[this.type](this);return this.attr("transform")&&this.attr("transform").length&&(i=e.transformPath(i,this.attr("transform"))),e.isPointInsidePath(i,t,n)},zt.getBBox=function(t){if(this.removed)return{};var e=this._;return t?(!e.dirty&&e.bboxwt||(this.realPath=Q[this.type](this),e.bboxwt=yt(this.realPath),e.bboxwt.toString=Ut,e.dirty=0),e.bboxwt):((e.dirty||e.dirtyT||!e.bbox)&&(!e.dirty&&this.realPath||(e.bboxwt=0,this.realPath=Q[this.type](this)),e.bbox=yt(J(this.realPath,this.matrix)),e.bbox.toString=Ut,e.dirty=e.dirtyT=0),e.bbox)},zt.clone=function(){if(this.removed)return null;var t=this.paper[this.type]().attr(this.attr());return this.__set__&&this.__set__.push(t),t},zt.glow=function(t){if("text"==this.type)return null;var e={width:((t=t||{}).width||10)+(+this.attr("stroke-width")||1),fill:t.fill||!1,opacity:null==t.opacity?.5:t.opacity,offsetx:t.offsetx||0,offsety:t.offsety||0,color:t.color||"#000"},n=e.width/2,i=this.paper,o=i.set(),s=this.realPath||Q[this.type](this);s=this.matrix?J(s,this.matrix):s;for(var r=1;r<n+1;r++)o.push(i.path(s).attr({stroke:e.color,fill:e.fill?e.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(e.width/n*r).toFixed(3),opacity:+(e.opacity/n).toFixed(3)}));return o.insertBefore(this).translate(e.offsetx,e.offsety)};var Vt=function(t,n,i,o,s,r,a,l,c){return null==c?pt(t,n,i,o,s,r,a,l):e.findDotsAtSegment(t,n,i,o,s,r,a,l,function(t,e,n,i,o,s,r,a,l){if(!(l<0||pt(t,e,n,i,o,s,r,a)<l)){var c,u=.5,h=1-u;for(c=pt(t,e,n,i,o,s,r,a,h);T(c-l)>.01;)u/=2,c=pt(t,e,n,i,o,s,r,a,h+=(c<l?1:-1)*u);return h}}(t,n,i,o,s,r,a,l,c))},Gt=function(t,n){return function(i,o,s){for(var r,a,l,c,u,h="",d={},f=0,p=0,g=(i=Dt(i)).length;p<g;p++){if("M"==(l=i[p])[0])r=+l[1],a=+l[2];else{if(f+(c=Vt(r,a,l[1],l[2],l[3],l[4],l[5],l[6]))>o){if(n&&!d.start){if(h+=["C"+(u=Vt(r,a,l[1],l[2],l[3],l[4],l[5],l[6],o-f)).start.x,u.start.y,u.m.x,u.m.y,u.x,u.y],s)return h;d.start=h,h=["M"+u.x,u.y+"C"+u.n.x,u.n.y,u.end.x,u.end.y,l[5],l[6]].join(),f+=c,r=+l[5],a=+l[6];continue}if(!t&&!n)return{x:(u=Vt(r,a,l[1],l[2],l[3],l[4],l[5],l[6],o-f)).x,y:u.y,alpha:u.alpha}}f+=c,r=+l[5],a=+l[6]}h+=l.shift()+l}return d.end=h,(u=t?f:n?d:e.findDotsAtSegment(r,a,l[0],l[1],l[2],l[3],l[4],l[5],1)).alpha&&(u={x:u.x,y:u.y,alpha:u.alpha}),u}},Kt=Gt(1),Xt=Gt(),Zt=Gt(0,1);e.getTotalLength=Kt,e.getPointAtLength=Xt,e.getSubpath=function(t,e,n){if(this.getTotalLength(t)-n<1e-6)return Zt(t,e).end;var i=Zt(t,n,1);return e?Zt(i,e).end:i},zt.getTotalLength=function(){var t=this.getPath();if(t)return this.node.getTotalLength?this.node.getTotalLength():Kt(t)},zt.getPointAtLength=function(t){var e=this.getPath();if(e)return Xt(e,t)},zt.getPath=function(){var t,n=e._getPath[this.type];if("text"!=this.type&&"set"!=this.type)return n&&(t=n(this)),t},zt.getSubpath=function(t,n){var i=this.getPath();if(i)return e.getSubpath(i,t,n)};var Qt=e.easing_formulas={linear:function(t){return t},"<":function(t){return D(t,1.7)},">":function(t){return D(t,.48)},"<>":function(t){var e=.48-t/1.04,n=C.sqrt(.1734+e*e),i=n-e,o=-n-e,s=D(T(i),1/3)*(i<0?-1:1)+D(T(o),1/3)*(o<0?-1:1)+.5;return 3*(1-s)*s*s+s*s*s},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){var e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},elastic:function(t){return t==!!t?t:D(2,-10*t)*C.sin(2*O*(t-.075)/.3)+1},bounce:function(t){var e=7.5625,n=2.75;return t<1/n?e*t*t:t<2/n?e*(t-=1.5/n)*t+.75:t<2.5/n?e*(t-=2.25/n)*t+.9375:e*(t-=2.625/n)*t+.984375}};Qt.easeIn=Qt["ease-in"]=Qt["<"],Qt.easeOut=Qt["ease-out"]=Qt[">"],Qt.easeInOut=Qt["ease-in-out"]=Qt["<>"],Qt["back-in"]=Qt.backIn,Qt["back-out"]=Qt.backOut;var Jt=[],te=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){setTimeout(t,16)},ee=function(){for(var n=+new Date,i=0;i<Jt.length;i++){var o=Jt[i];if(!o.el.removed&&!o.paused){var s,r,a=n-o.start,l=o.ms,u=o.easing,h=o.from,d=o.diff,f=o.to,g=o.el,m={},y={};if(o.initstatus?(a=(o.initstatus*o.anim.top-o.prev)/(o.percent-o.prev)*l,o.status=o.initstatus,delete o.initstatus,o.stop&&Jt.splice(i--,1)):o.status=(o.prev+a/l*(o.percent-o.prev))/o.anim.top,!(a<0))if(a<l){var b=u(a/l);for(var w in h)if(h[c](w)){switch(q[w]){case E:s=+h[w]+b*l*d[w];break;case"colour":s="rgb("+[ne(R(h[w].r+b*l*d[w].r)),ne(R(h[w].g+b*l*d[w].g)),ne(R(h[w].b+b*l*d[w].b))].join(",")+")";break;case"path":s=[];for(var _=0,x=h[w].length;_<x;_++){s[_]=[h[w][_][0]];for(var C=1,k=h[w][_].length;C<k;C++)s[_][C]=+h[w][_][C]+b*l*d[w][_][C];s[_]=s[_].join(v)}s=s.join(v);break;case"transform":if(d[w].real)for(s=[],_=0,x=h[w].length;_<x;_++)for(s[_]=[h[w][_][0]],C=1,k=h[w][_].length;C<k;C++)s[_][C]=h[w][_][C]+b*l*d[w][_][C];else{var S=function(t){return+h[w][t]+b*l*d[w][t]};s=[["m",S(0),S(1),S(2),S(3),S(4),S(5)]]}break;case"csv":if("clip-rect"==w)for(s=[],_=4;_--;)s[_]=+h[w][_]+b*l*d[w][_];break;default:var T=[][p](h[w]);for(s=[],_=g.paper.customAttributes[w].length;_--;)s[_]=+T[_]+b*l*d[w][_]}m[w]=s}g.attr(m),function(e,n,i){setTimeout(function(){t("raphael.anim.frame."+e,n,i)})}(g.id,g,o.anim)}else{if(function(n,i,o){setTimeout(function(){t("raphael.anim.frame."+i.id,i,o),t("raphael.anim.finish."+i.id,i,o),e.is(n,"function")&&n.call(i)})}(o.callback,g,o.anim),g.attr(f),Jt.splice(i--,1),o.repeat>1&&!o.next){for(r in f)f[c](r)&&(y[r]=o.totalOrigin[r]);o.el.attr(y),oe(o.anim,o.el,o.anim.percents[0],null,o.totalOrigin,o.repeat-1)}o.next&&!o.stop&&oe(o.anim,o.el,o.next,null,o.totalOrigin,o.repeat)}}}Jt.length&&te(ee)},ne=function(t){return t>255?255:t<0?0:t};function ie(t,e){var n=[],i={};if(this.ms=e,this.times=1,t){for(var o in t)t[c](o)&&(i[L(o)]=t[o],n.push(L(o)));n.sort(G)}this.anim=i,this.top=n[n.length-1],this.percents=n}function oe(n,i,o,s,a,l){o=L(o);var u,h,d,f,g,m,v=n.ms,w={},_={},x={};if(s)for(k=0,S=Jt.length;k<S;k++){var C=Jt[k];if(C.el.id==i.id&&C.anim==n){C.percent!=o?(Jt.splice(k,1),d=1):h=C,i.attr(C.totalOrigin);break}}else s=+_;for(var k=0,S=n.percents.length;k<S;k++){if(n.percents[k]==o||n.percents[k]>s*n.top){v=v/n.top*((o=n.percents[k])-(g=n.percents[k-1]||0)),f=n.percents[k+1],u=n.anim[o];break}s&&i.attr(n.anim[n.percents[k]])}if(u){if(h)h.initstatus=s,h.start=new Date-h.ms*s;else{for(var D in u)if(u[c](D)&&(q[c](D)||i.paper.customAttributes[c](D)))switch(w[D]=i.attr(D),null==w[D]&&(w[D]=B[D]),_[D]=u[D],q[D]){case E:x[D]=(_[D]-w[D])/v;break;case"colour":w[D]=e.getRGB(w[D]);var O=e.getRGB(_[D]);x[D]={r:(O.r-w[D].r)/v,g:(O.g-w[D].g)/v,b:(O.b-w[D].b)/v};break;case"path":var N=Dt(w[D],_[D]),A=N[1];for(w[D]=N[0],x[D]=[],k=0,S=w[D].length;k<S;k++){x[D][k]=[0];for(var M=1,P=w[D][k].length;M<P;M++)x[D][k][M]=(A[k][M]-w[D][k][M])/v}break;case"transform":var R=i._,j=Mt(R[D],_[D]);if(j)for(w[D]=j.from,_[D]=j.to,x[D]=[],x[D].real=!0,k=0,S=w[D].length;k<S;k++)for(x[D][k]=[w[D][k][0]],M=1,P=w[D][k].length;M<P;M++)x[D][k][M]=(_[D][k][M]-w[D][k][M])/v;else{var H=i.matrix||new Pt,F={_:{transform:R.transform},getBBox:function(){return i.getBBox(1)}};w[D]=[H.a,H.b,H.c,H.d,H.e,H.f],Nt(F,_[D]),_[D]=F._.transform,x[D]=[(F.matrix.a-H.a)/v,(F.matrix.b-H.b)/v,(F.matrix.c-H.c)/v,(F.matrix.d-H.d)/v,(F.matrix.e-H.e)/v,(F.matrix.f-H.f)/v]}break;case"csv":var $=y(u[D])[b](r),z=y(w[D])[b](r);if("clip-rect"==D)for(w[D]=z,x[D]=[],k=z.length;k--;)x[D][k]=($[k]-w[D][k])/v;_[D]=$;break;default:for($=[][p](u[D]),z=[][p](w[D]),x[D]=[],k=i.paper.customAttributes[D].length;k--;)x[D][k]=(($[k]||0)-(z[k]||0))/v}var W=u.easing,Y=e.easing_formulas[W];if(!Y)if((Y=y(W).match(I))&&5==Y.length){var U=Y;Y=function(t){return function(t,e,n,i,o,s){var r=3*e,a=3*(+U[3]-e)-r,l=1-r-a,c=3*n,u=3*(+U[4]-n)-c,h=1-c-u;function d(t){return((l*t+a)*t+r)*t}return function(t,e){var n=function(t,e){var n,i,o,s,c,u;for(o=t,u=0;u<8;u++){if(s=d(o)-t,T(s)<e)return o;if(T(c=(3*l*o+2*a)*o+r)<1e-6)break;o-=s/c}if(i=1,(o=t)<(n=0))return n;if(o>i)return i;for(;n<i;){if(s=d(o),T(s-t)<e)return o;t>s?n=o:i=o,o=(i-n)/2+n}return o}(t,1/(200*s));return((h*n+u)*n+c)*n}(t)}(t,+U[1],+U[2],0,0,v)}}else Y=K;if(C={anim:n,percent:o,timestamp:m=u.start||n.start||+new Date,start:m+(n.del||0),status:0,initstatus:s||0,stop:!1,ms:v,easing:Y,from:w,diff:x,to:_,el:i,callback:u.callback,prev:g,next:f,repeat:l||n.times,origin:i.attr(),totalOrigin:a},Jt.push(C),s&&!h&&!d&&(C.stop=!0,C.start=new Date-v*s,1==Jt.length))return ee();d&&(C.start=new Date-C.ms*s),1==Jt.length&&te(ee)}t("raphael.anim.start."+i.id,i,n)}}function se(t){for(var e=0;e<Jt.length;e++)Jt[e].el.paper==t&&Jt.splice(e--,1)}zt.animateWith=function(t,n,i,o,s,r){if(this.removed)return r&&r.call(this),this;var a=i instanceof ie?i:e.animation(i,o,s,r);oe(a,this,a.percents[0],null,this.attr());for(var l=0,c=Jt.length;l<c;l++)if(Jt[l].anim==n&&Jt[l].el==t){Jt[c-1].start=Jt[l].start;break}return this},zt.onAnimation=function(e){return e?t.on("raphael.anim.frame."+this.id,e):t.unbind("raphael.anim.frame."+this.id),this},ie.prototype.delay=function(t){var e=new ie(this.anim,this.ms);return e.times=this.times,e.del=+t||0,e},ie.prototype.repeat=function(t){var e=new ie(this.anim,this.ms);return e.del=this.del,e.times=C.floor(k(t,0))||1,e},e.animation=function(t,n,i,o){if(t instanceof ie)return t;!e.is(i,"function")&&i||(o=o||i||null,i=null),t=Object(t),n=+n||0;var s,r,a={};for(r in t)t[c](r)&&L(r)!=r&&L(r)+"%"!=r&&(s=!0,a[r]=t[r]);if(s)return i&&(a.easing=i),o&&(a.callback=o),new ie({100:a},n);if(o){var l=0;for(var u in t){var h=j(u);t[c](u)&&h>l&&(l=h)}!t[l+="%"].callback&&(t[l].callback=o)}return new ie(t,n)},zt.animate=function(t,n,i,o){if(this.removed)return o&&o.call(this),this;var s=t instanceof ie?t:e.animation(t,n,i,o);return oe(s,this,s.percents[0],null,this.attr()),this},zt.setTime=function(t,e){return t&&null!=e&&this.status(t,S(e,t.ms)/t.ms),this},zt.status=function(t,e){var n,i,o=[],s=0;if(null!=e)return oe(t,this,-1,S(e,1)),this;for(n=Jt.length;s<n;s++)if((i=Jt[s]).el.id==this.id&&(!t||i.anim==t)){if(t)return i.status;o.push({anim:i.anim,status:i.status})}return t?0:o},zt.pause=function(e){for(var n=0;n<Jt.length;n++)Jt[n].el.id!=this.id||e&&Jt[n].anim!=e||!1!==t("raphael.anim.pause."+this.id,this,Jt[n].anim)&&(Jt[n].paused=!0);return this},zt.resume=function(e){for(var n=0;n<Jt.length;n++)if(Jt[n].el.id==this.id&&(!e||Jt[n].anim==e)){var i=Jt[n];!1!==t("raphael.anim.resume."+this.id,this,i.anim)&&(delete i.paused,this.status(i.anim,i.status))}return this},zt.stop=function(e){for(var n=0;n<Jt.length;n++)Jt[n].el.id!=this.id||e&&Jt[n].anim!=e||!1!==t("raphael.anim.stop."+this.id,this,Jt[n].anim)&&Jt.splice(n--,1);return this},t.on("raphael.remove",se),t.on("raphael.clear",se),zt.toString=function(){return"Rapha\xebl\u2019s object"};var re,ae,le,ce,ue=function(t){if(this.items=[],this.length=0,this.type="set",t)for(var e=0,n=t.length;e<n;e++)!t[e]||t[e].constructor!=zt.constructor&&t[e].constructor!=ue||(this[this.items.length]=this.items[this.items.length]=t[e],this.length++)},he=ue.prototype;for(var de in he.push=function(){for(var t,e,n=0,i=arguments.length;n<i;n++)!(t=arguments[n])||t.constructor!=zt.constructor&&t.constructor!=ue||(this[e=this.items.length]=this.items[e]=t,this.length++);return this},he.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},he.forEach=function(t,e){for(var n=0,i=this.items.length;n<i;n++)if(!1===t.call(e,this.items[n],n))return this;return this},zt)zt[c](de)&&(he[de]=function(t){return function(){var e=arguments;return this.forEach(function(n){n[t][f](n,e)})}}(de));return he.attr=function(t,n){if(t&&e.is(t,N)&&e.is(t[0],"object"))for(var i=0,o=t.length;i<o;i++)this.items[i].attr(t[i]);else for(var s=0,r=this.items.length;s<r;s++)this.items[s].attr(t,n);return this},he.clear=function(){for(;this.length;)this.pop()},he.splice=function(t,e,n){t=t<0?k(this.length+t,0):t,e=k(0,S(this.length-t,e));var i,o=[],s=[],r=[];for(i=2;i<arguments.length;i++)r.push(arguments[i]);for(i=0;i<e;i++)s.push(this[t+i]);for(;i<this.length-t;i++)o.push(this[t+i]);var a=r.length;for(i=0;i<a+o.length;i++)this.items[t+i]=this[t+i]=i<a?r[i]:o[i-a];for(i=this.items.length=this.length-=e-a;this[i];)delete this[i++];return new ue(s)},he.exclude=function(t){for(var e=0,n=this.length;e<n;e++)if(this[e]==t)return this.splice(e,1),!0},he.animate=function(t,n,i,o){(e.is(i,"function")||!i)&&(o=i||null);var s,r,a=this.items.length,l=a,c=this;if(!a)return this;o&&(r=function(){!--a&&o.call(c)}),i=e.is(i,"string")?i:r;var u=e.animation(t,n,i,r);for(s=this.items[--l].animate(u);l--;)this.items[l]&&!this.items[l].removed&&this.items[l].animateWith(s,u,u),this.items[l]&&!this.items[l].removed||a--;return this},he.insertAfter=function(t){for(var e=this.items.length;e--;)this.items[e].insertAfter(t);return this},he.getBBox=function(){for(var t=[],e=[],n=[],i=[],o=this.items.length;o--;)if(!this.items[o].removed){var s=this.items[o].getBBox();t.push(s.x),e.push(s.y),n.push(s.x+s.width),i.push(s.y+s.height)}return{x:t=S[f](0,t),y:e=S[f](0,e),x2:n=k[f](0,n),y2:i=k[f](0,i),width:n-t,height:i-e}},he.clone=function(t){t=this.paper.set();for(var e=0,n=this.items.length;e<n;e++)t.push(this.items[e].clone());return t},he.toString=function(){return"Rapha\xebl\u2018s set"},he.glow=function(t){var e=this.paper.set();return this.forEach(function(n,i){var o=n.glow(t);null!=o&&o.forEach(function(t,n){e.push(t)})}),e},he.isPointInside=function(t,e){var n=!1;return this.forEach(function(i){if(i.isPointInside(t,e))return n=!0,!1}),n},e.registerFont=function(t){if(!t.face)return t;this.fonts=this.fonts||{};var e={w:t.w,face:{},glyphs:{}},n=t.face["font-family"];for(var i in t.face)t.face[c](i)&&(e.face[i]=t.face[i]);if(this.fonts[n]?this.fonts[n].push(e):this.fonts[n]=[e],!t.svg)for(var o in e.face["units-per-em"]=j(t.face["units-per-em"],10),t.glyphs)if(t.glyphs[c](o)){var s=t.glyphs[o];if(e.glyphs[o]={w:s.w,k:{},d:s.d&&"M"+s.d.replace(/[mlcxtrv]/g,function(t){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[t]||"M"})+"z"},s.k)for(var r in s.k)s[c](r)&&(e.glyphs[o].k[r]=s.k[r])}return t},i.getFont=function(t,n,i,o){if(o=o||"normal",i=i||"normal",n=+n||{normal:400,bold:700,lighter:300,bolder:800}[n]||400,e.fonts){var s,r=e.fonts[t];if(!r){var a=new RegExp("(^|\\s)"+t.replace(/[^\w\d\s+!~.:_-]/g,m)+"(\\s|$)","i");for(var l in e.fonts)if(e.fonts[c](l)&&a.test(l)){r=e.fonts[l];break}}if(r)for(var u=0,h=r.length;u<h&&((s=r[u]).face["font-weight"]!=n||s.face["font-style"]!=i&&s.face["font-style"]||s.face["font-stretch"]!=o);u++);return s}},i.print=function(t,n,i,o,s,a,l,c){a=a||"middle",l=k(S(l||0,1),-1),c=k(S(c||1,3),1);var u,h=y(i)[b](m),d=0,f=0,p=m;if(e.is(o,"string")&&(o=this.getFont(o)),o){u=(s||16)/o.face["units-per-em"];for(var g=o.face.bbox[b](r),v=+g[0],w=g[3]-g[1],_=0,x=+g[1]+("baseline"==a?w+ +o.face.descent:w/2),C=0,T=h.length;C<T;C++){if("\n"==h[C])d=0,O=0,f=0,_+=w*c;else{var D=f&&o.glyphs[h[C-1]]||{},O=o.glyphs[h[C]];d+=f?(D.w||o.w)+(D.k&&D.k[h[C]]||0)+o.w*l:0,f=1}O&&O.d&&(p+=e.transformPath(O.d,["t",d*u,_*u,"s",u,u,v,x,"t",(t-v)/u,(n-x)/u]))}}return this.path(p).attr({fill:"#000",stroke:"none"})},i.add=function(t){if(e.is(t,"array"))for(var n,i=this.set(),o=0,s=t.length;o<s;o++)a[c]((n=t[o]||{}).type)&&i.push(this[n.type]().attr(n));return i},e.format=function(t,n){var i=e.is(n,N)?[0][p](n):arguments;return t&&e.is(t,"string")&&i.length-1&&(t=t.replace(l,function(t,e){return null==i[++e]?m:i[e]})),t||m},e.fullfill=(re=/\{([^\}]+)\}/g,ae=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,function(t,e){return String(t).replace(re,function(t,n){return function(t,e,n){var i=n;return e.replace(ae,function(t,e,n,o,s){e=e||o,i&&(e in i&&(i=i[e]),"function"==typeof i&&s&&(i=i()))}),i=(null==i||i==n?t:i)+""}(t,n,e)})}),e.ninja=function(){if(h.was)u.win.Raphael=h.is;else{window.Raphael=void 0;try{delete window.Raphael}catch(t){}}return e},e.st=he,t.on("raphael.DOMload",function(){n=!0}),null==(le=document).readyState&&le.addEventListener&&(le.addEventListener("DOMContentLoaded",ce=function(){le.removeEventListener("DOMContentLoaded",ce,!1),le.readyState="complete"},!1),le.readyState="loading"),function t(){/in/.test(le.readyState)?setTimeout(t,9):e.eve("raphael.DOMload")}(),e}).apply(e,i))||(t.exports=o)},function(t,e,n){var i,o,s,r,a,l,c,u,h,d,f,p,g;r="hasOwnProperty",a=/[\.\/]/,l=/\s*,\s*/,c=function(t,e){return t-e},u={n:{}},h=function(){for(var t=0,e=this.length;t<e;t++)if("undefined"!=typeof this[t])return this[t]},d=function(){for(var t=this.length;--t;)if("undefined"!=typeof this[t])return this[t]},f=Object.prototype.toString,p=String,g=Array.isArray||function(t){return t instanceof Array||"[object Array]"==f.call(t)},eve=function(t,e){var n,i=s,r=Array.prototype.slice.call(arguments,2),a=eve.listeners(t),l=0,u=[],f={},p=[],g=o;p.firstDefined=h,p.lastDefined=d,o=t,s=0;for(var m=0,v=a.length;m<v;m++)"zIndex"in a[m]&&(u.push(a[m].zIndex),a[m].zIndex<0&&(f[a[m].zIndex]=a[m]));for(u.sort(c);u[l]<0;)if(n=f[u[l++]],p.push(n.apply(e,r)),s)return s=i,p;for(m=0;m<v;m++)if("zIndex"in(n=a[m]))if(n.zIndex==u[l]){if(p.push(n.apply(e,r)),s)break;do{if((n=f[u[++l]])&&p.push(n.apply(e,r)),s)break}while(n)}else f[n.zIndex]=n;else if(p.push(n.apply(e,r)),s)break;return s=i,o=g,p},eve._events=u,eve.listeners=function(t){var e,n,i,o,s,r,l,c,h=g(t)?t:t.split(a),d=u,f=[d],p=[];for(o=0,s=h.length;o<s;o++){for(c=[],r=0,l=f.length;r<l;r++)for(n=[(d=f[r].n)[h[o]],d["*"]],i=2;i--;)(e=n[i])&&(c.push(e),p=p.concat(e.f||[]));f=c}return p},eve.separator=function(t){t?(t="["+(t=p(t).replace(/(?=[\.\^\]\[\-])/g,"\\"))+"]",a=new RegExp(t)):a=/[\.\/]/},eve.on=function(t,e){if("function"!=typeof e)return function(){};for(var n=g(t)?g(t[0])?t:[t]:p(t).split(l),i=0,o=n.length;i<o;i++)!function(t){for(var n,i=g(t)?t:p(t).split(a),o=u,s=0,r=i.length;s<r;s++)o=(o=o.n).hasOwnProperty(i[s])&&o[i[s]]||(o[i[s]]={n:{}});for(o.f=o.f||[],s=0,r=o.f.length;s<r;s++)if(o.f[s]==e){n=!0;break}!n&&o.f.push(e)}(n[i]);return function(t){+t==+t&&(e.zIndex=+t)}},eve.f=function(t){var e=[].slice.call(arguments,1);return function(){eve.apply(null,[t,null].concat(e).concat([].slice.call(arguments,0)))}},eve.stop=function(){s=1},eve.nt=function(t){var e=g(o)?o.join("."):o;return t?new RegExp("(?:\\.|\\/|^)"+t+"(?:\\.|\\/|$)").test(e):e},eve.nts=function(){return g(o)?o:o.split(a)},eve.off=eve.unbind=function(t,e){if(t){var n=g(t)?g(t[0])?t:[t]:p(t).split(l);if(n.length>1)for(var i=0,o=n.length;i<o;i++)eve.off(n[i],e);else{n=g(t)?t:p(t).split(a);var s,c,h,d,f,m=[u];for(i=0,o=n.length;i<o;i++)for(d=0;d<m.length;d+=h.length-2){if(h=[d,1],s=m[d].n,"*"!=n[i])s[n[i]]&&h.push(s[n[i]]);else for(c in s)s[r](c)&&h.push(s[c]);m.splice.apply(m,h)}for(i=0,o=m.length;i<o;i++)for(s=m[i];s.n;){if(e){if(s.f){for(d=0,f=s.f.length;d<f;d++)if(s.f[d]==e){s.f.splice(d,1);break}!s.f.length&&delete s.f}for(c in s.n)if(s.n[r](c)&&s.n[c].f){var v=s.n[c].f;for(d=0,f=v.length;d<f;d++)if(v[d]==e){v.splice(d,1);break}!v.length&&delete s.n[c].f}}else for(c in delete s.f,s.n)s.n[r](c)&&s.n[c].f&&delete s.n[c].f;s=s.n}}}else eve._events=u={n:{}}},eve.once=function(t,e){var n=function(){return eve.off(t,n),e.apply(this,arguments)};return eve.on(t,n)},eve.version="0.5.0",eve.toString=function(){return"You are running Eve 0.5.0"},"undefined"!=typeof t&&t.exports?t.exports=eve:void 0===(i=(function(){return eve}).apply(e,[]))||(t.exports=i)},function(t,e,n){var i,o;i=[n(1)],void 0===(o=(function(t){if(!t||t.svg){var e="hasOwnProperty",n=String,i=parseFloat,o=parseInt,s=Math,r=s.max,a=s.abs,l=s.pow,c=/[, ]+/,u=t.eve,h="",d=" ",f="http://www.w3.org/1999/xlink",p={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},g={};t.toString=function(){return"Your browser supports SVG.\nYou are running Rapha\xebl "+this.version};var m=function(i,o){if(o)for(var s in"string"==typeof i&&(i=m(i)),o)o[e](s)&&("xlink:"==s.substring(0,6)?i.setAttributeNS(f,s.substring(6),n(o[s])):i.setAttribute(s,n(o[s])));else(i=t._g.doc.createElementNS("http://www.w3.org/2000/svg",i)).style&&(i.style.webkitTapHighlightColor="rgba(0,0,0,0)");return i},v=function(e,o){var c="linear",u=e.id+o,d=.5,f=.5,p=e.node,g=e.paper,v=p.style,b=t._g.doc.getElementById(u);if(!b){if(o=(o=n(o).replace(t._radial_gradient,function(t,e,n){if(c="radial",e&&n){d=i(e);var o=2*((f=i(n))>.5)-1;l(d-.5,2)+l(f-.5,2)>.25&&(f=s.sqrt(.25-l(d-.5,2))*o+.5)&&.5!=f&&(f=f.toFixed(5)-1e-5*o)}return h})).split(/\s*\-\s*/),"linear"==c){var w=o.shift();if(w=-i(w),isNaN(w))return null;var _=[0,0,s.cos(t.rad(w)),s.sin(t.rad(w))],x=1/(r(a(_[2]),a(_[3]))||1);_[2]*=x,_[3]*=x,_[2]<0&&(_[0]=-_[2],_[2]=0),_[3]<0&&(_[1]=-_[3],_[3]=0)}var C=t._parseDots(o);if(!C)return null;if(u=u.replace(/[\(\)\s,\xb0#]/g,"_"),e.gradient&&u!=e.gradient.id&&(g.defs.removeChild(e.gradient),delete e.gradient),!e.gradient){b=m(c+"Gradient",{id:u}),e.gradient=b,m(b,"radial"==c?{fx:d,fy:f}:{x1:_[0],y1:_[1],x2:_[2],y2:_[3],gradientTransform:e.matrix.invert()}),g.defs.appendChild(b);for(var k=0,S=C.length;k<S;k++)b.appendChild(m("stop",{offset:C[k].offset?C[k].offset:k?"100%":"0%","stop-color":C[k].color||"#fff","stop-opacity":isFinite(C[k].opacity)?C[k].opacity:1}))}}return m(p,{fill:y(u),opacity:1,"fill-opacity":1}),v.fill=h,v.opacity=1,v.fillOpacity=1,1},y=function(t){if((e=document.documentMode)&&(9===e||10===e))return"url('#"+t+"')";var e,n=document.location;return"url('"+n.protocol+"//"+n.host+n.pathname+n.search+"#"+t+"')"},b=function(t){var e=t.getBBox(1);m(t.pattern,{patternTransform:t.matrix.invert()+" translate("+e.x+","+e.y+")"})},w=function(i,o,s){if("path"==i.type){for(var r,a,l,c,u,d=n(o).toLowerCase().split("-"),f=i.paper,v=s?"end":"start",y=i.node,b=i.attrs,w=b["stroke-width"],_=d.length,x="classic",C=3,k=3,S=5;_--;)switch(d[_]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":x=d[_];break;case"wide":k=5;break;case"narrow":k=2;break;case"long":C=5;break;case"short":C=2}if("open"==x?(C+=2,k+=2,S+=2,l=1,c=s?4:1,u={fill:"none",stroke:b.stroke}):(c=l=C/2,u={fill:b.stroke,stroke:"none"}),i._.arrows?s?(i._.arrows.endPath&&g[i._.arrows.endPath]--,i._.arrows.endMarker&&g[i._.arrows.endMarker]--):(i._.arrows.startPath&&g[i._.arrows.startPath]--,i._.arrows.startMarker&&g[i._.arrows.startMarker]--):i._.arrows={},"none"!=x){var T="raphael-marker-"+x,D="raphael-marker-"+v+x+C+k+"-obj"+i.id;t._g.doc.getElementById(T)?g[T]++:(f.defs.appendChild(m(m("path"),{"stroke-linecap":"round",d:p[x],id:T})),g[T]=1);var O,E=t._g.doc.getElementById(D);E?(g[D]++,O=E.getElementsByTagName("use")[0]):(E=m(m("marker"),{id:D,markerHeight:k,markerWidth:C,orient:"auto",refX:c,refY:k/2}),O=m(m("use"),{"xlink:href":"#"+T,transform:(s?"rotate(180 "+C/2+" "+k/2+") ":h)+"scale("+C/S+","+k/S+")","stroke-width":(1/((C/S+k/S)/2)).toFixed(4)}),E.appendChild(O),f.defs.appendChild(E),g[D]=1),m(O,u);var N=l*("diamond"!=x&&"oval"!=x);s?(r=i._.arrows.startdx*w||0,a=t.getTotalLength(b.path)-N*w):(r=N*w,a=t.getTotalLength(b.path)-(i._.arrows.enddx*w||0)),(u={})["marker-"+v]="url(#"+D+")",(a||r)&&(u.d=t.getSubpath(b.path,r,a)),m(y,u),i._.arrows[v+"Path"]=T,i._.arrows[v+"Marker"]=D,i._.arrows[v+"dx"]=N,i._.arrows[v+"Type"]=x,i._.arrows[v+"String"]=o}else s?(r=i._.arrows.startdx*w||0,a=t.getTotalLength(b.path)-r):(r=0,a=t.getTotalLength(b.path)-(i._.arrows.enddx*w||0)),i._.arrows[v+"Path"]&&m(y,{d:t.getSubpath(b.path,r,a)}),delete i._.arrows[v+"Path"],delete i._.arrows[v+"Marker"],delete i._.arrows[v+"dx"],delete i._.arrows[v+"Type"],delete i._.arrows[v+"String"];for(u in g)if(g[e](u)&&!g[u]){var A=t._g.doc.getElementById(u);A&&A.parentNode.removeChild(A)}}},_={"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},x=function(t,e,i){if(e=_[n(e).toLowerCase()]){for(var o=t.attrs["stroke-width"]||"1",s={round:o,square:o,butt:0}[t.attrs["stroke-linecap"]||i["stroke-linecap"]]||0,r=[],a=e.length;a--;)r[a]=e[a]*o+(a%2?1:-1)*s;m(t.node,{"stroke-dasharray":r.join(",")})}else m(t.node,{"stroke-dasharray":"none"})},C=function(i,s){var l=i.node,u=i.attrs,d=l.style.visibility;for(var p in l.style.visibility="hidden",s)if(s[e](p)){if(!t._availableAttrs[e](p))continue;var g=s[p];switch(u[p]=g,p){case"blur":i.blur(g);break;case"title":var y=l.getElementsByTagName("title");if(y.length&&(y=y[0]))y.firstChild.nodeValue=g;else{y=m("title");var _=t._g.doc.createTextNode(g);y.appendChild(_),l.appendChild(y)}break;case"href":case"target":var C=l.parentNode;if("a"!=C.tagName.toLowerCase()){var S=m("a");C.insertBefore(S,l),S.appendChild(l),C=S}"target"==p?C.setAttributeNS(f,"show","blank"==g?"new":g):C.setAttributeNS(f,p,g);break;case"cursor":l.style.cursor=g;break;case"transform":i.transform(g);break;case"arrow-start":w(i,g);break;case"arrow-end":w(i,g,1);break;case"clip-rect":var T=n(g).split(c);if(4==T.length){i.clip&&i.clip.parentNode.parentNode.removeChild(i.clip.parentNode);var D=m("clipPath"),O=m("rect");D.id=t.createUUID(),m(O,{x:T[0],y:T[1],width:T[2],height:T[3]}),D.appendChild(O),i.paper.defs.appendChild(D),m(l,{"clip-path":"url(#"+D.id+")"}),i.clip=O}if(!g){var E=l.getAttribute("clip-path");if(E){var N=t._g.doc.getElementById(E.replace(/(^url\(#|\)$)/g,h));N&&N.parentNode.removeChild(N),m(l,{"clip-path":h}),delete i.clip}}break;case"path":"path"==i.type&&(m(l,{d:g?u.path=t._pathToAbsolute(g):"M0,0"}),i._.dirty=1,i._.arrows&&("startString"in i._.arrows&&w(i,i._.arrows.startString),"endString"in i._.arrows&&w(i,i._.arrows.endString,1)));break;case"width":if(l.setAttribute(p,g),i._.dirty=1,!u.fx)break;p="x",g=u.x;case"x":u.fx&&(g=-u.x-(u.width||0));case"rx":if("rx"==p&&"rect"==i.type)break;case"cx":l.setAttribute(p,g),i.pattern&&b(i),i._.dirty=1;break;case"height":if(l.setAttribute(p,g),i._.dirty=1,!u.fy)break;p="y",g=u.y;case"y":u.fy&&(g=-u.y-(u.height||0));case"ry":if("ry"==p&&"rect"==i.type)break;case"cy":l.setAttribute(p,g),i.pattern&&b(i),i._.dirty=1;break;case"r":"rect"==i.type?m(l,{rx:g,ry:g}):l.setAttribute(p,g),i._.dirty=1;break;case"src":"image"==i.type&&l.setAttributeNS(f,"href",g);break;case"stroke-width":1==i._.sx&&1==i._.sy||(g/=r(a(i._.sx),a(i._.sy))||1),l.setAttribute(p,g),u["stroke-dasharray"]&&x(i,u["stroke-dasharray"],s),i._.arrows&&("startString"in i._.arrows&&w(i,i._.arrows.startString),"endString"in i._.arrows&&w(i,i._.arrows.endString,1));break;case"stroke-dasharray":x(i,g,s);break;case"fill":var A=n(g).match(t._ISURL);if(A){D=m("pattern");var M=m("image");D.id=t.createUUID(),m(D,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),m(M,{x:0,y:0,"xlink:href":A[1]}),D.appendChild(M),function(e){t._preload(A[1],function(){var t=this.offsetWidth,n=this.offsetHeight;m(e,{width:t,height:n}),m(M,{width:t,height:n})})}(D),i.paper.defs.appendChild(D),m(l,{fill:"url(#"+D.id+")"}),i.pattern=D,i.pattern&&b(i);break}var P=t.getRGB(g);if(P.error){if(("circle"==i.type||"ellipse"==i.type||"r"!=n(g).charAt())&&v(i,g)){if("opacity"in u||"fill-opacity"in u){var I=t._g.doc.getElementById(l.getAttribute("fill").replace(/^url\(#|\)$/g,h));if(I){var R=I.getElementsByTagName("stop");m(R[R.length-1],{"stop-opacity":("opacity"in u?u.opacity:1)*("fill-opacity"in u?u["fill-opacity"]:1)})}}u.gradient=g,u.fill="none";break}}else delete s.gradient,delete u.gradient,!t.is(u.opacity,"undefined")&&t.is(s.opacity,"undefined")&&m(l,{opacity:u.opacity}),!t.is(u["fill-opacity"],"undefined")&&t.is(s["fill-opacity"],"undefined")&&m(l,{"fill-opacity":u["fill-opacity"]});P[e]("opacity")&&m(l,{"fill-opacity":P.opacity>1?P.opacity/100:P.opacity});case"stroke":P=t.getRGB(g),l.setAttribute(p,P.hex),"stroke"==p&&P[e]("opacity")&&m(l,{"stroke-opacity":P.opacity>1?P.opacity/100:P.opacity}),"stroke"==p&&i._.arrows&&("startString"in i._.arrows&&w(i,i._.arrows.startString),"endString"in i._.arrows&&w(i,i._.arrows.endString,1));break;case"gradient":("circle"==i.type||"ellipse"==i.type||"r"!=n(g).charAt())&&v(i,g);break;case"opacity":u.gradient&&!u[e]("stroke-opacity")&&m(l,{"stroke-opacity":g>1?g/100:g});case"fill-opacity":if(u.gradient){(I=t._g.doc.getElementById(l.getAttribute("fill").replace(/^url\(#|\)$/g,h)))&&(R=I.getElementsByTagName("stop"),m(R[R.length-1],{"stop-opacity":g}));break}default:"font-size"==p&&(g=o(g,10)+"px");var L=p.replace(/(\-.)/g,function(t){return t.substring(1).toUpperCase()});l.style[L]=g,i._.dirty=1,l.setAttribute(p,g)}}k(i,s),l.style.visibility=d},k=function(i,s){if("text"==i.type&&(s[e]("text")||s[e]("font")||s[e]("font-size")||s[e]("x")||s[e]("y"))){var r=i.attrs,a=i.node,l=a.firstChild?o(t._g.doc.defaultView.getComputedStyle(a.firstChild,h).getPropertyValue("font-size"),10):10;if(s[e]("text")){for(r.text=s.text;a.firstChild;)a.removeChild(a.firstChild);for(var c,u=n(s.text).split("\n"),d=[],f=0,p=u.length;f<p;f++)c=m("tspan"),f&&m(c,{dy:1.2*l,x:r.x}),c.appendChild(t._g.doc.createTextNode(u[f])),a.appendChild(c),d[f]=c}else for(f=0,p=(d=a.getElementsByTagName("tspan")).length;f<p;f++)f?m(d[f],{dy:1.2*l,x:r.x}):m(d[0],{dy:0});m(a,{x:r.x,y:r.y}),i._.dirty=1;var g=i._getBBox(),v=r.y-(g.y+g.height/2);v&&t.is(v,"finite")&&m(d[0],{dy:v})}},S=function(t){return t.parentNode&&"a"===t.parentNode.tagName.toLowerCase()?t.parentNode:t},T=function(e,n){this[0]=this.node=e,e.raphael=!0,this.id=("0000"+(Math.random()*Math.pow(36,5)<<0).toString(36)).slice(-5),e.raphaelid=this.id,this.matrix=t.matrix(),this.realPath=null,this.paper=n,this.attrs=this.attrs||{},this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1},!n.bottom&&(n.bottom=this),this.prev=n.top,n.top&&(n.top.next=this),n.top=this,this.next=null},D=t.el;T.prototype=D,D.constructor=T,t._engine.path=function(t,e){var n=m("path");e.canvas&&e.canvas.appendChild(n);var i=new T(n,e);return i.type="path",C(i,{fill:"none",stroke:"#000",path:t}),i},D.rotate=function(t,e,o){if(this.removed)return this;if((t=n(t).split(c)).length-1&&(e=i(t[1]),o=i(t[2])),t=i(t[0]),null==o&&(e=o),null==e||null==o){var s=this.getBBox(1);e=s.x+s.width/2,o=s.y+s.height/2}return this.transform(this._.transform.concat([["r",t,e,o]])),this},D.scale=function(t,e,o,s){if(this.removed)return this;if((t=n(t).split(c)).length-1&&(e=i(t[1]),o=i(t[2]),s=i(t[3])),t=i(t[0]),null==e&&(e=t),null==s&&(o=s),null==o||null==s)var r=this.getBBox(1);return this.transform(this._.transform.concat([["s",t,e,o=null==o?r.x+r.width/2:o,s=null==s?r.y+r.height/2:s]])),this},D.translate=function(t,e){return this.removed?this:((t=n(t).split(c)).length-1&&(e=i(t[1])),t=i(t[0])||0,this.transform(this._.transform.concat([["t",t,e=+e||0]])),this)},D.transform=function(n){var i=this._;if(null==n)return i.transform;if(t._extractTransform(this,n),this.clip&&m(this.clip,{transform:this.matrix.invert()}),this.pattern&&b(this),this.node&&m(this.node,{transform:this.matrix}),1!=i.sx||1!=i.sy){var o=this.attrs[e]("stroke-width")?this.attrs["stroke-width"]:1;this.attr({"stroke-width":o})}return this},D.hide=function(){return this.removed||(this.node.style.display="none"),this},D.show=function(){return this.removed||(this.node.style.display=""),this},D.remove=function(){var e=S(this.node);if(!this.removed&&e.parentNode){var n=this.paper;for(var i in n.__set__&&n.__set__.exclude(this),u.unbind("raphael.*.*."+this.id),this.gradient&&n.defs.removeChild(this.gradient),t._tear(this,n),e.parentNode.removeChild(e),this.removeData(),this)this[i]="function"==typeof this[i]?t._removedFactory(i):null;this.removed=!0}},D._getBBox=function(){if("none"==this.node.style.display){this.show();var t=!0}var e,n=!1;this.paper.canvas.parentElement?e=this.paper.canvas.parentElement.style:this.paper.canvas.parentNode&&(e=this.paper.canvas.parentNode.style),e&&"none"==e.display&&(n=!0,e.display="");var i={};try{i=this.node.getBBox()}catch(t){i={x:this.node.clientLeft,y:this.node.clientTop,width:this.node.clientWidth,height:this.node.clientHeight}}finally{i=i||{},n&&(e.display="none")}return t&&this.hide(),i},D.attr=function(n,i){if(this.removed)return this;if(null==n){var o={};for(var s in this.attrs)this.attrs[e](s)&&(o[s]=this.attrs[s]);return o.gradient&&"none"==o.fill&&(o.fill=o.gradient)&&delete o.gradient,o.transform=this._.transform,o}if(null==i&&t.is(n,"string")){if("fill"==n&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;if("transform"==n)return this._.transform;for(var r=n.split(c),a={},l=0,h=r.length;l<h;l++)a[n=r[l]]=n in this.attrs?this.attrs[n]:t.is(this.paper.customAttributes[n],"function")?this.paper.customAttributes[n].def:t._availableAttrs[n];return h-1?a:a[r[0]]}if(null==i&&t.is(n,"array")){for(a={},l=0,h=n.length;l<h;l++)a[n[l]]=this.attr(n[l]);return a}if(null!=i){var d={};d[n]=i}else null!=n&&t.is(n,"object")&&(d=n);for(var f in d)u("raphael.attr."+f+"."+this.id,this,d[f]);for(f in this.paper.customAttributes)if(this.paper.customAttributes[e](f)&&d[e](f)&&t.is(this.paper.customAttributes[f],"function")){var p=this.paper.customAttributes[f].apply(this,[].concat(d[f]));for(var g in this.attrs[f]=d[f],p)p[e](g)&&(d[g]=p[g])}return C(this,d),this},D.toFront=function(){if(this.removed)return this;var e=S(this.node);e.parentNode.appendChild(e);var n=this.paper;return n.top!=this&&t._tofront(this,n),this},D.toBack=function(){if(this.removed)return this;var e=S(this.node),n=e.parentNode;return n.insertBefore(e,n.firstChild),t._toback(this,this.paper),this},D.insertAfter=function(e){if(this.removed||!e)return this;var n=S(this.node),i=S(e.node||e[e.length-1].node);return i.nextSibling?i.parentNode.insertBefore(n,i.nextSibling):i.parentNode.appendChild(n),t._insertafter(this,e,this.paper),this},D.insertBefore=function(e){if(this.removed||!e)return this;var n=S(this.node),i=S(e.node||e[0].node);return i.parentNode.insertBefore(n,i),t._insertbefore(this,e,this.paper),this},D.blur=function(e){var n=this;if(0!=+e){var i=m("filter"),o=m("feGaussianBlur");n.attrs.blur=e,i.id=t.createUUID(),m(o,{stdDeviation:+e||1.5}),i.appendChild(o),n.paper.defs.appendChild(i),n._blur=i,m(n.node,{filter:"url(#"+i.id+")"})}else n._blur&&(n._blur.parentNode.removeChild(n._blur),delete n._blur,delete n.attrs.blur),n.node.removeAttribute("filter");return n},t._engine.circle=function(t,e,n,i){var o=m("circle");t.canvas&&t.canvas.appendChild(o);var s=new T(o,t);return s.attrs={cx:e,cy:n,r:i,fill:"none",stroke:"#000"},s.type="circle",m(o,s.attrs),s},t._engine.rect=function(t,e,n,i,o,s){var r=m("rect");t.canvas&&t.canvas.appendChild(r);var a=new T(r,t);return a.attrs={x:e,y:n,width:i,height:o,rx:s||0,ry:s||0,fill:"none",stroke:"#000"},a.type="rect",m(r,a.attrs),a},t._engine.ellipse=function(t,e,n,i,o){var s=m("ellipse");t.canvas&&t.canvas.appendChild(s);var r=new T(s,t);return r.attrs={cx:e,cy:n,rx:i,ry:o,fill:"none",stroke:"#000"},r.type="ellipse",m(s,r.attrs),r},t._engine.image=function(t,e,n,i,o,s){var r=m("image");m(r,{x:n,y:i,width:o,height:s,preserveAspectRatio:"none"}),r.setAttributeNS(f,"href",e),t.canvas&&t.canvas.appendChild(r);var a=new T(r,t);return a.attrs={x:n,y:i,width:o,height:s,src:e},a.type="image",a},t._engine.text=function(e,n,i,o){var s=m("text");e.canvas&&e.canvas.appendChild(s);var r=new T(s,e);return r.attrs={x:n,y:i,"text-anchor":"middle",text:o,"font-family":t._availableAttrs["font-family"],"font-size":t._availableAttrs["font-size"],stroke:"none",fill:"#000"},r.type="text",C(r,r.attrs),r},t._engine.setSize=function(t,e){return this.width=t||this.width,this.height=e||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox),this},t._engine.create=function(){var e=t._getContainer.apply(0,arguments),n=e&&e.container,i=e.x,o=e.y,s=e.width,r=e.height;if(!n)throw new Error("SVG container not found.");var a,l=m("svg"),c="overflow:hidden;";return i=i||0,o=o||0,s=s||512,m(l,{height:r=r||342,version:1.1,width:s,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}),1==n?(l.style.cssText=c+"position:absolute;left:"+i+"px;top:"+o+"px",t._g.doc.body.appendChild(l),a=1):(l.style.cssText=c+"position:relative",n.firstChild?n.insertBefore(l,n.firstChild):n.appendChild(l)),(n=new t._Paper).width=s,n.height=r,n.canvas=l,n.clear(),n._left=n._top=0,a&&(n.renderfix=function(){}),n.renderfix(),n},t._engine.setViewBox=function(t,e,n,i,o){u("raphael.setViewBox",this,this._viewBox,[t,e,n,i,o]);var s,a=this.getSize(),l=r(n/a.width,i/a.height),c=this.top,h=o?"xMidYMid meet":"xMinYMin";for(null==t?(this._vbSize&&(l=1),delete this._vbSize,s="0 0 "+this.width+d+this.height):(this._vbSize=l,s=t+d+e+d+n+d+i),m(this.canvas,{viewBox:s,preserveAspectRatio:h});l&&c;)c.attr({"stroke-width":"stroke-width"in c.attrs?c.attrs["stroke-width"]:1}),c._.dirty=1,c._.dirtyT=1,c=c.prev;return this._viewBox=[t,e,n,i,!!o],this},t.prototype.renderfix=function(){var t,e=this.canvas,n=e.style;try{t=e.getScreenCTM()||e.createSVGMatrix()}catch(n){t=e.createSVGMatrix()}var i=-t.e%1,o=-t.f%1;(i||o)&&(i&&(this._left=(this._left+i)%1,n.left=this._left+"px"),o&&(this._top=(this._top+o)%1,n.top=this._top+"px"))},t.prototype.clear=function(){t.eve("raphael.clear",this);for(var e=this.canvas;e.firstChild;)e.removeChild(e.firstChild);this.bottom=this.top=null,(this.desc=m("desc")).appendChild(t._g.doc.createTextNode("Created with Rapha\xebl "+t.version)),e.appendChild(this.desc),e.appendChild(this.defs=m("defs"))},t.prototype.remove=function(){for(var e in u("raphael.remove",this),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this)this[e]="function"==typeof this[e]?t._removedFactory(e):null};var O=t.st;for(var E in D)D[e](E)&&!O[e](E)&&(O[E]=function(t){return function(){var e=arguments;return this.forEach(function(n){n[t].apply(n,e)})}}(E))}}).apply(e,i))||(t.exports=o)},function(t,e,n){var i,o;i=[n(1)],void 0===(o=(function(t){if(!t||t.vml){var e="hasOwnProperty",n=String,i=parseFloat,o=Math,s=o.round,r=o.max,a=o.min,l=o.abs,c=/[, ]+/,u=t.eve,h=" ",d="",f={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},p=/([clmz]),?([^clmz]*)/gi,g=/ progid:\S+Blur\([^\)]+\)/g,m=/-?[^,\s-]+/g,v="position:absolute;left:0;top:0;width:1px;height:1px;behavior:url(#default#VML)",y=21600,b={path:1,rect:1,image:1},w={circle:1,ellipse:1},_=function(e,n,i){var o=t.matrix();return o.rotate(-e,.5,.5),{dx:o.x(n,i),dy:o.y(n,i)}},x=function(t,e,n,i,o,s){var r=t._,a=t.matrix,c=r.fillpos,u=t.node,d=u.style,f=1,p="",g=y/e,m=y/n;if(d.visibility="hidden",e&&n){if(u.coordsize=l(g)+h+l(m),d.rotation=s*(e*n<0?-1:1),s){var v=_(s,i,o);i=v.dx,o=v.dy}if(e<0&&(p+="x"),n<0&&(p+=" y")&&(f=-1),d.flip=p,u.coordorigin=i*-g+h+o*-m,c||r.fillsize){var b=u.getElementsByTagName("fill");u.removeChild(b=b&&b[0]),c&&(v=_(s,a.x(c[0],c[1]),a.y(c[0],c[1])),b.position=v.dx*f+h+v.dy*f),r.fillsize&&(b.size=r.fillsize[0]*l(e)+h+r.fillsize[1]*l(n)),u.appendChild(b)}d.visibility="visible"}};t.toString=function(){return"Your browser doesn\u2019t support SVG. Falling down to VML.\nYou are running Rapha\xebl "+this.version};var C,k=function(t,e,i){for(var o=n(e).toLowerCase().split("-"),s=i?"end":"start",r=o.length,a="classic",l="medium",c="medium";r--;)switch(o[r]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":a=o[r];break;case"wide":case"narrow":c=o[r];break;case"long":case"short":l=o[r]}var u=t.node.getElementsByTagName("stroke")[0];u[s+"arrow"]=a,u[s+"arrowlength"]=l,u[s+"arrowwidth"]=c},S=function(o,l){o.attrs=o.attrs||{};var u=o.node,g=o.attrs,v=u.style,_=b[o.type]&&(l.x!=g.x||l.y!=g.y||l.width!=g.width||l.height!=g.height||l.cx!=g.cx||l.cy!=g.cy||l.rx!=g.rx||l.ry!=g.ry||l.r!=g.r),S=w[o.type]&&(g.cx!=l.cx||g.cy!=l.cy||g.r!=l.r||g.rx!=l.rx||g.ry!=l.ry),D=o;for(var O in l)l[e](O)&&(g[O]=l[O]);if(_&&(g.path=t._getPath[o.type](o),o._.dirty=1),l.href&&(u.href=l.href),l.title&&(u.title=l.title),l.target&&(u.target=l.target),l.cursor&&(v.cursor=l.cursor),"blur"in l&&o.blur(l.blur),(l.path&&"path"==o.type||_)&&(u.path=function(e){var i=/[ahqstv]/gi,o=t._pathToAbsolute;if(n(e).match(i)&&(o=t._path2curve),i=/[clmz]/g,o==t._pathToAbsolute&&!n(e).match(i)){var r=n(e).replace(p,function(t,e,n){var i=[],o="m"==e.toLowerCase(),r=f[e];return n.replace(m,function(t){o&&2==i.length&&(r+=i+f["m"==e?"l":"L"],i=[]),i.push(s(t*y))}),r+i});return r}var a,l,c=o(e);r=[];for(var u=0,g=c.length;u<g;u++){a=c[u],"z"==(l=c[u][0].toLowerCase())&&(l="x");for(var v=1,b=a.length;v<b;v++)l+=s(a[v]*y)+(v!=b-1?",":d);r.push(l)}return r.join(h)}(~n(g.path).toLowerCase().indexOf("r")?t._pathToAbsolute(g.path):g.path),o._.dirty=1,"image"==o.type&&(o._.fillpos=[g.x,g.y],o._.fillsize=[g.width,g.height],x(o,1,1,0,0,0))),"transform"in l&&o.transform(l.transform),S){var E=+g.cx,N=+g.cy,A=+g.rx||+g.r||0,M=+g.ry||+g.r||0;u.path=t.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",s((E-A)*y),s((N-M)*y),s((E+A)*y),s((N+M)*y),s(E*y)),o._.dirty=1}if("clip-rect"in l){var P=n(l["clip-rect"]).split(c);if(4==P.length){P[2]=+P[2]+ +P[0],P[3]=+P[3]+ +P[1];var I=u.clipRect||t._g.doc.createElement("div"),R=I.style;R.clip=t.format("rect({1}px {2}px {3}px {0}px)",P),u.clipRect||(R.position="absolute",R.top=0,R.left=0,R.width=o.paper.width+"px",R.height=o.paper.height+"px",u.parentNode.insertBefore(I,u),I.appendChild(u),u.clipRect=I)}l["clip-rect"]||u.clipRect&&(u.clipRect.style.clip="auto")}if(o.textpath){var L=o.textpath.style;l.font&&(L.font=l.font),l["font-family"]&&(L.fontFamily='"'+l["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,d)+'"'),l["font-size"]&&(L.fontSize=l["font-size"]),l["font-weight"]&&(L.fontWeight=l["font-weight"]),l["font-style"]&&(L.fontStyle=l["font-style"])}if("arrow-start"in l&&k(D,l["arrow-start"]),"arrow-end"in l&&k(D,l["arrow-end"],1),null!=l.opacity||null!=l.fill||null!=l.src||null!=l.stroke||null!=l["stroke-width"]||null!=l["stroke-opacity"]||null!=l["fill-opacity"]||null!=l["stroke-dasharray"]||null!=l["stroke-miterlimit"]||null!=l["stroke-linejoin"]||null!=l["stroke-linecap"]){var j=u.getElementsByTagName("fill");if(!(j=j&&j[0])&&(j=C("fill")),"image"==o.type&&l.src&&(j.src=l.src),l.fill&&(j.on=!0),null!=j.on&&"none"!=l.fill&&null!==l.fill||(j.on=!1),j.on&&l.fill){var H=n(l.fill).match(t._ISURL);if(H){j.parentNode==u&&u.removeChild(j),j.rotate=!0,j.src=H[1],j.type="tile";var B=o.getBBox(1);j.position=B.x+h+B.y,o._.fillpos=[B.x,B.y],t._preload(H[1],function(){o._.fillsize=[this.offsetWidth,this.offsetHeight]})}else j.color=t.getRGB(l.fill).hex,j.src=d,j.type="solid",t.getRGB(l.fill).error&&(D.type in{circle:1,ellipse:1}||"r"!=n(l.fill).charAt())&&T(D,l.fill,j)&&(g.fill="none",g.gradient=l.fill,j.rotate=!1)}if("fill-opacity"in l||"opacity"in l){var q=((+g["fill-opacity"]+1||2)-1)*((+g.opacity+1||2)-1)*((+t.getRGB(l.fill).o+1||2)-1);q=a(r(q,0),1),j.opacity=q,j.src&&(j.color="none")}u.appendChild(j);var F=u.getElementsByTagName("stroke")&&u.getElementsByTagName("stroke")[0],$=!1;!F&&($=F=C("stroke")),(l.stroke&&"none"!=l.stroke||l["stroke-width"]||null!=l["stroke-opacity"]||l["stroke-dasharray"]||l["stroke-miterlimit"]||l["stroke-linejoin"]||l["stroke-linecap"])&&(F.on=!0),("none"==l.stroke||null===l.stroke||null==F.on||0==l.stroke||0==l["stroke-width"])&&(F.on=!1);var z=t.getRGB(l.stroke);F.on&&l.stroke&&(F.color=z.hex),q=((+g["stroke-opacity"]+1||2)-1)*((+g.opacity+1||2)-1)*((+z.o+1||2)-1);var W=.75*(i(l["stroke-width"])||1);if(q=a(r(q,0),1),null==l["stroke-width"]&&(W=g["stroke-width"]),l["stroke-width"]&&(F.weight=W),W&&W<1&&(q*=W)&&(F.weight=1),F.opacity=q,l["stroke-linejoin"]&&(F.joinstyle=l["stroke-linejoin"]||"miter"),F.miterlimit=l["stroke-miterlimit"]||8,l["stroke-linecap"]&&(F.endcap="butt"==l["stroke-linecap"]?"flat":"square"==l["stroke-linecap"]?"square":"round"),"stroke-dasharray"in l){var Y={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};F.dashstyle=Y[e](l["stroke-dasharray"])?Y[l["stroke-dasharray"]]:d}$&&u.appendChild(F)}if("text"==D.type){D.paper.canvas.style.display=d;var U=D.paper.span,V=g.font&&g.font.match(/\d+(?:\.\d*)?(?=px)/);v=U.style,g.font&&(v.font=g.font),g["font-family"]&&(v.fontFamily=g["font-family"]),g["font-weight"]&&(v.fontWeight=g["font-weight"]),g["font-style"]&&(v.fontStyle=g["font-style"]),V=i(g["font-size"]||V&&V[0])||10,v.fontSize=100*V+"px",D.textpath.string&&(U.innerHTML=n(D.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));var G=U.getBoundingClientRect();D.W=g.w=(G.right-G.left)/100,D.H=g.h=(G.bottom-G.top)/100,D.X=g.x,D.Y=g.y+D.H/2,("x"in l||"y"in l)&&(D.path.v=t.format("m{0},{1}l{2},{1}",s(g.x*y),s(g.y*y),s(g.x*y)+1));for(var K=["x","y","text","font","font-family","font-weight","font-style","font-size"],X=0,Z=K.length;X<Z;X++)if(K[X]in l){D._.dirty=1;break}switch(g["text-anchor"]){case"start":D.textpath.style["v-text-align"]="left",D.bbx=D.W/2;break;case"end":D.textpath.style["v-text-align"]="right",D.bbx=-D.W/2;break;default:D.textpath.style["v-text-align"]="center",D.bbx=0}D.textpath.style["v-text-kern"]=!0}},T=function(e,s,r){e.attrs=e.attrs||{};var a=Math.pow,l="linear",c=".5 .5";if(e.attrs.gradient=s,s=(s=n(s).replace(t._radial_gradient,function(t,e,n){return l="radial",e&&n&&(e=i(e),n=i(n),a(e-.5,2)+a(n-.5,2)>.25&&(n=o.sqrt(.25-a(e-.5,2))*(2*(n>.5)-1)+.5),c=e+h+n),d})).split(/\s*\-\s*/),"linear"==l){var u=s.shift();if(u=-i(u),isNaN(u))return null}var f=t._parseDots(s);if(!f)return null;if(e=e.shape||e.node,f.length){e.removeChild(r),r.on=!0,r.method="none",r.color=f[0].color,r.color2=f[f.length-1].color;for(var p=[],g=0,m=f.length;g<m;g++)f[g].offset&&p.push(f[g].offset+h+f[g].color);r.colors=p.length?p.join():"0% "+r.color,"radial"==l?(r.type="gradientTitle",r.focus="100%",r.focussize="0 0",r.focusposition=c,r.angle=0):(r.type="gradient",r.angle=(270-u)%360),e.appendChild(r)}return 1},D=function(e,n){this[0]=this.node=e,e.raphael=!0,this.id=t._oid++,e.raphaelid=this.id,this.X=0,this.Y=0,this.attrs={},this.paper=n,this.matrix=t.matrix(),this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1},!n.bottom&&(n.bottom=this),this.prev=n.top,n.top&&(n.top.next=this),n.top=this,this.next=null},O=t.el;D.prototype=O,O.constructor=D,O.transform=function(e){if(null==e)return this._.transform;var i,o=this.paper._viewBoxShift,s=o?"s"+[o.scale,o.scale]+"-1-1t"+[o.dx,o.dy]:d;o&&(i=e=n(e).replace(/\.{3}|\u2026/g,this._.transform||d)),t._extractTransform(this,s+e);var r,a=this.matrix.clone(),l=this.skew,c=this.node,u=~n(this.attrs.fill).indexOf("-"),f=!n(this.attrs.fill).indexOf("url(");if(a.translate(1,1),f||u||"image"==this.type)if(l.matrix="1 0 0 1",l.offset="0 0",r=a.split(),u&&r.noRotation||!r.isSimple){c.style.filter=a.toFilter();var p=this.getBBox(),g=this.getBBox(1),m=p.x-g.x,v=p.y-g.y;c.coordorigin=m*-y+h+v*-y,x(this,1,1,m,v,0)}else c.style.filter=d,x(this,r.scalex,r.scaley,r.dx,r.dy,r.rotate);else c.style.filter=d,l.matrix=n(a),l.offset=a.offset();return null!==i&&(this._.transform=i,t._extractTransform(this,i)),this},O.rotate=function(t,e,o){if(this.removed)return this;if(null!=t){if((t=n(t).split(c)).length-1&&(e=i(t[1]),o=i(t[2])),t=i(t[0]),null==o&&(e=o),null==e||null==o){var s=this.getBBox(1);e=s.x+s.width/2,o=s.y+s.height/2}return this._.dirtyT=1,this.transform(this._.transform.concat([["r",t,e,o]])),this}},O.translate=function(t,e){return this.removed?this:((t=n(t).split(c)).length-1&&(e=i(t[1])),t=i(t[0])||0,e=+e||0,this._.bbox&&(this._.bbox.x+=t,this._.bbox.y+=e),this.transform(this._.transform.concat([["t",t,e]])),this)},O.scale=function(t,e,o,s){if(this.removed)return this;if((t=n(t).split(c)).length-1&&(e=i(t[1]),o=i(t[2]),s=i(t[3]),isNaN(o)&&(o=null),isNaN(s)&&(s=null)),t=i(t[0]),null==e&&(e=t),null==s&&(o=s),null==o||null==s)var r=this.getBBox(1);return this.transform(this._.transform.concat([["s",t,e,o=null==o?r.x+r.width/2:o,s=null==s?r.y+r.height/2:s]])),this._.dirtyT=1,this},O.hide=function(){return!this.removed&&(this.node.style.display="none"),this},O.show=function(){return!this.removed&&(this.node.style.display=d),this},O.auxGetBBox=t.el.getBBox,O.getBBox=function(){var t=this.auxGetBBox();if(this.paper&&this.paper._viewBoxShift){var e={},n=1/this.paper._viewBoxShift.scale;return e.x=t.x-this.paper._viewBoxShift.dx,e.x*=n,e.y=t.y-this.paper._viewBoxShift.dy,e.y*=n,e.width=t.width*n,e.height=t.height*n,e.x2=e.x+e.width,e.y2=e.y+e.height,e}return t},O._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}},O.remove=function(){if(!this.removed&&this.node.parentNode){for(var e in this.paper.__set__&&this.paper.__set__.exclude(this),t.eve.unbind("raphael.*.*."+this.id),t._tear(this,this.paper),this.node.parentNode.removeChild(this.node),this.shape&&this.shape.parentNode.removeChild(this.shape),this)this[e]="function"==typeof this[e]?t._removedFactory(e):null;this.removed=!0}},O.attr=function(n,i){if(this.removed)return this;if(null==n){var o={};for(var s in this.attrs)this.attrs[e](s)&&(o[s]=this.attrs[s]);return o.gradient&&"none"==o.fill&&(o.fill=o.gradient)&&delete o.gradient,o.transform=this._.transform,o}if(null==i&&t.is(n,"string")){if("fill"==n&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;for(var r=n.split(c),a={},l=0,h=r.length;l<h;l++)a[n=r[l]]=n in this.attrs?this.attrs[n]:t.is(this.paper.customAttributes[n],"function")?this.paper.customAttributes[n].def:t._availableAttrs[n];return h-1?a:a[r[0]]}if(this.attrs&&null==i&&t.is(n,"array")){for(a={},l=0,h=n.length;l<h;l++)a[n[l]]=this.attr(n[l]);return a}var d;for(var f in null!=i&&((d={})[n]=i),null==i&&t.is(n,"object")&&(d=n),d)u("raphael.attr."+f+"."+this.id,this,d[f]);if(d){for(f in this.paper.customAttributes)if(this.paper.customAttributes[e](f)&&d[e](f)&&t.is(this.paper.customAttributes[f],"function")){var p=this.paper.customAttributes[f].apply(this,[].concat(d[f]));for(var g in this.attrs[f]=d[f],p)p[e](g)&&(d[g]=p[g])}d.text&&"text"==this.type&&(this.textpath.string=d.text),S(this,d)}return this},O.toFront=function(){return!this.removed&&this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&t._tofront(this,this.paper),this},O.toBack=function(){return this.removed?this:(this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),t._toback(this,this.paper)),this)},O.insertAfter=function(e){return this.removed?this:(e.constructor==t.st.constructor&&(e=e[e.length-1]),e.node.nextSibling?e.node.parentNode.insertBefore(this.node,e.node.nextSibling):e.node.parentNode.appendChild(this.node),t._insertafter(this,e,this.paper),this)},O.insertBefore=function(e){return this.removed?this:(e.constructor==t.st.constructor&&(e=e[0]),e.node.parentNode.insertBefore(this.node,e.node),t._insertbefore(this,e,this.paper),this)},O.blur=function(e){var n=this.node.runtimeStyle,i=n.filter;return i=i.replace(g,d),0!=+e?(this.attrs.blur=e,n.filter=i+h+" progid:DXImageTransform.Microsoft.Blur(pixelradius="+(+e||1.5)+")",n.margin=t.format("-{0}px 0 0 -{0}px",s(+e||1.5))):(n.filter=i,n.margin=0,delete this.attrs.blur),this},t._engine.path=function(t,e){var n=C("shape");n.style.cssText=v,n.coordsize=y+h+y,n.coordorigin=e.coordorigin;var i=new D(n,e),o={fill:"none",stroke:"#000"};t&&(o.path=t),i.type="path",i.path=[],i.Path=d,S(i,o),e.canvas&&e.canvas.appendChild(n);var s=C("skew");return s.on=!0,n.appendChild(s),i.skew=s,i.transform(d),i},t._engine.rect=function(e,n,i,o,s,r){var a=t._rectPath(n,i,o,s,r),l=e.path(a),c=l.attrs;return l.X=c.x=n,l.Y=c.y=i,l.W=c.width=o,l.H=c.height=s,c.r=r,c.path=a,l.type="rect",l},t._engine.ellipse=function(t,e,n,i,o){var s=t.path();return s.X=e-i,s.Y=n-o,s.W=2*i,s.H=2*o,s.type="ellipse",S(s,{cx:e,cy:n,rx:i,ry:o}),s},t._engine.circle=function(t,e,n,i){var o=t.path();return o.X=e-i,o.Y=n-i,o.W=o.H=2*i,o.type="circle",S(o,{cx:e,cy:n,r:i}),o},t._engine.image=function(e,n,i,o,s,r){var a=t._rectPath(i,o,s,r),l=e.path(a).attr({stroke:"none"}),c=l.attrs,u=l.node,h=u.getElementsByTagName("fill")[0];return c.src=n,l.X=c.x=i,l.Y=c.y=o,l.W=c.width=s,l.H=c.height=r,c.path=a,l.type="image",h.parentNode==u&&u.removeChild(h),h.rotate=!0,h.src=n,h.type="tile",l._.fillpos=[i,o],l._.fillsize=[s,r],u.appendChild(h),x(l,1,1,0,0,0),l},t._engine.text=function(e,i,o,r){var a=C("shape"),l=C("path"),c=C("textpath");i=i||0,o=o||0,r=r||"",l.v=t.format("m{0},{1}l{2},{1}",s(i*y),s(o*y),s(i*y)+1),l.textpathok=!0,c.string=n(r),c.on=!0,a.style.cssText=v,a.coordsize=y+h+y,a.coordorigin="0 0";var u=new D(a,e),f={fill:"#000",stroke:"none",font:t._availableAttrs.font,text:r};u.shape=a,u.path=l,u.textpath=c,u.type="text",u.attrs.text=n(r),u.attrs.x=i,u.attrs.y=o,u.attrs.w=1,u.attrs.h=1,S(u,f),a.appendChild(c),a.appendChild(l),e.canvas.appendChild(a);var p=C("skew");return p.on=!0,a.appendChild(p),u.skew=p,u.transform(d),u},t._engine.setSize=function(e,n){var i=this.canvas.style;return this.width=e,this.height=n,e==+e&&(e+="px"),n==+n&&(n+="px"),i.width=e,i.height=n,i.clip="rect(0 "+e+" "+n+" 0)",this._viewBox&&t._engine.setViewBox.apply(this,this._viewBox),this},t._engine.setViewBox=function(e,n,i,o,s){t.eve("raphael.setViewBox",this,this._viewBox,[e,n,i,o,s]);var r,a,l=this.getSize(),c=l.width,u=l.height;return s&&(a=c/i,i*(r=u/o)<c&&(e-=(c-i*r)/2/r),o*a<u&&(n-=(u-o*a)/2/a)),this._viewBox=[e,n,i,o,!!s],this._viewBoxShift={dx:-e,dy:-n,scale:l},this.forEach(function(t){t.transform("...")}),this},t._engine.initWin=function(t){var e=t.document;e.styleSheets.length<31?e.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)"):e.styleSheets[0].addRule(".rvml","behavior:url(#default#VML)");try{!e.namespaces.rvml&&e.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),C=function(t){return e.createElement("<rvml:"+t+' class="rvml">')}}catch(t){C=function(t){return e.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}},t._engine.initWin(t._g.win),t._engine.create=function(){var e=t._getContainer.apply(0,arguments),n=e.container,i=e.height,o=e.width,s=e.x,r=e.y;if(!n)throw new Error("VML container not found.");var a=new t._Paper,l=a.canvas=t._g.doc.createElement("div"),c=l.style;return s=s||0,r=r||0,o=o||512,i=i||342,a.width=o,a.height=i,o==+o&&(o+="px"),i==+i&&(i+="px"),a.coordsize=216e5+h+216e5,a.coordorigin="0 0",a.span=t._g.doc.createElement("span"),a.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",l.appendChild(a.span),c.cssText=t.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",o,i),1==n?(t._g.doc.body.appendChild(l),c.left=s+"px",c.top=r+"px",c.position="absolute"):n.firstChild?n.insertBefore(l,n.firstChild):n.appendChild(l),a.renderfix=function(){},a},t.prototype.clear=function(){t.eve("raphael.clear",this),this.canvas.innerHTML=d,this.span=t._g.doc.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas.appendChild(this.span),this.bottom=this.top=null},t.prototype.remove=function(){for(var e in t.eve("raphael.remove",this),this.canvas.parentNode.removeChild(this.canvas),this)this[e]="function"==typeof this[e]?t._removedFactory(e):null;return!0};var E=t.st;for(var N in O)O[e](N)&&!E[e](N)&&(E[N]=function(t){return function(){var e=arguments;return this.forEach(function(n){n[t].apply(n,e)})}}(N))}}).apply(e,i))||(t.exports=o)}])}),(function(){var t,e,n,i,o=[].slice,s=function(t,e){return function(){return t.apply(e,arguments)}},r={}.hasOwnProperty,a=function(t,e){for(var n in e)r.call(e,n)&&(t[n]=e[n]);function i(){this.constructor=t}return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},l=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};e=window.Morris={},t=jQuery,e.EventEmitter=function(){function t(){}return t.prototype.on=function(t,e){return null==this.handlers&&(this.handlers={}),null==this.handlers[t]&&(this.handlers[t]=[]),this.handlers[t].push(e),this},t.prototype.fire=function(){var t,e,n,i,s,r;if(e=arguments[0],t=2<=arguments.length?o.call(arguments,1):[],null!=this.handlers&&null!=this.handlers[e]){for(r=[],n=0,i=(s=this.handlers[e]).length;n<i;n++)r.push(s[n].apply(null,t));return r}},t}(),e.commas=function(t){var e,n,i,o;return null!=t?(i=t<0?"-":"",e=Math.abs(t),i+=(n=Math.floor(e).toFixed(0)).replace(/(?=(?:\d{3})+$)(?!^)/g,","),(o=e.toString()).length>n.length&&(i+=o.slice(n.length)),i):"-"},e.pad2=function(t){return(t<10?"0":"")+t},e.Grid=function(n){function i(e){this.resizeHandler=s(this.resizeHandler,this);var n=this;if(this.el=t("string"==typeof e.element?document.getElementById(e.element):e.element),null==this.el||0===this.el.length)throw new Error("Graph container element not found");"static"===this.el.css("position")&&this.el.css("position","relative"),this.options=t.extend({},this.gridDefaults,this.defaults||{},e),"string"==typeof this.options.units&&(this.options.postUnits=e.units),this.raphael=new Raphael(this.el[0]),this.elementWidth=null,this.elementHeight=null,this.dirty=!1,this.selectFrom=null,this.init&&this.init(),this.setData(this.options.data),this.el.bind("mousemove",function(t){var e,i,o,s;return i=n.el.offset(),s=t.pageX-i.left,n.selectFrom?(e=n.data[n.hitTest(Math.min(s,n.selectFrom))]._x,o=n.data[n.hitTest(Math.max(s,n.selectFrom))]._x,n.selectionRect.attr({x:e,width:o-e})):n.fire("hovermove",s,t.pageY-i.top)}),this.el.bind("mouseleave",function(t){return n.selectFrom&&(n.selectionRect.hide(),n.selectFrom=null),n.fire("hoverout")}),this.el.bind("touchstart touchmove touchend",function(t){var e,i;return i=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0],e=n.el.offset(),n.fire("hovermove",i.pageX-e.left,i.pageY-e.top)}),this.el.bind("click",function(t){var e;return e=n.el.offset(),n.fire("gridclick",t.pageX-e.left,t.pageY-e.top)}),this.options.rangeSelect&&(this.selectionRect=this.raphael.rect(0,0,0,this.el.innerHeight()).attr({fill:this.options.rangeSelectColor,stroke:!1}).toBack().hide(),this.el.bind("mousedown",function(t){var e;return e=n.el.offset(),n.startRange(t.pageX-e.left)}),this.el.bind("mouseup",function(t){var e;return e=n.el.offset(),n.endRange(t.pageX-e.left),n.fire("hovermove",t.pageX-e.left,t.pageY-e.top)})),this.options.resize&&t(window).bind("resize",function(t){return null!=n.timeoutId&&window.clearTimeout(n.timeoutId),n.timeoutId=window.setTimeout(n.resizeHandler,100)}),this.el.css("-webkit-tap-highlight-color","rgba(0,0,0,0)"),this.postInit&&this.postInit()}return a(i,e.EventEmitter),i.prototype.gridDefaults={dateFormat:null,axes:!0,grid:!0,gridLineColor:"#aaa",gridStrokeWidth:.5,gridTextColor:"#888",gridTextSize:12,gridTextFamily:"sans-serif",gridTextWeight:"normal",hideHover:!1,yLabelFormat:null,xLabelAngle:0,numLines:5,padding:25,parseTime:!0,postUnits:"",preUnits:"",ymax:"auto",ymin:"auto 0",goals:[],goalStrokeWidth:1,goalLineColors:["#666633","#999966","#cc6666","#663333"],events:[],eventStrokeWidth:1,eventLineColors:["#005a04","#ccffbb","#3a5f0b","#005502"],rangeSelect:null,rangeSelectColor:"#eef",resize:!1},i.prototype.setData=function(t,n){var i,o,s,r,a,l,c,u,h,d,f,p,g;return null==n&&(n=!0),this.options.data=t,null==t||0===t.length?(this.data=[],this.raphael.clear(),void(null!=this.hover&&this.hover.hide())):(d=this.cumulative?0:null,f=this.cumulative?0:null,this.options.goals.length>0&&(r=Math.min.apply(Math,this.options.goals),s=Math.max.apply(Math,this.options.goals),f=null!=f?Math.min(f,r):r,d=null!=d?Math.max(d,s):s),this.data=(function(){var n,s,r;for(r=[],o=n=0,s=t.length;n<s;o=++n)(a={src:l=t[o]}).label=l[this.options.xkey],this.options.parseTime?(a.x=e.parseDate(a.label),this.options.dateFormat?a.label=this.options.dateFormat(a.x):"number"==typeof a.label&&(a.label=new Date(a.label).toString())):(a.x=o,this.options.xLabelFormat&&(a.label=this.options.xLabelFormat(a))),u=0,a.y=(function(){var t,e,n,o;for(o=[],i=t=0,e=(n=this.options.ykeys).length;t<e;i=++t)"string"==typeof(p=l[n[i]])&&(p=parseFloat(p)),null!=p&&"number"!=typeof p&&(p=null),null!=p&&(this.cumulative?u+=p:null!=d?(d=Math.max(p,d),f=Math.min(p,f)):d=f=p),this.cumulative&&null!=u&&(d=Math.max(u,d),f=Math.min(u,f)),o.push(p);return o}).call(this),r.push(a);return r}).call(this),this.options.parseTime&&(this.data=this.data.sort(function(t,e){return(t.x>e.x)-(e.x>t.x)})),this.xmin=this.data[0].x,this.xmax=this.data[this.data.length-1].x,this.events=[],this.options.events.length>0&&(this.events=this.options.parseTime?(function(){var t,n,i,o;for(o=[],t=0,n=(i=this.options.events).length;t<n;t++)o.push(e.parseDate(i[t]));return o}).call(this):this.options.events,this.xmax=Math.max(this.xmax,Math.max.apply(Math,this.events)),this.xmin=Math.min(this.xmin,Math.min.apply(Math,this.events))),this.xmin===this.xmax&&(this.xmin-=1,this.xmax+=1),this.ymin=this.yboundary("min",f),this.ymax=this.yboundary("max",d),this.ymin===this.ymax&&(f&&(this.ymin-=1),this.ymax+=1),!0!==(g=this.options.axes)&&"both"!==g&&"y"!==g&&!0!==this.options.grid||(this.options.ymax===this.gridDefaults.ymax&&this.options.ymin===this.gridDefaults.ymin?(this.grid=this.autoGridLines(this.ymin,this.ymax,this.options.numLines),this.ymin=Math.min(this.ymin,this.grid[0]),this.ymax=Math.max(this.ymax,this.grid[this.grid.length-1])):(c=(this.ymax-this.ymin)/(this.options.numLines-1),this.grid=(function(){var t,e,n;for(n=[],h=t=this.ymin,e=this.ymax;c>0?t<=e:t>=e;h=t+=c)n.push(h);return n}).call(this))),this.dirty=!0,n?this.redraw():void 0)},i.prototype.yboundary=function(t,e){var n,i;return"string"==typeof(n=this.options["y"+t])?"auto"===n.slice(0,4)?n.length>5?(i=parseInt(n.slice(5),10),null==e?i:Math[t](e,i)):null!=e?e:0:parseInt(n,10):n},i.prototype.autoGridLines=function(t,e,n){var i,o,s,r,a,l,c,u;return u=Math.floor(Math.log(e-t)/Math.log(10)),l=Math.pow(10,u),o=Math.floor(t/l)*l,i=Math.ceil(e/l)*l,a=(i-o)/(n-1),1===l&&a>1&&Math.ceil(a)!==a&&(a=Math.ceil(a),i=o+a*(n-1)),o<0&&i>0&&(o=Math.floor(t/a)*a,i=Math.ceil(e/a)*a),a<1?(r=Math.floor(Math.log(a)/Math.log(10)),s=function(){var t,e;for(e=[],c=t=o;a>0?t<=i:t>=i;c=t+=a)e.push(parseFloat(c.toFixed(1-r)));return e}()):s=function(){var t,e;for(e=[],c=t=o;a>0?t<=i:t>=i;c=t+=a)e.push(c);return e}(),s},i.prototype._calc=function(){var t,e,n,i,o,s,r;if(i=this.el.width(),e=this.el.height(),(this.elementWidth!==i||this.elementHeight!==e||this.dirty)&&(this.elementWidth=i,this.elementHeight=e,this.dirty=!1,this.left=this.options.padding,this.right=this.elementWidth-this.options.padding,this.top=this.options.padding,this.bottom=this.elementHeight-this.options.padding,!0!==(s=this.options.axes)&&"both"!==s&&"y"!==s||(o=(function(){var t,e,n,i;for(i=[],t=0,e=(n=this.grid).length;t<e;t++)i.push(this.measureText(this.yAxisFormat(n[t])).width);return i}).call(this),this.left+=Math.max.apply(Math,o)),!0!==(r=this.options.axes)&&"both"!==r&&"x"!==r||(t=(function(){var t,e,i;for(i=[],n=t=0,e=this.data.length;0<=e?t<e:t>e;n=0<=e?++t:--t)i.push(this.measureText(this.data[n].text,-this.options.xLabelAngle).height);return i}).call(this),this.bottom-=Math.max.apply(Math,t)),this.width=Math.max(1,this.right-this.left),this.height=Math.max(1,this.bottom-this.top),this.dx=this.width/(this.xmax-this.xmin),this.dy=this.height/(this.ymax-this.ymin),this.calc))return this.calc()},i.prototype.transY=function(t){return this.bottom-(t-this.ymin)*this.dy},i.prototype.transX=function(t){return 1===this.data.length?(this.left+this.right)/2:this.left+(t-this.xmin)*this.dx},i.prototype.redraw=function(){if(this.raphael.clear(),this._calc(),this.drawGrid(),this.drawGoals(),this.drawEvents(),this.draw)return this.draw()},i.prototype.measureText=function(t,e){var n,i;return null==e&&(e=0),n=(i=this.raphael.text(100,100,t).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).rotate(e)).getBBox(),i.remove(),n},i.prototype.yAxisFormat=function(t){return this.yLabelFormat(t)},i.prototype.yLabelFormat=function(t){return"function"==typeof this.options.yLabelFormat?this.options.yLabelFormat(t):""+this.options.preUnits+e.commas(t)+this.options.postUnits},i.prototype.drawGrid=function(){var t,e,n,i,o,s,r,a;if(!1!==this.options.grid||!0===(o=this.options.axes)||"both"===o||"y"===o){for(a=[],n=0,i=(s=this.grid).length;n<i;n++)e=this.transY(t=s[n]),!0!==(r=this.options.axes)&&"both"!==r&&"y"!==r||this.drawYAxisLabel(this.left-this.options.padding/2,e,this.yAxisFormat(t)),a.push(this.options.grid?this.drawGridLine("M"+this.left+","+e+"H"+(this.left+this.width)):void 0);return a}},i.prototype.drawGoals=function(){var t,e,n,i,o;for(o=[],t=e=0,n=(i=this.options.goals).length;e<n;t=++e)o.push(this.drawGoal(i[t],this.options.goalLineColors[t%this.options.goalLineColors.length]));return o},i.prototype.drawEvents=function(){var t,e,n,i,o;for(o=[],t=e=0,n=(i=this.events).length;e<n;t=++e)o.push(this.drawEvent(i[t],this.options.eventLineColors[t%this.options.eventLineColors.length]));return o},i.prototype.drawGoal=function(t,e){return this.raphael.path("M"+this.left+","+this.transY(t)+"H"+this.right).attr("stroke",e).attr("stroke-width",this.options.goalStrokeWidth)},i.prototype.drawEvent=function(t,e){return this.raphael.path("M"+this.transX(t)+","+this.bottom+"V"+this.top).attr("stroke",e).attr("stroke-width",this.options.eventStrokeWidth)},i.prototype.drawYAxisLabel=function(t,e,n){return this.raphael.text(t,e,n).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).attr("fill",this.options.gridTextColor).attr("text-anchor","end")},i.prototype.drawGridLine=function(t){return this.raphael.path(t).attr("stroke",this.options.gridLineColor).attr("stroke-width",this.options.gridStrokeWidth)},i.prototype.startRange=function(t){return this.hover.hide(),this.selectFrom=t,this.selectionRect.attr({x:t,width:0}).show()},i.prototype.endRange=function(t){var e,n;if(this.selectFrom)return n=Math.min(this.selectFrom,t),e=Math.max(this.selectFrom,t),this.options.rangeSelect.call(this.el,{start:this.data[this.hitTest(n)].x,end:this.data[this.hitTest(e)].x}),this.selectFrom=null},i.prototype.resizeHandler=function(){return this.timeoutId=null,this.raphael.setSize(this.el.width(),this.el.height()),this.redraw()},i}(),e.parseDate=function(t){var e,n,i,o,s,r,a,l,c,u,h;return"number"==typeof t?t:(n=t.match(/^(\d+) Q(\d)$/),o=t.match(/^(\d+)-(\d+)$/),s=t.match(/^(\d+)-(\d+)-(\d+)$/),a=t.match(/^(\d+) W(\d+)$/),l=t.match(/^(\d+)-(\d+)-(\d+)[ T](\d+):(\d+)(Z|([+-])(\d\d):?(\d\d))?$/),c=t.match(/^(\d+)-(\d+)-(\d+)[ T](\d+):(\d+):(\d+(\.\d+)?)(Z|([+-])(\d\d):?(\d\d))?$/),n?new Date(parseInt(n[1],10),3*parseInt(n[2],10)-1,1).getTime():o?new Date(parseInt(o[1],10),parseInt(o[2],10)-1,1).getTime():s?new Date(parseInt(s[1],10),parseInt(s[2],10)-1,parseInt(s[3],10)).getTime():a?(4!==(u=new Date(parseInt(a[1],10),0,1)).getDay()&&u.setMonth(0,1+(4-u.getDay()+7)%7),u.getTime()+6048e5*parseInt(a[2],10)):l?l[6]?(r=0,"Z"!==l[6]&&(r=60*parseInt(l[8],10)+parseInt(l[9],10),"+"===l[7]&&(r=0-r)),Date.UTC(parseInt(l[1],10),parseInt(l[2],10)-1,parseInt(l[3],10),parseInt(l[4],10),parseInt(l[5],10)+r)):new Date(parseInt(l[1],10),parseInt(l[2],10)-1,parseInt(l[3],10),parseInt(l[4],10),parseInt(l[5],10)).getTime():c?(h=parseFloat(c[6]),e=Math.floor(h),i=Math.round(1e3*(h-e)),c[8]?(r=0,"Z"!==c[8]&&(r=60*parseInt(c[10],10)+parseInt(c[11],10),"+"===c[9]&&(r=0-r)),Date.UTC(parseInt(c[1],10),parseInt(c[2],10)-1,parseInt(c[3],10),parseInt(c[4],10),parseInt(c[5],10)+r,e,i)):new Date(parseInt(c[1],10),parseInt(c[2],10)-1,parseInt(c[3],10),parseInt(c[4],10),parseInt(c[5],10),e,i).getTime()):new Date(parseInt(t,10),0,1).getTime())},e.Hover=function(){function n(n){null==n&&(n={}),this.options=t.extend({},e.Hover.defaults,n),this.el=t("<div class='"+this.options.class+"'></div>"),this.el.hide(),this.options.parent.append(this.el)}return n.defaults={class:"morris-hover morris-default-style"},n.prototype.update=function(t,e,n){return t?(this.html(t),this.show(),this.moveTo(e,n)):this.hide()},n.prototype.html=function(t){return this.el.html(t)},n.prototype.moveTo=function(t,e){var n,i,o,s,r,a;return r=this.options.parent.innerWidth(),s=this.options.parent.innerHeight(),i=this.el.outerWidth(),n=this.el.outerHeight(),o=Math.min(Math.max(0,t-i/2),r-i),null!=e?(a=e-n-10)<0&&(a=e+10)+n>s&&(a=s/2-n/2):a=s/2-n/2,this.el.css({left:o+"px",top:parseInt(a)+"px"})},n.prototype.show=function(){return this.el.show()},n.prototype.hide=function(){return this.el.hide()},n}(),e.Line=function(t){function n(t){if(this.hilight=s(this.hilight,this),this.onHoverOut=s(this.onHoverOut,this),this.onHoverMove=s(this.onHoverMove,this),this.onGridClick=s(this.onGridClick,this),!(this instanceof e.Line))return new e.Line(t);n.__super__.constructor.call(this,t)}return a(n,e.Grid),n.prototype.init=function(){if("always"!==this.options.hideHover)return this.hover=new e.Hover({parent:this.el}),this.on("hovermove",this.onHoverMove),this.on("hoverout",this.onHoverOut),this.on("gridclick",this.onGridClick)},n.prototype.defaults={lineWidth:3,pointSize:4,lineColors:["#0b62a4","#7A92A3","#4da74d","#afd8f8","#edc240","#cb4b4b","#9440ed"],pointStrokeWidths:[1],pointStrokeColors:["#ffffff"],pointFillColors:[],smooth:!0,xLabels:"auto",xLabelFormat:null,xLabelMargin:24,hideHover:!1},n.prototype.calc=function(){return this.calcPoints(),this.generatePaths()},n.prototype.calcPoints=function(){var t,e,n,i,o,s;for(s=[],n=0,i=(o=this.data).length;n<i;n++)(t=o[n])._x=this.transX(t.x),t._y=(function(){var n,i,o,s;for(s=[],n=0,i=(o=t.y).length;n<i;n++)s.push(null!=(e=o[n])?this.transY(e):e);return s}).call(this),s.push(t._ymax=Math.min.apply(Math,[this.bottom].concat(function(){var n,i,o,s;for(s=[],n=0,i=(o=t._y).length;n<i;n++)null!=(e=o[n])&&s.push(e);return s}())));return s},n.prototype.hitTest=function(t){var e,n,i,o;if(0===this.data.length)return null;for(e=n=0,i=(o=this.data.slice(1)).length;n<i&&!(t<(o[e]._x+this.data[e]._x)/2);e=++n);return e},n.prototype.onGridClick=function(t,e){var n;return n=this.hitTest(t),this.fire("click",n,this.data[n].src,t,e)},n.prototype.onHoverMove=function(t,e){var n;return n=this.hitTest(t),this.displayHoverForRow(n)},n.prototype.onHoverOut=function(){if(!1!==this.options.hideHover)return this.displayHoverForRow(null)},n.prototype.displayHoverForRow=function(t){var e;return null!=t?((e=this.hover).update.apply(e,this.hoverContentForRow(t)),this.hilight(t)):(this.hover.hide(),this.hilight())},n.prototype.hoverContentForRow=function(t){var e,n,i,o,s,r,a;for(e="<div class='morris-hover-row-label'>"+(i=this.data[t]).label+"</div>",n=s=0,r=(a=i.y).length;s<r;n=++s)o=a[n],e+="<div class='morris-hover-point' style='color: "+this.colorFor(i,n,"label")+"'>\n  "+this.options.labels[n]+":\n  "+this.yLabelFormat(o)+"\n</div>";return"function"==typeof this.options.hoverCallback&&(e=this.options.hoverCallback(t,this.options,e,i.src)),[e,i._x,i._ymax]},n.prototype.generatePaths=function(){var t,n,i,o;return this.paths=(function(){var s,r,a;for(a=[],n=s=0,r=this.options.ykeys.length;0<=r?s<r:s>r;n=0<=r?++s:--s)o="boolean"==typeof this.options.smooth?this.options.smooth:l.call(this.options.smooth,this.options.ykeys[n])>=0,t=(function(){var t,e,o,s;for(s=[],t=0,e=(o=this.data).length;t<e;t++)void 0!==(i=o[t])._y[n]&&s.push({x:i._x,y:i._y[n]});return s}).call(this),a.push(t.length>1?e.Line.createPath(t,o,this.bottom):null);return a}).call(this)},n.prototype.draw=function(){var t;if(!0!==(t=this.options.axes)&&"both"!==t&&"x"!==t||this.drawXAxis(),this.drawSeries(),!1===this.options.hideHover)return this.displayHoverForRow(this.data.length-1)},n.prototype.drawXAxis=function(){var t,n,i,o,s,r,a,l,c,u,h=this;for(a=this.bottom+this.options.padding/2,s=null,o=null,t=function(t,e){var n,i,r,l,c;return c=(n=h.drawXAxisLabel(h.transX(e),a,t)).getBBox(),n.transform("r"+-h.options.xLabelAngle),i=n.getBBox(),n.transform("t0,"+i.height/2+"..."),0!==h.options.xLabelAngle&&(l=-.5*c.width*Math.cos(h.options.xLabelAngle*Math.PI/180),n.transform("t"+l+",0...")),i=n.getBBox(),(null==s||s>=i.x+i.width||null!=o&&o>=i.x)&&i.x>=0&&i.x+i.width<h.el.width()?(0!==h.options.xLabelAngle&&(r=1.25*h.options.gridTextSize/Math.sin(h.options.xLabelAngle*Math.PI/180),o=i.x-r),s=i.x-h.options.xLabelMargin):n.remove()},(i=this.options.parseTime?1===this.data.length&&"auto"===this.options.xLabels?[[this.data[0].label,this.data[0].x]]:e.labelSeries(this.xmin,this.xmax,this.width,this.options.xLabels,this.options.xLabelFormat):(function(){var t,e,n,i;for(i=[],t=0,e=(n=this.data).length;t<e;t++)i.push([(r=n[t]).label,r.x]);return i}).call(this)).reverse(),u=[],l=0,c=i.length;l<c;l++)u.push(t((n=i[l])[0],n[1]));return u},n.prototype.drawSeries=function(){var t,e,n,i,o,s;for(this.seriesPoints=[],t=e=i=this.options.ykeys.length-1;i<=0?e<=0:e>=0;t=i<=0?++e:--e)this._drawLineFor(t);for(s=[],t=n=o=this.options.ykeys.length-1;o<=0?n<=0:n>=0;t=o<=0?++n:--n)s.push(this._drawPointFor(t));return s},n.prototype._drawPointFor=function(t){var e,n,i,o,s,r;for(this.seriesPoints[t]=[],r=[],i=0,o=(s=this.data).length;i<o;i++)e=null,null!=(n=s[i])._y[t]&&(e=this.drawLinePoint(n._x,n._y[t],this.colorFor(n,t,"point"),t)),r.push(this.seriesPoints[t].push(e));return r},n.prototype._drawLineFor=function(t){var e;if(null!==(e=this.paths[t]))return this.drawLinePath(e,this.colorFor(null,t,"line"),t)},n.createPath=function(t,n,i){var o,s,r,a,l,c,u,h,d;for(c="",n&&(r=e.Line.gradients(t)),u={y:null},a=h=0,d=t.length;h<d;a=++h)null!=(o=t[a]).y&&(null!=u.y?n?(s=r[a],c+="C"+(u.x+(l=(o.x-u.x)/4))+","+Math.min(i,u.y+l*r[a-1])+","+(o.x-l)+","+Math.min(i,o.y-l*s)+","+o.x+","+o.y):c+="L"+o.x+","+o.y:n&&null==r[a]||(c+="M"+o.x+","+o.y)),u=o;return c},n.gradients=function(t){var e,n,i,o,s,r,a,l;for(n=function(t,e){return(t.y-e.y)/(t.x-e.x)},l=[],i=r=0,a=t.length;r<a;i=++r)null!=(e=t[i]).y?(o=t[i+1]||{y:null},l.push(null!=(s=t[i-1]||{y:null}).y&&null!=o.y?n(s,o):null!=s.y?n(s,e):null!=o.y?n(e,o):null)):l.push(null);return l},n.prototype.hilight=function(t){var e,n,i,o,s;if(null!==this.prevHilight&&this.prevHilight!==t)for(e=n=0,o=this.seriesPoints.length-1;0<=o?n<=o:n>=o;e=0<=o?++n:--n)this.seriesPoints[e][this.prevHilight]&&this.seriesPoints[e][this.prevHilight].animate(this.pointShrinkSeries(e));if(null!==t&&this.prevHilight!==t)for(e=i=0,s=this.seriesPoints.length-1;0<=s?i<=s:i>=s;e=0<=s?++i:--i)this.seriesPoints[e][t]&&this.seriesPoints[e][t].animate(this.pointGrowSeries(e));return this.prevHilight=t},n.prototype.colorFor=function(t,e,n){return"function"==typeof this.options.lineColors?this.options.lineColors.call(this,t,e,n):"point"===n&&this.options.pointFillColors[e%this.options.pointFillColors.length]||this.options.lineColors[e%this.options.lineColors.length]},n.prototype.drawXAxisLabel=function(t,e,n){return this.raphael.text(t,e,n).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).attr("fill",this.options.gridTextColor)},n.prototype.drawLinePath=function(t,e,n){return this.raphael.path(t).attr("stroke",e).attr("stroke-width",this.lineWidthForSeries(n))},n.prototype.drawLinePoint=function(t,e,n,i){return this.raphael.circle(t,e,this.pointSizeForSeries(i)).attr("fill",n).attr("stroke-width",this.pointStrokeWidthForSeries(i)).attr("stroke",this.pointStrokeColorForSeries(i))},n.prototype.pointStrokeWidthForSeries=function(t){return this.options.pointStrokeWidths[t%this.options.pointStrokeWidths.length]},n.prototype.pointStrokeColorForSeries=function(t){return this.options.pointStrokeColors[t%this.options.pointStrokeColors.length]},n.prototype.lineWidthForSeries=function(t){return this.options.lineWidth instanceof Array?this.options.lineWidth[t%this.options.lineWidth.length]:this.options.lineWidth},n.prototype.pointSizeForSeries=function(t){return this.options.pointSize instanceof Array?this.options.pointSize[t%this.options.pointSize.length]:this.options.pointSize},n.prototype.pointGrowSeries=function(t){return Raphael.animation({r:this.pointSizeForSeries(t)+3},25,"linear")},n.prototype.pointShrinkSeries=function(t){return Raphael.animation({r:this.pointSizeForSeries(t)},25,"linear")},n}(),e.labelSeries=function(n,i,o,s,r){var a,l,c,u,h,d,f,p,g,m;if(c=200*(i-n)/o,l=new Date(n),void 0===(d=e.LABEL_SPECS[s]))for(p=0,g=(m=e.AUTO_LABEL_ORDER).length;p<g;p++)if(c>=(h=e.LABEL_SPECS[m[p]]).span){d=h;break}for(void 0===d&&(d=e.LABEL_SPECS.second),r&&(d=t.extend({},d,{fmt:r})),a=d.start(l),u=[];(f=a.getTime())<=i;)f>=n&&u.push([d.fmt(a),f]),d.incr(a);return u},i=function(t){return{span:1e3*t,start:function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes())},fmt:function(t){return e.pad2(t.getHours())+":"+e.pad2(t.getMinutes())+":"+e.pad2(t.getSeconds())},incr:function(e){return e.setUTCSeconds(e.getUTCSeconds()+t)}}},e.LABEL_SPECS={decade:{span:1728e8,start:function(t){return new Date(t.getFullYear()-t.getFullYear()%10,0,1)},fmt:function(t){return""+t.getFullYear()},incr:function(t){return t.setFullYear(t.getFullYear()+10)}},year:{span:1728e7,start:function(t){return new Date(t.getFullYear(),0,1)},fmt:function(t){return""+t.getFullYear()},incr:function(t){return t.setFullYear(t.getFullYear()+1)}},month:{span:24192e5,start:function(t){return new Date(t.getFullYear(),t.getMonth(),1)},fmt:function(t){return t.getFullYear()+"-"+e.pad2(t.getMonth()+1)},incr:function(t){return t.setMonth(t.getMonth()+1)}},week:{span:6048e5,start:function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate())},fmt:function(t){return t.getFullYear()+"-"+e.pad2(t.getMonth()+1)+"-"+e.pad2(t.getDate())},incr:function(t){return t.setDate(t.getDate()+7)}},day:{span:864e5,start:function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate())},fmt:function(t){return t.getFullYear()+"-"+e.pad2(t.getMonth()+1)+"-"+e.pad2(t.getDate())},incr:function(t){return t.setDate(t.getDate()+1)}},hour:(n=function(t){return{span:60*t*1e3,start:function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours())},fmt:function(t){return e.pad2(t.getHours())+":"+e.pad2(t.getMinutes())},incr:function(e){return e.setUTCMinutes(e.getUTCMinutes()+t)}}})(60),"30min":n(30),"15min":n(15),"10min":n(10),"5min":n(5),minute:n(1),"30sec":i(30),"15sec":i(15),"10sec":i(10),"5sec":i(5),second:i(1)},e.AUTO_LABEL_ORDER=["decade","year","month","week","day","hour","30min","15min","10min","5min","minute","30sec","15sec","10sec","5sec","second"],e.Area=function(n){var i;function o(n){var s;if(!(this instanceof e.Area))return new e.Area(n);s=t.extend({},i,n),this.cumulative=!s.behaveLikeLine,"auto"===s.fillOpacity&&(s.fillOpacity=s.behaveLikeLine?.8:1),o.__super__.constructor.call(this,s)}return a(o,e.Line),i={fillOpacity:"auto",behaveLikeLine:!1},o.prototype.calcPoints=function(){var t,e,n,i,o,s,r;for(r=[],i=0,o=(s=this.data).length;i<o;i++)(t=s[i])._x=this.transX(t.x),e=0,t._y=(function(){var i,o,s,r;for(r=[],i=0,o=(s=t.y).length;i<o;i++)n=s[i],r.push(this.transY(this.options.behaveLikeLine?n:e+=n||0));return r}).call(this),r.push(t._ymax=Math.max.apply(Math,t._y));return r},o.prototype.drawSeries=function(){var t,e,n,i,o,s,r,a;for(this.seriesPoints=[],a=[],n=0,i=(e=this.options.behaveLikeLine?(function(){s=[];for(var t=0,e=this.options.ykeys.length-1;0<=e?t<=e:t>=e;0<=e?t++:t--)s.push(t);return s}).apply(this):(function(){r=[];for(var t=o=this.options.ykeys.length-1;o<=0?t<=0:t>=0;o<=0?t++:t--)r.push(t);return r}).apply(this)).length;n<i;n++)this._drawFillFor(t=e[n]),this._drawLineFor(t),a.push(this._drawPointFor(t));return a},o.prototype._drawFillFor=function(t){var e;if(null!==(e=this.paths[t]))return e=e+"L"+this.transX(this.xmax)+","+this.bottom+"L"+this.transX(this.xmin)+","+this.bottom+"Z",this.drawFilledPath(e,this.fillForSeries(t))},o.prototype.fillForSeries=function(t){var e;return e=Raphael.rgb2hsl(this.colorFor(this.data[t],t,"line")),Raphael.hsl(e.h,this.options.behaveLikeLine?.9*e.s:.75*e.s,Math.min(.98,this.options.behaveLikeLine?1.2*e.l:1.25*e.l))},o.prototype.drawFilledPath=function(t,e){return this.raphael.path(t).attr("fill",e).attr("fill-opacity",this.options.fillOpacity).attr("stroke","none")},o}(),e.Bar=function(n){function i(n){if(this.onHoverOut=s(this.onHoverOut,this),this.onHoverMove=s(this.onHoverMove,this),this.onGridClick=s(this.onGridClick,this),!(this instanceof e.Bar))return new e.Bar(n);i.__super__.constructor.call(this,t.extend({},n,{parseTime:!1}))}return a(i,e.Grid),i.prototype.init=function(){if(this.cumulative=this.options.stacked,"always"!==this.options.hideHover)return this.hover=new e.Hover({parent:this.el}),this.on("hovermove",this.onHoverMove),this.on("hoverout",this.onHoverOut),this.on("gridclick",this.onGridClick)},i.prototype.defaults={barSizeRatio:.75,barGap:3,barColors:["#0b62a4","#7a92a3","#4da74d","#afd8f8","#edc240","#cb4b4b","#9440ed"],barOpacity:1,barRadius:[0,0,0,0],xLabelMargin:50},i.prototype.calc=function(){var t;if(this.calcBars(),!1===this.options.hideHover)return(t=this.hover).update.apply(t,this.hoverContentForRow(this.data.length-1))},i.prototype.calcBars=function(){var t,e,n,i,o,s,r;for(r=[],t=i=0,o=(s=this.data).length;i<o;t=++i)(e=s[t])._x=this.left+this.width*(t+.5)/this.data.length,r.push(e._y=(function(){var t,i,o,s;for(s=[],t=0,i=(o=e.y).length;t<i;t++)s.push(null!=(n=o[t])?this.transY(n):null);return s}).call(this));return r},i.prototype.draw=function(){var t;return!0!==(t=this.options.axes)&&"both"!==t&&"x"!==t||this.drawXAxis(),this.drawSeries()},i.prototype.drawXAxis=function(){var t,e,n,i,o,s,r,a,l,c,u,h,d;for(c=this.bottom+(this.options.xAxisLabelTopPadding||this.options.padding/2),r=null,s=null,d=[],t=u=0,h=this.data.length;0<=h?u<h:u>h;t=0<=h?++u:--u)l=(e=this.drawXAxisLabel((a=this.data[this.data.length-1-t])._x,c,a.label)).getBBox(),e.transform("r"+-this.options.xLabelAngle),n=e.getBBox(),e.transform("t0,"+n.height/2+"..."),0!==this.options.xLabelAngle&&(o=-.5*l.width*Math.cos(this.options.xLabelAngle*Math.PI/180),e.transform("t"+o+",0...")),(null==r||r>=n.x+n.width||null!=s&&s>=n.x)&&n.x>=0&&n.x+n.width<this.el.width()?(0!==this.options.xLabelAngle&&(i=1.25*this.options.gridTextSize/Math.sin(this.options.xLabelAngle*Math.PI/180),s=n.x-i),d.push(r=n.x-this.options.xLabelMargin)):d.push(e.remove());return d},i.prototype.drawSeries=function(){var t,e,n,i,o,s,r,a,l,c,u,h,d,f;return t=((n=this.width/this.options.data.length)*this.options.barSizeRatio-this.options.barGap*((a=this.options.stacked?1:this.options.ykeys.length)-1))/a,this.options.barSize&&(t=Math.min(t,this.options.barSize)),r=(n-t*a-this.options.barGap*(a-1))/2,f=this.ymin<=0&&this.ymax>=0?this.transY(0):null,this.bars=(function(){var a,p,g,m;for(m=[],i=a=0,p=(g=this.data).length;a<p;i=++a)l=g[i],o=0,m.push((function(){var a,p,g,m;for(m=[],c=a=0,p=(g=l._y).length;a<p;c=++a)null!==(d=g[c])?(f?(h=Math.min(d,f),e=Math.max(d,f)):(h=d,e=this.bottom),s=this.left+i*n+r,this.options.stacked||(s+=c*(t+this.options.barGap)),u=e-h,this.options.verticalGridCondition&&this.options.verticalGridCondition(l.x)&&this.drawBar(this.left+i*n,this.top,n,Math.abs(this.top-this.bottom),this.options.verticalGridColor,this.options.verticalGridOpacity,this.options.barRadius),this.options.stacked&&(h-=o),this.drawBar(s,h,t,u,this.colorFor(l,c,"bar"),this.options.barOpacity,this.options.barRadius),m.push(o+=u)):m.push(null);return m}).call(this));return m}).call(this)},i.prototype.colorFor=function(t,e,n){return"function"==typeof this.options.barColors?this.options.barColors.call(this,{x:t.x,y:t.y[e],label:t.label},{index:e,key:this.options.ykeys[e],label:this.options.labels[e]},n):this.options.barColors[e%this.options.barColors.length]},i.prototype.hitTest=function(t){return 0===this.data.length?null:(t=Math.max(Math.min(t,this.right),this.left),Math.min(this.data.length-1,Math.floor((t-this.left)/(this.width/this.data.length))))},i.prototype.onGridClick=function(t,e){var n;return n=this.hitTest(t),this.fire("click",n,this.data[n].src,t,e)},i.prototype.onHoverMove=function(t,e){var n,i;return n=this.hitTest(t),(i=this.hover).update.apply(i,this.hoverContentForRow(n))},i.prototype.onHoverOut=function(){if(!1!==this.options.hideHover)return this.hover.hide()},i.prototype.hoverContentForRow=function(t){var e,n,i,o,s,r,a;for(e="<div class='morris-hover-row-label'>"+(i=this.data[t]).label+"</div>",n=s=0,r=(a=i.y).length;s<r;n=++s)o=a[n],e+="<div class='morris-hover-point' style='color: "+this.colorFor(i,n,"label")+"'>\n  "+this.options.labels[n]+":\n  "+this.yLabelFormat(o)+"\n</div>";return"function"==typeof this.options.hoverCallback&&(e=this.options.hoverCallback(t,this.options,e,i.src)),[e,this.left+(t+.5)*this.width/this.data.length]},i.prototype.drawXAxisLabel=function(t,e,n){return this.raphael.text(t,e,n).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).attr("fill",this.options.gridTextColor)},i.prototype.drawBar=function(t,e,n,i,o,s,r){var a;return(0===(a=Math.max.apply(Math,r))||a>i?this.raphael.rect(t,e,n,i):this.raphael.path(this.roundedRect(t,e,n,i,r))).attr("fill",o).attr("fill-opacity",s).attr("stroke","none")},i.prototype.roundedRect=function(t,e,n,i,o){return null==o&&(o=[0,0,0,0]),["M",t,o[0]+e,"Q",t,e,t+o[0],e,"L",t+n-o[1],e,"Q",t+n,e,t+n,e+o[1],"L",t+n,e+i-o[2],"Q",t+n,e+i,t+n-o[2],e+i,"L",t+o[3],e+i,"Q",t,e+i,t,e+i-o[3],"Z"]},i}(),e.Donut=function(n){function i(n){this.resizeHandler=s(this.resizeHandler,this),this.select=s(this.select,this),this.click=s(this.click,this);var i=this;if(!(this instanceof e.Donut))return new e.Donut(n);if(this.options=t.extend({},this.defaults,n),this.el=t("string"==typeof n.element?document.getElementById(n.element):n.element),null===this.el||0===this.el.length)throw new Error("Graph placeholder not found.");void 0!==n.data&&0!==n.data.length&&(this.raphael=new Raphael(this.el[0]),this.options.resize&&t(window).bind("resize",function(t){return null!=i.timeoutId&&window.clearTimeout(i.timeoutId),i.timeoutId=window.setTimeout(i.resizeHandler,100)}),this.setData(n.data))}return a(i,e.EventEmitter),i.prototype.defaults={colors:["#0B62A4","#3980B5","#679DC6","#95BBD7","#B0CCE1","#095791","#095085","#083E67","#052C48","#042135"],backgroundColor:"#FFFFFF",labelColor:"#000000",formatter:e.commas,resize:!1},i.prototype.redraw=function(){var t,n,i,o,s,r,a,l,c,u,h,d,f,p,g,m,v,y,b,w,_,x;for(this.raphael.clear(),n=this.el.width()/2,i=this.el.height()/2,d=(Math.min(n,i)-10)/3,h=0,f=0,m=(b=this.values).length;f<m;f++)h+=b[f];for(l=5/(2*d),t=1.9999*Math.PI-l*this.data.length,r=0,s=0,this.segments=[],o=p=0,v=(w=this.values).length;p<v;o=++p)(u=new e.DonutSegment(n,i,2*d,d,r,c=r+l+t*(w[o]/h),this.data[o].color||this.options.colors[s%this.options.colors.length],this.options.backgroundColor,s,this.raphael)).render(),this.segments.push(u),u.on("hover",this.select),u.on("click",this.click),r=c,s+=1;for(this.text1=this.drawEmptyDonutLabel(n,i-10,this.options.labelColor,15,800),this.text2=this.drawEmptyDonutLabel(n,i+10,this.options.labelColor,14),a=Math.max.apply(Math,this.values),s=0,x=[],g=0,y=(_=this.values).length;g<y;g++){if(_[g]===a){this.select(s);break}x.push(s+=1)}return x},i.prototype.setData=function(t){return this.data=t,this.values=(function(){var t,e,n,i;for(i=[],t=0,e=(n=this.data).length;t<e;t++)i.push(parseFloat(n[t].value));return i}).call(this),this.redraw()},i.prototype.click=function(t){return this.fire("click",t,this.data[t])},i.prototype.select=function(t){var e,n,i,o;for(n=0,i=(o=this.segments).length;n<i;n++)o[n].deselect();return this.segments[t].select(),this.setLabels((e=this.data[t]).label,this.options.formatter(e.value,e))},i.prototype.setLabels=function(t,e){var n,i,o,s,r,a,l,c;return s=1.8*(n=2*(Math.min(this.el.width()/2,this.el.height()/2)-10)/3),o=n/2,i=n/3,this.text1.attr({text:t,transform:""}),r=this.text1.getBBox(),a=Math.min(s/r.width,o/r.height),this.text1.attr({transform:"S"+a+","+a+","+(r.x+r.width/2)+","+(r.y+r.height)}),this.text2.attr({text:e,transform:""}),l=this.text2.getBBox(),c=Math.min(s/l.width,i/l.height),this.text2.attr({transform:"S"+c+","+c+","+(l.x+l.width/2)+","+l.y})},i.prototype.drawEmptyDonutLabel=function(t,e,n,i,o){var s;return s=this.raphael.text(t,e,"").attr("font-size",i).attr("fill",n),null!=o&&s.attr("font-weight",o),s},i.prototype.resizeHandler=function(){return this.timeoutId=null,this.raphael.setSize(this.el.width(),this.el.height()),this.redraw()},i}(),e.DonutSegment=function(t){function n(t,e,n,i,o,r,a,l,c,u){this.cx=t,this.cy=e,this.inner=n,this.outer=i,this.color=a,this.backgroundColor=l,this.index=c,this.raphael=u,this.deselect=s(this.deselect,this),this.select=s(this.select,this),this.sin_p0=Math.sin(o),this.cos_p0=Math.cos(o),this.sin_p1=Math.sin(r),this.cos_p1=Math.cos(r),this.is_long=r-o>Math.PI?1:0,this.path=this.calcSegment(this.inner+3,this.inner+this.outer-5),this.selectedPath=this.calcSegment(this.inner+3,this.inner+this.outer),this.hilight=this.calcArc(this.inner)}return a(n,e.EventEmitter),n.prototype.calcArcPoints=function(t){return[this.cx+t*this.sin_p0,this.cy+t*this.cos_p0,this.cx+t*this.sin_p1,this.cy+t*this.cos_p1]},n.prototype.calcSegment=function(t,e){var n,i,o,s,r,a;return n=(r=this.calcArcPoints(t))[0],o=r[1],i=r[2],s=r[3],a=this.calcArcPoints(e),"M"+n+","+o+"A"+t+","+t+",0,"+this.is_long+",0,"+i+","+s+"L"+a[2]+","+a[3]+"A"+e+","+e+",0,"+this.is_long+",1,"+a[0]+","+a[1]+"Z"},n.prototype.calcArc=function(t){var e;return"M"+(e=this.calcArcPoints(t))[0]+","+e[1]+"A"+t+","+t+",0,"+this.is_long+",0,"+e[2]+","+e[3]},n.prototype.render=function(){var t=this;return this.arc=this.drawDonutArc(this.hilight,this.color),this.seg=this.drawDonutSegment(this.path,this.color,this.backgroundColor,function(){return t.fire("hover",t.index)},function(){return t.fire("click",t.index)})},n.prototype.drawDonutArc=function(t,e){return this.raphael.path(t).attr({stroke:e,"stroke-width":2,opacity:0})},n.prototype.drawDonutSegment=function(t,e,n,i,o){return this.raphael.path(t).attr({fill:e,stroke:n,"stroke-width":3}).hover(i).click(o)},n.prototype.select=function(){if(!this.selected)return this.seg.animate({path:this.selectedPath},150,"<>"),this.arc.animate({opacity:1},150,"<>"),this.selected=!0},n.prototype.deselect=function(){if(this.selected)return this.seg.animate({path:this.path},150,"<>"),this.arc.animate({opacity:0},150,"<>"),this.selected=!1},n}()}).call(this),function(t,e,n){var i;i=function(n){"use strict";var i,o,s,r,a,l,c,u,h,d,f,p,g,m,v,y,b,w,_,x,C,k,S,T,D,O,E,N,A,M,P={},I=0;i=function(){return{common:{type:"line",lineColor:"#00f",fillColor:"#cdf",defaultPixelsPerValue:3,width:"auto",height:"auto",composite:!1,tagValuesAttribute:"values",tagOptionsPrefix:"spark",enableTagOptions:!1,enableHighlight:!0,highlightLighten:1.4,tooltipSkipNull:!0,tooltipPrefix:"",tooltipSuffix:"",disableHiddenCheck:!1,numberFormatter:!1,numberDigitGroupCount:3,numberDigitGroupSep:",",numberDecimalMark:".",disableTooltips:!1,disableInteraction:!1},line:{spotColor:"#f80",highlightSpotColor:"#5f5",highlightLineColor:"#f22",spotRadius:1.5,minSpotColor:"#f80",maxSpotColor:"#f80",lineWidth:1,normalRangeMin:void 0,normalRangeMax:void 0,normalRangeColor:"#ccc",drawNormalOnTop:!1,chartRangeMin:void 0,chartRangeMax:void 0,chartRangeMinX:void 0,chartRangeMaxX:void 0,tooltipFormat:new s('<span style="color: {{color}}">&#9679;</span> {{prefix}}{{y}}{{suffix}}')},bar:{barColor:"#3366cc",negBarColor:"#f44",stackedBarColor:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],zeroColor:void 0,nullColor:void 0,zeroAxis:!0,barWidth:4,barSpacing:1,chartRangeMax:void 0,chartRangeMin:void 0,chartRangeClip:!1,colorMap:void 0,tooltipFormat:new s('<span style="color: {{color}}">&#9679;</span> {{prefix}}{{value}}{{suffix}}')},tristate:{barWidth:4,barSpacing:1,posBarColor:"#6f6",negBarColor:"#f44",zeroBarColor:"#999",colorMap:{},tooltipFormat:new s('<span style="color: {{color}}">&#9679;</span> {{value:map}}'),tooltipValueLookups:{map:{"-1":"Loss",0:"Draw",1:"Win"}}},discrete:{lineHeight:"auto",thresholdColor:void 0,thresholdValue:0,chartRangeMax:void 0,chartRangeMin:void 0,chartRangeClip:!1,tooltipFormat:new s("{{prefix}}{{value}}{{suffix}}")},bullet:{targetColor:"#f33",targetWidth:3,performanceColor:"#33f",rangeColors:["#d3dafe","#a8b6ff","#7f94ff"],base:void 0,tooltipFormat:new s("{{fieldkey:fields}} - {{value}}"),tooltipValueLookups:{fields:{r:"Range",p:"Performance",t:"Target"}}},pie:{offset:0,sliceColors:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],borderWidth:0,borderColor:"#000",tooltipFormat:new s('<span style="color: {{color}}">&#9679;</span> {{value}} ({{percent.1}}%)')},box:{raw:!1,boxLineColor:"#000",boxFillColor:"#cdf",whiskerColor:"#000",outlierLineColor:"#333",outlierFillColor:"#fff",medianColor:"#f00",showOutliers:!0,outlierIQR:1.5,spotRadius:1.5,target:void 0,targetColor:"#4a2",chartRangeMax:void 0,chartRangeMin:void 0,tooltipFormat:new s("{{field:fields}}: {{value}}"),tooltipFormatFieldlistKey:"field",tooltipValueLookups:{fields:{lq:"Lower Quartile",med:"Median",uq:"Upper Quartile",lo:"Left Outlier",ro:"Right Outlier",lw:"Left Whisker",rw:"Right Whisker"}}}}},D='.jqstooltip { position: absolute;left: 0px;top: 0px;visibility: hidden;background: rgb(0, 0, 0) transparent;background-color: rgba(0,0,0,0.6);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000);-ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000)";color: white;font: 10px arial, san serif;text-align: left;white-space: nowrap;padding: 5px;border: 1px solid white;box-sizing: content-box;z-index: 10000;}.jqsfield { color: white;font: 10px arial, san serif;text-align: left;}',n.SPFormatClass=s=(o=function(){var t,e;return t=function(){this.init.apply(this,arguments)},arguments.length>1?(arguments[0]?(t.prototype=n.extend(new arguments[0],arguments[arguments.length-1]),t._super=arguments[0].prototype):t.prototype=arguments[arguments.length-1],arguments.length>2&&((e=Array.prototype.slice.call(arguments,1,-1)).unshift(t.prototype),n.extend.apply(n,e))):t.prototype=arguments[0],t.prototype.cls=t,t})({fre:/\{\{([\w.]+?)(:(.+?))?\}\}/g,precre:/(\w+)\.(\d+)/,init:function(t,e){this.format=t,this.fclass=e},render:function(t,e,n){var i,o,s,r,a,l=this,c=t;return this.format.replace(this.fre,function(){return s=arguments[3],(i=l.precre.exec(o=arguments[1]))?(a=i[2],o=i[1]):a=!1,void 0===(r=c[o])?"":s&&e&&e[s]?e[s].get?e[s].get(r)||r:e[s][r]||r:(h(r)&&(r=n.get("numberFormatter")?n.get("numberFormatter")(r):g(r,a,n.get("numberDigitGroupCount"),n.get("numberDigitGroupSep"),n.get("numberDecimalMark"))),r)})}}),n.spformat=function(t,e){return new s(t,e)},r=function(t,e,n){return t<e?e:t>n?n:t},a=function(t,n){var i;return 2===n?(i=e.floor(t.length/2),t.length%2?t[i]:(t[i-1]+t[i])/2):t.length%2?(i=(t.length*n+n)/4)%1?(t[e.floor(i)]+t[e.floor(i)-1])/2:t[i-1]:(i=(t.length*n+2)/4)%1?(t[e.floor(i)]+t[e.floor(i)-1])/2:t[i-1]},l=function(t){var e;switch(t){case"undefined":t=void 0;break;case"null":t=null;break;case"true":t=!0;break;case"false":t=!1;break;default:t==(e=parseFloat(t))&&(t=e)}return t},c=function(t){var e,n=[];for(e=t.length;e--;)n[e]=l(t[e]);return n},u=function(t,e){var n,i,o=[];for(n=0,i=t.length;n<i;n++)t[n]!==e&&o.push(t[n]);return o},h=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},g=function(t,e,i,o,s){var r,a;for(t=(!1===e?parseFloat(t).toString():t.toFixed(e)).split(""),(r=(r=n.inArray(".",t))<0?t.length:r)<t.length&&(t[r]=s),a=r-i;a>0;a-=i)t.splice(a,0,o);return t.join("")},d=function(t,e,n){var i;for(i=e.length;i--;)if((!n||null!==e[i])&&e[i]!==t)return!1;return!0},p=function(t){return n.isArray(t)?t:[t]},f=function(e){var n,i;if(t.createStyleSheet)try{return void(t.createStyleSheet().cssText=e)}catch(t){i=!0}(n=t.createElement("style")).type="text/css",t.getElementsByTagName("head")[0].appendChild(n),i?t.styleSheets[t.styleSheets.length-1].cssText=e:n["string"==typeof t.body.style.WebkitAppearance?"innerText":"innerHTML"]=e},n.fn.simpledraw=function(e,i,o,s){var r,a;if(o&&(r=this.data("_jqs_vcanvas")))return r;if(!1===n.fn.sparkline.canvas)return!1;if(void 0===n.fn.sparkline.canvas){var l=t.createElement("canvas");if(l.getContext&&l.getContext("2d"))n.fn.sparkline.canvas=function(t,e,n,i){return new N(t,e,n,i)};else{if(!t.namespaces||t.namespaces.v)return n.fn.sparkline.canvas=!1,!1;t.namespaces.add("v","urn:schemas-microsoft-com:vml","#default#VML"),n.fn.sparkline.canvas=function(t,e,n,i){return new A(t,e,n)}}}return void 0===e&&(e=n(this).innerWidth()),void 0===i&&(i=n(this).innerHeight()),r=n.fn.sparkline.canvas(e,i,this,s),(a=n(this).data("_jqs_mhandler"))&&a.registerCanvas(r),r},n.fn.cleardraw=function(){var t=this.data("_jqs_vcanvas");t&&t.reset()},n.RangeMapClass=m=o({init:function(t){var e,n,i=[];for(e in t)t.hasOwnProperty(e)&&"string"==typeof e&&e.indexOf(":")>-1&&((n=e.split(":"))[0]=0===n[0].length?-1/0:parseFloat(n[0]),n[1]=0===n[1].length?1/0:parseFloat(n[1]),n[2]=t[e],i.push(n));this.map=t,this.rangelist=i||!1},get:function(t){var e,n,i,o=this.rangelist;if(void 0!==(i=this.map[t]))return i;if(o)for(e=o.length;e--;)if((n=o[e])[0]<=t&&n[1]>=t)return n[2]}}),n.range_map=function(t){return new m(t)},v=o({init:function(t,e){var i=n(t);this.$el=i,this.options=e,this.currentPageX=0,this.currentPageY=0,this.el=t,this.splist=[],this.tooltip=null,this.over=!1,this.displayTooltips=!e.get("disableTooltips"),this.highlightEnabled=!e.get("disableHighlight")},registerSparkline:function(t){this.splist.push(t),this.over&&this.updateDisplay()},registerCanvas:function(t){var e=n(t.canvas);this.canvas=t,this.$canvas=e,e.mouseenter(n.proxy(this.mouseenter,this)),e.mouseleave(n.proxy(this.mouseleave,this)),e.click(n.proxy(this.mouseclick,this))},reset:function(t){this.splist=[],this.tooltip&&t&&(this.tooltip.remove(),this.tooltip=void 0)},mouseclick:function(t){var e=n.Event("sparklineClick");e.originalEvent=t,e.sparklines=this.splist,this.$el.trigger(e)},mouseenter:function(e){n(t.body).unbind("mousemove.jqs"),n(t.body).bind("mousemove.jqs",n.proxy(this.mousemove,this)),this.over=!0,this.currentPageX=e.pageX,this.currentPageY=e.pageY,this.currentEl=e.target,!this.tooltip&&this.displayTooltips&&(this.tooltip=new y(this.options),this.tooltip.updatePosition(e.pageX,e.pageY)),this.updateDisplay()},mouseleave:function(){n(t.body).unbind("mousemove.jqs");var e,i=this.splist,o=i.length,s=!1;for(this.over=!1,this.currentEl=null,this.tooltip&&(this.tooltip.remove(),this.tooltip=null),e=0;e<o;e++)i[e].clearRegionHighlight()&&(s=!0);s&&this.canvas.render()},mousemove:function(t){this.currentPageX=t.pageX,this.currentPageY=t.pageY,this.currentEl=t.target,this.tooltip&&this.tooltip.updatePosition(t.pageX,t.pageY),this.updateDisplay()},updateDisplay:function(){var t,e,i,o,s=this.splist,r=s.length,a=!1,l=this.$canvas.offset(),c=this.currentPageX-l.left,u=this.currentPageY-l.top;if(this.over){for(e=0;e<r;e++)(i=s[e].setRegionHighlight(this.currentEl,c,u))&&(a=!0);if(a){if((o=n.Event("sparklineRegionChange")).sparklines=this.splist,this.$el.trigger(o),this.tooltip){for(t="",e=0;e<r;e++)t+=s[e].getCurrentRegionTooltip();this.tooltip.setContent(t)}this.disableHighlight||this.canvas.render()}null===i&&this.mouseleave()}}}),y=o({sizeStyle:"position: static !important;display: block !important;visibility: hidden !important;float: left !important;",init:function(e){var i,o=e.get("tooltipClassname","jqstooltip"),s=this.sizeStyle;this.container=e.get("tooltipContainer")||t.body,this.tooltipOffsetX=e.get("tooltipOffsetX",10),this.tooltipOffsetY=e.get("tooltipOffsetY",12),n("#jqssizetip").remove(),n("#jqstooltip").remove(),this.sizetip=n("<div/>",{id:"jqssizetip",style:s,class:o}),this.tooltip=n("<div/>",{id:"jqstooltip",class:o}).appendTo(this.container),i=this.tooltip.offset(),this.offsetLeft=i.left,this.offsetTop=i.top,this.hidden=!0,n(window).unbind("resize.jqs scroll.jqs"),n(window).bind("resize.jqs scroll.jqs",n.proxy(this.updateWindowDims,this)),this.updateWindowDims()},updateWindowDims:function(){this.scrollTop=n(window).scrollTop(),this.scrollLeft=n(window).scrollLeft(),this.scrollRight=this.scrollLeft+n(window).width(),this.updatePosition()},getSize:function(t){this.sizetip.html(t).appendTo(this.container),this.width=this.sizetip.width()+1,this.height=this.sizetip.height(),this.sizetip.remove()},setContent:function(t){if(!t)return this.tooltip.css("visibility","hidden"),void(this.hidden=!0);this.getSize(t),this.tooltip.html(t).css({width:this.width,height:this.height,visibility:"visible"}),this.hidden&&(this.hidden=!1,this.updatePosition())},updatePosition:function(t,e){if(void 0===t){if(void 0===this.mousex)return;t=this.mousex-this.offsetLeft,e=this.mousey-this.offsetTop}else this.mousex=t-=this.offsetLeft,this.mousey=e-=this.offsetTop;this.height&&this.width&&!this.hidden&&(t+=this.tooltipOffsetX,(e-=this.height+this.tooltipOffsetY)<this.scrollTop&&(e=this.scrollTop),t<this.scrollLeft?t=this.scrollLeft:t+this.width>this.scrollRight&&(t=this.scrollRight-this.width),this.tooltip.css({left:t,top:e}))},remove:function(){this.tooltip.remove(),this.sizetip.remove(),this.sizetip=this.tooltip=void 0,n(window).unbind("resize.jqs scroll.jqs")}}),n(function(){f(D)}),M=[],n.fn.sparkline=function(e,i){return this.each(function(){var o,s,r=new n.fn.sparkline.options(this,i),a=n(this);if(o=function(){var i,o,s,l,c,u,h;"html"===e||void 0===e?(void 0!==(h=this.getAttribute(r.get("tagValuesAttribute")))&&null!==h||(h=a.html()),i=h.replace(/(^\s*<!--)|(-->\s*$)|\s+/g,"").split(",")):i=e,o="auto"===r.get("width")?i.length*r.get("defaultPixelsPerValue"):r.get("width"),"auto"===r.get("height")?r.get("composite")&&n.data(this,"_jqs_vcanvas")||((l=t.createElement("span")).innerHTML="a",a.html(l),s=n(l).innerHeight()||n(l).height(),n(l).remove(),l=null):s=r.get("height"),r.get("disableInteraction")?c=!1:(c=n.data(this,"_jqs_mhandler"))?r.get("composite")||c.reset():(c=new v(this,r),n.data(this,"_jqs_mhandler",c)),!r.get("composite")||n.data(this,"_jqs_vcanvas")?((u=new(n.fn.sparkline[r.get("type")])(this,i,r,o,s)).render(),c&&c.registerSparkline(u)):n.data(this,"_jqs_errnotify")||(alert("Attempted to attach a composite sparkline to an element with no existing sparkline"),n.data(this,"_jqs_errnotify",!0))},n(this).html()&&!r.get("disableHiddenCheck")&&n(this).is(":hidden")||!n(this).parents("body").length){if(!r.get("composite")&&n.data(this,"_jqs_pending"))for(s=M.length;s;s--)M[s-1][0]==this&&M.splice(s-1,1);M.push([this,o]),n.data(this,"_jqs_pending",!0)}else o.call(this)})},n.fn.sparkline.defaults=i(),n.sparkline_display_visible=function(){var t,e,i,o=[];for(e=0,i=M.length;e<i;e++)n(t=M[e][0]).is(":visible")&&!n(t).parents().is(":hidden")?(M[e][1].call(t),n.data(M[e][0],"_jqs_pending",!1),o.push(e)):n(t).closest("html").length||n.data(t,"_jqs_pending")||(n.data(M[e][0],"_jqs_pending",!1),o.push(e));for(e=o.length;e;e--)M.splice(o[e-1],1)},n.fn.sparkline.options=o({init:function(t,e){var i,o,s;this.userOptions=e=e||{},this.tag=t,this.tagValCache={},o=(i=n.fn.sparkline.defaults).common,this.tagOptionsPrefix=e.enableTagOptions&&(e.tagOptionsPrefix||o.tagOptionsPrefix),s=this.getTagSetting("type"),this.mergedOptions=n.extend({},o,s===P?i[e.type||o.type]:i[s],e)},getTagSetting:function(t){var e,n,i,o,s=this.tagOptionsPrefix;if(!1===s||void 0===s)return P;if(this.tagValCache.hasOwnProperty(t))e=this.tagValCache.key;else{if(void 0===(e=this.tag.getAttribute(s+t))||null===e)e=P;else if("["===e.substr(0,1))for(n=(e=e.substr(1,e.length-2).split(",")).length;n--;)e[n]=l(e[n].replace(/(^\s*)|(\s*$)/g,""));else if("{"===e.substr(0,1))for(i=e.substr(1,e.length-2).split(","),e={},n=i.length;n--;)e[(o=i[n].split(":",2))[0].replace(/(^\s*)|(\s*$)/g,"")]=l(o[1].replace(/(^\s*)|(\s*$)/g,""));else e=l(e);this.tagValCache.key=e}return e},get:function(t,e){var n,i=this.getTagSetting(t);return i!==P?i:void 0===(n=this.mergedOptions[t])?e:n}}),n.fn.sparkline._base=o({disabled:!1,init:function(t,e,i,o,s){this.el=t,this.$el=n(t),this.values=e,this.options=i,this.width=o,this.height=s,this.currentRegion=void 0},initTarget:function(){var t=!this.options.get("disableInteraction");(this.target=this.$el.simpledraw(this.width,this.height,this.options.get("composite"),t))?(this.canvasWidth=this.target.pixelWidth,this.canvasHeight=this.target.pixelHeight):this.disabled=!0},render:function(){return!this.disabled||(this.el.innerHTML="",!1)},getRegion:function(t,e){},setRegionHighlight:function(t,e,n){var i,o=this.currentRegion,s=!this.options.get("disableHighlight");return e>this.canvasWidth||n>this.canvasHeight||e<0||n<0?null:o!==(i=this.getRegion(t,e,n))&&(void 0!==o&&s&&this.removeHighlight(),this.currentRegion=i,void 0!==i&&s&&this.renderHighlight(),!0)},clearRegionHighlight:function(){return void 0!==this.currentRegion&&(this.removeHighlight(),this.currentRegion=void 0,!0)},renderHighlight:function(){this.changeHighlight(!0)},removeHighlight:function(){this.changeHighlight(!1)},changeHighlight:function(t){},getCurrentRegionTooltip:function(){var t,e,i,o,r,a,l,c,u,h,d,f,p,g=this.options,m="",v=[];if(void 0===this.currentRegion)return"";if(t=this.getCurrentRegionFields(),h=g.get("tooltipFormatter"))return h(this,g,t);if(g.get("tooltipChartTitle")&&(m+='<div class="jqs jqstitle">'+g.get("tooltipChartTitle")+"</div>\n"),!(e=this.options.get("tooltipFormat")))return"";if(n.isArray(e)||(e=[e]),n.isArray(t)||(t=[t]),l=this.options.get("tooltipFormatFieldlist"),c=this.options.get("tooltipFormatFieldlistKey"),l&&c){for(u=[],a=t.length;a--;)-1!=(p=n.inArray(t[a][c],l))&&(u[p]=t[a]);t=u}for(i=e.length,f=t.length,a=0;a<i;a++)for("string"==typeof(d=e[a])&&(d=new s(d)),o=d.fclass||"jqsfield",p=0;p<f;p++)t[p].isNull&&g.get("tooltipSkipNull")||(n.extend(t[p],{prefix:g.get("tooltipPrefix"),suffix:g.get("tooltipSuffix")}),r=d.render(t[p],g.get("tooltipValueLookups"),g),v.push('<div class="'+o+'">'+r+"</div>"));return v.length?m+v.join("\n"):""},getCurrentRegionFields:function(){},calcHighlightColor:function(t,n){var i,o,s,a,l=n.get("highlightColor"),c=n.get("highlightLighten");if(l)return l;if(c&&(i=/^#([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec(t)||/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i.exec(t))){for(s=[],o=4===t.length?16:1,a=0;a<3;a++)s[a]=r(e.round(parseInt(i[a+1],16)*o*c),0,255);return"rgb("+s.join(",")+")"}return t}}),b={changeHighlight:function(t){var e,i=this.currentRegion,o=this.target,s=this.regionShapes[i];s&&(e=this.renderRegion(i,t),n.isArray(e)||n.isArray(s)?(o.replaceWithShapes(s,e),this.regionShapes[i]=n.map(e,function(t){return t.id})):(o.replaceWithShape(s,e),this.regionShapes[i]=e.id))},render:function(){var t,e,i,o,s=this.values,r=this.target,a=this.regionShapes;if(this.cls._super.render.call(this)){for(i=s.length;i--;)if(t=this.renderRegion(i))if(n.isArray(t)){for(e=[],o=t.length;o--;)t[o].append(),e.push(t[o].id);a[i]=e}else t.append(),a[i]=t.id;else a[i]=null;r.render()}}},n.fn.sparkline.line=w=o(n.fn.sparkline._base,{type:"line",init:function(t,e,n,i,o){w._super.init.call(this,t,e,n,i,o),this.vertices=[],this.regionMap=[],this.xvalues=[],this.yvalues=[],this.yminmax=[],this.hightlightSpotId=null,this.lastShapeId=null,this.initTarget()},getRegion:function(t,e,n){var i,o=this.regionMap;for(i=o.length;i--;)if(null!==o[i]&&e>=o[i][0]&&e<=o[i][1])return o[i][2]},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:null===this.yvalues[t],x:this.xvalues[t],y:this.yvalues[t],color:this.options.get("lineColor"),fillColor:this.options.get("fillColor"),offset:t}},renderHighlight:function(){var t,e,n=this.target,i=this.vertices[this.currentRegion],o=this.options,s=o.get("spotRadius"),r=o.get("highlightSpotColor"),a=o.get("highlightLineColor");i&&(s&&r&&(t=n.drawCircle(i[0],i[1],s,void 0,r),this.highlightSpotId=t.id,n.insertAfterShape(this.lastShapeId,t)),a&&(e=n.drawLine(i[0],this.canvasTop,i[0],this.canvasTop+this.canvasHeight,a),this.highlightLineId=e.id,n.insertAfterShape(this.lastShapeId,e)))},removeHighlight:function(){var t=this.target;this.highlightSpotId&&(t.removeShapeId(this.highlightSpotId),this.highlightSpotId=null),this.highlightLineId&&(t.removeShapeId(this.highlightLineId),this.highlightLineId=null)},scanValues:function(){var t,n,i,o,s,r=this.values,a=r.length,l=this.xvalues,c=this.yvalues,u=this.yminmax;for(t=0;t<a;t++)n=r[t],i="string"==typeof r[t],o="object"==typeof r[t]&&r[t]instanceof Array,s=i&&r[t].split(":"),i&&2===s.length?(l.push(Number(s[0])),c.push(Number(s[1])),u.push(Number(s[1]))):o?(l.push(n[0]),c.push(n[1]),u.push(n[1])):(l.push(t),null===r[t]||"null"===r[t]?c.push(null):(c.push(Number(n)),u.push(Number(n))));this.options.get("xvalues")&&(l=this.options.get("xvalues")),this.maxy=this.maxyorg=e.max.apply(e,u),this.miny=this.minyorg=e.min.apply(e,u),this.maxx=e.max.apply(e,l),this.minx=e.min.apply(e,l),this.xvalues=l,this.yvalues=c,this.yminmax=u},processRangeOptions:function(){var t=this.options,e=t.get("normalRangeMin"),n=t.get("normalRangeMax");void 0!==e&&(e<this.miny&&(this.miny=e),n>this.maxy&&(this.maxy=n)),void 0!==t.get("chartRangeMin")&&(t.get("chartRangeClip")||t.get("chartRangeMin")<this.miny)&&(this.miny=t.get("chartRangeMin")),void 0!==t.get("chartRangeMax")&&(t.get("chartRangeClip")||t.get("chartRangeMax")>this.maxy)&&(this.maxy=t.get("chartRangeMax")),void 0!==t.get("chartRangeMinX")&&(t.get("chartRangeClipX")||t.get("chartRangeMinX")<this.minx)&&(this.minx=t.get("chartRangeMinX")),void 0!==t.get("chartRangeMaxX")&&(t.get("chartRangeClipX")||t.get("chartRangeMaxX")>this.maxx)&&(this.maxx=t.get("chartRangeMaxX"))},drawNormalRange:function(t,n,i,o,s){var r=this.options.get("normalRangeMin"),a=this.options.get("normalRangeMax"),l=n+e.round(i-i*((a-this.miny)/s)),c=e.round(i*(a-r)/s);this.target.drawRect(t,l,o,c,void 0,this.options.get("normalRangeColor")).append()},render:function(){var t,i,o,s,r,a,l,c,u,h,d,f,p,g,v,y,b,_,x,C,k,S,T,D,O=this.options,E=this.target,N=this.canvasWidth,A=this.canvasHeight,M=this.vertices,P=O.get("spotRadius"),I=this.regionMap;if(w._super.render.call(this)&&(this.scanValues(),this.processRangeOptions(),S=this.xvalues,T=this.yvalues,this.yminmax.length&&!(this.yvalues.length<2))){for(s=r=0,t=this.maxx-this.minx==0?1:this.maxx-this.minx,i=this.maxy-this.miny==0?1:this.maxy-this.miny,o=this.yvalues.length-1,P&&(N<4*P||A<4*P)&&(P=0),P&&(((C=O.get("highlightSpotColor")&&!O.get("disableInteraction"))||O.get("minSpotColor")||O.get("spotColor")&&T[o]===this.miny)&&(A-=e.ceil(P)),(C||O.get("maxSpotColor")||O.get("spotColor")&&T[o]===this.maxy)&&(A-=e.ceil(P),s+=e.ceil(P)),(C||(O.get("minSpotColor")||O.get("maxSpotColor"))&&(T[0]===this.miny||T[0]===this.maxy))&&(r+=e.ceil(P),N-=e.ceil(P)),(C||O.get("spotColor")||O.get("minSpotColor")||O.get("maxSpotColor")&&(T[o]===this.miny||T[o]===this.maxy))&&(N-=e.ceil(P))),A--,void 0===O.get("normalRangeMin")||O.get("drawNormalOnTop")||this.drawNormalRange(r,s,A,N,i),c=[l=[]],p=g=null,v=T.length,D=0;D<v;D++)d=S[D+1],h=T[D],g=(f=r+e.round(N/t*((u=S[D])-this.minx)))+((D<v-1?r+e.round(N/t*(d-this.minx)):N)-f)/2,I[D]=[p||0,g,D],p=g,null===h?D&&(null!==T[D-1]&&c.push(l=[]),M.push(null)):(h<this.miny&&(h=this.miny),h>this.maxy&&(h=this.maxy),l.length||l.push([f,s+A]),a=[f,s+e.round(A-A*((h-this.miny)/i))],l.push(a),M.push(a));for(y=[],b=[],_=c.length,D=0;D<_;D++)(l=c[D]).length&&(O.get("fillColor")&&(l.push([l[l.length-1][0],s+A]),b.push(l.slice(0)),l.pop()),l.length>2&&(l[0]=[l[0][0],l[1][1]]),y.push(l));for(_=b.length,D=0;D<_;D++)E.drawShape(b[D],O.get("fillColor"),O.get("fillColor")).append();for(void 0!==O.get("normalRangeMin")&&O.get("drawNormalOnTop")&&this.drawNormalRange(r,s,A,N,i),_=y.length,D=0;D<_;D++)E.drawShape(y[D],O.get("lineColor"),void 0,O.get("lineWidth")).append();if(P&&O.get("valueSpots"))for(void 0===(x=O.get("valueSpots")).get&&(x=new m(x)),D=0;D<v;D++)(k=x.get(T[D]))&&E.drawCircle(r+e.round(N/t*(S[D]-this.minx)),s+e.round(A-A*((T[D]-this.miny)/i)),P,void 0,k).append();P&&O.get("spotColor")&&null!==T[o]&&E.drawCircle(r+e.round(N/t*(S[S.length-1]-this.minx)),s+e.round(A-A*((T[o]-this.miny)/i)),P,void 0,O.get("spotColor")).append(),this.maxy!==this.minyorg&&(P&&O.get("minSpotColor")&&(u=S[n.inArray(this.minyorg,T)],E.drawCircle(r+e.round(N/t*(u-this.minx)),s+e.round(A-A*((this.minyorg-this.miny)/i)),P,void 0,O.get("minSpotColor")).append()),P&&O.get("maxSpotColor")&&(u=S[n.inArray(this.maxyorg,T)],E.drawCircle(r+e.round(N/t*(u-this.minx)),s+e.round(A-A*((this.maxyorg-this.miny)/i)),P,void 0,O.get("maxSpotColor")).append())),this.lastShapeId=E.getLastShapeId(),this.canvasTop=s,E.render()}}}),n.fn.sparkline.bar=_=o(n.fn.sparkline._base,b,{type:"bar",init:function(t,i,o,s,a){var h,d,f,p,g,v,y,b,w,x,C,k,S,T,D,O,E,N,A,M,P,I=parseInt(o.get("barWidth"),10),R=parseInt(o.get("barSpacing"),10),L=o.get("chartRangeMin"),j=o.get("chartRangeMax"),H=o.get("chartRangeClip"),B=1/0,q=-1/0;for(_._super.init.call(this,t,i,o,s,a),v=0,y=i.length;v<y;v++)((h="string"==typeof(M=i[v])&&M.indexOf(":")>-1)||n.isArray(M))&&(D=!0,h&&(M=i[v]=c(M.split(":"))),M=u(M,null),d=e.min.apply(e,M),f=e.max.apply(e,M),d<B&&(B=d),f>q&&(q=f));this.stacked=D,this.regionShapes={},this.barWidth=I,this.barSpacing=R,this.totalBarWidth=I+R,this.width=s=i.length*I+(i.length-1)*R,this.initTarget(),H&&(S=void 0===L?-1/0:L,T=void 0===j?1/0:j),g=[],p=D?[]:g;var F=[],$=[];for(v=0,y=i.length;v<y;v++)if(D)for(O=i[v],i[v]=A=[],F[v]=0,p[v]=$[v]=0,E=0,N=O.length;E<N;E++)null!==(M=A[E]=H?r(O[E],S,T):O[E])&&(M>0&&(F[v]+=M),B<0&&q>0?M<0?$[v]+=e.abs(M):p[v]+=M:p[v]+=e.abs(M-(M<0?q:B)),g.push(M));else M=H?r(i[v],S,T):i[v],null!==(M=i[v]=l(M))&&g.push(M);this.max=k=e.max.apply(e,g),this.min=C=e.min.apply(e,g),this.stackMax=q=D?e.max.apply(e,F):k,this.stackMin=B=D?e.min.apply(e,g):C,void 0!==o.get("chartRangeMin")&&(o.get("chartRangeClip")||o.get("chartRangeMin")<C)&&(C=o.get("chartRangeMin")),void 0!==o.get("chartRangeMax")&&(o.get("chartRangeClip")||o.get("chartRangeMax")>k)&&(k=o.get("chartRangeMax")),this.zeroAxis=w=o.get("zeroAxis",!0),this.xaxisOffset=x=C<=0&&k>=0&&w?0:0==w?C:C>0?C:k,b=D?e.max.apply(e,p)+e.max.apply(e,$):k-C,this.canvasHeightEf=w&&C<0?this.canvasHeight-2:this.canvasHeight-1,C<x?(P=((D&&k>=0?q:k)-x)/b*this.canvasHeight)!==e.ceil(P)&&(this.canvasHeightEf-=2,P=e.ceil(P)):P=this.canvasHeight,this.yoffset=P,n.isArray(o.get("colorMap"))?(this.colorMapByIndex=o.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=o.get("colorMap"),this.colorMapByValue&&void 0===this.colorMapByValue.get&&(this.colorMapByValue=new m(this.colorMapByValue))),this.range=b},getRegion:function(t,n,i){var o=e.floor(n/this.totalBarWidth);return o<0||o>=this.values.length?void 0:o},getCurrentRegionFields:function(){var t,e,n=this.currentRegion,i=p(this.values[n]),o=[];for(e=i.length;e--;)o.push({isNull:null===(t=i[e]),value:t,color:this.calcColor(e,t,n),offset:n});return o},calcColor:function(t,e,i){var o,s,r=this.colorMapByIndex,a=this.colorMapByValue,l=this.options;return o=l.get(this.stacked?"stackedBarColor":e<0?"negBarColor":"barColor"),0===e&&void 0!==l.get("zeroColor")&&(o=l.get("zeroColor")),a&&(s=a.get(e))?o=s:r&&r.length>i&&(o=r[i]),n.isArray(o)?o[t%o.length]:o},renderRegion:function(t,i){var o,s,r,a,l,c,u,h,f,p,g=this.values[t],m=this.options,v=this.xaxisOffset,y=[],b=this.range,w=this.stacked,_=this.target,x=t*this.totalBarWidth,C=this.canvasHeightEf,k=this.yoffset;if(u=(g=n.isArray(g)?g:[g]).length,h=g[0],a=d(null,g),p=d(v,g,!0),a)return m.get("nullColor")?(r=i?m.get("nullColor"):this.calcHighlightColor(m.get("nullColor"),m),_.drawRect(x,o=k>0?k-1:k,this.barWidth-1,0,r,r)):void 0;for(l=k,c=0;c<u;c++){if(h=g[c],w&&h===v){if(!p||f)continue;f=!0}s=b>0?e.floor(C*(e.abs(h-v)/b))+1:1,h<v||h===v&&0===k?(o=l,l+=s):(o=k-s,k-=s),r=this.calcColor(c,h,t),i&&(r=this.calcHighlightColor(r,m)),y.push(_.drawRect(x,o,this.barWidth-1,s-1,r,r))}return 1===y.length?y[0]:y}}),n.fn.sparkline.tristate=x=o(n.fn.sparkline._base,b,{type:"tristate",init:function(t,e,i,o,s){var r=parseInt(i.get("barWidth"),10),a=parseInt(i.get("barSpacing"),10);x._super.init.call(this,t,e,i,o,s),this.regionShapes={},this.barWidth=r,this.barSpacing=a,this.totalBarWidth=r+a,this.values=n.map(e,Number),this.width=o=e.length*r+(e.length-1)*a,n.isArray(i.get("colorMap"))?(this.colorMapByIndex=i.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=i.get("colorMap"),this.colorMapByValue&&void 0===this.colorMapByValue.get&&(this.colorMapByValue=new m(this.colorMapByValue))),this.initTarget()},getRegion:function(t,n,i){return e.floor(n/this.totalBarWidth)},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:void 0===this.values[t],value:this.values[t],color:this.calcColor(this.values[t],t),offset:t}},calcColor:function(t,e){var n,i=this.values,o=this.options,s=this.colorMapByIndex,r=this.colorMapByValue;return r&&(n=r.get(t))?n:s&&s.length>e?s[e]:o.get(i[e]<0?"negBarColor":i[e]>0?"posBarColor":"zeroBarColor")},renderRegion:function(t,n){var i,o,s,r,a,l=this.values,c=this.options,u=this.target;if(o=e.round(u.pixelHeight/2),s=t*this.totalBarWidth,l[t]<0?(r=o,i=o-1):l[t]>0?(r=0,i=o-1):(r=o-1,i=2),null!==(a=this.calcColor(l[t],t)))return n&&(a=this.calcHighlightColor(a,c)),u.drawRect(s,r,this.barWidth-1,i-1,a,a)}}),n.fn.sparkline.discrete=C=o(n.fn.sparkline._base,b,{type:"discrete",init:function(t,i,o,s,r){C._super.init.call(this,t,i,o,s,r),this.regionShapes={},this.values=i=n.map(i,Number),this.min=e.min.apply(e,i),this.max=e.max.apply(e,i),this.range=this.max-this.min,this.width=s="auto"===o.get("width")?2*i.length:this.width,this.interval=e.floor(s/i.length),this.itemWidth=s/i.length,void 0!==o.get("chartRangeMin")&&(o.get("chartRangeClip")||o.get("chartRangeMin")<this.min)&&(this.min=o.get("chartRangeMin")),void 0!==o.get("chartRangeMax")&&(o.get("chartRangeClip")||o.get("chartRangeMax")>this.max)&&(this.max=o.get("chartRangeMax")),this.initTarget(),this.target&&(this.lineHeight="auto"===o.get("lineHeight")?e.round(.3*this.canvasHeight):o.get("lineHeight"))},getRegion:function(t,n,i){return e.floor(n/this.itemWidth)},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:void 0===this.values[t],value:this.values[t],offset:t}},renderRegion:function(t,n){var i,o,s,a,l=this.options,c=this.min,u=this.range,h=this.interval,d=this.target,f=this.lineHeight,p=this.canvasHeight-f;return o=r(this.values[t],c,this.max),a=t*h,i=e.round(p-p*((o-c)/u)),s=l.get("thresholdColor")&&o<l.get("thresholdValue")?l.get("thresholdColor"):l.get("lineColor"),n&&(s=this.calcHighlightColor(s,l)),d.drawLine(a,i,a,i+f,s)}}),n.fn.sparkline.bullet=k=o(n.fn.sparkline._base,{type:"bullet",init:function(t,n,i,o,s){var r,a,l;k._super.init.call(this,t,n,i,o,s),this.values=n=c(n),(l=n.slice())[0]=null===l[0]?l[2]:l[0],l[1]=null===n[1]?l[2]:l[1],r=e.min.apply(e,n),a=e.max.apply(e,n),r=void 0===i.get("base")?r<0?r:0:i.get("base"),this.min=r,this.max=a,this.range=a-r,this.shapes={},this.valueShapes={},this.regiondata={},this.width=o="auto"===i.get("width")?"4.0em":o,this.target=this.$el.simpledraw(o,s,i.get("composite")),n.length||(this.disabled=!0),this.initTarget()},getRegion:function(t,e,n){var i=this.target.getShapeAt(t,e,n);return void 0!==i&&void 0!==this.shapes[i]?this.shapes[i]:void 0},getCurrentRegionFields:function(){var t=this.currentRegion;return{fieldkey:t.substr(0,1),value:this.values[t.substr(1)],region:t}},changeHighlight:function(t){var e,n=this.currentRegion,i=this.valueShapes[n];switch(delete this.shapes[i],n.substr(0,1)){case"r":e=this.renderRange(n.substr(1),t);break;case"p":e=this.renderPerformance(t);break;case"t":e=this.renderTarget(t)}this.valueShapes[n]=e.id,this.shapes[e.id]=n,this.target.replaceWithShape(i,e)},renderRange:function(t,n){var i=e.round(this.canvasWidth*((this.values[t]-this.min)/this.range)),o=this.options.get("rangeColors")[t-2];return n&&(o=this.calcHighlightColor(o,this.options)),this.target.drawRect(0,0,i-1,this.canvasHeight-1,o,o)},renderPerformance:function(t){var n=e.round(this.canvasWidth*((this.values[1]-this.min)/this.range)),i=this.options.get("performanceColor");return t&&(i=this.calcHighlightColor(i,this.options)),this.target.drawRect(0,e.round(.3*this.canvasHeight),n-1,e.round(.4*this.canvasHeight)-1,i,i)},renderTarget:function(t){var n=e.round(this.canvasWidth*((this.values[0]-this.min)/this.range)-this.options.get("targetWidth")/2),i=e.round(.1*this.canvasHeight),o=this.canvasHeight-2*i,s=this.options.get("targetColor");return t&&(s=this.calcHighlightColor(s,this.options)),this.target.drawRect(n,i,this.options.get("targetWidth")-1,o-1,s,s)},render:function(){var t,e,n=this.values.length,i=this.target;if(k._super.render.call(this)){for(t=2;t<n;t++)e=this.renderRange(t).append(),this.shapes[e.id]="r"+t,this.valueShapes["r"+t]=e.id;null!==this.values[1]&&(e=this.renderPerformance().append(),this.shapes[e.id]="p1",this.valueShapes.p1=e.id),null!==this.values[0]&&(e=this.renderTarget().append(),this.shapes[e.id]="t0",this.valueShapes.t0=e.id),i.render()}}}),n.fn.sparkline.pie=S=o(n.fn.sparkline._base,{type:"pie",init:function(t,i,o,s,r){var a,l=0;if(S._super.init.call(this,t,i,o,s,r),this.shapes={},this.valueShapes={},this.values=i=n.map(i,Number),"auto"===o.get("width")&&(this.width=this.height),i.length>0)for(a=i.length;a--;)l+=i[a];this.total=l,this.initTarget(),this.radius=e.floor(e.min(this.canvasWidth,this.canvasHeight)/2)},getRegion:function(t,e,n){var i=this.target.getShapeAt(t,e,n);return void 0!==i&&void 0!==this.shapes[i]?this.shapes[i]:void 0},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:void 0===this.values[t],value:this.values[t],percent:this.values[t]/this.total*100,color:this.options.get("sliceColors")[t%this.options.get("sliceColors").length],offset:t}},changeHighlight:function(t){var e=this.currentRegion,n=this.renderSlice(e,t),i=this.valueShapes[e];delete this.shapes[i],this.target.replaceWithShape(i,n),this.valueShapes[e]=n.id,this.shapes[n.id]=e},renderSlice:function(t,n){var i,o,s,r,a,l=this.target,c=this.options,u=this.radius,h=c.get("borderWidth"),d=c.get("offset"),f=2*e.PI,p=this.values,g=this.total,m=d?2*e.PI*(d/360):0;for(r=p.length,s=0;s<r;s++){if(i=m,o=m,g>0&&(o=m+f*(p[s]/g)),t===s)return a=c.get("sliceColors")[s%c.get("sliceColors").length],n&&(a=this.calcHighlightColor(a,c)),l.drawPieSlice(u,u,u-h,i,o,void 0,a);m=o}},render:function(){var t,n,i=this.target,o=this.values,s=this.options,r=this.radius,a=s.get("borderWidth"),l=s.get("donutWidth");if(S._super.render.call(this)){for(a&&i.drawCircle(r,r,e.floor(r-a/2),s.get("borderColor"),void 0,a).append(),n=o.length;n--;)o[n]&&(t=this.renderSlice(n).append(),this.valueShapes[n]=t.id,this.shapes[t.id]=n);l&&i.drawCircle(r,r,r-l,s.get("donutColor"),s.get("donutColor"),0).append(),i.render()}}}),n.fn.sparkline.box=T=o(n.fn.sparkline._base,{type:"box",init:function(t,e,i,o,s){T._super.init.call(this,t,e,i,o,s),this.values=n.map(e,Number),this.width="auto"===i.get("width")?"4.0em":o,this.initTarget(),this.values.length||(this.disabled=1)},getRegion:function(){return 1},getCurrentRegionFields:function(){var t=[{field:"lq",value:this.quartiles[0]},{field:"med",value:this.quartiles[1]},{field:"uq",value:this.quartiles[2]}];return void 0!==this.loutlier&&t.push({field:"lo",value:this.loutlier}),void 0!==this.routlier&&t.push({field:"ro",value:this.routlier}),void 0!==this.lwhisker&&t.push({field:"lw",value:this.lwhisker}),void 0!==this.rwhisker&&t.push({field:"rw",value:this.rwhisker}),t},render:function(){var t,n,i,o,s,r,l,c,u,h,d,f=this.target,p=this.values,g=p.length,m=this.options,v=this.canvasWidth,y=this.canvasHeight,b=void 0===m.get("chartRangeMin")?e.min.apply(e,p):m.get("chartRangeMin"),w=void 0===m.get("chartRangeMax")?e.max.apply(e,p):m.get("chartRangeMax"),_=0;if(T._super.render.call(this)){if(m.get("raw"))m.get("showOutliers")&&p.length>5?(n=p[0],t=p[1],o=p[2],s=p[3],r=p[4],l=p[5],c=p[6]):(t=p[0],o=p[1],s=p[2],r=p[3],l=p[4]);else if(p.sort(function(t,e){return t-e}),o=a(p,1),s=a(p,2),i=(r=a(p,3))-o,m.get("showOutliers")){for(t=l=void 0,u=0;u<g;u++)void 0===t&&p[u]>o-i*m.get("outlierIQR")&&(t=p[u]),p[u]<r+i*m.get("outlierIQR")&&(l=p[u]);n=p[0],c=p[g-1]}else t=p[0],l=p[g-1];this.quartiles=[o,s,r],this.lwhisker=t,this.rwhisker=l,this.loutlier=n,this.routlier=c,d=v/(w-b+1),m.get("showOutliers")&&(_=e.ceil(m.get("spotRadius")),d=(v-=2*e.ceil(m.get("spotRadius")))/(w-b+1),n<t&&f.drawCircle((n-b)*d+_,y/2,m.get("spotRadius"),m.get("outlierLineColor"),m.get("outlierFillColor")).append(),c>l&&f.drawCircle((c-b)*d+_,y/2,m.get("spotRadius"),m.get("outlierLineColor"),m.get("outlierFillColor")).append()),f.drawRect(e.round((o-b)*d+_),e.round(.1*y),e.round((r-o)*d),e.round(.8*y),m.get("boxLineColor"),m.get("boxFillColor")).append(),f.drawLine(e.round((t-b)*d+_),e.round(y/2),e.round((o-b)*d+_),e.round(y/2),m.get("lineColor")).append(),f.drawLine(e.round((t-b)*d+_),e.round(y/4),e.round((t-b)*d+_),e.round(y-y/4),m.get("whiskerColor")).append(),f.drawLine(e.round((l-b)*d+_),e.round(y/2),e.round((r-b)*d+_),e.round(y/2),m.get("lineColor")).append(),f.drawLine(e.round((l-b)*d+_),e.round(y/4),e.round((l-b)*d+_),e.round(y-y/4),m.get("whiskerColor")).append(),f.drawLine(e.round((s-b)*d+_),e.round(.1*y),e.round((s-b)*d+_),e.round(.9*y),m.get("medianColor")).append(),m.get("target")&&(h=e.ceil(m.get("spotRadius")),f.drawLine(e.round((m.get("target")-b)*d+_),e.round(y/2-h),e.round((m.get("target")-b)*d+_),e.round(y/2+h),m.get("targetColor")).append(),f.drawLine(e.round((m.get("target")-b)*d+_-h),e.round(y/2),e.round((m.get("target")-b)*d+_+h),e.round(y/2),m.get("targetColor")).append()),f.render()}}}),O=o({init:function(t,e,n,i){this.target=t,this.id=e,this.type=n,this.args=i},append:function(){return this.target.appendShape(this),this}}),E=o({_pxregex:/(\d+)(px)?\s*$/i,init:function(t,e,i){t&&(this.width=t,this.height=e,this.target=i,this.lastShapeId=null,i[0]&&(i=i[0]),n.data(i,"_jqs_vcanvas",this))},drawLine:function(t,e,n,i,o,s){return this.drawShape([[t,e],[n,i]],o,s)},drawShape:function(t,e,n,i){return this._genShape("Shape",[t,e,n,i])},drawCircle:function(t,e,n,i,o,s){return this._genShape("Circle",[t,e,n,i,o,s])},drawPieSlice:function(t,e,n,i,o,s,r){return this._genShape("PieSlice",[t,e,n,i,o,s,r])},drawRect:function(t,e,n,i,o,s){return this._genShape("Rect",[t,e,n,i,o,s])},getElement:function(){return this.canvas},getLastShapeId:function(){return this.lastShapeId},reset:function(){alert("reset not implemented")},_insert:function(t,e){n(e).html(t)},_calculatePixelDims:function(t,e,i){var o;o=this._pxregex.exec(e),this.pixelHeight=o?o[1]:n(i).height(),o=this._pxregex.exec(t),this.pixelWidth=o?o[1]:n(i).width()},_genShape:function(t,e){var n=I++;return e.unshift(n),new O(this,n,t,e)},appendShape:function(t){alert("appendShape not implemented")},replaceWithShape:function(t,e){alert("replaceWithShape not implemented")},insertAfterShape:function(t,e){alert("insertAfterShape not implemented")},removeShapeId:function(t){alert("removeShapeId not implemented")},getShapeAt:function(t,e,n){alert("getShapeAt not implemented")},render:function(){alert("render not implemented")}}),N=o(E,{init:function(e,i,o,s){N._super.init.call(this,e,i,o),this.canvas=t.createElement("canvas"),o[0]&&(o=o[0]),n.data(o,"_jqs_vcanvas",this),n(this.canvas).css({display:"inline-block",width:e,height:i,verticalAlign:"top"}),this._insert(this.canvas,o),this._calculatePixelDims(e,i,this.canvas),this.canvas.width=this.pixelWidth,this.canvas.height=this.pixelHeight,this.interact=s,this.shapes={},this.shapeseq=[],this.currentTargetShapeId=void 0,n(this.canvas).css({width:this.pixelWidth,height:this.pixelHeight})},_getContext:function(t,e,n){var i=this.canvas.getContext("2d");return void 0!==t&&(i.strokeStyle=t),i.lineWidth=void 0===n?1:n,void 0!==e&&(i.fillStyle=e),i},reset:function(){this._getContext().clearRect(0,0,this.pixelWidth,this.pixelHeight),this.shapes={},this.shapeseq=[],this.currentTargetShapeId=void 0},_drawShape:function(t,e,n,i,o){var s,r,a=this._getContext(n,i,o);for(a.beginPath(),a.moveTo(e[0][0]+.5,e[0][1]+.5),s=1,r=e.length;s<r;s++)a.lineTo(e[s][0]+.5,e[s][1]+.5);void 0!==n&&a.stroke(),void 0!==i&&a.fill(),void 0!==this.targetX&&void 0!==this.targetY&&a.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=t)},_drawCircle:function(t,n,i,o,s,r,a){var l=this._getContext(s,r,a);l.beginPath(),l.arc(n,i,o,0,2*e.PI,!1),void 0!==this.targetX&&void 0!==this.targetY&&l.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=t),void 0!==s&&l.stroke(),void 0!==r&&l.fill()},_drawPieSlice:function(t,e,n,i,o,s,r,a){var l=this._getContext(r,a);l.beginPath(),l.moveTo(e,n),l.arc(e,n,i,o,s,!1),l.lineTo(e,n),l.closePath(),void 0!==r&&l.stroke(),a&&l.fill(),void 0!==this.targetX&&void 0!==this.targetY&&l.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=t)},_drawRect:function(t,e,n,i,o,s,r){return this._drawShape(t,[[e,n],[e+i,n],[e+i,n+o],[e,n+o],[e,n]],s,r)},appendShape:function(t){return this.shapes[t.id]=t,this.shapeseq.push(t.id),this.lastShapeId=t.id,t.id},replaceWithShape:function(t,e){var n,i=this.shapeseq;for(this.shapes[e.id]=e,n=i.length;n--;)i[n]==t&&(i[n]=e.id);delete this.shapes[t]},replaceWithShapes:function(t,e){var n,i,o,s=this.shapeseq,r={};for(i=t.length;i--;)r[t[i]]=!0;for(i=s.length;i--;)r[n=s[i]]&&(s.splice(i,1),delete this.shapes[n],o=i);for(i=e.length;i--;)s.splice(o,0,e[i].id),this.shapes[e[i].id]=e[i]},insertAfterShape:function(t,e){var n,i=this.shapeseq;for(n=i.length;n--;)if(i[n]===t)return i.splice(n+1,0,e.id),void(this.shapes[e.id]=e)},removeShapeId:function(t){var e,n=this.shapeseq;for(e=n.length;e--;)if(n[e]===t){n.splice(e,1);break}delete this.shapes[t]},getShapeAt:function(t,e,n){return this.targetX=e,this.targetY=n,this.render(),this.currentTargetShapeId},render:function(){var t,e,n=this.shapeseq,i=this.shapes,o=n.length;for(this._getContext().clearRect(0,0,this.pixelWidth,this.pixelHeight),e=0;e<o;e++)this["_draw"+(t=i[n[e]]).type].apply(this,t.args);this.interact||(this.shapes={},this.shapeseq=[])}}),A=o(E,{init:function(e,i,o){A._super.init.call(this,e,i,o),o[0]&&(o=o[0]),n.data(o,"_jqs_vcanvas",this),this.canvas=t.createElement("span"),n(this.canvas).css({display:"inline-block",position:"relative",overflow:"hidden",width:e,height:i,margin:"0px",padding:"0px",verticalAlign:"top"}),this._insert(this.canvas,o),this._calculatePixelDims(e,i,this.canvas),this.canvas.width=this.pixelWidth,this.canvas.height=this.pixelHeight,this.canvas.insertAdjacentHTML("beforeEnd",'<v:group coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'" style="position:absolute;top:0;left:0;width:'+this.pixelWidth+"px;height="+this.pixelHeight+'px;"></v:group>'),this.group=n(this.canvas).children()[0],this.rendered=!1,this.prerender=""},_drawShape:function(t,e,n,i,o){var s,r,a,l,c=[];for(l=0,a=e.length;l<a;l++)c[l]=e[l][0]+","+e[l][1];return s=c.splice(0,1),o=void 0===o?1:o,r=c[0]===c[c.length-1]?"x ":"",'<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'"  id="jqsshape'+t+'" '+(void 0===n?' stroked="false" ':' strokeWeight="'+o+'px" strokeColor="'+n+'" ')+(void 0===i?' filled="false"':' fillColor="'+i+'" filled="true" ')+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;"  path="m '+s+" l "+c.join(", ")+" "+r+'e"> </v:shape>'},_drawCircle:function(t,e,n,i,o,s,r){return'<v:oval  id="jqsshape'+t+'" '+(void 0===o?' stroked="false" ':' strokeWeight="'+r+'px" strokeColor="'+o+'" ')+(void 0===s?' filled="false"':' fillColor="'+s+'" filled="true" ')+' style="position:absolute;top:'+(n-=i)+"px; left:"+(e-=i)+"px; width:"+2*i+"px; height:"+2*i+'px"></v:oval>'},_drawPieSlice:function(t,n,i,o,s,r,a,l){var c,u,h,d;if(s===r)return"";if(r-s==2*e.PI&&(s=0,r=2*e.PI),c=n+e.round(e.cos(s)*o),u=i+e.round(e.sin(s)*o),h=n+e.round(e.cos(r)*o),d=i+e.round(e.sin(r)*o),c===h&&u===d){if(r-s<e.PI)return"";c=h=n+o,u=d=i}return c===h&&u===d&&r-s<e.PI?"":'<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'"  id="jqsshape'+t+'" '+(void 0===a?' stroked="false" ':' strokeWeight="1px" strokeColor="'+a+'" ')+(void 0===l?' filled="false"':' fillColor="'+l+'" filled="true" ')+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;"  path="m '+n+","+i+" wa "+[n-o,i-o,n+o,i+o,c,u,h,d].join(", ")+' x e"> </v:shape>'},_drawRect:function(t,e,n,i,o,s,r){return this._drawShape(t,[[e,n],[e,n+o],[e+i,n+o],[e+i,n],[e,n]],s,r)},reset:function(){this.group.innerHTML=""},appendShape:function(t){var e=this["_draw"+t.type].apply(this,t.args);return this.rendered?this.group.insertAdjacentHTML("beforeEnd",e):this.prerender+=e,this.lastShapeId=t.id,t.id},replaceWithShape:function(t,e){var i=n("#jqsshape"+t),o=this["_draw"+e.type].apply(this,e.args);i[0].outerHTML=o},replaceWithShapes:function(t,e){var i,o=n("#jqsshape"+t[0]),s="",r=e.length;for(i=0;i<r;i++)s+=this["_draw"+e[i].type].apply(this,e[i].args);for(o[0].outerHTML=s,i=1;i<t.length;i++)n("#jqsshape"+t[i]).remove()},insertAfterShape:function(t,e){var i=n("#jqsshape"+t),o=this["_draw"+e.type].apply(this,e.args);i[0].insertAdjacentHTML("afterEnd",o)},removeShapeId:function(t){var e=n("#jqsshape"+t);this.group.removeChild(e[0])},getShapeAt:function(t,e,n){return t.id.substr(8)},render:function(){this.rendered||(this.group.innerHTML=this.prerender,this.rendered=!0)}})},"function"==typeof define&&define.amd?define(["jquery"],i):jQuery&&!jQuery.fn.sparkline&&i(jQuery)}(document,Math),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){"use strict";var e={},n=Math.max,i=Math.min;e.c={},e.c.d=t(document),e.c.t=function(t){return t.originalEvent.touches.length-1},e.o=function(){var n=this;this.o=null,this.$=null,this.i=null,this.g=null,this.v=null,this.cv=null,this.x=0,this.y=0,this.w=0,this.h=0,this.$c=null,this.c=null,this.t=0,this.isInit=!1,this.fgColor=null,this.pColor=null,this.dH=null,this.cH=null,this.eH=null,this.rH=null,this.scale=1,this.relative=!1,this.relativeWidth=!1,this.relativeHeight=!1,this.$div=null,this.run=function(){var e=function(t,e){var i;for(i in e)n.o[i]=e[i];n._carve().init(),n._configure()._draw()};if(!this.$.data("kontroled")){if(this.$.data("kontroled",!0),this.extend(),this.o=t.extend({min:void 0!==this.$.data("min")?this.$.data("min"):0,max:void 0!==this.$.data("max")?this.$.data("max"):100,stopper:!0,readOnly:this.$.data("readonly")||"readonly"===this.$.attr("readonly"),cursor:(!0===this.$.data("cursor")?30:this.$.data("cursor"))||0,thickness:this.$.data("thickness")&&Math.max(Math.min(this.$.data("thickness"),1),.01)||.35,lineCap:this.$.data("linecap")||"butt",width:this.$.data("width")||200,height:this.$.data("height")||200,displayInput:null==this.$.data("displayinput")||this.$.data("displayinput"),displayPrevious:this.$.data("displayprevious"),fgColor:this.$.data("fgcolor")||"#87CEEB",inputColor:this.$.data("inputcolor"),font:this.$.data("font")||"Arial",fontWeight:this.$.data("font-weight")||"bold",inline:!1,step:this.$.data("step")||1,rotation:this.$.data("rotation"),draw:null,change:null,cancel:null,release:null,format:function(t){return t},parse:function(t){return parseFloat(t)}},this.o),this.o.flip="anticlockwise"===this.o.rotation||"acw"===this.o.rotation,this.o.inputColor||(this.o.inputColor=this.o.fgColor),this.$.is("fieldset")?(this.v={},this.i=this.$.find("input"),this.i.each(function(e){var i=t(this);n.i[e]=i,n.v[e]=n.o.parse(i.val()),i.bind("change blur",function(){var t={};t[e]=i.val(),n.val(n._validate(t))})}),this.$.find("legend").remove()):(this.i=this.$,this.v=this.o.parse(this.$.val()),""===this.v&&(this.v=this.o.min),this.$.bind("change blur",function(){n.val(n._validate(n.o.parse(n.$.val())))})),!this.o.displayInput&&this.$.hide(),this.$c=t(document.createElement("canvas")).attr({width:this.o.width,height:this.o.height}),this.$div=t('<div style="'+(this.o.inline?"display:inline;":"")+"width:"+this.o.width+"px;height:"+this.o.height+'px;"></div>'),this.$.wrap(this.$div).before(this.$c),this.$div=this.$.parent(),"undefined"!=typeof G_vmlCanvasManager&&G_vmlCanvasManager.initElement(this.$c[0]),this.c=this.$c[0].getContext?this.$c[0].getContext("2d"):null,!this.c)throw{name:"CanvasNotSupportedException",message:"Canvas not supported. Please use excanvas on IE8.0.",toString:function(){return this.name+": "+this.message}};return this.scale=(window.devicePixelRatio||1)/(this.c.webkitBackingStorePixelRatio||this.c.mozBackingStorePixelRatio||this.c.msBackingStorePixelRatio||this.c.oBackingStorePixelRatio||this.c.backingStorePixelRatio||1),this.relativeWidth=this.o.width%1!=0&&this.o.width.indexOf("%"),this.relativeHeight=this.o.height%1!=0&&this.o.height.indexOf("%"),this.relative=this.relativeWidth||this.relativeHeight,this._carve(),this.v instanceof Object?(this.cv={},this.copy(this.v,this.cv)):this.cv=this.v,this.$.bind("configure",e).parent().bind("configure",e),this._listen()._configure()._xy().init(),this.isInit=!0,this.$.val(this.o.format(this.v)),this._draw(),this}},this._carve=function(){if(this.relative){var t=this.relativeWidth?this.$div.parent().width()*parseInt(this.o.width)/100:this.$div.parent().width(),e=this.relativeHeight?this.$div.parent().height()*parseInt(this.o.height)/100:this.$div.parent().height();this.w=this.h=Math.min(t,e)}else this.w=this.o.width,this.h=this.o.height;return this.$div.css({width:this.w+"px",height:this.h+"px"}),this.$c.attr({width:this.w,height:this.h}),1!==this.scale&&(this.$c[0].width=this.$c[0].width*this.scale,this.$c[0].height=this.$c[0].height*this.scale,this.$c.width(this.w),this.$c.height(this.h)),this},this._draw=function(){var t=!0;n.g=n.c,n.clear(),n.dH&&(t=n.dH()),!1!==t&&n.draw()},this._touch=function(t){var i=function(t){var e=n.xy2val(t.originalEvent.touches[n.t].pageX,t.originalEvent.touches[n.t].pageY);e!=n.cv&&(n.cH&&!1===n.cH(e)||(n.change(n._validate(e)),n._draw()))};return this.t=e.c.t(t),i(t),e.c.d.bind("touchmove.k",i).bind("touchend.k",function(){e.c.d.unbind("touchmove.k touchend.k"),n.val(n.cv)}),this},this._mouse=function(t){var i=function(t){var e=n.xy2val(t.pageX,t.pageY);e!=n.cv&&(n.cH&&!1===n.cH(e)||(n.change(n._validate(e)),n._draw()))};return i(t),e.c.d.bind("mousemove.k",i).bind("keyup.k",function(t){if(27===t.keyCode){if(e.c.d.unbind("mouseup.k mousemove.k keyup.k"),n.eH&&!1===n.eH())return;n.cancel()}}).bind("mouseup.k",function(t){e.c.d.unbind("mousemove.k mouseup.k keyup.k"),n.val(n.cv)}),this},this._xy=function(){var t=this.$c.offset();return this.x=t.left,this.y=t.top,this},this._listen=function(){return this.o.readOnly?this.$.attr("readonly","readonly"):(this.$c.bind("mousedown",function(t){t.preventDefault(),n._xy()._mouse(t)}).bind("touchstart",function(t){t.preventDefault(),n._xy()._touch(t)}),this.listen()),this.relative&&t(window).resize(function(){n._carve().init(),n._draw()}),this},this._configure=function(){return this.o.draw&&(this.dH=this.o.draw),this.o.change&&(this.cH=this.o.change),this.o.cancel&&(this.eH=this.o.cancel),this.o.release&&(this.rH=this.o.release),this.o.displayPrevious?(this.pColor=this.h2rgba(this.o.fgColor,"0.4"),this.fgColor=this.h2rgba(this.o.fgColor,"0.6")):this.fgColor=this.o.fgColor,this},this._clear=function(){this.$c[0].width=this.$c[0].width},this._validate=function(t){return Math.round(~~((t<0?-.5:.5)+t/this.o.step)*this.o.step*100)/100},this.listen=function(){},this.extend=function(){},this.init=function(){},this.change=function(t){},this.val=function(t){},this.xy2val=function(t,e){},this.draw=function(){},this.clear=function(){this._clear()},this.h2rgba=function(t,e){var n;return t=t.substring(1,7),"rgba("+(n=[parseInt(t.substring(0,2),16),parseInt(t.substring(2,4),16),parseInt(t.substring(4,6),16)])[0]+","+n[1]+","+n[2]+","+e+")"},this.copy=function(t,e){for(var n in t)e[n]=t[n]}},e.Dial=function(){e.o.call(this),this.startAngle=null,this.xy=null,this.radius=null,this.lineWidth=null,this.cursorExt=null,this.w2=null,this.PI2=2*Math.PI,this.extend=function(){this.o=t.extend({bgColor:this.$.data("bgcolor")||"#EEEEEE",angleOffset:this.$.data("angleoffset")||0,angleArc:this.$.data("anglearc")||360,inline:!0},this.o)},this.val=function(t,e){if(null==t)return this.v;t=this.o.parse(t),!1!==e&&t!=this.v&&this.rH&&!1===this.rH(t)||(this.cv=this.o.stopper?n(i(t,this.o.max),this.o.min):t,this.v=this.cv,this.$.val(this.o.format(this.v)),this._draw())},this.xy2val=function(t,e){var o,s;return o=Math.atan2(t-(this.x+this.w2),-(e-this.y-this.w2))-this.angleOffset,this.o.flip&&(o=this.angleArc-o-this.PI2),this.angleArc!=this.PI2&&o<0&&o>-.5?o=0:o<0&&(o+=this.PI2),s=o*(this.o.max-this.o.min)/this.angleArc+this.o.min,this.o.stopper&&(s=n(i(s,this.o.max),this.o.min)),s},this.listen=function(){var e,o,s,r,a=this,l=function(t){t.preventDefault();var s=t.originalEvent,r=s.detail||s.wheelDeltaX,l=s.detail||s.wheelDeltaY,c=a._validate(a.o.parse(a.$.val()))+(r>0||l>0?a.o.step:r<0||l<0?-a.o.step:0);c=n(i(c,a.o.max),a.o.min),a.val(c,!1),a.rH&&(clearTimeout(e),e=setTimeout(function(){a.rH(c),e=null},100),o||(o=setTimeout(function(){e&&a.rH(c),o=null},200)))},c=1,u={37:-a.o.step,38:a.o.step,39:a.o.step,40:-a.o.step};this.$.bind("keydown",function(e){var o=e.keyCode;if(o>=96&&o<=105&&(o=e.keyCode=o-48),s=parseInt(String.fromCharCode(o)),isNaN(s)&&(13!==o&&8!==o&&9!==o&&189!==o&&(190!==o||a.$.val().match(/\./))&&e.preventDefault(),t.inArray(o,[37,38,39,40])>-1)){e.preventDefault();var l=a.o.parse(a.$.val())+u[o]*c;a.o.stopper&&(l=n(i(l,a.o.max),a.o.min)),a.change(a._validate(l)),a._draw(),r=window.setTimeout(function(){c*=2},30)}}).bind("keyup",function(t){isNaN(s)?r&&(window.clearTimeout(r),r=null,c=1,a.val(a.$.val())):a.$.val()>a.o.max&&a.$.val(a.o.max)||a.$.val()<a.o.min&&a.$.val(a.o.min)}),this.$c.bind("mousewheel DOMMouseScroll",l),this.$.bind("mousewheel DOMMouseScroll",l)},this.init=function(){(this.v<this.o.min||this.v>this.o.max)&&(this.v=this.o.min),this.$.val(this.v),this.w2=this.w/2,this.cursorExt=this.o.cursor/100,this.xy=this.w2*this.scale,this.lineWidth=this.xy*this.o.thickness,this.lineCap=this.o.lineCap,this.radius=this.xy-this.lineWidth/2,this.o.angleOffset&&(this.o.angleOffset=isNaN(this.o.angleOffset)?0:this.o.angleOffset),this.o.angleArc&&(this.o.angleArc=isNaN(this.o.angleArc)?this.PI2:this.o.angleArc),this.angleOffset=this.o.angleOffset*Math.PI/180,this.angleArc=this.o.angleArc*Math.PI/180,this.startAngle=1.5*Math.PI+this.angleOffset,this.endAngle=1.5*Math.PI+this.angleOffset+this.angleArc;var t=n(String(Math.abs(this.o.max)).length,String(Math.abs(this.o.min)).length,2)+2;this.o.displayInput&&this.i.css({width:(this.w/2+4>>0)+"px",height:(this.w/3>>0)+"px",position:"absolute","vertical-align":"middle","margin-top":(this.w/3>>0)+"px","margin-left":"-"+(3*this.w/4+2>>0)+"px",border:0,background:"none",font:this.o.fontWeight+" "+(this.w/t>>0)+"px "+this.o.font,"text-align":"center",color:this.o.inputColor||this.o.fgColor,padding:"0px","-webkit-appearance":"none"})||this.i.css({width:"0px",visibility:"hidden"})},this.change=function(t){this.cv=t,this.$.val(this.o.format(t))},this.angle=function(t){return(t-this.o.min)*this.angleArc/(this.o.max-this.o.min)},this.arc=function(t){var e,n;return t=this.angle(t),n=this.o.flip?(e=this.endAngle+1e-5)-t-1e-5:(e=this.startAngle-1e-5)+t+1e-5,this.o.cursor&&(e=n-this.cursorExt)&&(n+=this.cursorExt),{s:e,e:n,d:this.o.flip&&!this.o.cursor}},this.draw=function(){var t,e=this.g,n=this.arc(this.cv),i=1;e.lineWidth=this.lineWidth,e.lineCap=this.lineCap,"none"!==this.o.bgColor&&(e.beginPath(),e.strokeStyle=this.o.bgColor,e.arc(this.xy,this.xy,this.radius,this.endAngle-1e-5,this.startAngle+1e-5,!0),e.stroke()),this.o.displayPrevious&&(t=this.arc(this.v),e.beginPath(),e.strokeStyle=this.pColor,e.arc(this.xy,this.xy,this.radius,t.s,t.e,t.d),e.stroke(),i=this.cv==this.v),e.beginPath(),e.strokeStyle=i?this.o.fgColor:this.fgColor,e.arc(this.xy,this.xy,this.radius,n.s,n.e,n.d),e.stroke()},this.cancel=function(){this.val(this.v)}},t.fn.dial=t.fn.knob=function(n){return this.each(function(){var i=new e.Dial;i.o=n,i.$=t(this),i.run()}).parent()}}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.moment=e()}(this,function(){"use strict";var t,e;function n(){return t.apply(null,arguments)}function i(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function o(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function s(t){return void 0===t}function r(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function a(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function l(t,e){var n,i=[];for(n=0;n<t.length;++n)i.push(e(t[n],n));return i}function c(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function u(t,e){for(var n in e)c(e,n)&&(t[n]=e[n]);return c(e,"toString")&&(t.toString=e.toString),c(e,"valueOf")&&(t.valueOf=e.valueOf),t}function h(t,e,n,i){return Te(t,e,n,i,!0).utc()}function d(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),t._pf}function f(t){if(null==t._isValid){var n=d(t),i=e.call(n.parsedDateParts,function(t){return null!=t}),o=!isNaN(t._d.getTime())&&n.overflow<0&&!n.empty&&!n.invalidMonth&&!n.invalidWeekday&&!n.weekdayMismatch&&!n.nullInput&&!n.invalidFormat&&!n.userInvalidated&&(!n.meridiem||n.meridiem&&i);if(t._strict&&(o=o&&0===n.charsLeftOver&&0===n.unusedTokens.length&&void 0===n.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return o;t._isValid=o}return t._isValid}function p(t){var e=h(NaN);return null!=t?u(d(e),t):d(e).userInvalidated=!0,e}e=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),n=e.length>>>0,i=0;i<n;i++)if(i in e&&t.call(this,e[i],i,e))return!0;return!1};var g=n.momentProperties=[];function m(t,e){var n,i,o;if(s(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),s(e._i)||(t._i=e._i),s(e._f)||(t._f=e._f),s(e._l)||(t._l=e._l),s(e._strict)||(t._strict=e._strict),s(e._tzm)||(t._tzm=e._tzm),s(e._isUTC)||(t._isUTC=e._isUTC),s(e._offset)||(t._offset=e._offset),s(e._pf)||(t._pf=d(e)),s(e._locale)||(t._locale=e._locale),g.length>0)for(n=0;n<g.length;n++)s(o=e[i=g[n]])||(t[i]=o);return t}var v=!1;function y(t){m(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===v&&(v=!0,n.updateOffset(this),v=!1)}function b(t){return t instanceof y||null!=t&&null!=t._isAMomentObject}function w(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function _(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=w(e)),n}function x(t,e,n){var i,o=Math.min(t.length,e.length),s=Math.abs(t.length-e.length),r=0;for(i=0;i<o;i++)(n&&t[i]!==e[i]||!n&&_(t[i])!==_(e[i]))&&r++;return r+s}function C(t){!1===n.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function k(t,e){var i=!0;return u(function(){if(null!=n.deprecationHandler&&n.deprecationHandler(null,t),i){for(var o,s=[],r=0;r<arguments.length;r++){if(o="","object"==typeof arguments[r]){for(var a in o+="\n["+r+"] ",arguments[0])o+=a+": "+arguments[0][a]+", ";o=o.slice(0,-2)}else o=arguments[r];s.push(o)}C(t+"\nArguments: "+Array.prototype.slice.call(s).join("")+"\n"+(new Error).stack),i=!1}return e.apply(this,arguments)},e)}var S,T={};function D(t,e){null!=n.deprecationHandler&&n.deprecationHandler(t,e),T[t]||(C(e),T[t]=!0)}function O(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function E(t,e){var n,i=u({},t);for(n in e)c(e,n)&&(o(t[n])&&o(e[n])?(i[n]={},u(i[n],t[n]),u(i[n],e[n])):null!=e[n]?i[n]=e[n]:delete i[n]);for(n in t)c(t,n)&&!c(e,n)&&o(t[n])&&(i[n]=u({},i[n]));return i}function N(t){null!=t&&this.set(t)}n.suppressDeprecationWarnings=!1,n.deprecationHandler=null,S=Object.keys?Object.keys:function(t){var e,n=[];for(e in t)c(t,e)&&n.push(e);return n};var A={};function M(t,e){var n=t.toLowerCase();A[n]=A[n+"s"]=A[e]=t}function P(t){return"string"==typeof t?A[t]||A[t.toLowerCase()]:void 0}function I(t){var e,n,i={};for(n in t)c(t,n)&&(e=P(n))&&(i[e]=t[n]);return i}var R={};function L(t,e){R[t]=e}function j(t,e,n){var i=""+Math.abs(t);return(t>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,e-i.length)).toString().substr(1)+i}var H=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,B=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,q={},F={};function $(t,e,n,i){var o=i;"string"==typeof i&&(o=function(){return this[i]()}),t&&(F[t]=o),e&&(F[e[0]]=function(){return j(o.apply(this,arguments),e[1],e[2])}),n&&(F[n]=function(){return this.localeData().ordinal(o.apply(this,arguments),t)})}function z(t,e){return t.isValid()?(e=W(e,t.localeData()),q[e]=q[e]||function(t){var e,n,i,o=t.match(H);for(e=0,n=o.length;e<n;e++)o[e]=F[o[e]]?F[o[e]]:(i=o[e]).match(/\[[\s\S]/)?i.replace(/^\[|\]$/g,""):i.replace(/\\/g,"");return function(e){var i,s="";for(i=0;i<n;i++)s+=O(o[i])?o[i].call(e,t):o[i];return s}}(e),q[e](t)):t.localeData().invalidDate()}function W(t,e){var n=5;function i(t){return e.longDateFormat(t)||t}for(B.lastIndex=0;n>=0&&B.test(t);)t=t.replace(B,i),B.lastIndex=0,n-=1;return t}var Y=/\d/,U=/\d\d/,V=/\d{3}/,G=/\d{4}/,K=/[+-]?\d{6}/,X=/\d\d?/,Z=/\d\d\d\d?/,Q=/\d\d\d\d\d\d?/,J=/\d{1,3}/,tt=/\d{1,4}/,et=/[+-]?\d{1,6}/,nt=/\d+/,it=/[+-]?\d+/,ot=/Z|[+-]\d\d:?\d\d/gi,st=/Z|[+-]\d\d(?::?\d\d)?/gi,rt=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,at={};function lt(t,e,n){at[t]=O(e)?e:function(t,i){return t&&n?n:e}}function ct(t,e){return c(at,t)?at[t](e._strict,e._locale):new RegExp(ut(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,i,o){return e||n||i||o})))}function ut(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var ht={};function dt(t,e){var n,i=e;for("string"==typeof t&&(t=[t]),r(e)&&(i=function(t,n){n[e]=_(t)}),n=0;n<t.length;n++)ht[t[n]]=i}function ft(t,e){dt(t,function(t,n,i,o){i._w=i._w||{},e(t,i._w,i,o)})}function pt(t,e,n){null!=e&&c(ht,t)&&ht[t](e,n._a,n,t)}var gt=0,mt=1,vt=2,yt=3,bt=4,wt=5,_t=6,xt=7,Ct=8;function kt(t){return St(t)?366:365}function St(t){return t%4==0&&t%100!=0||t%400==0}$("Y",0,0,function(){var t=this.year();return t<=9999?""+t:"+"+t}),$(0,["YY",2],0,function(){return this.year()%100}),$(0,["YYYY",4],0,"year"),$(0,["YYYYY",5],0,"year"),$(0,["YYYYYY",6,!0],0,"year"),M("year","y"),L("year",1),lt("Y",it),lt("YY",X,U),lt("YYYY",tt,G),lt("YYYYY",et,K),lt("YYYYYY",et,K),dt(["YYYYY","YYYYYY"],gt),dt("YYYY",function(t,e){e[gt]=2===t.length?n.parseTwoDigitYear(t):_(t)}),dt("YY",function(t,e){e[gt]=n.parseTwoDigitYear(t)}),dt("Y",function(t,e){e[gt]=parseInt(t,10)}),n.parseTwoDigitYear=function(t){return _(t)+(_(t)>68?1900:2e3)};var Tt,Dt=Ot("FullYear",!0);function Ot(t,e){return function(i){return null!=i?(Nt(this,t,i),n.updateOffset(this,e),this):Et(this,t)}}function Et(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function Nt(t,e,n){t.isValid()&&!isNaN(n)&&("FullYear"===e&&St(t.year())&&1===t.month()&&29===t.date()?t._d["set"+(t._isUTC?"UTC":"")+e](n,t.month(),At(n,t.month())):t._d["set"+(t._isUTC?"UTC":"")+e](n))}function At(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=(e%12+12)%12;return t+=(e-n)/12,1===n?St(t)?29:28:31-n%7%2}Tt=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},$("M",["MM",2],"Mo",function(){return this.month()+1}),$("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),$("MMMM",0,0,function(t){return this.localeData().months(this,t)}),M("month","M"),L("month",8),lt("M",X),lt("MM",X,U),lt("MMM",function(t,e){return e.monthsShortRegex(t)}),lt("MMMM",function(t,e){return e.monthsRegex(t)}),dt(["M","MM"],function(t,e){e[mt]=_(t)-1}),dt(["MMM","MMMM"],function(t,e,n,i){var o=n._locale.monthsParse(t,i,n._strict);null!=o?e[mt]=o:d(n).invalidMonth=t});var Mt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Pt="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),It="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function Rt(t,e){var n;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=_(e);else if(!r(e=t.localeData().monthsParse(e)))return t;return n=Math.min(t.date(),At(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function Lt(t){return null!=t?(Rt(this,t),n.updateOffset(this,!0),this):Et(this,"Month")}var jt=rt,Ht=rt;function Bt(){function t(t,e){return e.length-t.length}var e,n,i=[],o=[],s=[];for(e=0;e<12;e++)n=h([2e3,e]),i.push(this.monthsShort(n,"")),o.push(this.months(n,"")),s.push(this.months(n,"")),s.push(this.monthsShort(n,""));for(i.sort(t),o.sort(t),s.sort(t),e=0;e<12;e++)i[e]=ut(i[e]),o[e]=ut(o[e]);for(e=0;e<24;e++)s[e]=ut(s[e]);this._monthsRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function qt(t){var e=new Date(Date.UTC.apply(null,arguments));return t<100&&t>=0&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function Ft(t,e,n){var i=7+e-n;return-(7+qt(t,0,i).getUTCDay()-e)%7+i-1}function $t(t,e,n,i,o){var s,r,a=1+7*(e-1)+(7+n-i)%7+Ft(t,i,o);return a<=0?r=kt(s=t-1)+a:a>kt(t)?(s=t+1,r=a-kt(t)):(s=t,r=a),{year:s,dayOfYear:r}}function zt(t,e,n){var i,o,s=Ft(t.year(),e,n),r=Math.floor((t.dayOfYear()-s-1)/7)+1;return r<1?i=r+Wt(o=t.year()-1,e,n):r>Wt(t.year(),e,n)?(i=r-Wt(t.year(),e,n),o=t.year()+1):(o=t.year(),i=r),{week:i,year:o}}function Wt(t,e,n){var i=Ft(t,e,n),o=Ft(t+1,e,n);return(kt(t)-i+o)/7}$("w",["ww",2],"wo","week"),$("W",["WW",2],"Wo","isoWeek"),M("week","w"),M("isoWeek","W"),L("week",5),L("isoWeek",5),lt("w",X),lt("ww",X,U),lt("W",X),lt("WW",X,U),ft(["w","ww","W","WW"],function(t,e,n,i){e[i.substr(0,1)]=_(t)}),$("d",0,"do","day"),$("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),$("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),$("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),$("e",0,0,"weekday"),$("E",0,0,"isoWeekday"),M("day","d"),M("weekday","e"),M("isoWeekday","E"),L("day",11),L("weekday",11),L("isoWeekday",11),lt("d",X),lt("e",X),lt("E",X),lt("dd",function(t,e){return e.weekdaysMinRegex(t)}),lt("ddd",function(t,e){return e.weekdaysShortRegex(t)}),lt("dddd",function(t,e){return e.weekdaysRegex(t)}),ft(["dd","ddd","dddd"],function(t,e,n,i){var o=n._locale.weekdaysParse(t,i,n._strict);null!=o?e.d=o:d(n).invalidWeekday=t}),ft(["d","e","E"],function(t,e,n,i){e[i]=_(t)});var Yt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ut="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Vt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Gt=rt,Kt=rt,Xt=rt;function Zt(){function t(t,e){return e.length-t.length}var e,n,i,o,s,r=[],a=[],l=[],c=[];for(e=0;e<7;e++)n=h([2e3,1]).day(e),i=this.weekdaysMin(n,""),o=this.weekdaysShort(n,""),s=this.weekdays(n,""),r.push(i),a.push(o),l.push(s),c.push(i),c.push(o),c.push(s);for(r.sort(t),a.sort(t),l.sort(t),c.sort(t),e=0;e<7;e++)a[e]=ut(a[e]),l[e]=ut(l[e]),c[e]=ut(c[e]);this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+r.join("|")+")","i")}function Qt(){return this.hours()%12||12}function Jt(t,e){$(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function te(t,e){return e._meridiemParse}$("H",["HH",2],0,"hour"),$("h",["hh",2],0,Qt),$("k",["kk",2],0,function(){return this.hours()||24}),$("hmm",0,0,function(){return""+Qt.apply(this)+j(this.minutes(),2)}),$("hmmss",0,0,function(){return""+Qt.apply(this)+j(this.minutes(),2)+j(this.seconds(),2)}),$("Hmm",0,0,function(){return""+this.hours()+j(this.minutes(),2)}),$("Hmmss",0,0,function(){return""+this.hours()+j(this.minutes(),2)+j(this.seconds(),2)}),Jt("a",!0),Jt("A",!1),M("hour","h"),L("hour",13),lt("a",te),lt("A",te),lt("H",X),lt("h",X),lt("k",X),lt("HH",X,U),lt("hh",X,U),lt("kk",X,U),lt("hmm",Z),lt("hmmss",Q),lt("Hmm",Z),lt("Hmmss",Q),dt(["H","HH"],yt),dt(["k","kk"],function(t,e,n){var i=_(t);e[yt]=24===i?0:i}),dt(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t}),dt(["h","hh"],function(t,e,n){e[yt]=_(t),d(n).bigHour=!0}),dt("hmm",function(t,e,n){var i=t.length-2;e[yt]=_(t.substr(0,i)),e[bt]=_(t.substr(i)),d(n).bigHour=!0}),dt("hmmss",function(t,e,n){var i=t.length-4,o=t.length-2;e[yt]=_(t.substr(0,i)),e[bt]=_(t.substr(i,2)),e[wt]=_(t.substr(o)),d(n).bigHour=!0}),dt("Hmm",function(t,e,n){var i=t.length-2;e[yt]=_(t.substr(0,i)),e[bt]=_(t.substr(i))}),dt("Hmmss",function(t,e,n){var i=t.length-4,o=t.length-2;e[yt]=_(t.substr(0,i)),e[bt]=_(t.substr(i,2)),e[wt]=_(t.substr(o))});var ee,ne=Ot("Hours",!0),ie={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Pt,monthsShort:It,week:{dow:0,doy:6},weekdays:Yt,weekdaysMin:Vt,weekdaysShort:Ut,meridiemParse:/[ap]\.?m?\.?/i},oe={},se={};function re(t){return t?t.toLowerCase().replace("_","-"):t}function ae(t){var e=null;if(!oe[t]&&"undefined"!=typeof module&&module&&module.exports)try{e=ee._abbr,require("./locale/"+t),le(e)}catch(t){}return oe[t]}function le(t,e){var n;return t&&(n=s(e)?ue(t):ce(t,e))&&(ee=n),ee._abbr}function ce(t,e){if(null!==e){var n=ie;if(e.abbr=t,null!=oe[t])D("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=oe[t]._config;else if(null!=e.parentLocale){if(null==oe[e.parentLocale])return se[e.parentLocale]||(se[e.parentLocale]=[]),se[e.parentLocale].push({name:t,config:e}),null;n=oe[e.parentLocale]._config}return oe[t]=new N(E(n,e)),se[t]&&se[t].forEach(function(t){ce(t.name,t.config)}),le(t),oe[t]}return delete oe[t],null}function ue(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return ee;if(!i(t)){if(e=ae(t))return e;t=[t]}return function(t){for(var e,n,i,o,s=0;s<t.length;){for(e=(o=re(t[s]).split("-")).length,n=(n=re(t[s+1]))?n.split("-"):null;e>0;){if(i=ae(o.slice(0,e).join("-")))return i;if(n&&n.length>=e&&x(o,n,!0)>=e-1)break;e--}s++}return null}(t)}function he(t){var e,n=t._a;return n&&-2===d(t).overflow&&(e=n[mt]<0||n[mt]>11?mt:n[vt]<1||n[vt]>At(n[gt],n[mt])?vt:n[yt]<0||n[yt]>24||24===n[yt]&&(0!==n[bt]||0!==n[wt]||0!==n[_t])?yt:n[bt]<0||n[bt]>59?bt:n[wt]<0||n[wt]>59?wt:n[_t]<0||n[_t]>999?_t:-1,d(t)._overflowDayOfYear&&(e<gt||e>vt)&&(e=vt),d(t)._overflowWeeks&&-1===e&&(e=xt),d(t)._overflowWeekday&&-1===e&&(e=Ct),d(t).overflow=e),t}function de(t,e,n){return null!=t?t:null!=e?e:n}function fe(t){var e,i,o,s,r,a=[];if(!t._d){for(o=function(t){var e=new Date(n.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}(t),t._w&&null==t._a[vt]&&null==t._a[mt]&&function(t){var e,n,i,o,s,r,a,l;if(null!=(e=t._w).GG||null!=e.W||null!=e.E)s=1,r=4,n=de(e.GG,t._a[gt],zt(De(),1,4).year),i=de(e.W,1),((o=de(e.E,1))<1||o>7)&&(l=!0);else{s=t._locale._week.dow,r=t._locale._week.doy;var c=zt(De(),s,r);n=de(e.gg,t._a[gt],c.year),i=de(e.w,c.week),null!=e.d?((o=e.d)<0||o>6)&&(l=!0):null!=e.e?(o=e.e+s,(e.e<0||e.e>6)&&(l=!0)):o=s}i<1||i>Wt(n,s,r)?d(t)._overflowWeeks=!0:null!=l?d(t)._overflowWeekday=!0:(a=$t(n,i,o,s,r),t._a[gt]=a.year,t._dayOfYear=a.dayOfYear)}(t),null!=t._dayOfYear&&(r=de(t._a[gt],o[gt]),(t._dayOfYear>kt(r)||0===t._dayOfYear)&&(d(t)._overflowDayOfYear=!0),i=qt(r,0,t._dayOfYear),t._a[mt]=i.getUTCMonth(),t._a[vt]=i.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=a[e]=o[e];for(;e<7;e++)t._a[e]=a[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[yt]&&0===t._a[bt]&&0===t._a[wt]&&0===t._a[_t]&&(t._nextDay=!0,t._a[yt]=0),t._d=(t._useUTC?qt:function(t,e,n,i,o,s,r){var a=new Date(t,e,n,i,o,s,r);return t<100&&t>=0&&isFinite(a.getFullYear())&&a.setFullYear(t),a}).apply(null,a),s=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[yt]=24),t._w&&"undefined"!=typeof t._w.d&&t._w.d!==s&&(d(t).weekdayMismatch=!0)}}var pe=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ge=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,me=/Z|[+-]\d\d(?::?\d\d)?/,ve=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],ye=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],be=/^\/?Date\((\-?\d+)/i;function we(t){var e,n,i,o,s,r,a=t._i,l=pe.exec(a)||ge.exec(a);if(l){for(d(t).iso=!0,e=0,n=ve.length;e<n;e++)if(ve[e][1].exec(l[1])){o=ve[e][0],i=!1!==ve[e][2];break}if(null==o)return void(t._isValid=!1);if(l[3]){for(e=0,n=ye.length;e<n;e++)if(ye[e][1].exec(l[3])){s=(l[2]||" ")+ye[e][0];break}if(null==s)return void(t._isValid=!1)}if(!i&&null!=s)return void(t._isValid=!1);if(l[4]){if(!me.exec(l[4]))return void(t._isValid=!1);r="Z"}t._f=o+(s||"")+(r||""),ke(t)}else t._isValid=!1}var _e=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,xe={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Ce(t){var e,n,i,o,s,r,a,l=_e.exec(t._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim());if(l){var c=(e=l[3],n=l[2],i=l[5],o=l[6],s=l[7],r=[(a=parseInt(l[4],10),a<=49?2e3+a:a<=999?1900+a:a),It.indexOf(e),parseInt(n,10),parseInt(i,10),parseInt(o,10)],s&&r.push(parseInt(s,10)),r);if(!function(t,e,n){return!t||Ut.indexOf(t)===new Date(e[0],e[1],e[2]).getDay()||(d(n).weekdayMismatch=!0,n._isValid=!1,!1)}(l[1],c,t))return;t._a=c,t._tzm=function(t,e,n){if(t)return xe[t];if(e)return 0;var i=parseInt(n,10),o=i%100;return(i-o)/100*60+o}(l[8],l[9],l[10]),t._d=qt.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),d(t).rfc2822=!0}else t._isValid=!1}function ke(t){if(t._f!==n.ISO_8601)if(t._f!==n.RFC_2822){t._a=[],d(t).empty=!0;var e,i,o,s,r,a=""+t._i,l=a.length,c=0;for(o=W(t._f,t._locale).match(H)||[],e=0;e<o.length;e++)(i=(a.match(ct(s=o[e],t))||[])[0])&&((r=a.substr(0,a.indexOf(i))).length>0&&d(t).unusedInput.push(r),a=a.slice(a.indexOf(i)+i.length),c+=i.length),F[s]?(i?d(t).empty=!1:d(t).unusedTokens.push(s),pt(s,i,t)):t._strict&&!i&&d(t).unusedTokens.push(s);d(t).charsLeftOver=l-c,a.length>0&&d(t).unusedInput.push(a),t._a[yt]<=12&&!0===d(t).bigHour&&t._a[yt]>0&&(d(t).bigHour=void 0),d(t).parsedDateParts=t._a.slice(0),d(t).meridiem=t._meridiem,t._a[yt]=(u=t._locale,h=t._a[yt],null==(f=t._meridiem)?h:null!=u.meridiemHour?u.meridiemHour(h,f):null!=u.isPM?((p=u.isPM(f))&&h<12&&(h+=12),p||12!==h||(h=0),h):h),fe(t),he(t)}else Ce(t);else we(t);var u,h,f,p}function Se(t){var e=t._i,c=t._f;return t._locale=t._locale||ue(t._l),null===e||void 0===c&&""===e?p({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),b(e)?new y(he(e)):(a(e)?t._d=e:i(c)?function(t){var e,n,i,o,s;if(0===t._f.length)return d(t).invalidFormat=!0,void(t._d=new Date(NaN));for(o=0;o<t._f.length;o++)s=0,e=m({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[o],ke(e),f(e)&&(s+=d(e).charsLeftOver,s+=10*d(e).unusedTokens.length,d(e).score=s,(null==i||s<i)&&(i=s,n=e));u(t,n||e)}(t):c?ke(t):function(t){var e=t._i;s(e)?t._d=new Date(n.now()):a(e)?t._d=new Date(e.valueOf()):"string"==typeof e?function(t){var e=be.exec(t._i);null===e?(we(t),!1===t._isValid&&(delete t._isValid,Ce(t),!1===t._isValid&&(delete t._isValid,n.createFromInputFallback(t)))):t._d=new Date(+e[1])}(t):i(e)?(t._a=l(e.slice(0),function(t){return parseInt(t,10)}),fe(t)):o(e)?function(t){if(!t._d){var e=I(t._i);t._a=l([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),fe(t)}}(t):r(e)?t._d=new Date(e):n.createFromInputFallback(t)}(t),f(t)||(t._d=null),t))}function Te(t,e,n,s,r){var a,l={};return!0!==n&&!1!==n||(s=n,n=void 0),(o(t)&&function(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;var e;for(e in t)if(t.hasOwnProperty(e))return!1;return!0}(t)||i(t)&&0===t.length)&&(t=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=r,l._l=n,l._i=t,l._f=e,l._strict=s,(a=new y(he(Se(l))))._nextDay&&(a.add(1,"d"),a._nextDay=void 0),a}function De(t,e,n,i){return Te(t,e,n,i,!1)}n.createFromInputFallback=k("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),n.ISO_8601=function(){},n.RFC_2822=function(){};var Oe=k("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=De.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:p()}),Ee=k("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=De.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:p()});function Ne(t,e){var n,o;if(1===e.length&&i(e[0])&&(e=e[0]),!e.length)return De();for(n=e[0],o=1;o<e.length;++o)e[o].isValid()&&!e[o][t](n)||(n=e[o]);return n}var Ae=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Me(t){var e=I(t),n=e.year||0,i=e.quarter||0,o=e.month||0,s=e.week||0,r=e.day||0,a=e.hour||0,l=e.minute||0,c=e.second||0,u=e.millisecond||0;this._isValid=function(t){for(var e in t)if(-1===Tt.call(Ae,e)||null!=t[e]&&isNaN(t[e]))return!1;for(var n=!1,i=0;i<Ae.length;++i)if(t[Ae[i]]){if(n)return!1;parseFloat(t[Ae[i]])!==_(t[Ae[i]])&&(n=!0)}return!0}(e),this._milliseconds=+u+1e3*c+6e4*l+1e3*a*60*60,this._days=+r+7*s,this._months=+o+3*i+12*n,this._data={},this._locale=ue(),this._bubble()}function Pe(t){return t instanceof Me}function Ie(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function Re(t,e){$(t,0,0,function(){var t=this.utcOffset(),n="+";return t<0&&(t=-t,n="-"),n+j(~~(t/60),2)+e+j(~~t%60,2)})}Re("Z",":"),Re("ZZ",""),lt("Z",st),lt("ZZ",st),dt(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=je(st,t)});var Le=/([\+\-]|\d\d)/gi;function je(t,e){var n=(e||"").match(t);if(null===n)return null;var i=((n[n.length-1]||[])+"").match(Le)||["-",0,0],o=60*i[1]+_(i[2]);return 0===o?0:"+"===i[0]?o:-o}function He(t,e){var i,o;return e._isUTC?(i=e.clone(),o=(b(t)||a(t)?t.valueOf():De(t).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+o),n.updateOffset(i,!1),i):De(t).local()}function Be(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function qe(){return!!this.isValid()&&this._isUTC&&0===this._offset}n.updateOffset=function(){};var Fe=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,$e=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function ze(t,e){var n,i,o,s,a,l,u=t,h=null;return Pe(t)?u={ms:t._milliseconds,d:t._days,M:t._months}:r(t)?(u={},e?u[e]=t:u.milliseconds=t):(h=Fe.exec(t))?(n="-"===h[1]?-1:1,u={y:0,d:_(h[vt])*n,h:_(h[yt])*n,m:_(h[bt])*n,s:_(h[wt])*n,ms:_(Ie(1e3*h[_t]))*n}):(h=$e.exec(t))?u={y:We(h[2],n="-"===h[1]?-1:1),M:We(h[3],n),w:We(h[4],n),d:We(h[5],n),h:We(h[6],n),m:We(h[7],n),s:We(h[8],n)}:null==u?u={}:"object"==typeof u&&("from"in u||"to"in u)&&(s=De(u.from),a=De(u.to),o=s.isValid()&&a.isValid()?(a=He(a,s),s.isBefore(a)?l=Ye(s,a):((l=Ye(a,s)).milliseconds=-l.milliseconds,l.months=-l.months),l):{milliseconds:0,months:0},(u={}).ms=o.milliseconds,u.M=o.months),i=new Me(u),Pe(t)&&c(t,"_locale")&&(i._locale=t._locale),i}function We(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function Ye(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function Ue(t,e){return function(n,i){var o;return null===i||isNaN(+i)||(D(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=i,i=o),Ve(this,ze(n="string"==typeof n?+n:n,i),t),this}}function Ve(t,e,i,o){var s=e._milliseconds,r=Ie(e._days),a=Ie(e._months);t.isValid()&&(o=null==o||o,a&&Rt(t,Et(t,"Month")+a*i),r&&Nt(t,"Date",Et(t,"Date")+r*i),s&&t._d.setTime(t._d.valueOf()+s*i),o&&n.updateOffset(t,r||a))}ze.fn=Me.prototype,ze.invalid=function(){return ze(NaN)};var Ge=Ue(1,"add"),Ke=Ue(-1,"subtract");function Xe(t,e){var n=12*(e.year()-t.year())+(e.month()-t.month()),i=t.clone().add(n,"months");return-(n+(e-i<0?(e-i)/(i-t.clone().add(n-1,"months")):(e-i)/(t.clone().add(n+1,"months")-i)))||0}function Ze(t){var e;return void 0===t?this._locale._abbr:(null!=(e=ue(t))&&(this._locale=e),this)}n.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",n.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Qe=k("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});function Je(){return this._locale}function tn(t,e){$(0,[t,t.length],0,e)}function en(t,e,n,i,o){var s;return null==t?zt(this,i,o).year:(e>(s=Wt(t,i,o))&&(e=s),(function(t,e,n,i,o){var s=$t(t,e,n,i,o),r=qt(s.year,0,s.dayOfYear);return this.year(r.getUTCFullYear()),this.month(r.getUTCMonth()),this.date(r.getUTCDate()),this}).call(this,t,e,n,i,o))}$(0,["gg",2],0,function(){return this.weekYear()%100}),$(0,["GG",2],0,function(){return this.isoWeekYear()%100}),tn("gggg","weekYear"),tn("ggggg","weekYear"),tn("GGGG","isoWeekYear"),tn("GGGGG","isoWeekYear"),M("weekYear","gg"),M("isoWeekYear","GG"),L("weekYear",1),L("isoWeekYear",1),lt("G",it),lt("g",it),lt("GG",X,U),lt("gg",X,U),lt("GGGG",tt,G),lt("gggg",tt,G),lt("GGGGG",et,K),lt("ggggg",et,K),ft(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,i){e[i.substr(0,2)]=_(t)}),ft(["gg","GG"],function(t,e,i,o){e[o]=n.parseTwoDigitYear(t)}),$("Q",0,"Qo","quarter"),M("quarter","Q"),L("quarter",7),lt("Q",Y),dt("Q",function(t,e){e[mt]=3*(_(t)-1)}),$("D",["DD",2],"Do","date"),M("date","D"),L("date",9),lt("D",X),lt("DD",X,U),lt("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient}),dt(["D","DD"],vt),dt("Do",function(t,e){e[vt]=_(t.match(X)[0])});var nn=Ot("Date",!0);$("DDD",["DDDD",3],"DDDo","dayOfYear"),M("dayOfYear","DDD"),L("dayOfYear",4),lt("DDD",J),lt("DDDD",V),dt(["DDD","DDDD"],function(t,e,n){n._dayOfYear=_(t)}),$("m",["mm",2],0,"minute"),M("minute","m"),L("minute",14),lt("m",X),lt("mm",X,U),dt(["m","mm"],bt);var on=Ot("Minutes",!1);$("s",["ss",2],0,"second"),M("second","s"),L("second",15),lt("s",X),lt("ss",X,U),dt(["s","ss"],wt);var sn,rn=Ot("Seconds",!1);for($("S",0,0,function(){return~~(this.millisecond()/100)}),$(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),$(0,["SSS",3],0,"millisecond"),$(0,["SSSS",4],0,function(){return 10*this.millisecond()}),$(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),$(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),$(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),$(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),$(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),M("millisecond","ms"),L("millisecond",16),lt("S",J,Y),lt("SS",J,U),lt("SSS",J,V),sn="SSSS";sn.length<=9;sn+="S")lt(sn,nt);function an(t,e){e[_t]=_(1e3*("0."+t))}for(sn="S";sn.length<=9;sn+="S")dt(sn,an);var ln=Ot("Milliseconds",!1);$("z",0,0,"zoneAbbr"),$("zz",0,0,"zoneName");var cn=y.prototype;function un(t){return t}cn.add=Ge,cn.calendar=function(t,e){var i=t||De(),o=He(i,this).startOf("day"),s=n.calendarFormat(this,o)||"sameElse",r=e&&(O(e[s])?e[s].call(this,i):e[s]);return this.format(r||this.localeData().calendar(s,this,De(i)))},cn.clone=function(){return new y(this)},cn.diff=function(t,e,n){var i,o,s;if(!this.isValid())return NaN;if(!(i=He(t,this)).isValid())return NaN;switch(o=6e4*(i.utcOffset()-this.utcOffset()),e=P(e)){case"year":s=Xe(this,i)/12;break;case"month":s=Xe(this,i);break;case"quarter":s=Xe(this,i)/3;break;case"second":s=(this-i)/1e3;break;case"minute":s=(this-i)/6e4;break;case"hour":s=(this-i)/36e5;break;case"day":s=(this-i-o)/864e5;break;case"week":s=(this-i-o)/6048e5;break;default:s=this-i}return n?s:w(s)},cn.endOf=function(t){return void 0===(t=P(t))||"millisecond"===t?this:("date"===t&&(t="day"),this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms"))},cn.format=function(t){t||(t=this.isUtc()?n.defaultFormatUtc:n.defaultFormat);var e=z(this,t);return this.localeData().postformat(e)},cn.from=function(t,e){return this.isValid()&&(b(t)&&t.isValid()||De(t).isValid())?ze({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},cn.fromNow=function(t){return this.from(De(),t)},cn.to=function(t,e){return this.isValid()&&(b(t)&&t.isValid()||De(t).isValid())?ze({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},cn.toNow=function(t){return this.to(De(),t)},cn.get=function(t){return O(this[t=P(t)])?this[t]():this},cn.invalidAt=function(){return d(this).overflow},cn.isAfter=function(t,e){var n=b(t)?t:De(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=P(s(e)?"millisecond":e))?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf())},cn.isBefore=function(t,e){var n=b(t)?t:De(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=P(s(e)?"millisecond":e))?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf())},cn.isBetween=function(t,e,n,i){return("("===(i=i||"()")[0]?this.isAfter(t,n):!this.isBefore(t,n))&&(")"===i[1]?this.isBefore(e,n):!this.isAfter(e,n))},cn.isSame=function(t,e){var n,i=b(t)?t:De(t);return!(!this.isValid()||!i.isValid())&&("millisecond"===(e=P(e||"millisecond"))?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf()))},cn.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)},cn.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)},cn.isValid=function(){return f(this)},cn.lang=Qe,cn.locale=Ze,cn.localeData=Je,cn.max=Ee,cn.min=Oe,cn.parsingFlags=function(){return u({},d(this))},cn.set=function(t,e){if("object"==typeof t)for(var n=function(t){var e=[];for(var n in t)e.push({unit:n,priority:R[n]});return e.sort(function(t,e){return t.priority-e.priority}),e}(t=I(t)),i=0;i<n.length;i++)this[n[i].unit](t[n[i].unit]);else if(O(this[t=P(t)]))return this[t](e);return this},cn.startOf=function(t){switch(t=P(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this},cn.subtract=Ke,cn.toArray=function(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]},cn.toObject=function(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}},cn.toDate=function(){return new Date(this.valueOf())},cn.toISOString=function(){if(!this.isValid())return null;var t=this.clone().utc();return t.year()<0||t.year()>9999?z(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):O(Date.prototype.toISOString)?this.toDate().toISOString():z(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},cn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="";this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z");var n="["+t+'("]',i=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY";return this.format(n+i+"-MM-DD[T]HH:mm:ss.SSS"+e+'[")]')},cn.toJSON=function(){return this.isValid()?this.toISOString():null},cn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},cn.unix=function(){return Math.floor(this.valueOf()/1e3)},cn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},cn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},cn.year=Dt,cn.isLeapYear=function(){return St(this.year())},cn.weekYear=function(t){return en.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},cn.isoWeekYear=function(t){return en.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)},cn.quarter=cn.quarters=function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},cn.month=Lt,cn.daysInMonth=function(){return At(this.year(),this.month())},cn.week=cn.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},cn.isoWeek=cn.isoWeeks=function(t){var e=zt(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},cn.weeksInYear=function(){var t=this.localeData()._week;return Wt(this.year(),t.dow,t.doy)},cn.isoWeeksInYear=function(){return Wt(this.year(),1,4)},cn.date=nn,cn.day=cn.days=function(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=function(t,e){return"string"!=typeof t?t:isNaN(t)?"number"==typeof(t=e.weekdaysParse(t))?t:null:parseInt(t,10)}(t,this.localeData()),this.add(t-e,"d")):e},cn.weekday=function(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},cn.isoWeekday=function(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=function(t,e){return"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7},cn.dayOfYear=function(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},cn.hour=cn.hours=ne,cn.minute=cn.minutes=on,cn.second=cn.seconds=rn,cn.millisecond=cn.milliseconds=ln,cn.utcOffset=function(t,e,i){var o,s=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(null===(t=je(st,t)))return this}else Math.abs(t)<16&&!i&&(t*=60);return!this._isUTC&&e&&(o=Be(this)),this._offset=t,this._isUTC=!0,null!=o&&this.add(o,"m"),s!==t&&(!e||this._changeInProgress?Ve(this,ze(t-s,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,n.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?s:Be(this)},cn.utc=function(t){return this.utcOffset(0,t)},cn.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Be(this),"m")),this},cn.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var t=je(ot,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this},cn.hasAlignedHourOffset=function(t){return!!this.isValid()&&(t=t?De(t).utcOffset():0,(this.utcOffset()-t)%60==0)},cn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},cn.isLocal=function(){return!!this.isValid()&&!this._isUTC},cn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},cn.isUtc=qe,cn.isUTC=qe,cn.zoneAbbr=function(){return this._isUTC?"UTC":""},cn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},cn.dates=k("dates accessor is deprecated. Use date instead.",nn),cn.months=k("months accessor is deprecated. Use month instead",Lt),cn.years=k("years accessor is deprecated. Use year instead",Dt),cn.zone=k("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}),cn.isDSTShifted=k("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!s(this._isDSTShifted))return this._isDSTShifted;var t={};if(m(t,this),(t=Se(t))._a){var e=t._isUTC?h(t._a):De(t._a);this._isDSTShifted=this.isValid()&&x(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted});var hn=N.prototype;function dn(t,e,n,i){var o=ue(),s=h().set(i,e);return o[n](s,t)}function fn(t,e,n){if(r(t)&&(e=t,t=void 0),t=t||"",null!=e)return dn(t,e,n,"month");var i,o=[];for(i=0;i<12;i++)o[i]=dn(t,i,n,"month");return o}function pn(t,e,n,i){"boolean"==typeof t?(r(e)&&(n=e,e=void 0),e=e||""):(n=e=t,t=!1,r(e)&&(n=e,e=void 0),e=e||"");var o,s=ue(),a=t?s._week.dow:0;if(null!=n)return dn(e,(n+a)%7,i,"day");var l=[];for(o=0;o<7;o++)l[o]=dn(e,(o+a)%7,i,"day");return l}hn.calendar=function(t,e,n){var i=this._calendar[t]||this._calendar.sameElse;return O(i)?i.call(e,n):i},hn.longDateFormat=function(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])},hn.invalidDate=function(){return this._invalidDate},hn.ordinal=function(t){return this._ordinal.replace("%d",t)},hn.preparse=un,hn.postformat=un,hn.relativeTime=function(t,e,n,i){var o=this._relativeTime[n];return O(o)?o(t,e,n,i):o.replace(/%d/i,t)},hn.pastFuture=function(t,e){var n=this._relativeTime[t>0?"future":"past"];return O(n)?n(e):n.replace(/%s/i,e)},hn.set=function(t){var e,n;for(n in t)O(e=t[n])?this[n]=e:this["_"+n]=e;this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},hn.months=function(t,e){return t?i(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||Mt).test(e)?"format":"standalone"][t.month()]:i(this._months)?this._months:this._months.standalone},hn.monthsShort=function(t,e){return t?i(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[Mt.test(e)?"format":"standalone"][t.month()]:i(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},hn.monthsParse=function(t,e,n){var i,o,s;if(this._monthsParseExact)return(function(t,e,n){var i,o,s,r=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)s=h([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(s,"").toLocaleLowerCase();return n?"MMM"===e?-1!==(o=Tt.call(this._shortMonthsParse,r))?o:null:-1!==(o=Tt.call(this._longMonthsParse,r))?o:null:"MMM"===e?-1!==(o=Tt.call(this._shortMonthsParse,r))?o:-1!==(o=Tt.call(this._longMonthsParse,r))?o:null:-1!==(o=Tt.call(this._longMonthsParse,r))?o:-1!==(o=Tt.call(this._shortMonthsParse,r))?o:null}).call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(o=h([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(s="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[i]=new RegExp(s.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[i].test(t))return i;if(n&&"MMM"===e&&this._shortMonthsParse[i].test(t))return i;if(!n&&this._monthsParse[i].test(t))return i}},hn.monthsRegex=function(t){return this._monthsParseExact?(c(this,"_monthsRegex")||Bt.call(this),t?this._monthsStrictRegex:this._monthsRegex):(c(this,"_monthsRegex")||(this._monthsRegex=Ht),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)},hn.monthsShortRegex=function(t){return this._monthsParseExact?(c(this,"_monthsRegex")||Bt.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(c(this,"_monthsShortRegex")||(this._monthsShortRegex=jt),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)},hn.week=function(t){return zt(t,this._week.dow,this._week.doy).week},hn.firstDayOfYear=function(){return this._week.doy},hn.firstDayOfWeek=function(){return this._week.dow},hn.weekdays=function(t,e){return t?i(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"][t.day()]:i(this._weekdays)?this._weekdays:this._weekdays.standalone},hn.weekdaysMin=function(t){return t?this._weekdaysMin[t.day()]:this._weekdaysMin},hn.weekdaysShort=function(t){return t?this._weekdaysShort[t.day()]:this._weekdaysShort},hn.weekdaysParse=function(t,e,n){var i,o,s;if(this._weekdaysParseExact)return(function(t,e,n){var i,o,s,r=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)s=h([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(s,"").toLocaleLowerCase();return n?"dddd"===e?-1!==(o=Tt.call(this._weekdaysParse,r))?o:null:"ddd"===e?-1!==(o=Tt.call(this._shortWeekdaysParse,r))?o:null:-1!==(o=Tt.call(this._minWeekdaysParse,r))?o:null:"dddd"===e?-1!==(o=Tt.call(this._weekdaysParse,r))?o:-1!==(o=Tt.call(this._shortWeekdaysParse,r))?o:-1!==(o=Tt.call(this._minWeekdaysParse,r))?o:null:"ddd"===e?-1!==(o=Tt.call(this._shortWeekdaysParse,r))?o:-1!==(o=Tt.call(this._weekdaysParse,r))?o:-1!==(o=Tt.call(this._minWeekdaysParse,r))?o:null:-1!==(o=Tt.call(this._minWeekdaysParse,r))?o:-1!==(o=Tt.call(this._weekdaysParse,r))?o:-1!==(o=Tt.call(this._shortWeekdaysParse,r))?o:null}).call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(o=h([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(o,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(o,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(o,"").replace(".",".?")+"$","i")),this._weekdaysParse[i]||(s="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[i]=new RegExp(s.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[i].test(t))return i;if(n&&"ddd"===e&&this._shortWeekdaysParse[i].test(t))return i;if(n&&"dd"===e&&this._minWeekdaysParse[i].test(t))return i;if(!n&&this._weekdaysParse[i].test(t))return i}},hn.weekdaysRegex=function(t){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||Zt.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(c(this,"_weekdaysRegex")||(this._weekdaysRegex=Gt),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)},hn.weekdaysShortRegex=function(t){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||Zt.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(c(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Kt),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},hn.weekdaysMinRegex=function(t){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||Zt.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(c(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Xt),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},hn.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},hn.meridiem=function(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"},le("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===_(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),n.lang=k("moment.lang is deprecated. Use moment.locale instead.",le),n.langData=k("moment.langData is deprecated. Use moment.localeData instead.",ue);var gn=Math.abs;function mn(t,e,n,i){var o=ze(e,n);return t._milliseconds+=i*o._milliseconds,t._days+=i*o._days,t._months+=i*o._months,t._bubble()}function vn(t){return t<0?Math.floor(t):Math.ceil(t)}function yn(t){return 4800*t/146097}function bn(t){return 146097*t/4800}function wn(t){return function(){return this.as(t)}}var _n=wn("ms"),xn=wn("s"),Cn=wn("m"),kn=wn("h"),Sn=wn("d"),Tn=wn("w"),Dn=wn("M"),On=wn("y");function En(t){return function(){return this.isValid()?this._data[t]:NaN}}var Nn=En("milliseconds"),An=En("seconds"),Mn=En("minutes"),Pn=En("hours"),In=En("days"),Rn=En("months"),Ln=En("years"),jn=Math.round,Hn={ss:44,s:45,m:45,h:22,d:26,M:11},Bn=Math.abs;function qn(t){return(t>0)-(t<0)||+t}function Fn(){if(!this.isValid())return this.localeData().invalidDate();var t,e,n=Bn(this._milliseconds)/1e3,i=Bn(this._days),o=Bn(this._months);e=w((t=w(n/60))/60),n%=60,t%=60;var s=w(o/12),r=o%=12,a=i,l=e,c=t,u=n?n.toFixed(3).replace(/\.?0+$/,""):"",h=this.asSeconds();if(!h)return"P0D";var d=h<0?"-":"",f=qn(this._months)!==qn(h)?"-":"",p=qn(this._days)!==qn(h)?"-":"",g=qn(this._milliseconds)!==qn(h)?"-":"";return d+"P"+(s?f+s+"Y":"")+(r?f+r+"M":"")+(a?p+a+"D":"")+(l||c||u?"T":"")+(l?g+l+"H":"")+(c?g+c+"M":"")+(u?g+u+"S":"")}var $n=Me.prototype;return $n.isValid=function(){return this._isValid},$n.abs=function(){var t=this._data;return this._milliseconds=gn(this._milliseconds),this._days=gn(this._days),this._months=gn(this._months),t.milliseconds=gn(t.milliseconds),t.seconds=gn(t.seconds),t.minutes=gn(t.minutes),t.hours=gn(t.hours),t.months=gn(t.months),t.years=gn(t.years),this},$n.add=function(t,e){return mn(this,t,e,1)},$n.subtract=function(t,e){return mn(this,t,e,-1)},$n.as=function(t){if(!this.isValid())return NaN;var e,n,i=this._milliseconds;if("month"===(t=P(t))||"year"===t)return n=this._months+yn(e=this._days+i/864e5),"month"===t?n:n/12;switch(e=this._days+Math.round(bn(this._months)),t){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return 24*e+i/36e5;case"minute":return 1440*e+i/6e4;case"second":return 86400*e+i/1e3;case"millisecond":return Math.floor(864e5*e)+i;default:throw new Error("Unknown unit "+t)}},$n.asMilliseconds=_n,$n.asSeconds=xn,$n.asMinutes=Cn,$n.asHours=kn,$n.asDays=Sn,$n.asWeeks=Tn,$n.asMonths=Dn,$n.asYears=On,$n.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*_(this._months/12):NaN},$n._bubble=function(){var t,e,n,i,o,s=this._milliseconds,r=this._days,a=this._months,l=this._data;return s>=0&&r>=0&&a>=0||s<=0&&r<=0&&a<=0||(s+=864e5*vn(bn(a)+r),r=0,a=0),l.milliseconds=s%1e3,t=w(s/1e3),l.seconds=t%60,e=w(t/60),l.minutes=e%60,n=w(e/60),l.hours=n%24,a+=o=w(yn(r+=w(n/24))),r-=vn(bn(o)),i=w(a/12),a%=12,l.days=r,l.months=a,l.years=i,this},$n.clone=function(){return ze(this)},$n.get=function(t){return t=P(t),this.isValid()?this[t+"s"]():NaN},$n.milliseconds=Nn,$n.seconds=An,$n.minutes=Mn,$n.hours=Pn,$n.days=In,$n.weeks=function(){return w(this.days()/7)},$n.months=Rn,$n.years=Ln,$n.humanize=function(t){if(!this.isValid())return this.localeData().invalidDate();var e=this.localeData(),n=function(t,e,n){var i=ze(t).abs(),o=jn(i.as("s")),s=jn(i.as("m")),r=jn(i.as("h")),a=jn(i.as("d")),l=jn(i.as("M")),c=jn(i.as("y")),u=o<=Hn.ss&&["s",o]||o<Hn.s&&["ss",o]||s<=1&&["m"]||s<Hn.m&&["mm",s]||r<=1&&["h"]||r<Hn.h&&["hh",r]||a<=1&&["d"]||a<Hn.d&&["dd",a]||l<=1&&["M"]||l<Hn.M&&["MM",l]||c<=1&&["y"]||["yy",c];return u[2]=e,u[3]=+t>0,u[4]=n,(function(t,e,n,i,o){return o.relativeTime(e||1,!!n,t,i)}).apply(null,u)}(this,!t,e);return t&&(n=e.pastFuture(+this,n)),e.postformat(n)},$n.toISOString=Fn,$n.toString=Fn,$n.toJSON=Fn,$n.locale=Ze,$n.localeData=Je,$n.toIsoString=k("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Fn),$n.lang=Qe,$("X",0,0,"unix"),$("x",0,0,"valueOf"),lt("x",it),lt("X",/[+-]?\d+(\.\d{1,3})?/),dt("X",function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))}),dt("x",function(t,e,n){n._d=new Date(_(t))}),n.version="2.19.4",t=De,n.fn=cn,n.min=function(){return Ne("isBefore",[].slice.call(arguments,0))},n.max=function(){return Ne("isAfter",[].slice.call(arguments,0))},n.now=function(){return Date.now?Date.now():+new Date},n.utc=h,n.unix=function(t){return De(1e3*t)},n.months=function(t,e){return fn(t,e,"months")},n.isDate=a,n.locale=le,n.invalid=p,n.duration=ze,n.isMoment=b,n.weekdays=function(t,e,n){return pn(t,e,n,"weekdays")},n.parseZone=function(){return De.apply(null,arguments).parseZone()},n.localeData=ue,n.isDuration=Pe,n.monthsShort=function(t,e){return fn(t,e,"monthsShort")},n.weekdaysMin=function(t,e,n){return pn(t,e,n,"weekdaysMin")},n.defineLocale=ce,n.updateLocale=function(t,e){if(null!=e){var n,i,o=ie;null!=(i=ae(t))&&(o=i._config),(n=new N(e=E(o,e))).parentLocale=oe[t],oe[t]=n,le(t)}else null!=oe[t]&&(null!=oe[t].parentLocale?oe[t]=oe[t].parentLocale:null!=oe[t]&&delete oe[t]);return oe[t]},n.locales=function(){return S(oe)},n.weekdaysShort=function(t,e,n){return pn(t,e,n,"weekdaysShort")},n.normalizeUnits=P,n.relativeTimeRounding=function(t){return void 0===t?jn:"function"==typeof t&&(jn=t,!0)},n.relativeTimeThreshold=function(t,e){return void 0!==Hn[t]&&(void 0===e?Hn[t]:(Hn[t]=e,"s"===t&&(Hn.ss=e-1),!0))},n.calendarFormat=function(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},n.prototype=cn,n}),function(t,e){if("function"==typeof define&&define.amd)define(["moment","jquery"],function(t,n){return n.fn||(n.fn={}),e(t,n)});else if("object"==typeof module&&module.exports){var n="undefined"!=typeof window?window.jQuery:void 0;n||(n=require("jquery")).fn||(n.fn={});var i="undefined"!=typeof window&&"undefined"!=typeof window.moment?window.moment:require("moment");module.exports=e(i,n)}else t.daterangepicker=e(t.moment,t.jQuery)}(this,function(t,e){var n=function(n,i,o){var s,r,a;if(this.parentEl="body",this.element=e(n),this.startDate=t().startOf("day"),this.endDate=t().endOf("day"),this.minDate=!1,this.maxDate=!1,this.dateLimit=!1,this.autoApply=!1,this.singleDatePicker=!1,this.showDropdowns=!1,this.showWeekNumbers=!1,this.showISOWeekNumbers=!1,this.showCustomRangeLabel=!0,this.timePicker=!1,this.timePicker24Hour=!1,this.timePickerIncrement=1,this.timePickerSeconds=!1,this.linkedCalendars=!0,this.autoUpdateInput=!0,this.alwaysShowCalendars=!1,this.ranges={},this.opens="right",this.element.hasClass("pull-right")&&(this.opens="left"),this.drops="down",this.element.hasClass("dropup")&&(this.drops="up"),this.buttonClasses="btn btn-sm",this.applyClass="btn-success",this.cancelClass="btn-default",this.locale={direction:"ltr",format:t.localeData().longDateFormat("L"),separator:" - ",applyLabel:"Apply",cancelLabel:"Cancel",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:t.weekdaysMin(),monthNames:t.monthsShort(),firstDay:t.localeData().firstDayOfWeek()},this.callback=function(){},this.isShowing=!1,this.leftCalendar={},this.rightCalendar={},"object"==typeof i&&null!==i||(i={}),"string"==typeof(i=e.extend(this.element.data(),i)).template||i.template instanceof e||(i.template='<div class="daterangepicker dropdown-menu"><div class="calendar left"><div class="daterangepicker_input"><input class="input-mini form-control" type="text" name="daterangepicker_start" value="" /><i class="fa fa-calendar glyphicon glyphicon-calendar"></i><div class="calendar-time"><div></div><i class="fa fa-clock-o glyphicon glyphicon-time"></i></div></div><div class="calendar-table"></div></div><div class="calendar right"><div class="daterangepicker_input"><input class="input-mini form-control" type="text" name="daterangepicker_end" value="" /><i class="fa fa-calendar glyphicon glyphicon-calendar"></i><div class="calendar-time"><div></div><i class="fa fa-clock-o glyphicon glyphicon-time"></i></div></div><div class="calendar-table"></div></div><div class="ranges"><div class="range_inputs"><button class="applyBtn" disabled="disabled" type="button"></button> <button class="cancelBtn" type="button"></button></div></div></div>'),this.parentEl=i.parentEl&&e(i.parentEl).length?e(i.parentEl):e(this.parentEl),this.container=e(i.template).appendTo(this.parentEl),"object"==typeof i.locale&&("string"==typeof i.locale.direction&&(this.locale.direction=i.locale.direction),"string"==typeof i.locale.format&&(this.locale.format=i.locale.format),"string"==typeof i.locale.separator&&(this.locale.separator=i.locale.separator),"object"==typeof i.locale.daysOfWeek&&(this.locale.daysOfWeek=i.locale.daysOfWeek.slice()),"object"==typeof i.locale.monthNames&&(this.locale.monthNames=i.locale.monthNames.slice()),"number"==typeof i.locale.firstDay&&(this.locale.firstDay=i.locale.firstDay),"string"==typeof i.locale.applyLabel&&(this.locale.applyLabel=i.locale.applyLabel),"string"==typeof i.locale.cancelLabel&&(this.locale.cancelLabel=i.locale.cancelLabel),"string"==typeof i.locale.weekLabel&&(this.locale.weekLabel=i.locale.weekLabel),"string"==typeof i.locale.customRangeLabel&&((h=document.createElement("textarea")).innerHTML=i.locale.customRangeLabel,this.locale.customRangeLabel=h.value)),this.container.addClass(this.locale.direction),"string"==typeof i.startDate&&(this.startDate=t(i.startDate,this.locale.format)),"string"==typeof i.endDate&&(this.endDate=t(i.endDate,this.locale.format)),"string"==typeof i.minDate&&(this.minDate=t(i.minDate,this.locale.format)),"string"==typeof i.maxDate&&(this.maxDate=t(i.maxDate,this.locale.format)),"object"==typeof i.startDate&&(this.startDate=t(i.startDate)),"object"==typeof i.endDate&&(this.endDate=t(i.endDate)),"object"==typeof i.minDate&&(this.minDate=t(i.minDate)),"object"==typeof i.maxDate&&(this.maxDate=t(i.maxDate)),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),"string"==typeof i.applyClass&&(this.applyClass=i.applyClass),"string"==typeof i.cancelClass&&(this.cancelClass=i.cancelClass),"object"==typeof i.dateLimit&&(this.dateLimit=i.dateLimit),"string"==typeof i.opens&&(this.opens=i.opens),"string"==typeof i.drops&&(this.drops=i.drops),"boolean"==typeof i.showWeekNumbers&&(this.showWeekNumbers=i.showWeekNumbers),"boolean"==typeof i.showISOWeekNumbers&&(this.showISOWeekNumbers=i.showISOWeekNumbers),"string"==typeof i.buttonClasses&&(this.buttonClasses=i.buttonClasses),"object"==typeof i.buttonClasses&&(this.buttonClasses=i.buttonClasses.join(" ")),"boolean"==typeof i.showDropdowns&&(this.showDropdowns=i.showDropdowns),"boolean"==typeof i.showCustomRangeLabel&&(this.showCustomRangeLabel=i.showCustomRangeLabel),"boolean"==typeof i.singleDatePicker&&(this.singleDatePicker=i.singleDatePicker,this.singleDatePicker&&(this.endDate=this.startDate.clone())),"boolean"==typeof i.timePicker&&(this.timePicker=i.timePicker),"boolean"==typeof i.timePickerSeconds&&(this.timePickerSeconds=i.timePickerSeconds),"number"==typeof i.timePickerIncrement&&(this.timePickerIncrement=i.timePickerIncrement),"boolean"==typeof i.timePicker24Hour&&(this.timePicker24Hour=i.timePicker24Hour),"boolean"==typeof i.autoApply&&(this.autoApply=i.autoApply),"boolean"==typeof i.autoUpdateInput&&(this.autoUpdateInput=i.autoUpdateInput),"boolean"==typeof i.linkedCalendars&&(this.linkedCalendars=i.linkedCalendars),"function"==typeof i.isInvalidDate&&(this.isInvalidDate=i.isInvalidDate),"function"==typeof i.isCustomDate&&(this.isCustomDate=i.isCustomDate),"boolean"==typeof i.alwaysShowCalendars&&(this.alwaysShowCalendars=i.alwaysShowCalendars),0!=this.locale.firstDay)for(var l=this.locale.firstDay;l>0;)this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift()),l--;if("undefined"==typeof i.startDate&&"undefined"==typeof i.endDate&&e(this.element).is("input[type=text]")){var c=e(this.element).val(),u=c.split(this.locale.separator);s=r=null,2==u.length?(s=t(u[0],this.locale.format),r=t(u[1],this.locale.format)):this.singleDatePicker&&""!==c&&(s=t(c,this.locale.format),r=t(c,this.locale.format)),null!==s&&null!==r&&(this.setStartDate(s),this.setEndDate(r))}if("object"==typeof i.ranges){for(a in i.ranges){s="string"==typeof i.ranges[a][0]?t(i.ranges[a][0],this.locale.format):t(i.ranges[a][0]),r="string"==typeof i.ranges[a][1]?t(i.ranges[a][1],this.locale.format):t(i.ranges[a][1]),this.minDate&&s.isBefore(this.minDate)&&(s=this.minDate.clone());var h,d=this.maxDate;this.dateLimit&&d&&s.clone().add(this.dateLimit).isAfter(d)&&(d=s.clone().add(this.dateLimit)),d&&r.isAfter(d)&&(r=d.clone()),this.minDate&&r.isBefore(this.minDate,this.timepicker?"minute":"day")||d&&s.isAfter(d,this.timepicker?"minute":"day")||((h=document.createElement("textarea")).innerHTML=a,this.ranges[h.value]=[s,r])}var f="<ul>";for(a in this.ranges)f+='<li data-range-key="'+a+'">'+a+"</li>";this.showCustomRangeLabel&&(f+='<li data-range-key="'+this.locale.customRangeLabel+'">'+this.locale.customRangeLabel+"</li>"),f+="</ul>",this.container.find(".ranges").prepend(f)}"function"==typeof o&&(this.callback=o),this.timePicker||(this.startDate=this.startDate.startOf("day"),this.endDate=this.endDate.endOf("day"),this.container.find(".calendar-time").hide()),this.timePicker&&this.autoApply&&(this.autoApply=!1),this.autoApply&&"object"!=typeof i.ranges?this.container.find(".ranges").hide():this.autoApply&&this.container.find(".applyBtn, .cancelBtn").addClass("hide"),this.singleDatePicker&&(this.container.addClass("single"),this.container.find(".calendar.left").addClass("single"),this.container.find(".calendar.left").show(),this.container.find(".calendar.right").hide(),this.container.find(".daterangepicker_input input, .daterangepicker_input > i").hide(),this.timePicker?this.container.find(".ranges ul").hide():this.container.find(".ranges").hide()),("undefined"==typeof i.ranges&&!this.singleDatePicker||this.alwaysShowCalendars)&&this.container.addClass("show-calendar"),this.container.addClass("opens"+this.opens),"undefined"!=typeof i.ranges&&"right"==this.opens&&this.container.find(".ranges").prependTo(this.container.find(".calendar.left").parent()),this.container.find(".applyBtn, .cancelBtn").addClass(this.buttonClasses),this.applyClass.length&&this.container.find(".applyBtn").addClass(this.applyClass),this.cancelClass.length&&this.container.find(".cancelBtn").addClass(this.cancelClass),this.container.find(".applyBtn").html(this.locale.applyLabel),this.container.find(".cancelBtn").html(this.locale.cancelLabel),this.container.find(".calendar").on("click.daterangepicker",".prev",e.proxy(this.clickPrev,this)).on("click.daterangepicker",".next",e.proxy(this.clickNext,this)).on("mousedown.daterangepicker","td.available",e.proxy(this.clickDate,this)).on("mouseenter.daterangepicker","td.available",e.proxy(this.hoverDate,this)).on("mouseleave.daterangepicker","td.available",e.proxy(this.updateFormInputs,this)).on("change.daterangepicker","select.yearselect",e.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.monthselect",e.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.hourselect,select.minuteselect,select.secondselect,select.ampmselect",e.proxy(this.timeChanged,this)).on("click.daterangepicker",".daterangepicker_input input",e.proxy(this.showCalendars,this)).on("focus.daterangepicker",".daterangepicker_input input",e.proxy(this.formInputsFocused,this)).on("blur.daterangepicker",".daterangepicker_input input",e.proxy(this.formInputsBlurred,this)).on("change.daterangepicker",".daterangepicker_input input",e.proxy(this.formInputsChanged,this)).on("keydown.daterangepicker",".daterangepicker_input input",e.proxy(this.formInputsKeydown,this)),this.container.find(".ranges").on("click.daterangepicker","button.applyBtn",e.proxy(this.clickApply,this)).on("click.daterangepicker","button.cancelBtn",e.proxy(this.clickCancel,this)).on("click.daterangepicker","li",e.proxy(this.clickRange,this)).on("mouseenter.daterangepicker","li",e.proxy(this.hoverRange,this)).on("mouseleave.daterangepicker","li",e.proxy(this.updateFormInputs,this)),this.element.is("input")||this.element.is("button")?this.element.on({"click.daterangepicker":e.proxy(this.show,this),"focus.daterangepicker":e.proxy(this.show,this),"keyup.daterangepicker":e.proxy(this.elementChanged,this),"keydown.daterangepicker":e.proxy(this.keydown,this)}):(this.element.on("click.daterangepicker",e.proxy(this.toggle,this)),this.element.on("keydown.daterangepicker",e.proxy(this.toggle,this))),this.element.is("input")&&!this.singleDatePicker&&this.autoUpdateInput?(this.element.val(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.element.trigger("change")):this.element.is("input")&&this.autoUpdateInput&&(this.element.val(this.startDate.format(this.locale.format)),this.element.trigger("change"))};return n.prototype={constructor:n,setStartDate:function(e){"string"==typeof e&&(this.startDate=t(e,this.locale.format)),"object"==typeof e&&(this.startDate=t(e)),this.timePicker||(this.startDate=this.startDate.startOf("day")),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone(),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)),this.maxDate&&this.startDate.isAfter(this.maxDate)&&(this.startDate=this.maxDate.clone(),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.floor(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)),this.isShowing||this.updateElement(),this.updateMonthsInView()},setEndDate:function(e){"string"==typeof e&&(this.endDate=t(e,this.locale.format)),"object"==typeof e&&(this.endDate=t(e)),this.timePicker||(this.endDate=this.endDate.add(1,"d").startOf("day").subtract(1,"second")),this.timePicker&&this.timePickerIncrement&&this.endDate.minute(Math.round(this.endDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.endDate.isBefore(this.startDate)&&(this.endDate=this.startDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),this.dateLimit&&this.startDate.clone().add(this.dateLimit).isBefore(this.endDate)&&(this.endDate=this.startDate.clone().add(this.dateLimit)),this.previousRightTime=this.endDate.clone(),this.isShowing||this.updateElement(),this.updateMonthsInView()},isInvalidDate:function(){return!1},isCustomDate:function(){return!1},updateView:function(){this.timePicker&&(this.renderTimePicker("left"),this.renderTimePicker("right"),this.endDate?this.container.find(".right .calendar-time select").removeAttr("disabled").removeClass("disabled"):this.container.find(".right .calendar-time select").attr("disabled","disabled").addClass("disabled")),this.endDate?(this.container.find('input[name="daterangepicker_end"]').removeClass("active"),this.container.find('input[name="daterangepicker_start"]').addClass("active")):(this.container.find('input[name="daterangepicker_end"]').addClass("active"),this.container.find('input[name="daterangepicker_start"]').removeClass("active")),this.updateMonthsInView(),this.updateCalendars(),this.updateFormInputs()},updateMonthsInView:function(){if(this.endDate){if(!this.singleDatePicker&&this.leftCalendar.month&&this.rightCalendar.month&&(this.startDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.startDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM"))&&(this.endDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.endDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM")))return;this.leftCalendar.month=this.startDate.clone().date(2),this.rightCalendar.month=this.linkedCalendars||this.endDate.month()==this.startDate.month()&&this.endDate.year()==this.startDate.year()?this.startDate.clone().date(2).add(1,"month"):this.endDate.clone().date(2)}else this.leftCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&this.rightCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&(this.leftCalendar.month=this.startDate.clone().date(2),this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"));this.maxDate&&this.linkedCalendars&&!this.singleDatePicker&&this.rightCalendar.month>this.maxDate&&(this.rightCalendar.month=this.maxDate.clone().date(2),this.leftCalendar.month=this.maxDate.clone().date(2).subtract(1,"month"))},updateCalendars:function(){var t,e,n,i;this.timePicker&&(this.endDate?(t=parseInt(this.container.find(".left .hourselect").val(),10),e=parseInt(this.container.find(".left .minuteselect").val(),10),n=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0,this.timePicker24Hour||("PM"===(i=this.container.find(".left .ampmselect").val())&&t<12&&(t+=12),"AM"===i&&12===t&&(t=0))):(t=parseInt(this.container.find(".right .hourselect").val(),10),e=parseInt(this.container.find(".right .minuteselect").val(),10),n=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0,this.timePicker24Hour||("PM"===(i=this.container.find(".right .ampmselect").val())&&t<12&&(t+=12),"AM"===i&&12===t&&(t=0))),this.leftCalendar.month.hour(t).minute(e).second(n),this.rightCalendar.month.hour(t).minute(e).second(n)),this.renderCalendar("left"),this.renderCalendar("right"),this.container.find(".ranges li").removeClass("active"),null!=this.endDate&&this.calculateChosenLabel()},renderCalendar:function(n){var i,o=(i="left"==n?this.leftCalendar:this.rightCalendar).month.month(),s=i.month.year(),r=i.month.hour(),a=i.month.minute(),l=i.month.second(),c=t([s,o]).daysInMonth(),u=t([s,o,1]),h=t([s,o,c]),d=t(u).subtract(1,"month").month(),f=t(u).subtract(1,"month").year(),p=t([f,d]).daysInMonth(),g=u.day();(i=[]).firstDay=u,i.lastDay=h;for(var m=0;m<6;m++)i[m]=[];var v=p-g+this.locale.firstDay+1;v>p&&(v-=7),g==this.locale.firstDay&&(v=p-6);for(var y=t([f,d,v,12,a,l]),b=(m=0,0),w=0;m<42;m++,b++,y=t(y).add(24,"hour"))m>0&&b%7==0&&(b=0,w++),i[w][b]=y.clone().hour(r).minute(a).second(l),y.hour(12),this.minDate&&i[w][b].format("YYYY-MM-DD")==this.minDate.format("YYYY-MM-DD")&&i[w][b].isBefore(this.minDate)&&"left"==n&&(i[w][b]=this.minDate.clone()),this.maxDate&&i[w][b].format("YYYY-MM-DD")==this.maxDate.format("YYYY-MM-DD")&&i[w][b].isAfter(this.maxDate)&&"right"==n&&(i[w][b]=this.maxDate.clone());"left"==n?this.leftCalendar.calendar=i:this.rightCalendar.calendar=i;var _="left"==n?this.minDate:this.startDate,x=this.maxDate,C="ltr"==this.locale.direction?{left:"chevron-left",right:"chevron-right"}:{left:"chevron-right",right:"chevron-left"},k='<table class="table-condensed">';k+="<thead>",k+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(k+="<th></th>"),_&&!_.isBefore(i.firstDay)||this.linkedCalendars&&"left"!=n?k+="<th></th>":k+='<th class="prev available"><i class="fa fa-'+C.left+" glyphicon glyphicon-"+C.left+'"></i></th>';var S=this.locale.monthNames[i[1][1].month()]+i[1][1].format(" YYYY");if(this.showDropdowns){for(var T=i[1][1].month(),D=i[1][1].year(),O=x&&x.year()||D+5,E=_&&_.year()||D-50,N=D==E,A=D==O,M='<select class="monthselect">',P=0;P<12;P++)(!N||P>=_.month())&&(!A||P<=x.month())?M+="<option value='"+P+"'"+(P===T?" selected='selected'":"")+">"+this.locale.monthNames[P]+"</option>":M+="<option value='"+P+"'"+(P===T?" selected='selected'":"")+" disabled='disabled'>"+this.locale.monthNames[P]+"</option>";M+="</select>";for(var I='<select class="yearselect">',R=E;R<=O;R++)I+='<option value="'+R+'"'+(R===D?' selected="selected"':"")+">"+R+"</option>";S=M+(I+="</select>")}if(k+='<th colspan="5" class="month">'+S+"</th>",x&&!x.isAfter(i.lastDay)||this.linkedCalendars&&"right"!=n&&!this.singleDatePicker?k+="<th></th>":k+='<th class="next available"><i class="fa fa-'+C.right+" glyphicon glyphicon-"+C.right+'"></i></th>',k+="</tr>",k+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(k+='<th class="week">'+this.locale.weekLabel+"</th>"),e.each(this.locale.daysOfWeek,function(t,e){k+="<th>"+e+"</th>"}),k+="</tr>",k+="</thead>",k+="<tbody>",null==this.endDate&&this.dateLimit){var L=this.startDate.clone().add(this.dateLimit).endOf("day");x&&!L.isBefore(x)||(x=L)}for(w=0;w<6;w++){for(k+="<tr>",this.showWeekNumbers?k+='<td class="week">'+i[w][0].week()+"</td>":this.showISOWeekNumbers&&(k+='<td class="week">'+i[w][0].isoWeek()+"</td>"),b=0;b<7;b++){var j=[];i[w][b].isSame(new Date,"day")&&j.push("today"),i[w][b].isoWeekday()>5&&j.push("weekend"),i[w][b].month()!=i[1][1].month()&&j.push("off"),this.minDate&&i[w][b].isBefore(this.minDate,"day")&&j.push("off","disabled"),x&&i[w][b].isAfter(x,"day")&&j.push("off","disabled"),this.isInvalidDate(i[w][b])&&j.push("off","disabled"),i[w][b].format("YYYY-MM-DD")==this.startDate.format("YYYY-MM-DD")&&j.push("active","start-date"),null!=this.endDate&&i[w][b].format("YYYY-MM-DD")==this.endDate.format("YYYY-MM-DD")&&j.push("active","end-date"),null!=this.endDate&&i[w][b]>this.startDate&&i[w][b]<this.endDate&&j.push("in-range");var H=this.isCustomDate(i[w][b]);!1!==H&&("string"==typeof H?j.push(H):Array.prototype.push.apply(j,H));var B="",q=!1;for(m=0;m<j.length;m++)B+=j[m]+" ","disabled"==j[m]&&(q=!0);q||(B+="available"),k+='<td class="'+B.replace(/^\s+|\s+$/g,"")+'" data-title="r'+w+"c"+b+'">'+i[w][b].date()+"</td>"}k+="</tr>"}k+="</tbody>",k+="</table>",this.container.find(".calendar."+n+" .calendar-table").html(k)},renderTimePicker:function(t){if("right"!=t||this.endDate){var e,n,i,o=this.maxDate;if(!this.dateLimit||this.maxDate&&!this.startDate.clone().add(this.dateLimit).isAfter(this.maxDate)||(o=this.startDate.clone().add(this.dateLimit)),"left"==t)n=this.startDate.clone(),i=this.minDate;else if("right"==t){n=this.endDate.clone(),i=this.startDate;var s=this.container.find(".calendar.right .calendar-time div");if(""!=s.html()&&(n.hour(s.find(".hourselect option:selected").val()||n.hour()),n.minute(s.find(".minuteselect option:selected").val()||n.minute()),n.second(s.find(".secondselect option:selected").val()||n.second()),!this.timePicker24Hour)){var r=s.find(".ampmselect option:selected").val();"PM"===r&&n.hour()<12&&n.hour(n.hour()+12),"AM"===r&&12===n.hour()&&n.hour(0)}n.isBefore(this.startDate)&&(n=this.startDate.clone()),o&&n.isAfter(o)&&(n=o.clone())}e='<select class="hourselect">';for(var a=this.timePicker24Hour?23:12,l=this.timePicker24Hour?0:1;l<=a;l++){var c=l;this.timePicker24Hour||(c=n.hour()>=12?12==l?12:l+12:12==l?0:l);var u=n.clone().hour(c),h=!1;i&&u.minute(59).isBefore(i)&&(h=!0),o&&u.minute(0).isAfter(o)&&(h=!0),c!=n.hour()||h?e+=h?'<option value="'+l+'" disabled="disabled" class="disabled">'+l+"</option>":'<option value="'+l+'">'+l+"</option>":e+='<option value="'+l+'" selected="selected">'+l+"</option>"}for(e+="</select> ",e+=': <select class="minuteselect">',l=0;l<60;l+=this.timePickerIncrement){var d=l<10?"0"+l:l;u=n.clone().minute(l),h=!1,i&&u.second(59).isBefore(i)&&(h=!0),o&&u.second(0).isAfter(o)&&(h=!0),n.minute()!=l||h?e+=h?'<option value="'+l+'" disabled="disabled" class="disabled">'+d+"</option>":'<option value="'+l+'">'+d+"</option>":e+='<option value="'+l+'" selected="selected">'+d+"</option>"}if(e+="</select> ",this.timePickerSeconds){for(e+=': <select class="secondselect">',l=0;l<60;l++)d=l<10?"0"+l:l,u=n.clone().second(l),h=!1,i&&u.isBefore(i)&&(h=!0),o&&u.isAfter(o)&&(h=!0),n.second()!=l||h?e+=h?'<option value="'+l+'" disabled="disabled" class="disabled">'+d+"</option>":'<option value="'+l+'">'+d+"</option>":e+='<option value="'+l+'" selected="selected">'+d+"</option>";e+="</select> "}if(!this.timePicker24Hour){e+='<select class="ampmselect">';var f="",p="";i&&n.clone().hour(12).minute(0).second(0).isBefore(i)&&(f=' disabled="disabled" class="disabled"'),o&&n.clone().hour(0).minute(0).second(0).isAfter(o)&&(p=' disabled="disabled" class="disabled"'),n.hour()>=12?e+='<option value="AM"'+f+'>AM</option><option value="PM" selected="selected"'+p+">PM</option>":e+='<option value="AM" selected="selected"'+f+'>AM</option><option value="PM"'+p+">PM</option>",e+="</select>"}this.container.find(".calendar."+t+" .calendar-time div").html(e)}},updateFormInputs:function(){this.container.find("input[name=daterangepicker_start]").is(":focus")||this.container.find("input[name=daterangepicker_end]").is(":focus")||(this.container.find("input[name=daterangepicker_start]").val(this.startDate.format(this.locale.format)),this.endDate&&this.container.find("input[name=daterangepicker_end]").val(this.endDate.format(this.locale.format)),this.singleDatePicker||this.endDate&&(this.startDate.isBefore(this.endDate)||this.startDate.isSame(this.endDate))?this.container.find("button.applyBtn").removeAttr("disabled"):this.container.find("button.applyBtn").attr("disabled","disabled"))},move:function(){var t,n={top:0,left:0},i=e(window).width();this.parentEl.is("body")||(n={top:this.parentEl.offset().top-this.parentEl.scrollTop(),left:this.parentEl.offset().left-this.parentEl.scrollLeft()},i=this.parentEl[0].clientWidth+this.parentEl.offset().left),t="up"==this.drops?this.element.offset().top-this.container.outerHeight()-n.top:this.element.offset().top+this.element.outerHeight()-n.top,this.container["up"==this.drops?"addClass":"removeClass"]("dropup"),"left"==this.opens?(this.container.css({top:t,right:i-this.element.offset().left-this.element.outerWidth(),left:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:9})):"center"==this.opens?(this.container.css({top:t,left:this.element.offset().left-n.left+this.element.outerWidth()/2-this.container.outerWidth()/2,right:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:9})):(this.container.css({top:t,left:this.element.offset().left-n.left,right:"auto"}),this.container.offset().left+this.container.outerWidth()>e(window).width()&&this.container.css({left:"auto",right:0}))},show:function(t){this.isShowing||(this._outsideClickProxy=e.proxy(function(t){this.outsideClick(t)},this),e(document).on("mousedown.daterangepicker",this._outsideClickProxy).on("touchend.daterangepicker",this._outsideClickProxy).on("click.daterangepicker","[data-toggle=dropdown]",this._outsideClickProxy).on("focusin.daterangepicker",this._outsideClickProxy),e(window).on("resize.daterangepicker",e.proxy(function(t){this.move(t)},this)),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.previousRightTime=this.endDate.clone(),this.updateView(),this.container.show(),this.move(),this.element.trigger("show.daterangepicker",this),this.isShowing=!0)},hide:function(t){this.isShowing&&(this.endDate||(this.startDate=this.oldStartDate.clone(),this.endDate=this.oldEndDate.clone()),this.startDate.isSame(this.oldStartDate)&&this.endDate.isSame(this.oldEndDate)||this.callback(this.startDate,this.endDate,this.chosenLabel),this.updateElement(),e(document).off(".daterangepicker"),e(window).off(".daterangepicker"),this.container.hide(),this.element.trigger("hide.daterangepicker",this),this.isShowing=!1)},toggle:function(t){this.isShowing?this.hide():this.show()},outsideClick:function(t){var n=e(t.target);"focusin"==t.type||n.closest(this.element).length||n.closest(this.container).length||n.closest(".calendar-table").length||(this.hide(),this.element.trigger("outsideClick.daterangepicker",this))},showCalendars:function(){this.container.addClass("show-calendar"),this.move(),this.element.trigger("showCalendar.daterangepicker",this)},hideCalendars:function(){this.container.removeClass("show-calendar"),this.element.trigger("hideCalendar.daterangepicker",this)},hoverRange:function(t){if(!this.container.find("input[name=daterangepicker_start]").is(":focus")&&!this.container.find("input[name=daterangepicker_end]").is(":focus")){var e=t.target.getAttribute("data-range-key");if(e==this.locale.customRangeLabel)this.updateView();else{var n=this.ranges[e];this.container.find("input[name=daterangepicker_start]").val(n[0].format(this.locale.format)),this.container.find("input[name=daterangepicker_end]").val(n[1].format(this.locale.format))}}},clickRange:function(t){var e=t.target.getAttribute("data-range-key");if(this.chosenLabel=e,e==this.locale.customRangeLabel)this.showCalendars();else{var n=this.ranges[e];this.startDate=n[0],this.endDate=n[1],this.timePicker||(this.startDate.startOf("day"),this.endDate.endOf("day")),this.alwaysShowCalendars||this.hideCalendars(),this.clickApply()}},clickPrev:function(t){e(t.target).parents(".calendar").hasClass("left")?(this.leftCalendar.month.subtract(1,"month"),this.linkedCalendars&&this.rightCalendar.month.subtract(1,"month")):this.rightCalendar.month.subtract(1,"month"),this.updateCalendars()},clickNext:function(t){e(t.target).parents(".calendar").hasClass("left")?this.leftCalendar.month.add(1,"month"):(this.rightCalendar.month.add(1,"month"),this.linkedCalendars&&this.leftCalendar.month.add(1,"month")),this.updateCalendars()},hoverDate:function(t){if(e(t.target).hasClass("available")){var n=e(t.target).attr("data-title"),i=n.substr(1,1),o=n.substr(3,1),s=e(t.target).parents(".calendar").hasClass("left")?this.leftCalendar.calendar[i][o]:this.rightCalendar.calendar[i][o];this.endDate&&!this.container.find("input[name=daterangepicker_start]").is(":focus")?this.container.find("input[name=daterangepicker_start]").val(s.format(this.locale.format)):this.endDate||this.container.find("input[name=daterangepicker_end]").is(":focus")||this.container.find("input[name=daterangepicker_end]").val(s.format(this.locale.format));var r=this.leftCalendar,a=this.rightCalendar,l=this.startDate;this.endDate||this.container.find(".calendar tbody td").each(function(t,n){if(!e(n).hasClass("week")){var i=e(n).attr("data-title"),o=i.substr(1,1),c=i.substr(3,1),u=e(n).parents(".calendar").hasClass("left")?r.calendar[o][c]:a.calendar[o][c];u.isAfter(l)&&u.isBefore(s)||u.isSame(s,"day")?e(n).addClass("in-range"):e(n).removeClass("in-range")}})}},clickDate:function(t){if(e(t.target).hasClass("available")){var n=e(t.target).attr("data-title"),i=n.substr(1,1),o=n.substr(3,1),s=e(t.target).parents(".calendar").hasClass("left")?this.leftCalendar.calendar[i][o]:this.rightCalendar.calendar[i][o];if(this.endDate||s.isBefore(this.startDate,"day")){if(this.timePicker){var r=parseInt(this.container.find(".left .hourselect").val(),10);this.timePicker24Hour||("PM"===(c=this.container.find(".left .ampmselect").val())&&r<12&&(r+=12),"AM"===c&&12===r&&(r=0));var a=parseInt(this.container.find(".left .minuteselect").val(),10),l=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0;s=s.clone().hour(r).minute(a).second(l)}this.endDate=null,this.setStartDate(s.clone())}else if(!this.endDate&&s.isBefore(this.startDate))this.setEndDate(this.startDate.clone());else{var c;this.timePicker&&(r=parseInt(this.container.find(".right .hourselect").val(),10),this.timePicker24Hour||("PM"===(c=this.container.find(".right .ampmselect").val())&&r<12&&(r+=12),"AM"===c&&12===r&&(r=0)),a=parseInt(this.container.find(".right .minuteselect").val(),10),l=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0,s=s.clone().hour(r).minute(a).second(l)),this.setEndDate(s.clone()),this.autoApply&&(this.calculateChosenLabel(),this.clickApply())}this.singleDatePicker&&(this.setEndDate(this.startDate),this.timePicker||this.clickApply()),this.updateView(),t.stopPropagation()}},calculateChosenLabel:function(){var t=!0,e=0;for(var n in this.ranges){if(this.timePicker){var i=this.timePickerSeconds?"YYYY-MM-DD hh:mm:ss":"YYYY-MM-DD hh:mm";if(this.startDate.format(i)==this.ranges[n][0].format(i)&&this.endDate.format(i)==this.ranges[n][1].format(i)){t=!1,this.chosenLabel=this.container.find(".ranges li:eq("+e+")").addClass("active").html();break}}else if(this.startDate.format("YYYY-MM-DD")==this.ranges[n][0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")==this.ranges[n][1].format("YYYY-MM-DD")){t=!1,this.chosenLabel=this.container.find(".ranges li:eq("+e+")").addClass("active").html();break}e++}t&&(this.chosenLabel=this.showCustomRangeLabel?this.container.find(".ranges li:last").addClass("active").html():null,this.showCalendars())},clickApply:function(t){this.hide(),this.element.trigger("apply.daterangepicker",this)},clickCancel:function(t){this.startDate=this.oldStartDate,this.endDate=this.oldEndDate,this.hide(),this.element.trigger("cancel.daterangepicker",this)},monthOrYearChanged:function(t){var n=e(t.target).closest(".calendar").hasClass("left"),i=this.container.find(".calendar."+(n?"left":"right")),o=parseInt(i.find(".monthselect").val(),10),s=i.find(".yearselect").val();n||(s<this.startDate.year()||s==this.startDate.year()&&o<this.startDate.month())&&(o=this.startDate.month(),s=this.startDate.year()),this.minDate&&(s<this.minDate.year()||s==this.minDate.year()&&o<this.minDate.month())&&(o=this.minDate.month(),s=this.minDate.year()),this.maxDate&&(s>this.maxDate.year()||s==this.maxDate.year()&&o>this.maxDate.month())&&(o=this.maxDate.month(),s=this.maxDate.year()),n?(this.leftCalendar.month.month(o).year(s),this.linkedCalendars&&(this.rightCalendar.month=this.leftCalendar.month.clone().add(1,"month"))):(this.rightCalendar.month.month(o).year(s),this.linkedCalendars&&(this.leftCalendar.month=this.rightCalendar.month.clone().subtract(1,"month"))),this.updateCalendars()},timeChanged:function(t){var n=e(t.target).closest(".calendar"),i=n.hasClass("left"),o=parseInt(n.find(".hourselect").val(),10),s=parseInt(n.find(".minuteselect").val(),10),r=this.timePickerSeconds?parseInt(n.find(".secondselect").val(),10):0;if(!this.timePicker24Hour){var a=n.find(".ampmselect").val();"PM"===a&&o<12&&(o+=12),"AM"===a&&12===o&&(o=0)}if(i){var l=this.startDate.clone();l.hour(o),l.minute(s),l.second(r),this.setStartDate(l),this.singleDatePicker?this.endDate=this.startDate.clone():this.endDate&&this.endDate.format("YYYY-MM-DD")==l.format("YYYY-MM-DD")&&this.endDate.isBefore(l)&&this.setEndDate(l.clone())}else if(this.endDate){var c=this.endDate.clone();c.hour(o),c.minute(s),c.second(r),this.setEndDate(c)}this.updateCalendars(),this.updateFormInputs(),this.renderTimePicker("left"),this.renderTimePicker("right")},formInputsChanged:function(n){var i=e(n.target).closest(".calendar").hasClass("right"),o=t(this.container.find('input[name="daterangepicker_start"]').val(),this.locale.format),s=t(this.container.find('input[name="daterangepicker_end"]').val(),this.locale.format);o.isValid()&&s.isValid()&&(i&&s.isBefore(o)&&(o=s.clone()),this.setStartDate(o),this.setEndDate(s),i?this.container.find('input[name="daterangepicker_start"]').val(this.startDate.format(this.locale.format)):this.container.find('input[name="daterangepicker_end"]').val(this.endDate.format(this.locale.format))),this.updateView()},formInputsFocused:function(t){this.container.find('input[name="daterangepicker_start"], input[name="daterangepicker_end"]').removeClass("active"),e(t.target).addClass("active"),e(t.target).closest(".calendar").hasClass("right")&&(this.endDate=null,this.setStartDate(this.startDate.clone()),this.updateView())},formInputsBlurred:function(e){if(!this.endDate){var n=this.container.find('input[name="daterangepicker_end"]').val(),i=t(n,this.locale.format);i.isValid()&&(this.setEndDate(i),this.updateView())}},formInputsKeydown:function(t){13===t.keyCode&&(t.preventDefault(),this.formInputsChanged(t))},elementChanged:function(){if(this.element.is("input")&&this.element.val().length){var e=this.element.val().split(this.locale.separator),n=null,i=null;2===e.length&&(n=t(e[0],this.locale.format),i=t(e[1],this.locale.format)),(this.singleDatePicker||null===n||null===i)&&(i=n=t(this.element.val(),this.locale.format)),n.isValid()&&i.isValid()&&(this.setStartDate(n),this.setEndDate(i),this.updateView())}},keydown:function(t){9!==t.keyCode&&13!==t.keyCode||this.hide(),27===t.keyCode&&(t.preventDefault(),t.stopPropagation(),this.hide())},updateElement:function(){this.element.is("input")&&!this.singleDatePicker&&this.autoUpdateInput?(this.element.val(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.element.trigger("change")):this.element.is("input")&&this.autoUpdateInput&&(this.element.val(this.startDate.format(this.locale.format)),this.element.trigger("change"))},remove:function(){this.container.remove(),this.element.off(".daterangepicker"),this.element.removeData()}},e.fn.daterangepicker=function(t,i){var o=e.extend(!0,{},e.fn.daterangepicker.defaultOptions,t);return this.each(function(){var t=e(this);t.data("daterangepicker")&&t.data("daterangepicker").remove(),t.data("daterangepicker",new n(t,o,i))}),this},n}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?t(require("jquery")):t(jQuery)}(function(t,e){function n(){return new Date(Date.UTC.apply(Date,arguments))}function i(){var t=new Date;return n(t.getFullYear(),t.getMonth(),t.getDate())}function o(t,e){return t.getUTCFullYear()===e.getUTCFullYear()&&t.getUTCMonth()===e.getUTCMonth()&&t.getUTCDate()===e.getUTCDate()}function s(n,i){return function(){return i!==e&&t.fn.datepicker.deprecated(i),this[n].apply(this,arguments)}}var r,a=(r={get:function(t){return this.slice(t)[0]},contains:function(t){for(var e=t&&t.valueOf(),n=0,i=this.length;n<i;n++)if(0<=this[n].valueOf()-e&&this[n].valueOf()-e<864e5)return n;return-1},remove:function(t){this.splice(t,1)},replace:function(e){e&&(t.isArray(e)||(e=[e]),this.clear(),this.push.apply(this,e))},clear:function(){this.length=0},copy:function(){var t=new a;return t.replace(this),t}},function(){var e=[];return e.push.apply(e,arguments),t.extend(e,r),e}),l=function(e,n){t.data(e,"datepicker",this),this._process_options(n),this.dates=new a,this.viewDate=this.o.defaultViewDate,this.focusDate=null,this.element=t(e),this.isInput=this.element.is("input"),this.inputField=this.isInput?this.element:this.element.find("input"),this.component=!!this.element.hasClass("date")&&this.element.find(".add-on, .input-group-addon, .btn"),this.component&&0===this.component.length&&(this.component=!1),this.isInline=!this.component&&this.element.is("div"),this.picker=t(g.template),this._check_template(this.o.templates.leftArrow)&&this.picker.find(".prev").html(this.o.templates.leftArrow),this._check_template(this.o.templates.rightArrow)&&this.picker.find(".next").html(this.o.templates.rightArrow),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.o.calendarWeeks&&this.picker.find(".datepicker-days .datepicker-switch, thead .datepicker-title, tfoot .today, tfoot .clear").attr("colspan",function(t,e){return Number(e)+1}),this._process_options({startDate:this._o.startDate,endDate:this._o.endDate,daysOfWeekDisabled:this.o.daysOfWeekDisabled,daysOfWeekHighlighted:this.o.daysOfWeekHighlighted,datesDisabled:this.o.datesDisabled}),this._allow_update=!1,this.setViewMode(this.o.startView),this._allow_update=!0,this.fillDow(),this.fillMonths(),this.update(),this.isInline&&this.show()};l.prototype={constructor:l,_resolveViewName:function(e){return t.each(g.viewModes,function(n,i){if(e===n||-1!==t.inArray(e,i.names))return e=n,!1}),e},_resolveDaysOfWeek:function(e){return t.isArray(e)||(e=e.split(/[,\s]*/)),t.map(e,Number)},_check_template:function(n){try{return n!==e&&""!==n&&((n.match(/[<>]/g)||[]).length<=0||t(n).length>0)}catch(t){return!1}},_process_options:function(e){this._o=t.extend({},this._o,e);var o=this.o=t.extend({},this._o),s=o.language;p[s]||(s=s.split("-")[0],p[s]||(s=d.language)),o.language=s,o.startView=this._resolveViewName(o.startView),o.minViewMode=this._resolveViewName(o.minViewMode),o.maxViewMode=this._resolveViewName(o.maxViewMode),o.startView=Math.max(this.o.minViewMode,Math.min(this.o.maxViewMode,o.startView)),!0!==o.multidate&&(o.multidate=Number(o.multidate)||!1,!1!==o.multidate&&(o.multidate=Math.max(0,o.multidate))),o.multidateSeparator=String(o.multidateSeparator),o.weekStart%=7,o.weekEnd=(o.weekStart+6)%7;var r=g.parseFormat(o.format);o.startDate!==-1/0&&(o.startDate=o.startDate?o.startDate instanceof Date?this._local_to_utc(this._zero_time(o.startDate)):g.parseDate(o.startDate,r,o.language,o.assumeNearbyYear):-1/0),o.endDate!==1/0&&(o.endDate=o.endDate?o.endDate instanceof Date?this._local_to_utc(this._zero_time(o.endDate)):g.parseDate(o.endDate,r,o.language,o.assumeNearbyYear):1/0),o.daysOfWeekDisabled=this._resolveDaysOfWeek(o.daysOfWeekDisabled||[]),o.daysOfWeekHighlighted=this._resolveDaysOfWeek(o.daysOfWeekHighlighted||[]),o.datesDisabled=o.datesDisabled||[],t.isArray(o.datesDisabled)||(o.datesDisabled=o.datesDisabled.split(",")),o.datesDisabled=t.map(o.datesDisabled,function(t){return g.parseDate(t,r,o.language,o.assumeNearbyYear)});var a=String(o.orientation).toLowerCase().split(/\s+/g),l=o.orientation.toLowerCase();if(a=t.grep(a,function(t){return/^auto|left|right|top|bottom$/.test(t)}),o.orientation={x:"auto",y:"auto"},l&&"auto"!==l)if(1===a.length)switch(a[0]){case"top":case"bottom":o.orientation.y=a[0];break;case"left":case"right":o.orientation.x=a[0]}else l=t.grep(a,function(t){return/^left|right$/.test(t)}),o.orientation.x=l[0]||"auto",l=t.grep(a,function(t){return/^top|bottom$/.test(t)}),o.orientation.y=l[0]||"auto";if(o.defaultViewDate instanceof Date||"string"==typeof o.defaultViewDate)o.defaultViewDate=g.parseDate(o.defaultViewDate,r,o.language,o.assumeNearbyYear);else if(o.defaultViewDate){var c=o.defaultViewDate.year||(new Date).getFullYear();o.defaultViewDate=n(c,o.defaultViewDate.month||0,o.defaultViewDate.day||1)}else o.defaultViewDate=i()},_events:[],_secondaryEvents:[],_applyEvents:function(t){for(var n,i,o=0;o<t.length;o++)2===t[o].length?(n=e,i=t[o][1]):3===t[o].length&&(n=t[o][1],i=t[o][2]),t[o][0].on(i,n)},_unapplyEvents:function(t){for(var n,i,o=0;o<t.length;o++)2===t[o].length?(i=e,n=t[o][1]):3===t[o].length&&(i=t[o][1],n=t[o][2]),t[o][0].off(n,i)},_buildEvents:function(){var e={keyup:t.proxy(function(e){-1===t.inArray(e.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:t.proxy(this.keydown,this),paste:t.proxy(this.paste,this)};!0===this.o.showOnFocus&&(e.focus=t.proxy(this.show,this)),this._events=this.isInput?[[this.element,e]]:this.component&&this.inputField.length?[[this.inputField,e],[this.component,{click:t.proxy(this.show,this)}]]:[[this.element,{click:t.proxy(this.show,this),keydown:t.proxy(this.keydown,this)}]],this._events.push([this.element,"*",{blur:t.proxy(function(t){this._focused_from=t.target},this)}],[this.element,{blur:t.proxy(function(t){this._focused_from=t.target},this)}]),this.o.immediateUpdates&&this._events.push([this.element,{"changeYear changeMonth":t.proxy(function(t){this.update(t.date)},this)}]),this._secondaryEvents=[[this.picker,{click:t.proxy(this.click,this)}],[this.picker,".prev, .next",{click:t.proxy(this.navArrowsClick,this)}],[this.picker,".day:not(.disabled)",{click:t.proxy(this.dayCellClick,this)}],[t(window),{resize:t.proxy(this.place,this)}],[t(document),{"mousedown touchstart":t.proxy(function(t){this.element.is(t.target)||this.element.find(t.target).length||this.picker.is(t.target)||this.picker.find(t.target).length||this.isInline||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(e,n){var i=n||this.dates.get(-1),o=this._utc_to_local(i);this.element.trigger({type:e,date:o,viewMode:this.viewMode,dates:t.map(this.dates,this._utc_to_local),format:t.proxy(function(t,e){0===arguments.length?(t=this.dates.length-1,e=this.o.format):"string"==typeof t&&(e=t,t=this.dates.length-1),e=e||this.o.format;var n=this.dates.get(t);return g.formatDate(n,e,this.o.language)},this)})},show:function(){if(!(this.inputField.prop("disabled")||this.inputField.prop("readonly")&&!1===this.o.enableOnReadonly))return this.isInline||this.picker.appendTo(this.o.container),this.place(),this.picker.show(),this._attachSecondaryEvents(),this._trigger("show"),(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&this.o.disableTouchKeyboard&&t(this.element).blur(),this},hide:function(){return this.isInline||!this.picker.is(":visible")?this:(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.setViewMode(this.o.startView),this.o.forceParse&&this.inputField.val()&&this.setValue(),this._trigger("hide"),this)},destroy:function(){return this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date,this},paste:function(e){var n;if(e.originalEvent.clipboardData&&e.originalEvent.clipboardData.types&&-1!==t.inArray("text/plain",e.originalEvent.clipboardData.types))n=e.originalEvent.clipboardData.getData("text/plain");else{if(!window.clipboardData)return;n=window.clipboardData.getData("Text")}this.setDate(n),this.update(),e.preventDefault()},_utc_to_local:function(t){if(!t)return t;var e=new Date(t.getTime()+6e4*t.getTimezoneOffset());return e.getTimezoneOffset()!==t.getTimezoneOffset()&&(e=new Date(t.getTime()+6e4*e.getTimezoneOffset())),e},_local_to_utc:function(t){return t&&new Date(t.getTime()-6e4*t.getTimezoneOffset())},_zero_time:function(t){return t&&new Date(t.getFullYear(),t.getMonth(),t.getDate())},_zero_utc_time:function(t){return t&&n(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate())},getDates:function(){return t.map(this.dates,this._utc_to_local)},getUTCDates:function(){return t.map(this.dates,function(t){return new Date(t)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){var t=this.dates.get(-1);return t!==e?new Date(t):null},clearDates:function(){this.inputField.val(""),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()},setDates:function(){var e=t.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,e),this._trigger("changeDate"),this.setValue(),this},setUTCDates:function(){var e=t.isArray(arguments[0])?arguments[0]:arguments;return this.setDates.apply(this,t.map(e,this._utc_to_local)),this},setDate:s("setDates"),setUTCDate:s("setUTCDates"),remove:s("destroy","Method `remove` is deprecated and will be removed in version 2.0. Use `destroy` instead"),setValue:function(){var t=this.getFormattedDate();return this.inputField.val(t),this},getFormattedDate:function(n){n===e&&(n=this.o.format);var i=this.o.language;return t.map(this.dates,function(t){return g.formatDate(t,n,i)}).join(this.o.multidateSeparator)},getStartDate:function(){return this.o.startDate},setStartDate:function(t){return this._process_options({startDate:t}),this.update(),this.updateNavArrows(),this},getEndDate:function(){return this.o.endDate},setEndDate:function(t){return this._process_options({endDate:t}),this.update(),this.updateNavArrows(),this},setDaysOfWeekDisabled:function(t){return this._process_options({daysOfWeekDisabled:t}),this.update(),this},setDaysOfWeekHighlighted:function(t){return this._process_options({daysOfWeekHighlighted:t}),this.update(),this},setDatesDisabled:function(t){return this._process_options({datesDisabled:t}),this.update(),this},place:function(){if(this.isInline)return this;var e=this.picker.outerWidth(),n=this.picker.outerHeight(),i=t(this.o.container),o=i.width(),s="body"===this.o.container?t(document).scrollTop():i.scrollTop(),r=i.offset(),a=[0];this.element.parents().each(function(){var e=t(this).css("z-index");"auto"!==e&&0!==Number(e)&&a.push(Number(e))});var l=Math.max.apply(Math,a)+this.o.zIndexOffset,c=this.component?this.component.parent().offset():this.element.offset(),u=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),h=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),d=c.left-r.left,f=c.top-r.top;"body"!==this.o.container&&(f+=s),this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(d-=e-h)):c.left<0?(this.picker.addClass("datepicker-orient-left"),d-=c.left-10):d+e>o?(this.picker.addClass("datepicker-orient-right"),d+=h-e):this.picker.addClass(this.o.rtl?"datepicker-orient-right":"datepicker-orient-left");var p=this.o.orientation.y;return"auto"===p&&(p=-s+f-n<0?"bottom":"top"),this.picker.addClass("datepicker-orient-"+p),"top"===p?f-=n+parseInt(this.picker.css("padding-top")):f+=u,this.picker.css(this.o.rtl?{top:f,right:o-(d+h),zIndex:l}:{top:f,left:d,zIndex:l}),this},_allow_update:!0,update:function(){if(!this._allow_update)return this;var e=this.dates.copy(),n=[],i=!1;return arguments.length?(t.each(arguments,t.proxy(function(t,e){e instanceof Date&&(e=this._local_to_utc(e)),n.push(e)},this)),i=!0):(n=(n=this.isInput?this.element.val():this.element.data("date")||this.inputField.val())&&this.o.multidate?n.split(this.o.multidateSeparator):[n],delete this.element.data().date),n=t.map(n,t.proxy(function(t){return g.parseDate(t,this.o.format,this.o.language,this.o.assumeNearbyYear)},this)),n=t.grep(n,t.proxy(function(t){return!this.dateWithinRange(t)||!t},this),!0),this.dates.replace(n),this.o.updateViewDate&&(this.viewDate=this.dates.length?new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?new Date(this.o.startDate):this.viewDate>this.o.endDate?new Date(this.o.endDate):this.o.defaultViewDate),i?(this.setValue(),this.element.change()):this.dates.length&&String(e)!==String(this.dates)&&i&&(this._trigger("changeDate"),this.element.change()),!this.dates.length&&e.length&&(this._trigger("clearDate"),this.element.change()),this.fill(),this},fillDow:function(){if(this.o.showWeekDays){var e=this.o.weekStart,n="<tr>";for(this.o.calendarWeeks&&(n+='<th class="cw">&#160;</th>');e<this.o.weekStart+7;)n+='<th class="dow',-1!==t.inArray(e,this.o.daysOfWeekDisabled)&&(n+=" disabled"),n+='">'+p[this.o.language].daysMin[e++%7]+"</th>";n+="</tr>",this.picker.find(".datepicker-days thead").append(n)}},fillMonths:function(){for(var t=this._utc_to_local(this.viewDate),e="",n=0;n<12;n++)e+='<span class="month'+(t&&t.getMonth()===n?" focused":"")+'">'+p[this.o.language].monthsShort[n]+"</span>";this.picker.find(".datepicker-months td").html(e)},setRange:function(e){e&&e.length?this.range=t.map(e,function(t){return t.valueOf()}):delete this.range,this.fill()},getClassNames:function(e){var n=[],s=this.viewDate.getUTCFullYear(),r=this.viewDate.getUTCMonth(),a=i();return e.getUTCFullYear()<s||e.getUTCFullYear()===s&&e.getUTCMonth()<r?n.push("old"):(e.getUTCFullYear()>s||e.getUTCFullYear()===s&&e.getUTCMonth()>r)&&n.push("new"),this.focusDate&&e.valueOf()===this.focusDate.valueOf()&&n.push("focused"),this.o.todayHighlight&&o(e,a)&&n.push("today"),-1!==this.dates.contains(e)&&n.push("active"),this.dateWithinRange(e)||n.push("disabled"),this.dateIsDisabled(e)&&n.push("disabled","disabled-date"),-1!==t.inArray(e.getUTCDay(),this.o.daysOfWeekHighlighted)&&n.push("highlighted"),this.range&&(e>this.range[0]&&e<this.range[this.range.length-1]&&n.push("range"),-1!==t.inArray(e.valueOf(),this.range)&&n.push("selected"),e.valueOf()===this.range[0]&&n.push("range-start"),e.valueOf()===this.range[this.range.length-1]&&n.push("range-end")),n},_fill_yearsView:function(n,i,o,s,r,a,l){for(var c,u,h,d="",f=o/10,p=this.picker.find(n),g=Math.floor(s/o)*o,m=g+9*f,v=Math.floor(this.viewDate.getFullYear()/f)*f,y=t.map(this.dates,function(t){return Math.floor(t.getUTCFullYear()/f)*f}),b=g-f;b<=m+f;b+=f)c=[i],u=null,b===g-f?c.push("old"):b===m+f&&c.push("new"),-1!==t.inArray(b,y)&&c.push("active"),(b<r||b>a)&&c.push("disabled"),b===v&&c.push("focused"),l!==t.noop&&((h=l(new Date(b,0,1)))===e?h={}:"boolean"==typeof h?h={enabled:h}:"string"==typeof h&&(h={classes:h}),!1===h.enabled&&c.push("disabled"),h.classes&&(c=c.concat(h.classes.split(/\s+/))),h.tooltip&&(u=h.tooltip)),d+='<span class="'+c.join(" ")+'"'+(u?' title="'+u+'"':"")+">"+b+"</span>";p.find(".datepicker-switch").text(g+"-"+m),p.find("td").html(d)},fill:function(){var i,o,s=new Date(this.viewDate),r=s.getUTCFullYear(),a=s.getUTCMonth(),l=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,c=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,u=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,h=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,d=p[this.o.language].today||p.en.today||"",f=p[this.o.language].clear||p.en.clear||"",m=p[this.o.language].titleFormat||p.en.titleFormat;if(!isNaN(r)&&!isNaN(a)){this.picker.find(".datepicker-days .datepicker-switch").text(g.formatDate(s,m,this.o.language)),this.picker.find("tfoot .today").text(d).css("display",!0===this.o.todayBtn||"linked"===this.o.todayBtn?"table-cell":"none"),this.picker.find("tfoot .clear").text(f).css("display",!0===this.o.clearBtn?"table-cell":"none"),this.picker.find("thead .datepicker-title").text(this.o.title).css("display","string"==typeof this.o.title&&""!==this.o.title?"table-cell":"none"),this.updateNavArrows(),this.fillMonths();var v=n(r,a,0),y=v.getUTCDate();v.setUTCDate(y-(v.getUTCDay()-this.o.weekStart+7)%7);var b=new Date(v);v.getUTCFullYear()<100&&b.setUTCFullYear(v.getUTCFullYear()),b.setUTCDate(b.getUTCDate()+42),b=b.valueOf();for(var w,_,x=[];v.valueOf()<b;){if((w=v.getUTCDay())===this.o.weekStart&&(x.push("<tr>"),this.o.calendarWeeks)){var C=new Date(+v+(this.o.weekStart-w-7)%7*864e5),k=new Date(Number(C)+(11-C.getUTCDay())%7*864e5),S=new Date(Number(S=n(k.getUTCFullYear(),0,1))+(11-S.getUTCDay())%7*864e5);x.push('<td class="cw">'+((k-S)/864e5/7+1)+"</td>")}(_=this.getClassNames(v)).push("day");var T=v.getUTCDate();this.o.beforeShowDay!==t.noop&&((o=this.o.beforeShowDay(this._utc_to_local(v)))===e?o={}:"boolean"==typeof o?o={enabled:o}:"string"==typeof o&&(o={classes:o}),!1===o.enabled&&_.push("disabled"),o.classes&&(_=_.concat(o.classes.split(/\s+/))),o.tooltip&&(i=o.tooltip),o.content&&(T=o.content)),_=t.isFunction(t.uniqueSort)?t.uniqueSort(_):t.unique(_),x.push('<td class="'+_.join(" ")+'"'+(i?' title="'+i+'"':"")+' data-date="'+v.getTime().toString()+'">'+T+"</td>"),i=null,w===this.o.weekEnd&&x.push("</tr>"),v.setUTCDate(v.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").html(x.join(""));var D=p[this.o.language].monthsTitle||p.en.monthsTitle||"Months",O=this.picker.find(".datepicker-months").find(".datepicker-switch").text(this.o.maxViewMode<2?D:r).end().find("tbody span").removeClass("active");if(t.each(this.dates,function(t,e){e.getUTCFullYear()===r&&O.eq(e.getUTCMonth()).addClass("active")}),(r<l||r>u)&&O.addClass("disabled"),r===l&&O.slice(0,c).addClass("disabled"),r===u&&O.slice(h+1).addClass("disabled"),this.o.beforeShowMonth!==t.noop){var E=this;t.each(O,function(n,i){var o=new Date(r,n,1),s=E.o.beforeShowMonth(o);s===e?s={}:"boolean"==typeof s?s={enabled:s}:"string"==typeof s&&(s={classes:s}),!1!==s.enabled||t(i).hasClass("disabled")||t(i).addClass("disabled"),s.classes&&t(i).addClass(s.classes),s.tooltip&&t(i).prop("title",s.tooltip)})}this._fill_yearsView(".datepicker-years","year",10,r,l,u,this.o.beforeShowYear),this._fill_yearsView(".datepicker-decades","decade",100,r,l,u,this.o.beforeShowDecade),this._fill_yearsView(".datepicker-centuries","century",1e3,r,l,u,this.o.beforeShowCentury)}},updateNavArrows:function(){if(this._allow_update){var t,e,n=new Date(this.viewDate),i=n.getUTCFullYear(),o=n.getUTCMonth(),s=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,r=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,a=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,l=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,c=1;switch(this.viewMode){case 0:t=i<=s&&o<=r,e=i>=a&&o>=l;break;case 4:c*=10;case 3:c*=10;case 2:c*=10;case 1:t=Math.floor(i/c)*c<=s,e=Math.floor(i/c)*c+c>=a}this.picker.find(".prev").toggleClass("disabled",t),this.picker.find(".next").toggleClass("disabled",e)}},click:function(e){var o,s,r,a;e.preventDefault(),e.stopPropagation(),(o=t(e.target)).hasClass("datepicker-switch")&&this.viewMode!==this.o.maxViewMode&&this.setViewMode(this.viewMode+1),o.hasClass("today")&&!o.hasClass("day")&&(this.setViewMode(0),this._setDate(i(),"linked"===this.o.todayBtn?null:"view")),o.hasClass("clear")&&this.clearDates(),o.hasClass("disabled")||(o.hasClass("month")||o.hasClass("year")||o.hasClass("decade")||o.hasClass("century"))&&(this.viewDate.setUTCDate(1),s=1,1===this.viewMode?(a=o.parent().find("span").index(o),r=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(a)):(a=0,r=Number(o.text()),this.viewDate.setUTCFullYear(r)),this._trigger(g.viewModes[this.viewMode-1].e,this.viewDate),this.viewMode===this.o.minViewMode?this._setDate(n(r,a,s)):(this.setViewMode(this.viewMode-1),this.fill())),this.picker.is(":visible")&&this._focused_from&&this._focused_from.focus(),delete this._focused_from},dayCellClick:function(e){var n=t(e.currentTarget).data("date"),i=new Date(n);this.o.updateViewDate&&(i.getUTCFullYear()!==this.viewDate.getUTCFullYear()&&this._trigger("changeYear",this.viewDate),i.getUTCMonth()!==this.viewDate.getUTCMonth()&&this._trigger("changeMonth",this.viewDate)),this._setDate(i)},navArrowsClick:function(e){var n=t(e.currentTarget).hasClass("prev")?-1:1;0!==this.viewMode&&(n*=12*g.viewModes[this.viewMode].navStep),this.viewDate=this.moveMonth(this.viewDate,n),this._trigger(g.viewModes[this.viewMode].e,this.viewDate),this.fill()},_toggle_multidate:function(t){var e=this.dates.contains(t);if(t||this.dates.clear(),-1!==e?(!0===this.o.multidate||this.o.multidate>1||this.o.toggleActive)&&this.dates.remove(e):!1===this.o.multidate?(this.dates.clear(),this.dates.push(t)):this.dates.push(t),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(t,e){e&&"date"!==e||this._toggle_multidate(t&&new Date(t)),(!e&&this.o.updateViewDate||"view"===e)&&(this.viewDate=t&&new Date(t)),this.fill(),this.setValue(),e&&"view"===e||this._trigger("changeDate"),this.inputField.trigger("change"),!this.o.autoclose||e&&"date"!==e||this.hide()},moveDay:function(t,e){var n=new Date(t);return n.setUTCDate(t.getUTCDate()+e),n},moveWeek:function(t,e){return this.moveDay(t,7*e)},moveMonth:function(t,e){if(!(n=t)||isNaN(n.getTime()))return this.o.defaultViewDate;var n;if(!e)return t;var i,o,s=new Date(t.valueOf()),r=s.getUTCDate(),a=s.getUTCMonth(),l=Math.abs(e);if(e=e>0?1:-1,1===l)o=-1===e?function(){return s.getUTCMonth()===a}:function(){return s.getUTCMonth()!==i},s.setUTCMonth(i=a+e),i=(i+12)%12;else{for(var c=0;c<l;c++)s=this.moveMonth(s,e);i=s.getUTCMonth(),s.setUTCDate(r),o=function(){return i!==s.getUTCMonth()}}for(;o();)s.setUTCDate(--r),s.setUTCMonth(i);return s},moveYear:function(t,e){return this.moveMonth(t,12*e)},moveAvailableDate:function(t,e,n){do{if(t=this[n](t,e),!this.dateWithinRange(t))return!1;n="moveDay"}while(this.dateIsDisabled(t));return t},weekOfDateIsDisabled:function(e){return-1!==t.inArray(e.getUTCDay(),this.o.daysOfWeekDisabled)},dateIsDisabled:function(e){return this.weekOfDateIsDisabled(e)||t.grep(this.o.datesDisabled,function(t){return o(e,t)}).length>0},dateWithinRange:function(t){return t>=this.o.startDate&&t<=this.o.endDate},keydown:function(t){if(this.picker.is(":visible")){var e,n,i=!1,o=this.focusDate||this.viewDate;switch(t.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),t.preventDefault(),t.stopPropagation();break;case 37:case 38:case 39:case 40:if(!this.o.keyboardNavigation||7===this.o.daysOfWeekDisabled.length)break;e=37===t.keyCode||38===t.keyCode?-1:1,0===this.viewMode?t.ctrlKey?(n=this.moveAvailableDate(o,e,"moveYear"))&&this._trigger("changeYear",this.viewDate):t.shiftKey?(n=this.moveAvailableDate(o,e,"moveMonth"))&&this._trigger("changeMonth",this.viewDate):37===t.keyCode||39===t.keyCode?n=this.moveAvailableDate(o,e,"moveDay"):this.weekOfDateIsDisabled(o)||(n=this.moveAvailableDate(o,e,"moveWeek")):1===this.viewMode?(38!==t.keyCode&&40!==t.keyCode||(e*=4),n=this.moveAvailableDate(o,e,"moveMonth")):2===this.viewMode&&(38!==t.keyCode&&40!==t.keyCode||(e*=4),n=this.moveAvailableDate(o,e,"moveYear")),n&&(this.focusDate=this.viewDate=n,this.setValue(),this.fill(),t.preventDefault());break;case 13:if(!this.o.forceParse)break;o=this.focusDate||this.dates.get(-1)||this.viewDate,this.o.keyboardNavigation&&(this._toggle_multidate(o),i=!0),this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(t.preventDefault(),t.stopPropagation(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}i&&(this._trigger(this.dates.length?"changeDate":"clearDate"),this.inputField.trigger("change"))}else 40!==t.keyCode&&27!==t.keyCode||(this.show(),t.stopPropagation())},setViewMode:function(t){this.viewMode=t,this.picker.children("div").hide().filter(".datepicker-"+g.viewModes[this.viewMode].clsName).show(),this.updateNavArrows(),this._trigger("changeViewMode",new Date(this.viewDate))}};var c=function(e,n){t.data(e,"datepicker",this),this.element=t(e),this.inputs=t.map(n.inputs,function(t){return t.jquery?t[0]:t}),delete n.inputs,this.keepEmptyValues=n.keepEmptyValues,delete n.keepEmptyValues,h.call(t(this.inputs),n).on("changeDate",t.proxy(this.dateUpdated,this)),this.pickers=t.map(this.inputs,function(e){return t.data(e,"datepicker")}),this.updateDates()};c.prototype={updateDates:function(){this.dates=t.map(this.pickers,function(t){return t.getUTCDate()}),this.updateRanges()},updateRanges:function(){var e=t.map(this.dates,function(t){return t.valueOf()});t.each(this.pickers,function(t,n){n.setRange(e)})},dateUpdated:function(n){if(!this.updating){this.updating=!0;var i=t.data(n.target,"datepicker");if(i!==e){var o=i.getUTCDate(),s=this.keepEmptyValues,r=t.inArray(n.target,this.inputs),a=r-1,l=r+1,c=this.inputs.length;if(-1!==r){if(t.each(this.pickers,function(t,e){e.getUTCDate()||e!==i&&s||e.setUTCDate(o)}),o<this.dates[a])for(;a>=0&&o<this.dates[a];)this.pickers[a--].setUTCDate(o);else if(o>this.dates[l])for(;l<c&&o>this.dates[l];)this.pickers[l++].setUTCDate(o);this.updateDates(),delete this.updating}}}},destroy:function(){t.map(this.pickers,function(t){t.destroy()}),t(this.inputs).off("changeDate",this.dateUpdated),delete this.element.data().datepicker},remove:s("destroy","Method `remove` is deprecated and will be removed in version 2.0. Use `destroy` instead")};var u=t.fn.datepicker,h=function(n){var i,o=Array.apply(null,arguments);if(o.shift(),this.each(function(){var e=t(this),s=e.data("datepicker"),r="object"==typeof n&&n;if(!s){var a=function(e,n){var i=t(e).data(),o={},s=new RegExp("^"+n.toLowerCase()+"([A-Z])");function r(t,e){return e.toLowerCase()}for(var a in n=new RegExp("^"+n.toLowerCase()),i)n.test(a)&&(o[a.replace(s,r)]=i[a]);return o}(this,"date"),u=function(e){var n={};if(p[e]||(e=e.split("-")[0],p[e])){var i=p[e];return t.each(f,function(t,e){e in i&&(n[e]=i[e])}),n}}(t.extend({},d,a,r).language),h=t.extend({},d,u,a,r);e.hasClass("input-daterange")||h.inputs?(t.extend(h,{inputs:h.inputs||e.find("input").toArray()}),s=new c(this,h)):s=new l(this,h),e.data("datepicker",s)}"string"==typeof n&&"function"==typeof s[n]&&(i=s[n].apply(s,o))}),i===e||i instanceof l||i instanceof c)return this;if(this.length>1)throw new Error("Using only allowed for the collection of a single element ("+n+" function)");return i};t.fn.datepicker=h;var d=t.fn.datepicker.defaults={assumeNearbyYear:!1,autoclose:!1,beforeShowDay:t.noop,beforeShowMonth:t.noop,beforeShowYear:t.noop,beforeShowDecade:t.noop,beforeShowCentury:t.noop,calendarWeeks:!1,clearBtn:!1,toggleActive:!1,daysOfWeekDisabled:[],daysOfWeekHighlighted:[],datesDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keepEmptyValues:!1,keyboardNavigation:!0,language:"en",minViewMode:0,maxViewMode:4,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-1/0,startView:0,todayBtn:!1,todayHighlight:!1,updateViewDate:!0,weekStart:0,disableTouchKeyboard:!1,enableOnReadonly:!0,showOnFocus:!0,zIndexOffset:10,container:"body",immediateUpdates:!1,title:"",templates:{leftArrow:"&#x00AB;",rightArrow:"&#x00BB;"},showWeekDays:!0},f=t.fn.datepicker.locale_opts=["format","rtl","weekStart"];t.fn.datepicker.Constructor=l;var p=t.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM yyyy"}},g={viewModes:[{names:["days","month"],clsName:"days",e:"changeMonth"},{names:["months","year"],clsName:"months",e:"changeYear",navStep:1},{names:["years","decade"],clsName:"years",e:"changeDecade",navStep:10},{names:["decades","century"],clsName:"decades",e:"changeCentury",navStep:100},{names:["centuries","millennium"],clsName:"centuries",e:"changeMillennium",navStep:1e3}],validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\u5e74\u6708\u65e5\[-`{-~\t\n\r]+/g,parseFormat:function(t){if("function"==typeof t.toValue&&"function"==typeof t.toDisplay)return t;var e=t.replace(this.validParts,"\0").split("\0"),n=t.match(this.validParts);if(!e||!e.length||!n||0===n.length)throw new Error("Invalid date format.");return{separators:e,parts:n}},parseDate:function(n,o,s,r){if(!n)return e;if(n instanceof Date)return n;if("string"==typeof o&&(o=g.parseFormat(o)),o.toValue)return o.toValue(n,o,s);var a,c,u,h,d,f={d:"moveDay",m:"moveMonth",w:"moveWeek",y:"moveYear"},m={yesterday:"-1d",today:"+0d",tomorrow:"+1d"};if(n in m&&(n=m[n]),/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/i.test(n)){for(a=n.match(/([\-+]\d+)([dmwy])/gi),n=new Date,h=0;h<a.length;h++)c=a[h].match(/([\-+]\d+)([dmwy])/i),u=Number(c[1]),d=f[c[2].toLowerCase()],n=l.prototype[d](n,u);return l.prototype._zero_utc_time(n)}a=n&&n.match(this.nonpunctuation)||[];var v,y,b={},w=["yyyy","yy","M","MM","m","mm","d","dd"],_={yyyy:function(t,e){return t.setUTCFullYear(r?(n=e,!0===(i=r)&&(i=10),n<100&&(n+=2e3)>(new Date).getFullYear()+i&&(n-=100),n):e);var n,i},m:function(t,e){if(isNaN(t))return t;for(e-=1;e<0;)e+=12;for(t.setUTCMonth(e%=12);t.getUTCMonth()!==e;)t.setUTCDate(t.getUTCDate()-1);return t},d:function(t,e){return t.setUTCDate(e)}};_.yy=_.yyyy,_.M=_.MM=_.mm=_.m,_.dd=_.d,n=i();var x=o.parts.slice();function C(){var t=this.slice(0,a[h].length),e=a[h].slice(0,t.length);return t.toLowerCase()===e.toLowerCase()}if(a.length!==x.length&&(x=t(x).filter(function(e,n){return-1!==t.inArray(n,w)}).toArray()),a.length===x.length){var k,S,T;for(h=0,k=x.length;h<k;h++){if(v=parseInt(a[h],10),c=x[h],isNaN(v))switch(c){case"MM":y=t(p[s].months).filter(C),v=t.inArray(y[0],p[s].months)+1;break;case"M":y=t(p[s].monthsShort).filter(C),v=t.inArray(y[0],p[s].monthsShort)+1}b[c]=v}for(h=0;h<w.length;h++)(T=w[h])in b&&!isNaN(b[T])&&(S=new Date(n),_[T](S,b[T]),isNaN(S)||(n=S))}return n},formatDate:function(e,n,i){if(!e)return"";if("string"==typeof n&&(n=g.parseFormat(n)),n.toDisplay)return n.toDisplay(e,n,i);var o={d:e.getUTCDate(),D:p[i].daysShort[e.getUTCDay()],DD:p[i].days[e.getUTCDay()],m:e.getUTCMonth()+1,M:p[i].monthsShort[e.getUTCMonth()],MM:p[i].months[e.getUTCMonth()],yy:e.getUTCFullYear().toString().substring(2),yyyy:e.getUTCFullYear()};o.dd=(o.d<10?"0":"")+o.d,o.mm=(o.m<10?"0":"")+o.m,e=[];for(var s=t.extend([],n.separators),r=0,a=n.parts.length;r<=a;r++)s.length&&e.push(s.shift()),e.push(o[n.parts[r]]);return e.join("")},headTemplate:'<thead><tr><th colspan="7" class="datepicker-title"></th></tr><tr><th class="prev">'+d.templates.leftArrow+'</th><th colspan="5" class="datepicker-switch"></th><th class="next">'+d.templates.rightArrow+"</th></tr></thead>",contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};g.template='<div class="datepicker"><div class="datepicker-days"><table class="table-condensed">'+g.headTemplate+"<tbody></tbody>"+g.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+g.headTemplate+g.contTemplate+g.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+g.headTemplate+g.contTemplate+g.footTemplate+'</table></div><div class="datepicker-decades"><table class="table-condensed">'+g.headTemplate+g.contTemplate+g.footTemplate+'</table></div><div class="datepicker-centuries"><table class="table-condensed">'+g.headTemplate+g.contTemplate+g.footTemplate+"</table></div></div>",t.fn.datepicker.DPGlobal=g,t.fn.datepicker.noConflict=function(){return t.fn.datepicker=u,this},t.fn.datepicker.version="1.7.1",t.fn.datepicker.deprecated=function(t){var e=window.console;e&&e.warn&&e.warn("DEPRECATED: "+t)},t(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(e){var n=t(this);n.data("datepicker")||(e.preventDefault(),h.call(n,"show"))}),t(function(){h.call(t('[data-provide="datepicker-inline"]'))})}),function(e){e.fn.extend({slimScroll:function(n){var i=e.extend({width:"auto",height:"250px",size:"7px",color:"#000",position:"right",distance:"1px",start:"top",opacity:.4,alwaysVisible:!1,disableFadeOut:!1,railVisible:!1,railColor:"#333",railOpacity:.2,railDraggable:!0,railClass:"slimScrollRail",barClass:"slimScrollBar",wrapperClass:"slimScrollDiv",allowPageScroll:!1,wheelStep:20,touchScrollStep:200,borderRadius:"7px",railBorderRadius:"7px"},n);return this.each(function(){var o,s,r,a,l,c,u,h,d="<div></div>",f=30,p=!1,g=e(this);if(g.parent().hasClass(i.wrapperClass)){var m=g.scrollTop();if(_=g.siblings("."+i.barClass),w=g.siblings("."+i.railClass),S(),e.isPlainObject(n)){if("height"in n&&"auto"==n.height){g.parent().css("height","auto"),g.css("height","auto");var v=g.parent().parent().height();g.parent().css("height",v),g.css("height",v)}else if("height"in n){var y=n.height;g.parent().css("height",y),g.css("height",y)}if("scrollTo"in n)m=parseInt(i.scrollTo);else if("scrollBy"in n)m+=parseInt(i.scrollBy);else if("destroy"in n)return _.remove(),w.remove(),void g.unwrap();k(m,!1,!0)}}else if(!(e.isPlainObject(n)&&"destroy"in n)){i.height="auto"==i.height?g.parent().height():i.height;var b=e(d).addClass(i.wrapperClass).css({position:"relative",overflow:"hidden",width:i.width,height:i.height});g.css({overflow:"hidden",width:i.width,height:i.height});var w=e(d).addClass(i.railClass).css({width:i.size,height:"100%",position:"absolute",top:0,display:i.alwaysVisible&&i.railVisible?"block":"none","border-radius":i.railBorderRadius,background:i.railColor,opacity:i.railOpacity,zIndex:90}),_=e(d).addClass(i.barClass).css({background:i.color,width:i.size,position:"absolute",top:0,opacity:i.opacity,display:i.alwaysVisible?"block":"none","border-radius":i.borderRadius,BorderRadius:i.borderRadius,MozBorderRadius:i.borderRadius,WebkitBorderRadius:i.borderRadius,zIndex:99}),x="right"==i.position?{right:i.distance}:{left:i.distance};w.css(x),_.css(x),g.wrap(b),g.parent().append(_),g.parent().append(w),i.railDraggable&&_.bind("mousedown",function(n){var i=e(document);return r=!0,t=parseFloat(_.css("top")),pageY=n.pageY,i.bind("mousemove.slimscroll",function(e){currTop=t+e.pageY-pageY,_.css("top",currTop),k(0,_.position().top,!1)}),i.bind("mouseup.slimscroll",function(t){r=!1,D(),i.unbind(".slimscroll")}),!1}).bind("selectstart.slimscroll",function(t){return t.stopPropagation(),t.preventDefault(),!1}),w.hover(function(){T()},function(){D()}),_.hover(function(){s=!0},function(){s=!1}),g.hover(function(){o=!0,T(),D()},function(){o=!1,D()}),g.bind("touchstart",function(t,e){t.originalEvent.touches.length&&(l=t.originalEvent.touches[0].pageY)}),g.bind("touchmove",function(t){p||t.originalEvent.preventDefault(),t.originalEvent.touches.length&&(k((l-t.originalEvent.touches[0].pageY)/i.touchScrollStep,!0),l=t.originalEvent.touches[0].pageY)}),S(),"bottom"===i.start?(_.css({top:g.outerHeight()-_.outerHeight()}),k(0,!0)):"top"!==i.start&&(k(e(i.start).position().top,null,!0),i.alwaysVisible||_.hide()),window.addEventListener?(this.addEventListener("DOMMouseScroll",C,!1),this.addEventListener("mousewheel",C,!1)):document.attachEvent("onmousewheel",C)}function C(t){if(o){var n=0;(t=t||window.event).wheelDelta&&(n=-t.wheelDelta/120),t.detail&&(n=t.detail/3),e(t.target||t.srcTarget||t.srcElement).closest("."+i.wrapperClass).is(g.parent())&&k(n,!0),t.preventDefault&&!p&&t.preventDefault(),p||(t.returnValue=!1)}}function k(t,e,n){p=!1;var o=t,s=g.outerHeight()-_.outerHeight();if(e&&(o=parseInt(_.css("top"))+t*parseInt(i.wheelStep)/100*_.outerHeight(),o=Math.min(Math.max(o,0),s),o=t>0?Math.ceil(o):Math.floor(o),_.css({top:o+"px"})),o=(u=parseInt(_.css("top"))/(g.outerHeight()-_.outerHeight()))*(g[0].scrollHeight-g.outerHeight()),n){var r=(o=t)/g[0].scrollHeight*g.outerHeight();r=Math.min(Math.max(r,0),s),_.css({top:r+"px"})}g.scrollTop(o),g.trigger("slimscrolling",~~o),T(),D()}function S(){c=Math.max(g.outerHeight()/g[0].scrollHeight*g.outerHeight(),f),_.css({height:c+"px"});var t=c==g.outerHeight()?"none":"block";_.css({display:t})}function T(){S(),clearTimeout(a),u==~~u?(p=i.allowPageScroll,h!=u&&g.trigger("slimscroll",0==~~u?"top":"bottom")):p=!1,h=u,c>=g.outerHeight()?p=!0:(_.stop(!0,!0).fadeIn("fast"),i.railVisible&&w.stop(!0,!0).fadeIn("fast"))}function D(){i.alwaysVisible||(a=setTimeout(function(){i.disableFadeOut&&o||s||r||(_.fadeOut("slow"),w.fadeOut("slow"))},1e3))}}),this}}),e.fn.extend({slimscroll:e.fn.slimScroll})}(jQuery),Object.defineProperty&&Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(Element.prototype,"textContent")&&!Object.getOwnPropertyDescriptor(Element.prototype,"textContent").get&&function(){var t=Object.getOwnPropertyDescriptor(Element.prototype,"innerText");Object.defineProperty(Element.prototype,"textContent",{get:function(){return t.get.call(this)},set:function(e){return t.set.call(this,e)}})}(),Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)});var wysihtml5={version:"0.4.13",commands:{},dom:{},quirks:{},toolbar:{},lang:{},selection:{},views:{},INVISIBLE_SPACE:"\ufeff",EMPTY_FUNCTION:function(){},ELEMENT_NODE:1,TEXT_NODE:3,BACKSPACE_KEY:8,ENTER_KEY:13,ESCAPE_KEY:27,SPACE_KEY:32,DELETE_KEY:46};!function(t,e){"function"==typeof define&&define.amd?define(t):e.rangy=t()}(function(){var t="object",e="function",n="undefined",i=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],o=["setStart","setStartBefore","setStartAfter","setEnd","setEndBefore","setEndAfter","collapse","selectNode","selectNodeContents","compareBoundaryPoints","deleteContents","extractContents","cloneContents","insertNode","surroundContents","cloneRange","toString","detach"],s=["boundingHeight","boundingLeft","boundingTop","boundingWidth","htmlText","text"],r=["collapse","compareEndPoints","duplicate","moveToElementText","parentElement","select","setEndPoint","getBoundingClientRect"];function a(n,i){var o=typeof n[i];return o==e||!(o!=t||!n[i])||"unknown"==o}function l(e,n){return!(typeof e[n]!=t||!e[n])}function c(t,e){return typeof t[e]!=n}function u(t){return function(e,n){for(var i=n.length;i--;)if(!t(e,n[i]))return!1;return!0}}var h=u(a),d=u(l),f=u(c);function p(t){return t&&h(t,r)&&f(t,s)}function g(t){return l(t,"body")?t.body:t.getElementsByTagName("body")[0]}var m,v={},y={version:"1.3alpha.20140804",initialized:!1,supported:!0,util:{isHostMethod:a,isHostObject:l,isHostProperty:c,areHostMethods:h,areHostObjects:d,areHostProperties:f,isTextRange:p,getBody:g},features:{},modules:v,config:{alertOnFail:!0,alertOnWarn:!1,preferTextRange:!1,autoInitialize:typeof rangyAutoInitialize==n||rangyAutoInitialize}};function b(t){l(window,"console")&&a(window.console,"log")&&window.console.log(t)}function w(t,e){e?window.alert(t):b(t)}function _(t){y.initialized=!0,y.supported=!1,w("Rangy is not supported on this page in your browser. Reason: "+t,y.config.alertOnFail)}y.fail=_,y.warn=function(t){w("Rangy warning: "+t,y.config.alertOnWarn)},{}.hasOwnProperty?y.util.extend=function(t,e,n){var i,o;for(var s in e)e.hasOwnProperty(s)&&(i=t[s],o=e[s],n&&null!==i&&"object"==typeof i&&null!==o&&"object"==typeof o&&y.util.extend(i,o,!0),t[s]=o);return e.hasOwnProperty("toString")&&(t.toString=e.toString),t}:_("hasOwnProperty not supported"),function(){var t=document.createElement("div");t.appendChild(document.createElement("span"));var e,n=[].slice;try{1==n.call(t.childNodes,0)[0].nodeType&&(e=function(t){return n.call(t,0)})}catch(t){}e||(e=function(t){for(var e=[],n=0,i=t.length;n<i;++n)e[n]=t[n];return e}),y.util.toArray=e}(),a(document,"addEventListener")?m=function(t,e,n){t.addEventListener(e,n,!1)}:a(document,"attachEvent")?m=function(t,e,n){t.attachEvent("on"+e,n)}:_("Document does not have required addEventListener or attachEvent method"),y.util.addListener=m;var x=[];function C(t){return t.message||t.description||String(t)}function k(){if(!y.initialized){var t,e=!1,n=!1;a(document,"createRange")&&(t=document.createRange(),h(t,o)&&f(t,i)&&(e=!0));var s=g(document);if(s&&"body"==s.nodeName.toLowerCase())if(s&&a(s,"createTextRange")&&p(t=s.createTextRange())&&(n=!0),e||n){var r;for(var l in y.initialized=!0,y.features={implementsDomRange:e,implementsTextRange:n},v)(r=v[l])instanceof T&&r.init(r,y);for(var c=0,u=x.length;c<u;++c)try{x[c](y)}catch(t){b("Rangy init listener threw an exception. Continuing. Detail: "+C(t))}}else _("Neither Range nor TextRange are available");else _("No body element found")}}y.init=k,y.addInitListener=function(t){y.initialized?t(y):x.push(t)};var S=[];function T(t,e,n){this.name=t,this.dependencies=e,this.initialized=!1,this.supported=!1,this.initializer=n}function D(t,e,n,i){var o=new T(e,n,function(t){if(!t.initialized){t.initialized=!0;try{i(y,t),t.supported=!0}catch(t){b("Module '"+e+"' failed to load: "+C(t))}}});v[e]=o}function O(){}y.addShimListener=function(t){S.push(t)},y.shim=y.createMissingNativeApi=function(t){t=t||window,k();for(var e=0,n=S.length;e<n;++e)S[e](t)},T.prototype={init:function(){for(var t,e,n=this.dependencies||[],i=0,o=n.length;i<o;++i){if(!((t=v[e=n[i]])&&t instanceof T))throw new Error("required module '"+e+"' not found");if(t.init(),!t.supported)throw new Error("required module '"+e+"' not supported")}this.initializer(this)},fail:function(t){throw this.initialized=!0,this.supported=!1,new Error("Module '"+this.name+"' failed to load: "+t)},warn:function(t){y.warn("Module "+this.name+": "+t)},deprecationNotice:function(t,e){y.warn("DEPRECATED: "+t+" in module "+this.name+"is deprecated. Please use "+e+" instead")},createError:function(t){return new Error("Error in Rangy "+this.name+" module: "+t)}},y.createModule=function(t){var e,n;2==arguments.length?(e=arguments[1],n=[]):(e=arguments[2],n=arguments[1]);var i=D(0,t,n,e);y.initialized&&i.init()},y.createCoreModule=function(t,e,n){D(0,t,e,n)},y.RangePrototype=O,y.rangePrototype=new O,y.selectionPrototype=new function(){};var E=!1,N=function(t){E||(E=!0,!y.initialized&&y.config.autoInitialize&&k())};if(typeof window!=n){if(typeof document!=n)return a(document,"addEventListener")&&document.addEventListener("DOMContentLoaded",N,!1),m(window,"load",N),y.createCoreModule("DomUtil",[],function(t,e){var n="undefined",i=t.util;i.areHostMethods(document,["createDocumentFragment","createElement","createTextNode"])||e.fail("document missing a Node creation method"),i.isHostMethod(document,"getElementsByTagName")||e.fail("document missing getElementsByTagName method");var o=document.createElement("div");i.areHostMethods(o,["insertBefore","appendChild","cloneNode"]||!i.areHostObjects(o,["previousSibling","nextSibling","childNodes","parentNode"]))||e.fail("Incomplete Element implementation"),i.isHostProperty(o,"innerHTML")||e.fail("Element is missing innerHTML property");var s=document.createTextNode("test");i.areHostMethods(s,["splitText","deleteData","insertData","appendData","cloneNode"]||!i.areHostObjects(o,["previousSibling","nextSibling","childNodes","parentNode"])||!i.areHostProperties(s,["data"]))||e.fail("Incomplete Text Node implementation");var r=function(t,e){for(var n=t.length;n--;)if(t[n]===e)return!0;return!1};function a(t){for(var e=0;t=t.previousSibling;)++e;return e}function l(t,e){var n,i=[];for(n=t;n;n=n.parentNode)i.push(n);for(n=e;n;n=n.parentNode)if(r(i,n))return n;return null}function c(t,e,n){for(var i=n?e:e.parentNode;i;){if(i===t)return!0;i=i.parentNode}return!1}function u(t,e,n){for(var i,o=n?t:t.parentNode;o;){if((i=o.parentNode)===e)return o;o=i}return null}function h(t){var e=t.nodeType;return 3==e||4==e||8==e}function d(t,e){var n=e.nextSibling,i=e.parentNode;return n?i.insertBefore(t,n):i.appendChild(t),t}function f(t){if(9==t.nodeType)return t;if(typeof t.ownerDocument!=n)return t.ownerDocument;if(typeof t.document!=n)return t.document;if(t.parentNode)return f(t.parentNode);throw e.createError("getDocument: no document found for node")}function p(t){var i=f(t);if(typeof i.defaultView!=n)return i.defaultView;if(typeof i.parentWindow!=n)return i.parentWindow;throw e.createError("Cannot get a window object for node")}function g(t){if(typeof t.contentDocument!=n)return t.contentDocument;if(typeof t.contentWindow!=n)return t.contentWindow.document;throw e.createError("getIframeDocument: No Document object found for iframe element")}function m(t){return t&&i.isHostMethod(t,"setTimeout")&&i.isHostObject(t,"document")}var v,y=!1;function b(t){try{return!1}catch(t){return!0}}function w(t){return t?y&&b()?"[Broken node]":h(t)?'"'+t.data+'"':1==t.nodeType?"<"+t.nodeName+(t.id?' id="'+t.id+'"':"")+">[index:"+a(t)+",length:"+t.childNodes.length+"]["+(t.innerHTML||"[innerHTML not supported]").slice(0,25)+"]":t.nodeName:"[No node]"}function _(t){this.root=t,this._next=t}function x(t,e){this.node=t,this.offset=e}function C(t){this.code=this[t],this.codeName=t,this.message="DOMException: "+this.codeName}!function(){var e=document.createElement("b");e.innerHTML="1",e.innerHTML="<br>",y=b(),t.features.crashyTextNodes=y}(),typeof window.getComputedStyle!=n?v=function(t,e){return p(t).getComputedStyle(t,null)[e]}:typeof document.documentElement.currentStyle!=n?v=function(t,e){return t.currentStyle[e]}:e.fail("No means of obtaining computed style properties found"),_.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){var t,e,n=this._current=this._next;if(this._current)if(t=n.firstChild)this._next=t;else{for(e=null;n!==this.root&&!(e=n.nextSibling);)n=n.parentNode;this._next=e}return this._current},detach:function(){this._current=this._next=this.root=null}},x.prototype={equals:function(t){return!!t&&this.node===t.node&&this.offset==t.offset},inspect:function(){return"[DomPosition("+w(this.node)+":"+this.offset+")]"},toString:function(){return this.inspect()}},(C.prototype={INDEX_SIZE_ERR:1,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INVALID_STATE_ERR:11,INVALID_NODE_TYPE_ERR:24}).toString=function(){return this.message},t.dom={arrayContains:r,isHtmlNamespace:function(t){var e;return typeof t.namespaceURI==n||null===(e=t.namespaceURI)||"http://www.w3.org/1999/xhtml"==e},parentElement:function(t){var e=t.parentNode;return 1==e.nodeType?e:null},getNodeIndex:a,getNodeLength:function(t){switch(t.nodeType){case 7:case 10:return 0;case 3:case 8:return t.length;default:return t.childNodes.length}},getCommonAncestor:l,isAncestorOf:c,isOrIsAncestorOf:function(t,e){return c(t,e,!0)},getClosestAncestorIn:u,isCharacterDataNode:h,isTextOrCommentNode:function(t){if(!t)return!1;var e=t.nodeType;return 3==e||8==e},insertAfter:d,splitDataNode:function(t,e,n){var i=t.cloneNode(!1);if(i.deleteData(0,e),t.deleteData(e,t.length-e),d(i,t),n)for(var o,s=0;o=n[s++];)o.node==t&&o.offset>e?(o.node=i,o.offset-=e):o.node==t.parentNode&&o.offset>a(t)&&++o.offset;return i},getDocument:f,getWindow:p,getIframeWindow:function(t){if(typeof t.contentWindow!=n)return t.contentWindow;if(typeof t.contentDocument!=n)return t.contentDocument.defaultView;throw e.createError("getIframeWindow: No Window object found for iframe element")},getIframeDocument:g,getBody:i.getBody,isWindow:m,getContentDocument:function(t,e,n){var o;if(t?i.isHostProperty(t,"nodeType")?o=1==t.nodeType&&"iframe"==t.tagName.toLowerCase()?g(t):f(t):m(t)&&(o=t.document):o=document,!o)throw e.createError(n+"(): Parameter must be a Window object or DOM node");return o},getRootContainer:function(t){for(var e;e=t.parentNode;)t=e;return t},comparePoints:function(t,n,i,o){var s,r,c,h,d;if(t==i)return n===o?0:n<o?-1:1;if(s=u(i,t,!0))return n<=a(s)?-1:1;if(s=u(t,i,!0))return a(s)<o?-1:1;if(!(r=l(t,i)))throw new Error("comparePoints error: nodes have no common ancestor");if((c=t===r?r:u(t,r,!0))===(h=i===r?r:u(i,r,!0)))throw e.createError("comparePoints got to case 4 and childA and childB are the same!");for(d=r.firstChild;d;){if(d===c)return-1;if(d===h)return 1;d=d.nextSibling}},isBrokenNode:b,inspectNode:w,getComputedStyleProperty:v,fragmentFromNodeChildren:function(t){for(var e,n=f(t).createDocumentFragment();e=t.firstChild;)n.appendChild(e);return n},createIterator:function(t){return new _(t)},DomPosition:x},t.DOMException=C}),y.createCoreModule("DomRange",["DomUtil"],function(t,e){var n=t.dom,i=t.util,o=n.DomPosition,s=t.DOMException,r=n.isCharacterDataNode,a=n.getNodeIndex,l=n.isOrIsAncestorOf,c=n.getDocument,u=n.comparePoints,h=n.splitDataNode,d=n.getClosestAncestorIn,f=n.getNodeLength,p=n.arrayContains,g=n.getRootContainer,m=t.features.crashyTextNodes;function v(t,e){return 3!=t.nodeType&&(l(t,e.startContainer)||l(t,e.endContainer))}function y(t){return t.document||c(t.startContainer)}function b(t){return new o(t.parentNode,a(t))}function w(t){return new o(t.parentNode,a(t)+1)}function _(t,e,i){var o=11==t.nodeType?t.firstChild:t;return r(e)?i==e.length?n.insertAfter(t,e):e.parentNode.insertBefore(t,0==i?e:h(e,i)):i>=e.childNodes.length?e.appendChild(t):e.insertBefore(t,e.childNodes[i]),o}function x(t,e,n){if(Y(t),Y(e),y(e)!=y(t))throw new s("WRONG_DOCUMENT_ERR");var i=u(t.startContainer,t.startOffset,e.endContainer,e.endOffset),o=u(t.endContainer,t.endOffset,e.startContainer,e.startOffset);return n?i<=0&&o>=0:i<0&&o>0}function C(t,e,i){var o,s,r,a;for(i=i||{stop:!1};r=t.next();)if(t.isPartiallySelectedSubtree()){if(!1===e(r))return void(i.stop=!0);if(C(a=t.getSubtreeIterator(),e,i),a.detach(),i.stop)return}else for(o=n.createIterator(r);s=o.next();)if(!1===e(s))return void(i.stop=!0)}function k(t){for(var e;t.next();)t.isPartiallySelectedSubtree()?(k(e=t.getSubtreeIterator()),e.detach()):t.remove()}function S(t){for(var e,n,i=y(t.range).createDocumentFragment();e=t.next();){if(t.isPartiallySelectedSubtree()?(e=e.cloneNode(!1),n=t.getSubtreeIterator(),e.appendChild(S(n)),n.detach()):t.remove(),10==e.nodeType)throw new s("HIERARCHY_REQUEST_ERR");i.appendChild(e)}return i}function T(t){return"["+("undefined"==typeof t.getName?"Range":t.getName())+"("+n.inspectNode(t.startContainer)+":"+t.startOffset+", "+n.inspectNode(t.endContainer)+":"+t.endOffset+")]"}function D(t,e){if(this.range=t,this.clonePartiallySelectedTextNodes=e,!t.collapsed){this.sc=t.startContainer,this.so=t.startOffset,this.ec=t.endContainer,this.eo=t.endOffset;var n=t.commonAncestorContainer;this.sc===this.ec&&r(this.sc)?(this.isSingleCharacterDataNode=!0,this._first=this._last=this._next=this.sc):(this._first=this._next=this.sc!==n||r(this.sc)?d(this.sc,n,!0):this.sc.childNodes[this.so],this._last=this.ec!==n||r(this.ec)?d(this.ec,n,!0):this.ec.childNodes[this.eo-1])}}D.prototype={_current:null,_next:null,_first:null,_last:null,isSingleCharacterDataNode:!1,reset:function(){this._current=null,this._next=this._first},hasNext:function(){return!!this._next},next:function(){var t=this._current=this._next;return t&&(this._next=t!==this._last?t.nextSibling:null,r(t)&&this.clonePartiallySelectedTextNodes&&(t===this.ec&&(t=t.cloneNode(!0)).deleteData(this.eo,t.length-this.eo),this._current===this.sc&&(t=t.cloneNode(!0)).deleteData(0,this.so))),t},remove:function(){var t,e,n=this._current;!r(n)||n!==this.sc&&n!==this.ec?n.parentNode&&n.parentNode.removeChild(n):(t=n===this.sc?this.so:0)!=(e=n===this.ec?this.eo:n.length)&&n.deleteData(t,e-t)},isPartiallySelectedSubtree:function(){return v(this._current,this.range)},getSubtreeIterator:function(){var t;if(this.isSingleCharacterDataNode)(t=this.range.cloneRange()).collapse(!1);else{t=new ht(y(this.range));var e=this._current,n=e,i=0,o=e,s=f(e);l(e,this.sc)&&(n=this.sc,i=this.so),l(e,this.ec)&&(o=this.ec,s=this.eo),ut(t,n,i,o,s)}return new D(t,this.clonePartiallySelectedTextNodes)},detach:function(){this.range=this._current=this._next=this._first=this._last=this.sc=this.so=this.ec=this.eo=null}};var O=[1,3,4,5,7,8,10],E=[2,9,11],N=[1,3,4,5,7,8,10,11],A=[1,3,4,5,7,8];function M(t){return function(e,n){for(var i=n?e:e.parentNode;i;){if(p(t,i.nodeType))return i;i=i.parentNode}return null}}var P=M([9,11]),I=M([5,6,10,12]),R=M([6,10,12]);function L(t,e){if(R(t,e))throw new s("INVALID_NODE_TYPE_ERR")}function j(t,e){if(!p(e,t.nodeType))throw new s("INVALID_NODE_TYPE_ERR")}function H(t,e){if(e<0||e>(r(t)?t.length:t.childNodes.length))throw new s("INDEX_SIZE_ERR")}function B(t,e){if(P(t,!0)!==P(e,!0))throw new s("WRONG_DOCUMENT_ERR")}function q(t){if(I(t,!0))throw new s("NO_MODIFICATION_ALLOWED_ERR")}function F(t,e){if(!t)throw new s(e)}function $(t){return m&&n.isBrokenNode(t)||!p(E,t.nodeType)&&!P(t,!0)}function z(t,e){return e<=(r(t)?t.length:t.childNodes.length)}function W(t){return!!t.startContainer&&!!t.endContainer&&!$(t.startContainer)&&!$(t.endContainer)&&z(t.startContainer,t.startOffset)&&z(t.endContainer,t.endOffset)}function Y(t){if(!W(t))throw new Error("Range error: Range is no longer valid after DOM mutation ("+t.inspect()+")")}var U=document.createElement("style"),V=!1;try{U.innerHTML="<b>x</b>",V=3==U.firstChild.nodeType}catch(t){}function G(t,e){Y(t);var n=t.startContainer,i=t.startOffset,o=t.endContainer,s=t.endOffset,l=n===o;r(o)&&s>0&&s<o.length&&h(o,s,e),r(n)&&i>0&&i<n.length&&(n=h(n,i,e),l?(s-=i,o=n):o==n.parentNode&&s>=a(n)&&s++,i=0),t.setStartAndEnd(n,i,o,s)}function K(t){Y(t);var e=t.commonAncestorContainer.parentNode.cloneNode(!1);return e.appendChild(t.cloneContents()),e.innerHTML}t.features.htmlParsingConforms=V;var X=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],Z=0,Q=1,J=2,tt=3,et=0,nt=1,it=2,ot=3;function st(t){t.START_TO_START=Z,t.START_TO_END=Q,t.END_TO_END=J,t.END_TO_START=tt,t.NODE_BEFORE=et,t.NODE_AFTER=nt,t.NODE_BEFORE_AND_AFTER=it,t.NODE_INSIDE=ot}function rt(t){st(t),st(t.prototype)}function at(t,e){return function(){Y(this);var n,i=this.startContainer,o=this.startOffset,s=this.commonAncestorContainer,r=new D(this,!0);i!==s&&(i=(n=w(d(i,s,!0))).node,o=n.offset),C(r,q),r.reset();var a=t(r);return r.detach(),e(this,i,o,i,o),a}}function lt(e,n){function o(t,e){return function(n){j(n,O),j(g(n),E);var i=(t?b:w)(n);(e?s:l)(this,i.node,i.offset)}}function s(t,e,i){var o=t.endContainer,s=t.endOffset;e===t.startContainer&&i===t.startOffset||(g(e)==g(o)&&1!=u(e,i,o,s)||(o=e,s=i),n(t,e,i,o,s))}function l(t,e,i){var o=t.startContainer,s=t.startOffset;e===t.endContainer&&i===t.endOffset||(g(e)==g(o)&&-1!=u(e,i,o,s)||(o=e,s=i),n(t,o,s,e,i))}var c=function(){};c.prototype=t.rangePrototype,e.prototype=new c,i.extend(e.prototype,{setStart:function(t,e){L(t,!0),H(t,e),s(this,t,e)},setEnd:function(t,e){L(t,!0),H(t,e),l(this,t,e)},setStartAndEnd:function(){var t=arguments,e=t[0],i=t[1],o=e,s=i;switch(t.length){case 3:s=t[2];break;case 4:o=t[2],s=t[3]}n(this,e,i,o,s)},setBoundary:function(t,e,n){this["set"+(n?"Start":"End")](t,e)},setStartBefore:o(!0,!0),setStartAfter:o(!1,!0),setEndBefore:o(!0,!1),setEndAfter:o(!1,!1),collapse:function(t){Y(this),t?n(this,this.startContainer,this.startOffset,this.startContainer,this.startOffset):n(this,this.endContainer,this.endOffset,this.endContainer,this.endOffset)},selectNodeContents:function(t){L(t,!0),n(this,t,0,t,f(t))},selectNode:function(t){L(t,!1),j(t,O);var e=b(t),i=w(t);n(this,e.node,e.offset,i.node,i.offset)},extractContents:at(S,n),deleteContents:at(k,n),canSurroundContents:function(){Y(this),q(this.startContainer),q(this.endContainer);var t=new D(this,!0),e=t._first&&v(t._first,this)||t._last&&v(t._last,this);return t.detach(),!e},splitBoundaries:function(){G(this)},splitBoundariesPreservingPositions:function(t){G(this,t)},normalizeBoundaries:function(){Y(this);var t=this.startContainer,e=this.startOffset,i=this.endContainer,o=this.endOffset,s=function(t){var e=t.nextSibling;e&&e.nodeType==t.nodeType&&(i=t,o=t.length,t.appendData(e.data),e.parentNode.removeChild(e))},l=function(n){var s=n.previousSibling;if(s&&s.nodeType==n.nodeType){t=n;var r=n.length;if(e=s.length,n.insertData(0,s.data),s.parentNode.removeChild(s),t==i)o+=e,i=t;else if(i==n.parentNode){var l=a(n);o==l?(i=n,o=r):o>l&&o--}}},c=!0;if(r(i))i.length==o&&s(i);else{if(o>0){var u=i.childNodes[o-1];u&&r(u)&&s(u)}c=!this.collapsed}if(c){if(r(t))0==e&&l(t);else if(e<t.childNodes.length){var h=t.childNodes[e];h&&r(h)&&l(h)}}else t=i,e=o;n(this,t,e,i,o)},collapseToPoint:function(t,e){L(t,!0),H(t,e),this.setStartAndEnd(t,e)}}),rt(e)}function ct(t){t.collapsed=t.startContainer===t.endContainer&&t.startOffset===t.endOffset,t.commonAncestorContainer=t.collapsed?t.startContainer:n.getCommonAncestor(t.startContainer,t.endContainer)}function ut(t,e,i,o,s){t.startContainer=e,t.startOffset=i,t.endContainer=o,t.endOffset=s,t.document=n.getDocument(e),ct(t)}function ht(t){this.startContainer=t,this.startOffset=0,this.endContainer=t,this.endOffset=0,this.document=t,ct(this)}i.extend(t.rangePrototype,{compareBoundaryPoints:function(t,e){Y(this),B(this.startContainer,e.startContainer);var n=t==tt||t==Z?"start":"end",i=t==Q||t==Z?"start":"end";return u(this[n+"Container"],this[n+"Offset"],e[i+"Container"],e[i+"Offset"])},insertNode:function(t){if(Y(this),j(t,N),q(this.startContainer),l(t,this.startContainer))throw new s("HIERARCHY_REQUEST_ERR");var e=_(t,this.startContainer,this.startOffset);this.setStartBefore(e)},cloneContents:function(){var t,e;if(Y(this),this.collapsed)return y(this).createDocumentFragment();if(this.startContainer===this.endContainer&&r(this.startContainer))return(t=this.startContainer.cloneNode(!0)).data=t.data.slice(this.startOffset,this.endOffset),(e=y(this).createDocumentFragment()).appendChild(t),e;var n=new D(this,!0);return t=function t(e){for(var n,i,o,r=y(e.range).createDocumentFragment();i=e.next();){if(n=e.isPartiallySelectedSubtree(),i=i.cloneNode(!n),n&&(o=e.getSubtreeIterator(),i.appendChild(t(o)),o.detach()),10==i.nodeType)throw new s("HIERARCHY_REQUEST_ERR");r.appendChild(i)}return r}(n),n.detach(),t},canSurroundContents:function(){Y(this),q(this.startContainer),q(this.endContainer);var t=new D(this,!0),e=t._first&&v(t._first,this)||t._last&&v(t._last,this);return t.detach(),!e},surroundContents:function(t){if(j(t,A),!this.canSurroundContents())throw new s("INVALID_STATE_ERR");var e=this.extractContents();if(t.hasChildNodes())for(;t.lastChild;)t.removeChild(t.lastChild);_(t,this.startContainer,this.startOffset),t.appendChild(e),this.selectNode(t)},cloneRange:function(){Y(this);for(var t,e=new ht(y(this)),n=X.length;n--;)e[t=X[n]]=this[t];return e},toString:function(){Y(this);var t=this.startContainer;if(t===this.endContainer&&r(t))return 3==t.nodeType||4==t.nodeType?t.data.slice(this.startOffset,this.endOffset):"";var e=[],n=new D(this,!0);return C(n,function(t){3!=t.nodeType&&4!=t.nodeType||e.push(t.data)}),n.detach(),e.join("")},compareNode:function(t){Y(this);var e=t.parentNode,n=a(t);if(!e)throw new s("NOT_FOUND_ERR");var i=this.comparePoint(e,n),o=this.comparePoint(e,n+1);return i<0?o>0?it:et:o>0?nt:ot},comparePoint:function(t,e){return Y(this),F(t,"HIERARCHY_REQUEST_ERR"),B(t,this.startContainer),u(t,e,this.startContainer,this.startOffset)<0?-1:u(t,e,this.endContainer,this.endOffset)>0?1:0},createContextualFragment:V?function(t){var e=this.startContainer,i=c(e);if(!e)throw new s("INVALID_STATE_ERR");var o=null;return 1==e.nodeType?o=e:r(e)&&(o=n.parentElement(e)),(o=null===o||"HTML"==o.nodeName&&n.isHtmlNamespace(c(o).documentElement)&&n.isHtmlNamespace(o)?i.createElement("body"):o.cloneNode(!1)).innerHTML=t,n.fragmentFromNodeChildren(o)}:function(t){var e=y(this).createElement("body");return e.innerHTML=t,n.fragmentFromNodeChildren(e)},toHtml:function(){return K(this)},intersectsNode:function(t,e){if(Y(this),F(t,"NOT_FOUND_ERR"),c(t)!==y(this))return!1;var n=t.parentNode,i=a(t);F(n,"NOT_FOUND_ERR");var o=u(n,i,this.endContainer,this.endOffset),s=u(n,i+1,this.startContainer,this.startOffset);return e?o<=0&&s>=0:o<0&&s>0},isPointInRange:function(t,e){return Y(this),F(t,"HIERARCHY_REQUEST_ERR"),B(t,this.startContainer),u(t,e,this.startContainer,this.startOffset)>=0&&u(t,e,this.endContainer,this.endOffset)<=0},intersectsRange:function(t){return x(this,t,!1)},intersectsOrTouchesRange:function(t){return x(this,t,!0)},intersection:function(t){if(this.intersectsRange(t)){var e=u(this.startContainer,this.startOffset,t.startContainer,t.startOffset),n=u(this.endContainer,this.endOffset,t.endContainer,t.endOffset),i=this.cloneRange();return-1==e&&i.setStart(t.startContainer,t.startOffset),1==n&&i.setEnd(t.endContainer,t.endOffset),i}return null},union:function(t){if(this.intersectsOrTouchesRange(t)){var e=this.cloneRange();return-1==u(t.startContainer,t.startOffset,this.startContainer,this.startOffset)&&e.setStart(t.startContainer,t.startOffset),1==u(t.endContainer,t.endOffset,this.endContainer,this.endOffset)&&e.setEnd(t.endContainer,t.endOffset),e}throw new s("Ranges do not intersect")},containsNode:function(t,e){return e?this.intersectsNode(t,!1):this.compareNode(t)==ot},containsNodeContents:function(t){return this.comparePoint(t,0)>=0&&this.comparePoint(t,f(t))<=0},containsRange:function(t){var e=this.intersection(t);return null!==e&&t.equals(e)},containsNodeText:function(t){var e=this.cloneRange();e.selectNode(t);var n=e.getNodes([3]);if(n.length>0){e.setStart(n[0],0);var i=n.pop();return e.setEnd(i,i.length),this.containsRange(e)}return this.containsNodeContents(t)},getNodes:function(t,e){return Y(this),function(t,e,n){var i,o=!(!e||!e.length),s=!!n;o&&(i=new RegExp("^("+e.join("|")+")$"));var a=[];return C(new D(t,!1),function(e){if((!o||i.test(e.nodeType))&&(!s||n(e))){var l=t.startContainer;if(e!=l||!r(l)||t.startOffset!=l.length){var c=t.endContainer;e==c&&r(c)&&0==t.endOffset||a.push(e)}}}),a}(this,t,e)},getDocument:function(){return y(this)},collapseBefore:function(t){this.setEndBefore(t),this.collapse(!1)},collapseAfter:function(t){this.setStartAfter(t),this.collapse(!0)},getBookmark:function(e){var i=y(this),o=t.createRange(i);e=e||n.getBody(i),o.selectNodeContents(e);var s=this.intersection(o),r=0,a=0;return s&&(o.setEnd(s.startContainer,s.startOffset),a=(r=o.toString().length)+s.toString().length),{start:r,end:a,containerNode:e}},moveToBookmark:function(t){var e=t.containerNode,n=0;this.setStart(e,0),this.collapse(!0);for(var i,o,s,r,a=[e],l=!1,c=!1;!c&&(i=a.pop());)if(3==i.nodeType)o=n+i.length,!l&&t.start>=n&&t.start<=o&&(this.setStart(i,t.start-n),l=!0),l&&t.end>=n&&t.end<=o&&(this.setEnd(i,t.end-n),c=!0),n=o;else for(s=(r=i.childNodes).length;s--;)a.push(r[s])},getName:function(){return"DomRange"},equals:function(t){return ht.rangesEqual(this,t)},isValid:function(){return W(this)},inspect:function(){return T(this)},detach:function(){}}),lt(ht,ut),i.extend(ht,{rangeProperties:X,RangeIterator:D,copyComparisonConstants:rt,createPrototypeRange:lt,inspect:T,toHtml:K,getRangeDocument:y,rangesEqual:function(t,e){return t.startContainer===e.startContainer&&t.startOffset===e.startOffset&&t.endContainer===e.endContainer&&t.endOffset===e.endOffset}}),t.DomRange=ht}),y.createCoreModule("WrappedRange",["DomRange"],function(t,e){var n,i,o=t.dom,s=t.util,r=o.DomPosition,a=t.DomRange,l=o.getBody,c=o.getContentDocument,u=o.isCharacterDataNode;if(t.features.implementsDomRange&&function(){var i,r,u=a.rangeProperties;function h(t){for(var e,n=u.length;n--;)t[e=u[n]]=t.nativeRange[e];t.collapsed=t.startContainer===t.endContainer&&t.startOffset===t.endOffset}a.createPrototypeRange(n=function(t){if(!t)throw e.createError("WrappedRange: Range must be specified");this.nativeRange=t,h(this)},function(t,e,n,i,o){var s=t.startContainer!==e||t.startOffset!=n,r=t.endContainer!==i||t.endOffset!=o,a=!t.equals(t.nativeRange);(s||r||a)&&(t.setEnd(i,o),t.setStart(e,n))}),(i=n.prototype).selectNode=function(t){this.nativeRange.selectNode(t),h(this)},i.cloneContents=function(){return this.nativeRange.cloneContents()},i.surroundContents=function(t){this.nativeRange.surroundContents(t),h(this)},i.collapse=function(t){this.nativeRange.collapse(t),h(this)},i.cloneRange=function(){return new n(this.nativeRange.cloneRange())},i.refresh=function(){h(this)},i.toString=function(){return this.nativeRange.toString()};var d=document.createTextNode("test");l(document).appendChild(d);var f=document.createRange();f.setStart(d,0),f.setEnd(d,0);try{f.setStart(d,1),i.setStart=function(t,e){this.nativeRange.setStart(t,e),h(this)},i.setEnd=function(t,e){this.nativeRange.setEnd(t,e),h(this)},r=function(t){return function(e){this.nativeRange[t](e),h(this)}}}catch(t){i.setStart=function(t,e){try{this.nativeRange.setStart(t,e)}catch(n){this.nativeRange.setEnd(t,e),this.nativeRange.setStart(t,e)}h(this)},i.setEnd=function(t,e){try{this.nativeRange.setEnd(t,e)}catch(n){this.nativeRange.setStart(t,e),this.nativeRange.setEnd(t,e)}h(this)},r=function(t,e){return function(n){try{this.nativeRange[t](n)}catch(i){this.nativeRange[e](n),this.nativeRange[t](n)}h(this)}}}i.setStartBefore=r("setStartBefore","setEndBefore"),i.setStartAfter=r("setStartAfter","setEndAfter"),i.setEndBefore=r("setEndBefore","setStartBefore"),i.setEndAfter=r("setEndAfter","setStartAfter"),i.selectNodeContents=function(t){this.setStartAndEnd(t,0,o.getNodeLength(t))},f.selectNodeContents(d),f.setEnd(d,3);var p=document.createRange();p.selectNodeContents(d),p.setEnd(d,4),p.setStart(d,2),i.compareBoundaryPoints=-1==f.compareBoundaryPoints(f.START_TO_END,p)&&1==f.compareBoundaryPoints(f.END_TO_START,p)?function(t,e){return t==(e=e.nativeRange||e).START_TO_END?t=e.END_TO_START:t==e.END_TO_START&&(t=e.START_TO_END),this.nativeRange.compareBoundaryPoints(t,e)}:function(t,e){return this.nativeRange.compareBoundaryPoints(t,e.nativeRange||e)};var g=document.createElement("div");g.innerHTML="123";var m=g.firstChild,v=l(document);v.appendChild(g),f.setStart(m,1),f.setEnd(m,2),f.deleteContents(),"13"==m.data&&(i.deleteContents=function(){this.nativeRange.deleteContents(),h(this)},i.extractContents=function(){var t=this.nativeRange.extractContents();return h(this),t}),v.removeChild(g),v=null,s.isHostMethod(f,"createContextualFragment")&&(i.createContextualFragment=function(t){return this.nativeRange.createContextualFragment(t)}),l(document).removeChild(d),i.getName=function(){return"WrappedRange"},t.WrappedRange=n,t.createNativeRange=function(t){return(t=c(t,e,"createNativeRange")).createRange()}}(),t.features.implementsTextRange){var h=function(t,e,n,i,s){var a=t.duplicate();a.collapse(n);var l=a.parentElement();if(o.isOrIsAncestorOf(e,l)||(l=e),!l.canHaveHTML){var c=new r(l.parentNode,o.getNodeIndex(l));return{boundaryPosition:c,nodeInfo:{nodeIndex:c.offset,containerElement:c.node}}}var h=o.getDocument(l).createElement("span");h.parentNode&&h.parentNode.removeChild(h);for(var d,f,p,g,m,v=n?"StartToStart":"StartToEnd",y=s&&s.containerElement==l?s.nodeIndex:0,b=l.childNodes.length,w=b,_=w;_==b?l.appendChild(h):l.insertBefore(h,l.childNodes[_]),a.moveToElementText(h),0!=(d=a.compareEndPoints(v,t))&&y!=w;){if(-1==d){if(w==y+1)break;y=_}else w=w==y+1?y:_;_=Math.floor((y+w)/2),l.removeChild(h)}if(m=h.nextSibling,-1==d&&m&&u(m)){var x;if(a.setEndPoint(n?"EndToStart":"EndToEnd",t),/[\r\n]/.test(m.data)){var C=a.duplicate(),k=C.text.replace(/\r\n/g,"\r").length;for(x=C.moveStart("character",k);-1==(d=C.compareEndPoints("StartToEnd",C));)x++,C.moveStart("character",1)}else x=a.text.length;g=new r(m,x)}else f=(i||!n)&&h.previousSibling,g=(p=(i||n)&&h.nextSibling)&&u(p)?new r(p,0):f&&u(f)?new r(f,f.data.length):new r(l,o.getNodeIndex(h));return h.parentNode.removeChild(h),{boundaryPosition:g,nodeInfo:{nodeIndex:_,containerElement:l}}},d=function(t,e){var n,i,s,r,a=t.offset,c=o.getDocument(t.node),h=l(c).createTextRange(),d=u(t.node);return d?i=(n=t.node).parentNode:(n=a<(r=t.node.childNodes).length?r[a]:null,i=t.node),(s=c.createElement("span")).innerHTML="&#feff;",n?i.insertBefore(s,n):i.appendChild(s),h.moveToElementText(s),h.collapse(!e),i.removeChild(s),d&&h[e?"moveStart":"moveEnd"]("character",a),h};(i=function(t){this.textRange=t,this.refresh()}).prototype=new a(document),i.prototype.refresh=function(){var t,e,n,i,s=function(t){var e=t.parentElement(),n=t.duplicate();n.collapse(!0);var i=n.parentElement();(n=t.duplicate()).collapse(!1);var s=n.parentElement(),r=i==s?i:o.getCommonAncestor(i,s);return r==e?r:o.getCommonAncestor(e,r)}(this.textRange);0==(i=this.textRange).compareEndPoints("StartToEnd",i)?e=t=h(this.textRange,s,!0,!0).boundaryPosition:(t=(n=h(this.textRange,s,!0,!1)).boundaryPosition,e=h(this.textRange,s,!1,!1,n.nodeInfo).boundaryPosition),this.setStart(t.node,t.offset),this.setEnd(e.node,e.offset)},i.prototype.getName=function(){return"WrappedTextRange"},a.copyComparisonConstants(i);var f=function(t){if(t.collapsed)return d(new r(t.startContainer,t.startOffset),!0);var e=d(new r(t.startContainer,t.startOffset),!0),n=d(new r(t.endContainer,t.endOffset),!1),i=l(a.getRangeDocument(t)).createTextRange();return i.setEndPoint("StartToStart",e),i.setEndPoint("EndToEnd",n),i};if(i.rangeToTextRange=f,i.prototype.toTextRange=function(){return f(this)},t.WrappedTextRange=i,!t.features.implementsDomRange||t.config.preferTextRange){var p=function(){return this}();"undefined"==typeof p.Range&&(p.Range=i),t.createNativeRange=function(t){return t=c(t,e,"createNativeRange"),l(t).createTextRange()},t.WrappedRange=i}}t.createRange=function(n){return n=c(n,e,"createRange"),new t.WrappedRange(t.createNativeRange(n))},t.createRangyRange=function(t){return t=c(t,e,"createRangyRange"),new a(t)},t.createIframeRange=function(n){return e.deprecationNotice("createIframeRange()","createRange(iframeEl)"),t.createRange(n)},t.createIframeRangyRange=function(n){return e.deprecationNotice("createIframeRangyRange()","createRangyRange(iframeEl)"),t.createRangyRange(n)},t.addShimListener(function(e){var n=e.document;"undefined"==typeof n.createRange&&(n.createRange=function(){return t.createRange(n)}),n=e=null})}),y.createCoreModule("WrappedSelection",["DomRange","WrappedRange"],function(t,e){t.config.checkSelectionRanges=!0;var n,i,o=t.dom,s=t.util,r=s.isHostMethod,a=t.DomRange,l=t.WrappedRange,c=t.DOMException,u=o.DomPosition,h=t.features,d=o.getDocument,f=o.getBody,p=a.rangesEqual;function g(t){return"string"==typeof t?/^backward(s)?$/i.test(t):!!t}function m(t,n){if(t){if(o.isWindow(t))return t;if(t instanceof $)return t.win;var i=o.getContentDocument(t,e,n);return o.getWindow(i)}return window}function v(t){return m(t,"getDocSelection").document.selection}function y(t){var e=!1;return t.anchorNode&&(e=1==o.comparePoints(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset)),e}var b=r(window,"getSelection"),w=s.isHostObject(document,"selection");h.implementsWinGetSelection=b,h.implementsDocSelection=w;var _=w&&(!b||t.config.preferTextRange);_?(n=v,t.isSelectionValid=function(t){var e=m(t,"isSelectionValid").document,n=e.selection;return"None"!=n.type||d(n.createRange().parentElement())==e}):b?(n=function(t){return m(t,"getWinSelection").getSelection()},t.isSelectionValid=function(){return!0}):e.fail("Neither document.selection or window.getSelection() detected."),t.getNativeSelection=n;var x=n(),C=t.createNativeRange(document),k=f(document),S=s.areHostProperties(x,["anchorNode","focusNode","anchorOffset","focusOffset"]);h.selectionHasAnchorAndFocus=S;var T=r(x,"extend");h.selectionHasExtend=T;var D="number"==typeof x.rangeCount;h.selectionHasRangeCount=D;var O=!1,E=!0,N=T?function(e,n){var i=a.getRangeDocument(n),o=t.createRange(i);o.collapseToPoint(n.endContainer,n.endOffset),e.addRange(L(o)),e.extend(n.startContainer,n.startOffset)}:null;s.areHostMethods(x,["addRange","getRangeAt","removeAllRanges"])&&"number"==typeof x.rangeCount&&h.implementsDomRange&&function(){var e=window.getSelection();if(e){for(var n=e.rangeCount,i=n>1,o=[],s=y(e),r=0;r<n;++r)o[r]=e.getRangeAt(r);var a=f(document),l=a.appendChild(document.createElement("div"));l.contentEditable="false";var c=l.appendChild(document.createTextNode("\xa0\xa0\xa0")),u=document.createRange();if(u.setStart(c,1),u.collapse(!0),e.addRange(u),E=1==e.rangeCount,e.removeAllRanges(),!i){var h=window.navigator.appVersion.match(/Chrome\/(.*?) /);if(h&&parseInt(h[1])>=36)O=!1;else{var d=u.cloneRange();u.setStart(c,0),d.setEnd(c,3),d.setStart(c,2),e.addRange(u),e.addRange(d),O=2==e.rangeCount}}for(a.removeChild(l),e.removeAllRanges(),r=0;r<n;++r)0==r&&s?N?N(e,o[r]):(t.warn("Rangy initialization: original selection was backwards but selection has been restored forwards because the browser does not support Selection.extend"),e.addRange(o[r])):e.addRange(o[r])}}(),h.selectionSupportsMultipleRanges=O,h.collapsedNonEditableSelectionsSupported=E;var A,M,P=!1;function I(t,e,n){var i=n?"end":"start",o=n?"start":"end";t.anchorNode=e[i+"Container"],t.anchorOffset=e[i+"Offset"],t.focusNode=e[o+"Container"],t.focusOffset=e[o+"Offset"]}function R(t){t.anchorNode=t.focusNode=null,t.anchorOffset=t.focusOffset=0,t.rangeCount=0,t.isCollapsed=!0,t._ranges.length=0}function L(e){var n;return e instanceof a?((n=t.createNativeRange(e.getDocument())).setEnd(e.endContainer,e.endOffset),n.setStart(e.startContainer,e.startOffset)):e instanceof l?n=e.nativeRange:h.implementsDomRange&&e instanceof o.getWindow(e.startContainer).Range&&(n=e),n}function j(t){var n=t.getNodes();if(!function(t){if(!t.length||1!=t[0].nodeType)return!1;for(var e=1,n=t.length;e<n;++e)if(!o.isAncestorOf(t[0],t[e]))return!1;return!0}(n))throw e.createError("getSingleElementFromRange: range "+t.inspect()+" did not consist of a single element");return n[0]}function H(t){return!!t&&"undefined"!=typeof t.text}function B(t,e){var n=new l(e);t._ranges=[n],I(t,n,!1),t.rangeCount=1,t.isCollapsed=n.collapsed}function q(e){if(e._ranges.length=0,"None"==e.docSelection.type)R(e);else{var n=e.docSelection.createRange();if(H(n))B(e,n);else{e.rangeCount=n.length;for(var i,o=d(n.item(0)),s=0;s<e.rangeCount;++s)(i=t.createRange(o)).selectNode(n.item(s)),e._ranges.push(i);e.isCollapsed=1==e.rangeCount&&e._ranges[0].collapsed,I(e,e._ranges[e.rangeCount-1],!1)}}}function F(t,n){for(var i=t.docSelection.createRange(),o=j(n),s=d(i.item(0)),r=f(s).createControlRange(),a=0,l=i.length;a<l;++a)r.add(i.item(a));try{r.add(o)}catch(t){throw e.createError("addRange(): Element within the specified Range could not be added to control selection (does it have layout?)")}r.select(),q(t)}function $(t,e,n){this.nativeSelection=t,this.docSelection=e,this._ranges=[],this.win=n,this.refresh()}function z(t){t.win=t.anchorNode=t.focusNode=t._ranges=null,t.rangeCount=t.anchorOffset=t.focusOffset=0,t.detached=!0}k&&r(k,"createControlRange")&&(A=k.createControlRange(),s.areHostProperties(A,["item","add"])&&(P=!0)),h.implementsControlRange=P,i=S?function(t){return t.anchorNode===t.focusNode&&t.anchorOffset===t.focusOffset}:function(t){return!!t.rangeCount&&t.getRangeAt(t.rangeCount-1).collapsed},r(x,"getRangeAt")?M=function(t,e){try{return t.getRangeAt(e)}catch(t){return null}}:S&&(M=function(e){var n=d(e.anchorNode),i=t.createRange(n);return i.setStartAndEnd(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset),i.collapsed!==this.isCollapsed&&i.setStartAndEnd(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset),i}),$.prototype=t.selectionPrototype;var W=[];function Y(t,e){for(var n,i,o=W.length;o--;)if(i=(n=W[o]).selection,"deleteAll"==e)z(i);else if(n.win==t)return"delete"==e?(W.splice(o,1),!0):i;return"deleteAll"==e&&(W.length=0),null}var U=function(t){if(t&&t instanceof $)return t.refresh(),t;var e=Y(t=m(t,"getNativeSelection")),i=n(t),o=w?v(t):null;return e?(e.nativeSelection=i,e.docSelection=o,e.refresh()):(e=new $(i,o,t),W.push({win:t,selection:e})),e};t.getSelection=U,t.getIframeSelection=function(n){return e.deprecationNotice("getIframeSelection()","getSelection(iframeEl)"),t.getSelection(o.getIframeWindow(n))};var V,G=$.prototype;function K(t,n){for(var i,o=d(n[0].startContainer),s=f(o).createControlRange(),r=0,a=n.length;r<a;++r){i=j(n[r]);try{s.add(i)}catch(t){throw e.createError("setRanges(): Element within one of the specified Ranges could not be added to control selection (does it have layout?)")}}s.select(),q(t)}if(!_&&S&&s.areHostMethods(x,["removeAllRanges","addRange"])){G.removeAllRanges=function(){this.nativeSelection.removeAllRanges(),R(this)};var X=function(t,e){N(t.nativeSelection,e),t.refresh()};G.addRange=D?function(e,n){var o;if(P&&w&&"Control"==this.docSelection.type)F(this,e);else if(g(n)&&T)X(this,e);else if(O?o=this.rangeCount:(this.removeAllRanges(),o=0),this.nativeSelection.addRange(L(e).cloneRange()),this.rangeCount=this.nativeSelection.rangeCount,this.rangeCount==o+1){if(t.config.checkSelectionRanges){var s=M(this.nativeSelection,this.rangeCount-1);s&&!p(s,e)&&(e=new l(s))}this._ranges[this.rangeCount-1]=e,I(this,e,Z(this.nativeSelection)),this.isCollapsed=i(this)}else this.refresh()}:function(t,e){g(e)&&T?X(this,t):(this.nativeSelection.addRange(L(t)),this.refresh())},G.setRanges=function(t){if(P&&w&&t.length>1)K(this,t);else{this.removeAllRanges();for(var e=0,n=t.length;e<n;++e)this.addRange(t[e])}}}else{if(!(r(x,"empty")&&r(C,"select")&&P&&_))return e.fail("No means of selecting a Range or TextRange was found"),!1;G.removeAllRanges=function(){try{if(this.docSelection.empty(),"None"!=this.docSelection.type){var t;if(this.anchorNode)t=d(this.anchorNode);else if("Control"==this.docSelection.type){var e=this.docSelection.createRange();e.length&&(t=d(e.item(0)))}t&&(f(t).createTextRange().select(),this.docSelection.empty())}}catch(t){}R(this)},G.addRange=function(e){"Control"==this.docSelection.type?F(this,e):(t.WrappedTextRange.rangeToTextRange(e).select(),this._ranges[0]=e,this.rangeCount=1,this.isCollapsed=this._ranges[0].collapsed,I(this,e,!1))},G.setRanges=function(t){this.removeAllRanges();var e=t.length;e>1?K(this,t):e&&this.addRange(t[0])}}if(G.getRangeAt=function(t){if(t<0||t>=this.rangeCount)throw new c("INDEX_SIZE_ERR");return this._ranges[t].cloneRange()},_)V=function(e){var n;t.isSelectionValid(e.win)?n=e.docSelection.createRange():(n=f(e.win.document).createTextRange()).collapse(!0),"Control"==e.docSelection.type?q(e):H(n)?B(e,n):R(e)};else if(r(x,"getRangeAt")&&"number"==typeof x.rangeCount)V=function(e){if(P&&w&&"Control"==e.docSelection.type)q(e);else if(e._ranges.length=e.rangeCount=e.nativeSelection.rangeCount,e.rangeCount){for(var n=0,o=e.rangeCount;n<o;++n)e._ranges[n]=new t.WrappedRange(e.nativeSelection.getRangeAt(n));I(e,e._ranges[e.rangeCount-1],Z(e.nativeSelection)),e.isCollapsed=i(e)}else R(e)};else{if(!S||"boolean"!=typeof x.isCollapsed||"boolean"!=typeof C.collapsed||!h.implementsDomRange)return e.fail("No means of obtaining a Range or TextRange from the user's selection was found"),!1;V=function(t){var e,n=t.nativeSelection;n.anchorNode?(e=M(n,0),t._ranges=[e],t.rangeCount=1,function(t){var e=t.nativeSelection;t.anchorNode=e.anchorNode,t.anchorOffset=e.anchorOffset,t.focusNode=e.focusNode,t.focusOffset=e.focusOffset}(t),t.isCollapsed=i(t)):R(t)}}G.refresh=function(t){var e=t?this._ranges.slice(0):null,n=this.anchorNode,i=this.anchorOffset;if(V(this),t){var o=e.length;if(o!=this._ranges.length)return!0;if(this.anchorNode!=n||this.anchorOffset!=i)return!0;for(;o--;)if(!p(e[o],this._ranges[o]))return!0;return!1}};var Z,Q=function(t,e){var n=t.getAllRanges();t.removeAllRanges();for(var i=0,o=n.length;i<o;++i)p(e,n[i])||t.addRange(n[i]);t.rangeCount||R(t)};function J(t,e){if(t.win.document!=d(e))throw new c("WRONG_DOCUMENT_ERR")}function tt(e){return function(n,i){var o;this.rangeCount?(o=this.getRangeAt(0))["set"+(e?"Start":"End")](n,i):(o=t.createRange(this.win.document)).setStartAndEnd(n,i),this.setSingleRange(o,this.isBackward())}}function et(t){var e=[],n=new u(t.anchorNode,t.anchorOffset),i=new u(t.focusNode,t.focusOffset),o="function"==typeof t.getName?t.getName():"Selection";if("undefined"!=typeof t.rangeCount)for(var s=0,r=t.rangeCount;s<r;++s)e[s]=a.inspect(t.getRangeAt(s));return"["+o+"(Ranges: "+e.join(", ")+")(anchor: "+n.inspect()+", focus: "+i.inspect()+"]"}G.removeRange=P&&w?function(t){if("Control"==this.docSelection.type){for(var e=this.docSelection.createRange(),n=j(t),i=d(e.item(0)),o=f(i).createControlRange(),s=!1,r=0,a=e.length;r<a;++r)e.item(r)!==n||s?o.add(e.item(r)):s=!0;o.select(),q(this)}else Q(this,t)}:function(t){Q(this,t)},!_&&S&&h.implementsDomRange?(Z=y,G.isBackward=function(){return Z(this)}):Z=G.isBackward=function(){return!1},G.isBackwards=G.isBackward,G.toString=function(){for(var t=[],e=0,n=this.rangeCount;e<n;++e)t[e]=""+this._ranges[e];return t.join("")},G.collapse=function(e,n){J(this,e);var i=t.createRange(e);i.collapseToPoint(e,n),this.setSingleRange(i),this.isCollapsed=!0},G.collapseToStart=function(){if(!this.rangeCount)throw new c("INVALID_STATE_ERR");var t=this._ranges[0];this.collapse(t.startContainer,t.startOffset)},G.collapseToEnd=function(){if(!this.rangeCount)throw new c("INVALID_STATE_ERR");var t=this._ranges[this.rangeCount-1];this.collapse(t.endContainer,t.endOffset)},G.selectAllChildren=function(e){J(this,e);var n=t.createRange(e);n.selectNodeContents(e),this.setSingleRange(n)},G.deleteFromDocument=function(){if(P&&w&&"Control"==this.docSelection.type){for(var t,e=this.docSelection.createRange();e.length;)t=e.item(0),e.remove(t),t.parentNode.removeChild(t);this.refresh()}else if(this.rangeCount){var n=this.getAllRanges();if(n.length){this.removeAllRanges();for(var i=0,o=n.length;i<o;++i)n[i].deleteContents();this.addRange(n[o-1])}}},G.eachRange=function(t,e){for(var n=0,i=this._ranges.length;n<i;++n)if(t(this.getRangeAt(n)))return e},G.getAllRanges=function(){var t=[];return this.eachRange(function(e){t.push(e)}),t},G.setSingleRange=function(t,e){this.removeAllRanges(),this.addRange(t,e)},G.callMethodOnEachRange=function(t,e){var n=[];return this.eachRange(function(i){n.push(i[t].apply(i,e))}),n},G.setStart=tt(!0),G.setEnd=tt(!1),t.rangePrototype.select=function(t){U(this.getDocument()).setSingleRange(this,t)},G.changeEachRange=function(t){var e=[],n=this.isBackward();this.eachRange(function(n){t(n),e.push(n)}),this.removeAllRanges(),n&&1==e.length?this.addRange(e[0],"backward"):this.setRanges(e)},G.containsNode=function(t,e){return this.eachRange(function(n){return n.containsNode(t,e)},!0)||!1},G.getBookmark=function(t){return{backward:this.isBackward(),rangeBookmarks:this.callMethodOnEachRange("getBookmark",[t])}},G.moveToBookmark=function(e){for(var n,i,o=[],s=0;n=e.rangeBookmarks[s++];)(i=t.createRange(this.win)).moveToBookmark(n),o.push(i);e.backward?this.setSingleRange(o[0],"backward"):this.setRanges(o)},G.toHtml=function(){var t=[];return this.eachRange(function(e){t.push(a.toHtml(e))}),t.join("")},h.implementsTextRange&&(G.getNativeTextRange=function(){var n;if(n=this.docSelection){var i=n.createRange();if(H(i))return i;throw e.createError("getNativeTextRange: selection is a control selection")}if(this.rangeCount>0)return t.WrappedTextRange.rangeToTextRange(this.getRangeAt(0));throw e.createError("getNativeTextRange: selection contains no range")}),G.getName=function(){return"WrappedSelection"},G.inspect=function(){return et(this)},G.detach=function(){Y(this.win,"delete"),z(this)},$.detachAll=function(){Y(null,"deleteAll")},$.inspect=et,$.isDirectionBackward=g,t.Selection=$,t.selectionPrototype=G,t.addShimListener(function(t){"undefined"==typeof t.getSelection&&(t.getSelection=function(){return U(t)}),t=null})}),y;_("No document found")}else _("No window found")},this),function(t,e){"function"==typeof define&&define.amd?define(["rangy"],t):t(e.rangy)}(function(t){t.createModule("SaveRestore",["WrappedRange"],function(t,e){var n=t.dom,i="\ufeff";function o(t,e){return(e||document).getElementById(t)}function s(t,e){var o,s="selectionBoundary_"+ +new Date+"_"+(""+Math.random()).slice(2),r=n.getDocument(t.startContainer),a=t.cloneRange();return a.collapse(e),(o=r.createElement("span")).id=s,o.style.lineHeight="0",o.style.display="none",o.className="rangySelectionBoundary",o.appendChild(r.createTextNode(i)),a.insertNode(o),o}function r(t,n,i,s){var r=o(i,t);r?(n[s?"setStartBefore":"setEndBefore"](r),r.parentNode.removeChild(r)):e.warn("Marker element has been removed. Cannot restore selection.")}function a(t,e){return e.compareBoundaryPoints(t.START_TO_START,t)}function l(e,n){var i,o=t.DomRange.getRangeDocument(e),r=e.toString();return e.collapsed?{document:o,markerId:(i=s(e,!1)).id,collapsed:!0}:(i=s(e,!1),{document:o,startMarkerId:s(e,!0).id,endMarkerId:i.id,collapsed:!1,backward:n,toString:function(){return"original text: '"+r+"', new text: '"+e.toString()+"'"}})}function c(n,i){var s=n.document;"undefined"==typeof i&&(i=!0);var a=t.createRange(s);if(n.collapsed){var l=o(n.markerId,s);if(l){l.style.display="inline";var c=l.previousSibling;c&&3==c.nodeType?(l.parentNode.removeChild(l),a.collapseToPoint(c,c.length)):(a.collapseBefore(l),l.parentNode.removeChild(l))}else e.warn("Marker element has been removed. Cannot restore selection.")}else r(s,a,n.startMarkerId,!0),r(s,a,n.endMarkerId,!1);return i&&a.normalizeBoundaries(),a}function u(e,n){var i,s,r=[];(e=e.slice(0)).sort(a);for(var c=0,u=e.length;c<u;++c)r[c]=l(e[c],n);for(c=u-1;c>=0;--c)s=t.DomRange.getRangeDocument(i=e[c]),i.collapsed?i.collapseAfter(o(r[c].markerId,s)):(i.setEndBefore(o(r[c].endMarkerId,s)),i.setStartAfter(o(r[c].startMarkerId,s)));return r}function h(t){for(var e=[],n=t.length-1;n>=0;n--)e[n]=c(t[n],!0);return e}function d(t,e){var n=o(e,t);n&&n.parentNode.removeChild(n)}t.util.extend(t,{saveRange:l,restoreRange:c,saveRanges:u,restoreRanges:h,saveSelection:function(n){if(!t.isSelectionValid(n))return e.warn("Cannot save selection. This usually happens when the selection is collapsed and the selection document has lost focus."),null;var i=t.getSelection(n),o=i.getAllRanges(),s=1==o.length&&i.isBackward(),r=u(o,s);return s?i.setSingleRange(o[0],"backward"):i.setRanges(o),{win:n,rangeInfos:r,restored:!1}},restoreSelection:function(e,n){if(!e.restored){var i=e.rangeInfos,o=t.getSelection(e.win),s=h(i);1==i.length&&n&&t.features.selectionHasExtend&&i[0].backward?(o.removeAllRanges(),o.addRange(s[0],!0)):o.setRanges(s),e.restored=!0}},removeMarkerElement:d,removeMarkers:function(t){for(var e,n=t.rangeInfos,i=0,o=n.length;i<o;++i)(e=n[i]).collapsed?d(t.doc,e.markerId):(d(t.doc,e.startMarkerId),d(t.doc,e.endMarkerId))}})})},this);var Base=function(){};Base.extend=function(t,e){var n=Base.prototype.extend;Base._prototyping=!0;var i=new this;n.call(i,t),i.base=function(){},delete Base._prototyping;var o=i.constructor,s=i.constructor=function(){if(!Base._prototyping)if(this._constructing||this.constructor==s)this._constructing=!0,o.apply(this,arguments),delete this._constructing;else if(null!=arguments[0])return(arguments[0].extend||n).call(arguments[0],i)};return s.ancestor=this,s.extend=this.extend,s.forEach=this.forEach,s.implement=this.implement,s.prototype=i,s.toString=this.toString,s.valueOf=function(t){return"object"==t?s:o.valueOf()},n.call(s,e),"function"==typeof s.init&&s.init(),s},Base.prototype={extend:function(t,e){if(arguments.length>1){var n=this[t];if(n&&"function"==typeof e&&(!n.valueOf||n.valueOf()!=e.valueOf())&&/\bbase\b/.test(e)){var i=e.valueOf();(e=function(){var t=this.base||Base.prototype.base;this.base=n;var e=i.apply(this,arguments);return this.base=t,e}).valueOf=function(t){return"object"==t?e:i},e.toString=Base.toString}this[t]=e}else if(t){var o=Base.prototype.extend;Base._prototyping||"function"==typeof this||(o=this.extend||o);for(var s={toSource:null},r=["constructor","toString","valueOf"],a=Base._prototyping?0:1;l=r[a++];)t[l]!=s[l]&&o.call(this,l,t[l]);for(var l in t)s[l]||o.call(this,l,t[l])}return this}},Base=Base.extend({constructor:function(){this.extend(arguments[0])}},{ancestor:Object,version:"1.1",forEach:function(t,e,n){for(var i in t)void 0===this.prototype[i]&&e.call(n,t[i],i,t)},implement:function(){for(var t=0;t<arguments.length;t++)"function"==typeof arguments[t]?arguments[t](this.prototype):this.prototype.extend(arguments[t]);return this},toString:function(){return String(this.valueOf())}}),wysihtml5.browser=function(){var t,e,n=navigator.userAgent,i=document.createElement("div"),o=-1!==n.indexOf("Gecko")&&-1===n.indexOf("KHTML"),s=-1!==n.indexOf("AppleWebKit/"),r=-1!==n.indexOf("Chrome/"),a=-1!==n.indexOf("Opera/");function l(t,e){var n,i=-1;return"Microsoft Internet Explorer"==navigator.appName?n=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})"):"Netscape"==navigator.appName&&(n=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})")),n&&null!=n.exec(navigator.userAgent)&&(i=parseFloat(RegExp.$1)),-1!==i&&(!t||(e?"<"===e?t<i:">"===e?t>i:"<="===e?t<=i:">="===e?t>=i:void 0:t===i))}return{USER_AGENT:n,supported:function(){var t=this.USER_AGENT.toLowerCase(),e="contentEditable"in i,n=document.execCommand&&document.queryCommandSupported&&document.queryCommandState,o=document.querySelector&&document.querySelectorAll,s=this.isIos()&&function(t){return+(/ipad|iphone|ipod/.test(t)&&t.match(/ os (\d+).+? like mac os x/)||[void 0,0])[1]}(t)<5||this.isAndroid()&&function(t){return+(t.match(/android (\d+)/)||[void 0,0])[1]}(t)<4||-1!==t.indexOf("opera mobi")||-1!==t.indexOf("hpwos/");return e&&n&&o&&!s},isTouchDevice:function(){return this.supportsEvent("touchmove")},isIos:function(){return/ipad|iphone|ipod/i.test(this.USER_AGENT)},isAndroid:function(){return-1!==this.USER_AGENT.indexOf("Android")},supportsSandboxedIframes:function(){return l()},throwsMixedContentWarningWhenIframeSrcIsEmpty:function(){return!("querySelector"in document)},displaysCaretInEmptyContentEditableCorrectly:function(){return l()},hasCurrentStyleProperty:function(){return"currentStyle"in i},hasHistoryIssue:function(){return o&&"Mac"===navigator.platform.substr(0,3)},insertsLineBreaksOnReturn:function(){return o},supportsPlaceholderAttributeOn:function(t){return"placeholder"in t},supportsEvent:function(t){return"on"+t in i||(i.setAttribute("on"+t,"return;"),"function"==typeof i["on"+t])},supportsEventsInIframeCorrectly:function(){return!a},supportsHTML5Tags:function(t){var e=t.createElement("div"),n="<article>foo</article>";return e.innerHTML=n,e.innerHTML.toLowerCase()===n},supportsCommand:(t={formatBlock:l(10,"<="),insertUnorderedList:l(),insertOrderedList:l()},e={insertHTML:o},function(n,i){if(!t[i]){try{return n.queryCommandSupported(i)}catch(t){}try{return n.queryCommandEnabled(i)}catch(t){return!!e[i]}}return!1}),doesAutoLinkingInContentEditable:function(){return l()},canDisableAutoLinking:function(){return this.supportsCommand(document,"AutoUrlDetect")},clearsContentEditableCorrectly:function(){return o||a||s},supportsGetAttributeCorrectly:function(){return"1"!=document.createElement("td").getAttribute("rowspan")},canSelectImagesInContentEditable:function(){return o||l()||a},autoScrollsToCaret:function(){return!s},autoClosesUnclosedTags:function(){var t,e,n=i.cloneNode(!1);return n.innerHTML="<p><div></div>",e=n.innerHTML.toLowerCase(),t="<p></p><div></div>"===e||"<p><div></div></p>"===e,this.autoClosesUnclosedTags=function(){return t},t},supportsNativeGetElementsByClassName:function(){return-1!==String(document.getElementsByClassName).indexOf("[native code]")},supportsSelectionModify:function(){return"getSelection"in window&&"modify"in window.getSelection()},needsSpaceAfterLineBreak:function(){return a},supportsSpeechApiOn:function(t){return(n.match(/Chrome\/(\d+)/)||[void 0,0])[1]>=11&&("onwebkitspeechchange"in t||"speech"in t)},crashesWhenDefineProperty:function(t){return l(9)&&("XMLHttpRequest"===t||"XDomainRequest"===t)},doesAsyncFocus:function(){return l()},hasProblemsSettingCaretAfterImg:function(){return l()},hasUndoInContextMenu:function(){return o||r||a},hasInsertNodeIssue:function(){return a},hasIframeFocusIssue:function(){return l()},createsNestedInvalidMarkupAfterPaste:function(){return s},supportsMutationEvents:function(){return"MutationEvent"in window}}}(),wysihtml5.lang.array=function(t){return{contains:function(e){if(Array.isArray(e)){for(var n=e.length;n--;)if(-1!==wysihtml5.lang.array(t).indexOf(e[n]))return!0;return!1}return-1!==wysihtml5.lang.array(t).indexOf(e)},indexOf:function(e){if(t.indexOf)return t.indexOf(e);for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},without:function(e){e=wysihtml5.lang.array(e);for(var n=[],i=0,o=t.length;i<o;i++)e.contains(t[i])||n.push(t[i]);return n},get:function(){for(var e=0,n=t.length,i=[];e<n;e++)i.push(t[e]);return i},map:function(e,n){if(Array.prototype.map)return t.map(e,n);for(var i=t.length>>>0,o=new Array(i),s=0;s<i;s++)o[s]=e.call(n,t[s],s,t);return o},unique:function(){for(var e=[],n=t.length,i=0;i<n;)wysihtml5.lang.array(e).contains(t[i])||e.push(t[i]),i++;return e}}},wysihtml5.lang.Dispatcher=Base.extend({on:function(t,e){return this.events=this.events||{},this.events[t]=this.events[t]||[],this.events[t].push(e),this},off:function(t,e){this.events=this.events||{};var n,i,o=0;if(t){for(n=this.events[t]||[],i=[];o<n.length;o++)n[o]!==e&&e&&i.push(n[o]);this.events[t]=i}else this.events={};return this},fire:function(t,e){this.events=this.events||{};for(var n=this.events[t]||[],i=0;i<n.length;i++)n[i].call(this,e);return this},observe:function(){return this.on.apply(this,arguments)},stopObserving:function(){return this.off.apply(this,arguments)}}),wysihtml5.lang.object=function(t){return{merge:function(e){for(var n in e)t[n]=e[n];return this},get:function(){return t},clone:function(){var e,n={};for(e in t)n[e]=t[e];return n},isArray:function(){return"[object Array]"===Object.prototype.toString.call(t)}}},function(){var t=/^\s+/,e=/\s+$/,n=/[&<>"]/g,i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};wysihtml5.lang.string=function(o){return o=String(o),{trim:function(){return o.replace(t,"").replace(e,"")},interpolate:function(t){for(var e in t)o=this.replace("#{"+e+"}").by(t[e]);return o},replace:function(t){return{by:function(e){return o.split(t).join(e)}}},escapeHTML:function(){return o.replace(n,function(t){return i[t]})}}}}(),function(t){var e=t.lang.array(["CODE","PRE","A","SCRIPT","HEAD","TITLE","STYLE"]),n=/((https?:\/\/|www\.)[^\s<]{3,})/gi,i=/([^\w\/\-](,?))$/i,o={")":"(","]":"[","}":"{"};t.dom.autoLink=function(s,r){return function(n,i){for(var o;n.parentNode;){if(o=(n=n.parentNode).nodeName,n.className&&t.lang.array(n.className.split(" ")).contains(i))return!0;if(e.contains(o))return!0;if("body"===o)return!1}return!1}(s,r)?s:(s===s.ownerDocument.documentElement&&(s=s.ownerDocument.body),function s(r,a){if(!(e.contains(r.nodeName)||r.className&&t.lang.array(r.className.split(" ")).contains(a))){if(r.nodeType!==t.TEXT_NODE||!r.data.match(n)){for(var l=t.lang.array(r.childNodes).get(),c=l.length,u=0;u<c;u++)s(l[u],a);return r}!function(e){var s=e.parentNode,r=t.lang.string(e.data).escapeHTML(),a=function(t){var e=t._wysihtml5_tempElement;return e||(e=t._wysihtml5_tempElement=t.createElement("div")),e}(s.ownerDocument);for(a.innerHTML="<span></span>"+r.replace(n,function(t,e){var n=(e.match(i)||[])[1]||"",s=o[n];(e=e.replace(i,"")).split(s).length>e.split(n).length&&(e+=n,n="");var r=e,a=e;return e.length>100&&(a=a.substr(0,100)+"..."),"www."===r.substr(0,4)&&(r="http://"+r),'<a href="'+r+'">'+a+"</a>"+n}),a.removeChild(a.firstChild);a.firstChild;)s.insertBefore(a.firstChild,e);s.removeChild(e)}(r)}}(s,r))},t.dom.autoLink.URL_REG_EXP=n}(wysihtml5),function(t){var e=t.dom;e.addClass=function(t,n){var i=t.classList;if(i)return i.add(n);e.hasClass(t,n)||(t.className+=" "+n)},e.removeClass=function(t,e){var n=t.classList;if(n)return n.remove(e);t.className=t.className.replace(new RegExp("(^|\\s+)"+e+"(\\s+|$)")," ")},e.hasClass=function(t,e){var n=t.classList;if(n)return n.contains(e);var i=t.className;return i.length>0&&(i==e||new RegExp("(^|\\s)"+e+"(\\s|$)").test(i))}}(wysihtml5),wysihtml5.dom.contains=function(){var t=document.documentElement;return t.contains?function(t,e){return e.nodeType!==wysihtml5.ELEMENT_NODE&&(e=e.parentNode),t!==e&&t.contains(e)}:t.compareDocumentPosition?function(t,e){return!!(16&t.compareDocumentPosition(e))}:void 0}(),wysihtml5.dom.convertToList=function(){function t(t,e){var n=t.createElement("li");return e.appendChild(n),n}return function(e,n,i){if("UL"===e.nodeName||"OL"===e.nodeName||"MENU"===e.nodeName)return e;var o,s,r,a,l,c,u,h,d,f=e.ownerDocument,p=function(t,e){return t.createElement(n)}(f),g=e.querySelectorAll("br"),m=g.length;for(d=0;d<m;d++)for(a=g[d];(l=a.parentNode)&&l!==e&&l.lastChild===a;){if("block"===wysihtml5.dom.getStyle("display").from(l)){l.removeChild(a);break}wysihtml5.dom.insert(a).after(a.parentNode)}for(s=(o=wysihtml5.lang.array(e.childNodes).get()).length,d=0;d<s;d++)h=h||t(f,p),r=o[d],c="block"===wysihtml5.dom.getStyle("display").from(r),u="BR"===r.nodeName,!c||i&&wysihtml5.dom.hasClass(r,i)?u?h=h.firstChild?null:h:h.appendChild(r):((h=h.firstChild?t(f,p):h).appendChild(r),h=null);return 0===o.length&&t(f,p),e.parentNode.replaceChild(p,e),p}}(),wysihtml5.dom.copyAttributes=function(t){return{from:function(e){return{to:function(n){for(var i,o=0,s=t.length;o<s;o++)"undefined"!=typeof e[i=t[o]]&&""!==e[i]&&(n[i]=e[i]);return{andTo:arguments.callee}}}}}},function(t){var e=["-webkit-box-sizing","-moz-box-sizing","-ms-box-sizing","box-sizing"];t.copyStyles=function(n){return{from:function(i){(function(n){return!!function(n){for(var i=0,o=e.length;i<o;i++)if("border-box"===t.getStyle(e[i]).from(n))return e[i]}(n)&&parseInt(t.getStyle("width").from(n),10)<n.offsetWidth})(i)&&(n=wysihtml5.lang.array(n).without(e));for(var o,s="",r=n.length,a=0;a<r;a++)s+=(o=n[a])+":"+t.getStyle(o).from(i)+";";return{to:function(e){return t.setStyles(s).on(e),{andTo:arguments.callee}}}}}}}(wysihtml5.dom),function(t){t.dom.delegate=function(e,n,i,o){return t.dom.observe(e,i,function(i){for(var s=i.target,r=t.lang.array(e.querySelectorAll(n));s&&s!==e;){if(r.contains(s)){o.call(s,i);break}s=s.parentNode}})}}(wysihtml5),function(t){t.dom.domNode=function(e){var n=[t.ELEMENT_NODE,t.TEXT_NODE],i=function(e){return e.nodeType===t.TEXT_NODE&&/^\s*$/g.test(e.data)};return{prev:function(o){var s=e.previousSibling;return s?!t.lang.array(o&&o.nodeTypes?o.nodeTypes:n).contains(s.nodeType)||o&&o.ignoreBlankTexts&&i(s)?t.dom.domNode(s).prev(o):s:null},next:function(o){var s=e.nextSibling;return s?!t.lang.array(o&&o.nodeTypes?o.nodeTypes:n).contains(s.nodeType)||o&&o.ignoreBlankTexts&&i(s)?t.dom.domNode(s).next(o):s:null}}}}(wysihtml5),wysihtml5.dom.getAsDom=function(){var t=["abbr","article","aside","audio","bdi","canvas","command","datalist","details","figcaption","figure","footer","header","hgroup","keygen","mark","meter","nav","output","progress","rp","rt","ruby","svg","section","source","summary","time","track","video","wbr"];return function(e,n){var i;return n=n||document,"object"==typeof e&&e.nodeType?(i=n.createElement("div")).appendChild(e):wysihtml5.browser.supportsHTML5Tags(n)?(i=n.createElement("div")).innerHTML=e:(function(e){if(!e._wysihtml5_supportsHTML5Tags){for(var n=0,i=t.length;n<i;n++)e.createElement(t[n]);e._wysihtml5_supportsHTML5Tags=!0}}(n),i=function(t,e){var n=e.createElement("div");n.style.display="none",e.body.appendChild(n);try{n.innerHTML=t}catch(t){}return e.body.removeChild(n),n}(e,n)),i}}(),wysihtml5.dom.getParentElement=function(){function t(t){return t.nodeType===wysihtml5.ELEMENT_NODE}function e(t,e,n){var i=(t.className||"").match(n)||[];return e?i[i.length-1]===e:!!i.length}return function(n,i,o,s){var r,a,l,c,u,h=i.cssStyle||i.styleRegExp,d=i.className||i.classRegExp;for(o=o||50;o--&&n&&"BODY"!==n.nodeName&&(!s||n!==s);){if(t(n)&&(c=n.nodeName,!(u=i.nodeName)||!u.length||("string"==typeof u?c===u:wysihtml5.lang.array(u).contains(c)))&&(!h||(r=i.cssStyle,a=i.styleRegExp,l=(n.getAttribute("style")||"").match(a)||[],r?l[l.length-1]===r:l.length))&&(!d||e(n,i.className,i.classRegExp)))return n;n=n.parentNode}return null}}(),wysihtml5.dom.getStyle=function(){var t={float:"styleFloat"in document.createElement("div").style?"styleFloat":"cssFloat"},e=/\-[a-z]/g;return function(n){return{from:function(i){if(i.nodeType===wysihtml5.ELEMENT_NODE){var o=i.ownerDocument,s=t[n]||n.replace(e,function(t){return t.charAt(1).toUpperCase()}),r=i.style,a=i.currentStyle,l=r[s];if(l)return l;if(a)try{return a[s]}catch(t){}var c,u,h=o.defaultView||o.parentWindow,d=("height"===n||"width"===n)&&"TEXTAREA"===i.nodeName;return h.getComputedStyle?(d&&(c=r.overflow,r.overflow="hidden"),u=h.getComputedStyle(i,null).getPropertyValue(n),d&&(r.overflow=c||""),u):void 0}}}}}(),wysihtml5.dom.getTextNodes=function(t,e){var n=[];for(t=t.firstChild;t;t=t.nextSibling)3==t.nodeType?e&&/^\s*$/.test(t.innerText||t.textContent)||n.push(t):n=n.concat(wysihtml5.dom.getTextNodes(t,e));return n},wysihtml5.dom.hasElementWithTagName=function(){var t={},e=1;return function(n,i){var o=function(t){return t._wysihtml5_identifier||(t._wysihtml5_identifier=e++)}(n)+":"+i,s=t[o];return s||(s=t[o]=n.getElementsByTagName(i)),s.length>0}}(),function(t){var e={},n=1;t.dom.hasElementWithClassName=function(i,o){if(!t.browser.supportsNativeGetElementsByClassName())return!!i.querySelector("."+o);var s=function(t){return t._wysihtml5_identifier||(t._wysihtml5_identifier=n++)}(i)+":"+o,r=e[s];return r||(r=e[s]=i.getElementsByClassName(o)),r.length>0}}(wysihtml5),wysihtml5.dom.insert=function(t){return{after:function(e){e.parentNode.insertBefore(t,e.nextSibling)},before:function(e){e.parentNode.insertBefore(t,e)},into:function(e){e.appendChild(t)}}},wysihtml5.dom.insertCSS=function(t){return t=t.join("\n"),{into:function(e){var n=e.createElement("style");n.type="text/css",n.styleSheet?n.styleSheet.cssText=t:n.appendChild(e.createTextNode(t));var i=e.querySelector("head link");if(i)i.parentNode.insertBefore(n,i);else{var o=e.querySelector("head");o&&o.appendChild(n)}}}},function(t){t.dom.lineBreaks=function(e){function n(t){return"BR"===t.nodeName}function i(e){return!!n(e)||"block"===t.dom.getStyle("display").from(e)}return{add:function(n){var o=e.ownerDocument,s=t.dom.domNode(e).next({ignoreBlankTexts:!0}),r=t.dom.domNode(e).prev({ignoreBlankTexts:!0});s&&!i(s)&&t.dom.insert(o.createElement("br")).after(e),r&&!i(r)&&t.dom.insert(o.createElement("br")).before(e)},remove:function(i){var o=t.dom.domNode(e).next({ignoreBlankTexts:!0}),s=t.dom.domNode(e).prev({ignoreBlankTexts:!0});o&&n(o)&&o.parentNode.removeChild(o),s&&n(s)&&s.parentNode.removeChild(s)}}}}(wysihtml5),wysihtml5.dom.observe=function(t,e,n){for(var i,o,s=0,r=(e="string"==typeof e?[e]:e).length;s<r;s++)o=e[s],t.addEventListener?t.addEventListener(o,n,!1):t.attachEvent("on"+o,i=function(e){"target"in e||(e.target=e.srcElement),e.preventDefault=e.preventDefault||function(){this.returnValue=!1},e.stopPropagation=e.stopPropagation||function(){this.cancelBubble=!0},n.call(t,e)});return{stop:function(){for(var o,s=0,r=e.length;s<r;s++)o=e[s],t.removeEventListener?t.removeEventListener(o,n,!1):t.detachEvent("on"+o,i)}}},wysihtml5.dom.parse=function(){var t={1:function(t,i){var s,r,l=o.tags,u=t.nodeName.toLowerCase(),h=t.scopeName;if(t._wysihtml5)return null;if(t._wysihtml5=1,"wysihtml5-temp"===t.className)return null;if(h&&"HTML"!=h&&(u=h+":"+u),"outerHTML"in t&&(wysihtml5.browser.autoClosesUnclosedTags()||"P"!==t.nodeName||"</p>"===t.outerHTML.slice(-4).toLowerCase()||(u="div")),u in l){if(!(s=l[u])||s.remove)return null;if(s.unwrap)return!1;s="string"==typeof s?{rename_tag:s}:s}else{if(!t.firstChild)return null;s={rename_tag:e}}return function(t,e,i,s){var r,a,l,u,h,d,f,p={},y=i.set_class,b=i.add_class,w=i.add_style,_=i.set_attributes,x=i.check_attributes,C=o.classes,k=0,S=[],T=[],D=[],O=[];if(_&&(p=wysihtml5.lang.object(_).clone()),x)for(u in x)(d=g[x[u]])&&((f=c(t,u))||"alt"===u&&"IMG"==t.nodeName)&&"string"==typeof(h=d(f))&&(p[u]=h);if(y&&S.push(y),b)for(u in b)(d=v[b[u]])&&"string"==typeof(l=d(c(t,u)))&&S.push(l);if(w)for(u in w)(d=m[w[u]])&&(newStyle=d(c(t,u)),"string"==typeof newStyle&&T.push(newStyle));if("string"==typeof C&&"any"===C&&t.getAttribute("class"))p.class=t.getAttribute("class");else{for(s||(C["_wysihtml5-temp-placeholder"]=1,C._rangySelectionBoundary=1,C["wysiwyg-tmp-selected-cell"]=1),(O=t.getAttribute("class"))&&(S=S.concat(O.split(n))),r=S.length;k<r;k++)C[a=S[k]]&&D.push(a);D.length&&(p.class=wysihtml5.lang.array(D).unique().join(" "))}for(u in p.class&&s&&(p.class=p.class.replace("wysiwyg-tmp-selected-cell",""),/^\s*$/g.test(p.class)&&delete p.class),T.length&&(p.style=wysihtml5.lang.array(T).unique().join(" ")),p)try{e.setAttribute(u,p[u])}catch(t){}p.src&&("undefined"!=typeof p.width&&e.setAttribute("width",p.width),"undefined"!=typeof p.height&&e.setAttribute("height",p.height))}(t,r=t.ownerDocument.createElement(s.rename_tag||u),s,i),function(t,e,n){var i;if(n&&n.keep_styles)for(i in n.keep_styles)n.keep_styles.hasOwnProperty(i)&&("float"==i?(t.style.styleFloat&&(e.style.styleFloat=t.style.styleFloat),t.style.cssFloat&&(e.style.cssFloat=t.style.cssFloat)):t.style[i]&&(e.style[i]=t.style[i]))}(t,r,s),s.one_of_type&&!function(t,e,n,i){var o;if("SPAN"===t.nodeName&&!i&&("_wysihtml5-temp-placeholder"===t.className||"rangySelectionBoundary"===t.className))return!0;for(o in n)if(n.hasOwnProperty(o)&&e.type_definitions&&e.type_definitions[o]&&a(t,e.type_definitions[o]))return!0;return!1}(t,o,s.one_of_type,i)?(!s.remove_action||"unwrap"!=s.remove_action)&&null:(t=null,r.normalize&&r.normalize(),r)},3:function(t){var e=t.nextSibling;if(!e||e.nodeType!==wysihtml5.TEXT_NODE){var n=t.data.replace(p,"");return t.ownerDocument.createTextNode(n)}e.data=t.data.replace(p,"")+e.data.replace(p,"")},8:function(t){if(o.comments)return t.ownerDocument.createComment(t.nodeValue)}},e="span",n=/\s+/,i={tags:{},classes:{}},o={},s=!1;function r(n,i,o){var a,l,c,u=n.nodeType,h=n.childNodes,d=h.length,f=t[u],p=0;if(s&&1===u&&wysihtml5.dom.hasClass(n,s))return n;if(!(l=f&&f(n,o))){if(!1===l){for(a=n.ownerDocument.createDocumentFragment(),p=d;p--;)h[p]&&(c=r(h[p],i,o))&&(h[p]===c&&p--,a.insertBefore(c,a.firstChild));return wysihtml5.lang.array(["div","pre","p","table","td","th","ul","ol","li","dd","dl","footer","header","section","h1","h2","h3","h4","h5","h6"]).contains(n.nodeName.toLowerCase())&&n.parentNode.lastChild!==n&&(n.nextSibling&&3===n.nextSibling.nodeType&&/^\s/.test(n.nextSibling.nodeValue)||a.appendChild(n.ownerDocument.createTextNode(" "))),a.normalize&&a.normalize(),a}return null}for(p=0;p<d;p++)h[p]&&(c=r(h[p],i,o))&&(h[p]===c&&p--,l.appendChild(c));if(i&&l.nodeName.toLowerCase()===e&&(!l.childNodes.length||/^\s*$/gi.test(l.innerHTML)&&(o||"_wysihtml5-temp-placeholder"!==n.className&&"rangySelectionBoundary"!==n.className)||!l.attributes.length)){for(a=l.ownerDocument.createDocumentFragment();l.firstChild;)a.appendChild(l.firstChild);return a.normalize&&a.normalize(),a}return l.normalize&&l.normalize(),l}function a(t,e){var i,o,s,r,a,l=t.getAttribute("class"),u=t.getAttribute("style");if(e.methods)for(var h in e.methods)if(e.methods.hasOwnProperty(h)&&y[h]&&y[h](t))return!0;if(l&&e.classes){i=(l=l.replace(/^\s+/g,"").replace(/\s+$/g,"").split(n)).length;for(var d=0;d<i;d++)if(e.classes[l[d]])return!0}if(u&&e.styles)for(o in u=u.split(";"),e.styles)if(e.styles.hasOwnProperty(o))for(var f=u.length;f--;)if((a=u[f].split(":"))[0].replace(/\s/g,"").toLowerCase()===o&&(!0===e.styles[o]||1===e.styles[o]||wysihtml5.lang.array(e.styles[o]).contains(a[1].replace(/\s/g,"").toLowerCase())))return!0;if(e.attrs)for(s in e.attrs)if(e.attrs.hasOwnProperty(s)&&"string"==typeof(r=c(t,s))&&r.search(e.attrs[s])>-1)return!0;return!1}var l=!wysihtml5.browser.supportsGetAttributeCorrectly();function c(t,e){return e=e.toLowerCase(),"IMG"==t.nodeName&&"src"==e&&!0===function(t){try{return t.complete&&!t.mozMatchesSelector(":-moz-broken")}catch(e){if(t.complete&&"complete"===t.readyState)return!0}}(t)?t.src:l&&"outerHTML"in t?-1!=t.outerHTML.toLowerCase().indexOf(" "+e+"=")?t.getAttribute(e):null:t.getAttribute(e)}var u,h,d,f,p=/\uFEFF/g,g={url:(u=/^https?:\/\//i,function(t){return t&&t.match(u)?t.replace(u,function(t){return t.toLowerCase()}):null}),src:function(){var t=/^(\/|https?:\/\/)/i;return function(e){return e&&e.match(t)?e.replace(t,function(t){return t.toLowerCase()}):null}}(),href:function(){var t=/^(#|\/|https?:\/\/|mailto:)/i;return function(e){return e&&e.match(t)?e.replace(t,function(t){return t.toLowerCase()}):null}}(),alt:function(){var t=/[^ a-z0-9_\-]/gi;return function(e){return e?e.replace(t,""):""}}(),numbers:function(){var t=/\D/g;return function(e){return(e=(e||"").replace(t,""))||null}}(),any:function(t){return t}},m={align_text:(h={left:"text-align: left;",right:"text-align: right;",center:"text-align: center;"},function(t){return h[String(t).toLowerCase()]})},v={align_img:function(){var t={left:"wysiwyg-float-left",right:"wysiwyg-float-right"};return function(e){return t[String(e).toLowerCase()]}}(),align_text:function(){var t={left:"wysiwyg-text-align-left",right:"wysiwyg-text-align-right",center:"wysiwyg-text-align-center",justify:"wysiwyg-text-align-justify"};return function(e){return t[String(e).toLowerCase()]}}(),clear_br:function(){var t={left:"wysiwyg-clear-left",right:"wysiwyg-clear-right",both:"wysiwyg-clear-both",all:"wysiwyg-clear-both"};return function(e){return t[String(e).toLowerCase()]}}(),size_font:function(){var t={1:"wysiwyg-font-size-xx-small",2:"wysiwyg-font-size-small",3:"wysiwyg-font-size-medium",4:"wysiwyg-font-size-large",5:"wysiwyg-font-size-x-large",6:"wysiwyg-font-size-xx-large",7:"wysiwyg-font-size-xx-large","-":"wysiwyg-font-size-smaller","+":"wysiwyg-font-size-larger"};return function(e){return t[String(e).charAt(0)]}}()},y={has_visible_contet:(f=["img","video","picture","br","script","noscript","style","table","iframe","object","embed","audio","svg","input","button","select","textarea","canvas"],function(t){if((d=(t.innerText||t.textContent).replace(/\s/g,""))&&d.length>0)return!0;for(var e=f.length;e--;)if(t.querySelector(f[e]))return!0;return!!(t.offsetWidth&&t.offsetWidth>0&&t.offsetHeight&&t.offsetHeight>0)})};return function(t,e){wysihtml5.lang.object(o).merge(i).merge(e.rules).get();var n,a,l,c=e.context||t.ownerDocument||document,u=c.createDocumentFragment(),h="string"==typeof t,d=!1;for(!0===e.clearInternals&&(d=!0),e.uneditableClass&&(s=e.uneditableClass),n=h?wysihtml5.dom.getAsDom(t,c):t;n.firstChild;)(a=r(l=n.firstChild,e.cleanUp,d))&&u.appendChild(a),l!==a&&n.removeChild(l);return n.innerHTML="",n.appendChild(u),h?wysihtml5.quirks.getCorrectInnerHTML(n):n}}(),wysihtml5.dom.removeEmptyTextNodes=function(t){for(var e,n=wysihtml5.lang.array(t.childNodes).get(),i=n.length,o=0;o<i;o++)(e=n[o]).nodeType===wysihtml5.TEXT_NODE&&""===e.data&&e.parentNode.removeChild(e)},wysihtml5.dom.renameElement=function(t,e){for(var n,i=t.ownerDocument.createElement(e);n=t.firstChild;)i.appendChild(n);return wysihtml5.dom.copyAttributes(["align","className"]).from(t).to(i),t.parentNode.replaceChild(i,t),i},wysihtml5.dom.replaceWithChildNodes=function(t){if(t.parentNode)if(t.firstChild){for(var e=t.ownerDocument.createDocumentFragment();t.firstChild;)e.appendChild(t.firstChild);t.parentNode.replaceChild(e,t),t=e=null}else t.parentNode.removeChild(t)},function(t){function e(e){return"block"===t.getStyle("display").from(e)}function n(t){return"BR"===t.nodeName}function i(t){var e=t.ownerDocument.createElement("br");t.appendChild(e)}t.resolveList=function(t,o){if(t.nodeName.match(/^(MENU|UL|OL)$/)){var s,r,a,l,c,u=t.ownerDocument,h=u.createDocumentFragment(),d=wysihtml5.dom.domNode(t).prev({ignoreBlankTexts:!0});if(o)for(!d||e(d)||n(d)||i(h);c=t.firstElementChild||t.firstChild;){for(r=c.lastChild;s=c.firstChild;)a=s===r&&!e(s)&&!n(s),h.appendChild(s),a&&i(h);c.parentNode.removeChild(c)}else for(;c=t.firstElementChild||t.firstChild;){if(c.querySelector&&c.querySelector("div, p, ul, ol, menu, blockquote, h1, h2, h3, h4, h5, h6"))for(;s=c.firstChild;)h.appendChild(s);else{for(l=u.createElement("p");s=c.firstChild;)l.appendChild(s);h.appendChild(l)}c.parentNode.removeChild(c)}t.parentNode.replaceChild(h,t)}}}(wysihtml5.dom),function(t){var e=document,n=["parent","top","opener","frameElement","frames","localStorage","globalStorage","sessionStorage","indexedDB"],i=["open","close","openDialog","showModalDialog","alert","confirm","prompt","openDatabase","postMessage","XMLHttpRequest","XDomainRequest"],o=["referrer","write","open","close"];t.dom.Sandbox=Base.extend({constructor:function(e,n){this.callback=e||t.EMPTY_FUNCTION,this.config=t.lang.object({}).merge(n).get(),this.editableArea=this._createIframe()},insertInto:function(t){"string"==typeof t&&(t=e.getElementById(t)),t.appendChild(this.editableArea)},getIframe:function(){return this.editableArea},getWindow:function(){this._readyError()},getDocument:function(){this._readyError()},destroy:function(){var t=this.getIframe();t.parentNode.removeChild(t)},_readyError:function(){throw new Error("wysihtml5.Sandbox: Sandbox iframe isn't loaded yet")},_createIframe:function(){var n=this,i=e.createElement("iframe");return i.className="wysihtml5-sandbox",t.dom.setAttributes({security:"restricted",allowtransparency:"true",frameborder:0,width:0,height:0,marginwidth:0,marginheight:0}).on(i),t.browser.throwsMixedContentWarningWhenIframeSrcIsEmpty()&&(i.src="javascript:'<html></html>'"),i.onload=function(){i.onreadystatechange=i.onload=null,n._onLoadIframe(i)},i.onreadystatechange=function(){/loaded|complete/.test(i.readyState)&&(i.onreadystatechange=i.onload=null,n._onLoadIframe(i))},i},_onLoadIframe:function(s){if(t.dom.contains(e.documentElement,s)){var r=this,a=s.contentWindow,l=s.contentWindow.document,c=this._getHtml({charset:e.characterSet||e.charset||"utf-8",stylesheets:this.config.stylesheets});if(l.open("text/html","replace"),l.write(c),l.close(),this.getWindow=function(){return s.contentWindow},this.getDocument=function(){return s.contentWindow.document},a.onerror=function(t,e,n){throw new Error("wysihtml5.Sandbox: "+t,e,n)},!t.browser.supportsSandboxedIframes()){var u,h;for(u=0,h=n.length;u<h;u++)this._unset(a,n[u]);for(u=0,h=i.length;u<h;u++)this._unset(a,i[u],t.EMPTY_FUNCTION);for(u=0,h=o.length;u<h;u++)this._unset(l,o[u]);this._unset(l,"cookie","",!0)}this.loaded=!0,setTimeout(function(){r.callback(r)},0)}},_getHtml:function(e){var n,i=e.stylesheets,o="",s=0;if(i="string"==typeof i?[i]:i)for(n=i.length;s<n;s++)o+='<link rel="stylesheet" href="'+i[s]+'">';return e.stylesheets=o,t.lang.string('<!DOCTYPE html><html><head><meta charset="#{charset}">#{stylesheets}</head><body></body></html>').interpolate(e)},_unset:function(e,n,i,o){try{e[n]=i}catch(t){}try{e.__defineGetter__(n,function(){return i})}catch(t){}if(o)try{e.__defineSetter__(n,function(){})}catch(t){}if(!t.browser.crashesWhenDefineProperty(n))try{var s={get:function(){return i}};o&&(s.set=function(){}),Object.defineProperty(e,n,s)}catch(t){}}})}(wysihtml5),function(t){var e=document;t.dom.ContentEditableArea=Base.extend({getContentEditable:function(){return this.element},getWindow:function(){return this.element.ownerDocument.defaultView},getDocument:function(){return this.element.ownerDocument},constructor:function(e,n,i){this.callback=e||t.EMPTY_FUNCTION,this.config=t.lang.object({}).merge(n).get(),this.element=i?this._bindElement(i):this._createElement()},_createElement:function(){var t=e.createElement("div");return t.className="wysihtml5-sandbox",this._loadElement(t),t},_bindElement:function(t){return t.className=t.className&&""!=t.className?t.className+" wysihtml5-sandbox":"wysihtml5-sandbox",this._loadElement(t,!0),t},_loadElement:function(t,e){var n=this;if(!e){var i=this._getHtml();t.innerHTML=i}this.getWindow=function(){return t.ownerDocument.defaultView},this.getDocument=function(){return t.ownerDocument},this.loaded=!0,setTimeout(function(){n.callback(n)},0)},_getHtml:function(t){return""}})}(wysihtml5),function(){var t={className:"class"};wysihtml5.dom.setAttributes=function(e){return{on:function(n){for(var i in e)n.setAttribute(t[i]||i,e[i])}}}}(),wysihtml5.dom.setStyles=function(t){return{on:function(e){var n=e.style;if("string"!=typeof t)for(var i in t)"float"===i?(n.cssFloat=t[i],n.styleFloat=t[i]):n[i]=t[i];else n.cssText+=";"+t}}},function(t){t.simulatePlaceholder=function(e,n,i){var o=function(){var e=n.element.offsetWidth>0&&n.element.offsetHeight>0;n.hasPlaceholderSet()&&(n.clear(),n.element.focus(),e&&setTimeout(function(){var t=n.selection.getSelection();t.focusNode&&t.anchorNode||n.selection.selectNode(n.element.firstChild||n.element)},0)),n.placeholderSet=!1,t.removeClass(n.element,"placeholder")},s=function(){n.isEmpty()&&(n.placeholderSet=!0,n.setValue(i),t.addClass(n.element,"placeholder"))};e.on("set_placeholder",s).on("unset_placeholder",o).on("focus:composer",o).on("paste:composer",o).on("blur:composer",s),s()}}(wysihtml5.dom),function(t){var e=document.documentElement;"textContent"in e?(t.setTextContent=function(t,e){t.textContent=e},t.getTextContent=function(t){return t.textContent}):"innerText"in e?(t.setTextContent=function(t,e){t.innerText=e},t.getTextContent=function(t){return t.innerText}):(t.setTextContent=function(t,e){t.nodeValue=e},t.getTextContent=function(t){return t.nodeValue})}(wysihtml5.dom),wysihtml5.dom.getAttribute=function(t,e){var n=!wysihtml5.browser.supportsGetAttributeCorrectly();return e=e.toLowerCase(),"IMG"==t.nodeName&&"src"==e&&!0===_isLoadedImage(t)?t.src:n&&"outerHTML"in t?-1!=t.outerHTML.toLowerCase().indexOf(" "+e+"=")?t.getAttribute(e):null:t.getAttribute(e)},function(t){var e=t.dom,n=function(t){this.el=t,this.isColspan=!1,this.isRowspan=!1,this.firstCol=!0,this.lastCol=!0,this.firstRow=!0,this.lastRow=!0,this.isReal=!0,this.spanCollection=[],this.modified=!1},i=function(t,n){t?(this.cell=t,this.table=e.getParentElement(t,{nodeName:["TABLE"]})):n&&(this.table=n,this.cell=this.table.querySelectorAll("th, td")[0])};function o(t,e){for(var n,i=[],o=0,s=t.length;o<s;o++)if(n=t[o].querySelectorAll(e))for(var r=n.length;r--;i.unshift(n[r]));return i}function s(t){t.parentNode.removeChild(t)}function r(t,e){t.parentNode.insertBefore(e,t.nextSibling)}function a(t,e){for(var n=t.nextSibling;1!=n.nodeType;)if(n=n.nextSibling,!e||e==n.tagName.toLowerCase())return n;return null}i.prototype={addSpannedCellToMap:function(t,e,i,o,s,r){for(var a=[],l=i+(r?parseInt(r,10)-1:0),c=o+(s?parseInt(s,10)-1:0),u=i;u<=l;u++){"undefined"==typeof e[u]&&(e[u]=[]);for(var h=o;h<=c;h++)e[u][h]=new n(t),e[u][h].isColspan=s&&parseInt(s,10)>1,e[u][h].isRowspan=r&&parseInt(r,10)>1,e[u][h].firstCol=h==o,e[u][h].lastCol=h==c,e[u][h].firstRow=u==i,e[u][h].lastRow=u==l,e[u][h].isReal=h==o&&u==i,e[u][h].spanCollection=a,a.push(e[u][h])}},setCellAsModified:function(t){if(t.modified=!0,t.spanCollection.length>0)for(var e=0,n=t.spanCollection.length;e<n;e++)t.spanCollection[e].modified=!0},setTableMap:function(){var t,i,o,s,r,a,l,c=[],u=this.getTableRows();for(t=0;t<u.length;t++)for(i=this.getRowCells(u[t]),r=0,"undefined"==typeof c[t]&&(c[t]=[]),o=0;o<i.length;o++){for(s=i[o];"undefined"!=typeof c[t][r];)r++;a=e.getAttribute(s,"colspan"),l=e.getAttribute(s,"rowspan"),a||l?(this.addSpannedCellToMap(s,c,t,r,a,l),r+=a?parseInt(a,10):1):(c[t][r]=new n(s),r++)}return this.map=c,c},getRowCells:function(e){var n=this.table.querySelectorAll("table"),i=n?o(n,"th, td"):[],s=e.querySelectorAll("th, td");return i.length>0?t.lang.array(s).without(i):s},getTableRows:function(){var e=this.table.querySelectorAll("table"),n=e?o(e,"tr"):[],i=this.table.querySelectorAll("tr");return n.length>0?t.lang.array(i).without(n):i},getMapIndex:function(t){for(var e=this.map.length,n=this.map&&this.map[0]?this.map[0].length:0,i=0;i<e;i++)for(var o=0;o<n;o++)if(this.map[i][o].el===t)return{row:i,col:o};return!1},getElementAtIndex:function(t){return this.setTableMap(),this.map[t.row]&&this.map[t.row][t.col]&&this.map[t.row][t.col].el?this.map[t.row][t.col].el:null},getMapElsTo:function(t){var e=[];if(this.setTableMap(),this.idx_start=this.getMapIndex(this.cell),this.idx_end=this.getMapIndex(t),this.idx_start.row>this.idx_end.row||this.idx_start.row==this.idx_end.row&&this.idx_start.col>this.idx_end.col){var n=this.idx_start;this.idx_start=this.idx_end,this.idx_end=n}if(this.idx_start.col>this.idx_end.col){var i=this.idx_start.col;this.idx_start.col=this.idx_end.col,this.idx_end.col=i}if(null!=this.idx_start&&null!=this.idx_end)for(var o=this.idx_start.row,s=this.idx_end.row;o<=s;o++)for(var r=this.idx_start.col,a=this.idx_end.col;r<=a;r++)e.push(this.map[o][r].el);return e},orderSelectionEnds:function(t){if(this.setTableMap(),this.idx_start=this.getMapIndex(this.cell),this.idx_end=this.getMapIndex(t),this.idx_start.row>this.idx_end.row||this.idx_start.row==this.idx_end.row&&this.idx_start.col>this.idx_end.col){var e=this.idx_start;this.idx_start=this.idx_end,this.idx_end=e}if(this.idx_start.col>this.idx_end.col){var n=this.idx_start.col;this.idx_start.col=this.idx_end.col,this.idx_end.col=n}return{start:this.map[this.idx_start.row][this.idx_start.col].el,end:this.map[this.idx_end.row][this.idx_end.col].el}},createCells:function(t,e,n){for(var i,o=this.table.ownerDocument,s=o.createDocumentFragment(),r=0;r<e;r++){if(i=o.createElement(t),n)for(var a in n)n.hasOwnProperty(a)&&i.setAttribute(a,n[a]);i.appendChild(document.createTextNode("\xa0")),s.appendChild(i)}return s},correctColIndexForUnreals:function(t,e){for(var n=this.map[e],i=-1,o=0;o<t;o++)n[o].isReal&&i++;return i},getLastNewCellOnRow:function(t,e){for(var n,i,o=this.getRowCells(t),s=0,r=o.length;s<r;s++)if(!1===(i=this.getMapIndex(n=o[s]))||"undefined"!=typeof e&&i.row!=e)return n;return null},removeEmptyTable:function(){var t=this.table.querySelectorAll("td, th");return!(t&&0!=t.length||(s(this.table),0))},splitRowToCells:function(t){if(t.isColspan){var n=parseInt(e.getAttribute(t.el,"colspan")||1,10),i=t.el.tagName.toLowerCase();if(n>1){var o=this.createCells(i,n-1);r(t.el,o)}t.el.removeAttribute("colspan")}},getRealRowEl:function(t,n){for(var i=null,o=null,s=0,r=this.map[(n=n||this.idx).row].length;s<r;s++)if((o=this.map[n.row][s]).isReal&&(i=e.getParentElement(o.el,{nodeName:["TR"]})))return i;return null===i&&t&&(i=e.getParentElement(this.map[n.row][n.col].el,{nodeName:["TR"]})||null),i},injectRowAt:function(t,n,i,o,s){var a=this.getRealRowEl(!1,{row:t,col:n}),l=this.createCells(o,i);if(a){var c=this.correctColIndexForUnreals(n,t);c>=0?r(this.getRowCells(a)[c],l):a.insertBefore(l,a.firstChild)}else{var u=this.table.ownerDocument.createElement("tr");u.appendChild(l),r(e.getParentElement(s.el,{nodeName:["TR"]}),u)}},canMerge:function(t){if(this.to=t,this.setTableMap(),this.idx_start=this.getMapIndex(this.cell),this.idx_end=this.getMapIndex(this.to),this.idx_start.row>this.idx_end.row||this.idx_start.row==this.idx_end.row&&this.idx_start.col>this.idx_end.col){var e=this.idx_start;this.idx_start=this.idx_end,this.idx_end=e}if(this.idx_start.col>this.idx_end.col){var n=this.idx_start.col;this.idx_start.col=this.idx_end.col,this.idx_end.col=n}for(var i=this.idx_start.row,o=this.idx_end.row;i<=o;i++)for(var s=this.idx_start.col,r=this.idx_end.col;s<=r;s++)if(this.map[i][s].isColspan||this.map[i][s].isRowspan)return!1;return!0},decreaseCellSpan:function(t,n){var i=parseInt(e.getAttribute(t.el,n),10)-1;i>=1?t.el.setAttribute(n,i):(t.el.removeAttribute(n),"colspan"==n&&(t.isColspan=!1),"rowspan"==n&&(t.isRowspan=!1),t.firstCol=!0,t.lastCol=!0,t.firstRow=!0,t.lastRow=!0,t.isReal=!0)},removeSurplusLines:function(){var t,n,i,o,r,a,l;if(this.setTableMap(),this.map){for(i=0,o=this.map.length;i<o;i++){for(l=!0,r=0,a=(t=this.map[i]).length;r<a;r++)if(!(e.getAttribute((n=t[r]).el,"rowspan")&&parseInt(e.getAttribute(n.el,"rowspan"),10)>1&&!0!==n.firstRow)){l=!1;break}if(l)for(r=0;r<a;r++)this.decreaseCellSpan(t[r],"rowspan")}var c=this.getTableRows();for(i=0,o=c.length;i<o;i++)0==(t=c[i]).childNodes.length&&/^\s*$/.test(t.textContent||t.innerText)&&s(t)}},fillMissingCells:function(){var t=0,e=0,i=null;if(this.setTableMap(),this.map){t=this.map.length;for(var o=0;o<t;o++)this.map[o].length>e&&(e=this.map[o].length);for(var s=0;s<t;s++)for(var a=0;a<e;a++)this.map[s]&&!this.map[s][a]&&a>0&&(this.map[s][a]=new n(this.createCells("td",1)),(i=this.map[s][a-1])&&i.el&&i.el.parent&&r(this.map[s][a-1].el,this.map[s][a].el))}},rectify:function(){return!this.removeEmptyTable()&&(this.removeSurplusLines(),this.fillMissingCells(),!0)},unmerge:function(){if(this.rectify()&&(this.setTableMap(),this.idx=this.getMapIndex(this.cell),this.idx)){var t=this.map[this.idx.row][this.idx.col],n=e.getAttribute(t.el,"colspan")?parseInt(e.getAttribute(t.el,"colspan"),10):1,i=t.el.tagName.toLowerCase();if(t.isRowspan){var o=parseInt(e.getAttribute(t.el,"rowspan"),10);if(o>1)for(var s=1,r=o-1;s<=r;s++)this.injectRowAt(this.idx.row+s,this.idx.col,n,i,t);t.el.removeAttribute("rowspan")}this.splitRowToCells(t)}},merge:function(t){if(this.rectify())if(this.canMerge(t)){for(var e=this.idx_end.row-this.idx_start.row+1,n=this.idx_end.col-this.idx_start.col+1,i=this.idx_start.row,o=this.idx_end.row;i<=o;i++)for(var r=this.idx_start.col,a=this.idx_end.col;r<=a;r++)i==this.idx_start.row&&r==this.idx_start.col?(e>1&&this.map[i][r].el.setAttribute("rowspan",e),n>1&&this.map[i][r].el.setAttribute("colspan",n)):(/^\s*<br\/?>\s*$/.test(this.map[i][r].el.innerHTML.toLowerCase())||(this.map[this.idx_start.row][this.idx_start.col].el.innerHTML+=" "+this.map[i][r].el.innerHTML),s(this.map[i][r].el));this.rectify()}else window.console&&console.log("Do not know how to merge allready merged cells.")},collapseCellToNextRow:function(t){var n=this.getMapIndex(t.el),i=n.row+1,o={row:i,col:n.col};if(i<this.map.length){var s=this.getRealRowEl(!1,o);if(null!==s){var a=this.correctColIndexForUnreals(o.col,o.row);if(a>=0)r(this.getRowCells(s)[a],t.el);else{var l=this.getLastNewCellOnRow(s,i);null!==l?r(l,t.el):s.insertBefore(t.el,s.firstChild)}parseInt(e.getAttribute(t.el,"rowspan"),10)>2?t.el.setAttribute("rowspan",parseInt(e.getAttribute(t.el,"rowspan"),10)-1):t.el.removeAttribute("rowspan")}}},removeRowCell:function(t){t.isReal?t.isRowspan?this.collapseCellToNextRow(t):s(t.el):parseInt(e.getAttribute(t.el,"rowspan"),10)>2?t.el.setAttribute("rowspan",parseInt(e.getAttribute(t.el,"rowspan"),10)-1):t.el.removeAttribute("rowspan")},getRowElementsByCell:function(){var t=[];if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),!1!==this.idx)for(var e=this.map[this.idx.row],n=0,i=e.length;n<i;n++)e[n].isReal&&t.push(e[n].el);return t},getColumnElementsByCell:function(){var t=[];if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),!1!==this.idx)for(var e=0,n=this.map.length;e<n;e++)this.map[e][this.idx.col]&&this.map[e][this.idx.col].isReal&&t.push(this.map[e][this.idx.col].el);return t},removeRow:function(){var t=e.getParentElement(this.cell,{nodeName:["TR"]});if(t){if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),!1!==this.idx)for(var n=this.map[this.idx.row],i=0,o=n.length;i<o;i++)n[i].modified||(this.setCellAsModified(n[i]),this.removeRowCell(n[i]));s(t)}},removeColCell:function(t){t.isColspan?parseInt(e.getAttribute(t.el,"colspan"),10)>2?t.el.setAttribute("colspan",parseInt(e.getAttribute(t.el,"colspan"),10)-1):t.el.removeAttribute("colspan"):t.isReal&&s(t.el)},removeColumn:function(){if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),!1!==this.idx)for(var t=0,e=this.map.length;t<e;t++)this.map[t][this.idx.col].modified||(this.setCellAsModified(this.map[t][this.idx.col]),this.removeColCell(this.map[t][this.idx.col]))},remove:function(t){if(this.rectify()){switch(t){case"row":this.removeRow();break;case"column":this.removeColumn()}this.rectify()}},addRow:function(t){var n=this.table.ownerDocument;if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),"below"==t&&e.getAttribute(this.cell,"rowspan")&&(this.idx.row=this.idx.row+parseInt(e.getAttribute(this.cell,"rowspan"),10)-1),!1!==this.idx){for(var i=this.map[this.idx.row],o=n.createElement("tr"),s=0,a=i.length;s<a;s++)i[s].modified||(this.setCellAsModified(i[s]),this.addRowCell(i[s],o,t));switch(t){case"below":r(this.getRealRowEl(!0),o);break;case"above":var l=e.getParentElement(this.map[this.idx.row][this.idx.col].el,{nodeName:["TR"]});l&&l.parentNode.insertBefore(o,l)}}},addRowCell:function(t,n,i){var o=t.isColspan?{colspan:e.getAttribute(t.el,"colspan")}:null;t.isReal?"above"!=i&&t.isRowspan?t.el.setAttribute("rowspan",parseInt(e.getAttribute(t.el,"rowspan"),10)+1):n.appendChild(this.createCells("td",1,o)):"above"!=i&&t.isRowspan&&t.lastRow?n.appendChild(this.createCells("td",1,o)):c.isRowspan&&t.el.attr("rowspan",parseInt(e.getAttribute(t.el,"rowspan"),10)+1)},add:function(t){this.rectify()&&("below"!=t&&"above"!=t||this.addRow(t),"before"!=t&&"after"!=t||this.addColumn(t))},addColCell:function(t,n,i){var o,s=t.el.tagName.toLowerCase();switch(i){case"before":o=!t.isColspan||t.firstCol;break;case"after":o=!t.isColspan||t.lastCol||t.isColspan&&c.el==this.cell}if(o){switch(i){case"before":t.el.parentNode.insertBefore(this.createCells(s,1),t.el);break;case"after":r(t.el,this.createCells(s,1))}t.isRowspan&&this.handleCellAddWithRowspan(t,n+1,i)}else t.el.setAttribute("colspan",parseInt(e.getAttribute(t.el,"colspan"),10)+1)},addColumn:function(t){var n,i;if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),"after"==t&&e.getAttribute(this.cell,"colspan")&&(this.idx.col=this.idx.col+parseInt(e.getAttribute(this.cell,"colspan"),10)-1),!1!==this.idx)for(var o=0,s=this.map.length;o<s;o++)(n=this.map[o])[this.idx.col]&&((i=n[this.idx.col]).modified||(this.setCellAsModified(i),this.addColCell(i,o,t)))},handleCellAddWithRowspan:function(t,n,i){for(var o,s,l,c=parseInt(e.getAttribute(this.cell,"rowspan"),10)-1,u=e.getParentElement(t.el,{nodeName:["TR"]}),h=t.el.tagName.toLowerCase(),d=this.table.ownerDocument,f=0;f<c;f++)if(o=this.correctColIndexForUnreals(this.idx.col,n+f),u=a(u,"tr"))if(o>0)switch(i){case"before":s=this.getRowCells(u),o>0&&this.map[n+f][this.idx.col].el!=s[o]&&o==s.length-1?r(s[o],this.createCells(h,1)):s[o].parentNode.insertBefore(this.createCells(h,1),s[o]);break;case"after":r(this.getRowCells(u)[o],this.createCells(h,1))}else u.insertBefore(this.createCells(h,1),u.firstChild);else(l=d.createElement("tr")).appendChild(this.createCells(h,1)),this.table.appendChild(l)}},e.table={getCellsBetween:function(t,e){return new i(t).getMapElsTo(e)},addCells:function(t,e){new i(t).add(e)},removeCells:function(t,e){new i(t).remove(e)},mergeCellsBetween:function(t,e){new i(t).merge(e)},unmergeCell:function(t){new i(t).unmerge()},orderSelectionEnds:function(t,e){return new i(t).orderSelectionEnds(e)},indexOf:function(t){var e=new i(t);return e.setTableMap(),e.getMapIndex(t)},findCell:function(t,e){return new i(null,t).getElementAtIndex(e)},findRowByCell:function(t){return new i(t).getRowElementsByCell()},findColumnByCell:function(t){return new i(t).getColumnElementsByCell()},canMerge:function(t,e){return new i(t).canMerge(e)}}}(wysihtml5),wysihtml5.dom.query=function(t,e){var n,i=[];t.nodeType&&(t=[t]);for(var o=0,s=t.length;o<s;o++)if(n=t[o].querySelectorAll(e))for(var r=n.length;r--;i.unshift(n[r]));return i},wysihtml5.dom.compareDocumentPosition=document.documentElement.compareDocumentPosition?function(t,e){return t.compareDocumentPosition(e)}:function(t,e){var n,i;if(n=9===t.nodeType?t:t.ownerDocument,i=9===e.nodeType?e:e.ownerDocument,t===e)return 0;if(t===e.ownerDocument)return 20;if(t.ownerDocument===e)return 10;if(n!==i)return 1;if(2===t.nodeType&&t.childNodes&&-1!==wysihtml5.lang.array(t.childNodes).indexOf(e))return 20;if(2===e.nodeType&&e.childNodes&&-1!==wysihtml5.lang.array(e.childNodes).indexOf(t))return 10;for(var o=t,s=[],r=null;o;){if(o==e)return 10;s.push(o),o=o.parentNode}for(o=e,r=null;o;){if(o==t)return 20;var a=wysihtml5.lang.array(s).indexOf(o);if(-1!==a){var l=s[a];return wysihtml5.lang.array(l.childNodes).indexOf(s[a-1])>wysihtml5.lang.array(l.childNodes).indexOf(r)?2:4}r=o,o=o.parentNode}return 1},wysihtml5.dom.unwrap=function(t){if(t.parentNode){for(;t.lastChild;)wysihtml5.dom.insert(t.lastChild).after(t);t.parentNode.removeChild(t)}},wysihtml5.quirks.cleanPastedHTML=function(){var t={"a u":wysihtml5.dom.replaceWithChildNodes};return function(e,n,i){n=n||t,i=i||e.ownerDocument||document;var o,s,r,a,l,c,u="string"==typeof e,h=0;for(l in o=u?wysihtml5.dom.getAsDom(e,i):e,n)for(r=o.querySelectorAll(l),s=n[l],a=r.length;h<a;h++)s(r[h]);var d=wysihtml5.dom.getTextNodes(o);for(c=d.length;c--;)d[c].nodeValue=d[c].nodeValue.replace(/([\S\u00A0])\u00A0/gi,"$1 ");return r=e=n=null,u?o.innerHTML:o}}(),wysihtml5.quirks.ensureProperClearing=function(){var t=function(){var t=this;setTimeout(function(){var e=t.innerHTML.toLowerCase();"<p>&nbsp;</p>"!=e&&"<p>&nbsp;</p><p>&nbsp;</p>"!=e||(t.innerHTML="")},0)};return function(e){wysihtml5.dom.observe(e.element,["cut","keydown"],t)}}(),function(t){t.quirks.getCorrectInnerHTML=function(e){var n=e.innerHTML;if(-1===n.indexOf("%7E"))return n;var i,o,s,r,a=e.querySelectorAll("[href*='~'], [src*='~']");for(r=0,s=a.length;r<s;r++)o=t.lang.string(i=a[r].href||a[r].src).replace("~").by("%7E"),n=t.lang.string(n).replace(o).by(i);return n}}(wysihtml5),function(t){t.quirks.redraw=function(e){t.dom.addClass(e,"wysihtml5-quirks-redraw"),t.dom.removeClass(e,"wysihtml5-quirks-redraw");try{var n=e.ownerDocument;n.execCommand("italic",!1,null),n.execCommand("italic",!1,null)}catch(t){}}}(wysihtml5),wysihtml5.quirks.tableCellsSelection=function(t,e){var n=wysihtml5.dom,i={table:null,start:null,end:null,cells:null,select:function(t,o){i.start=t,i.end=o,i.table=n.getParentElement(i.start,{nodeName:["TABLE"]}),selectedCells=n.table.getCellsBetween(i.start,i.end),l(selectedCells),h(),e.fire("tableselect").fire("tableselect:composer")}},o="wysiwyg-tmp-selected-cell",s=null,r=null;function a(){if(t){var e=t.querySelectorAll("."+o);if(e.length>0)for(var i=0;i<e.length;i++)n.removeClass(e[i],o)}}function l(t){for(var e=0;e<t.length;e++)n.addClass(t[e],o)}function c(t){var o,s=null,r=n.getParentElement(t.target,{nodeName:["TD","TH"]});r&&i.table&&i.start&&(s=n.getParentElement(r,{nodeName:["TABLE"]}))&&s===i.table&&(a(),o=i.end,i.end=r,i.cells=n.table.getCellsBetween(i.start,r),i.cells.length>1&&e.composer.selection.deselect(),l(i.cells),i.end!==o&&e.fire("tableselectchange").fire("tableselectchange:composer"))}function u(t){s.stop(),r.stop(),e.fire("tableselect").fire("tableselect:composer"),setTimeout(function(){h()},0)}function h(){var o=n.observe(t.ownerDocument,"click",function(t){o.stop(),n.getParentElement(t.target,{nodeName:["TABLE"]})!=i.table&&(a(),i.table=null,i.start=null,i.end=null,e.fire("tableunselect").fire("tableunselect:composer"))})}return n.observe(t,"mousedown",function(l){var h=wysihtml5.dom.getParentElement(l.target,{nodeName:["TD","TH"]});h&&function(l){i.start=l,i.end=l,i.cells=[l],i.table=n.getParentElement(i.start,{nodeName:["TABLE"]}),i.table&&(a(),n.addClass(l,o),s=n.observe(t,"mousemove",c),r=n.observe(t,"mouseup",u),e.fire("tableselectstart").fire("tableselectstart:composer"))}(h)}),i},function(t){var e=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*([\d\.]+)\s*\)/i,n=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)/i,i=/^#([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])/i,o=/^#([0-9a-f])([0-9a-f])([0-9a-f])/i,s=function(t){return new RegExp("(^|\\s|;)"+t+"\\s*:\\s*[^;$]+","gi")};t.quirks.styleParser={parseColor:function(r,a){var l,c,u=s(a),h=r.match(u),d=10;if(h){for(var f=h.length;f--;)h[f]=t.lang.string(h[f].split(":")[1]).trim();if(e.test(l=h[h.length-1]))c=l.match(e);else if(n.test(l))c=l.match(n);else if(i.test(l))c=l.match(i),d=16;else if(o.test(l))return(c=l.match(o)).shift(),c.push(1),t.lang.array(c).map(function(t,e){return e<3?16*parseInt(t,16)+parseInt(t,16):parseFloat(t)});if(c)return c.shift(),c[3]||c.push(1),t.lang.array(c).map(function(t,e){return e<3?parseInt(t,d):parseFloat(t)})}return!1},unparseColor:function(t,e){if(e){if("hex"==e)return t[0].toString(16).toUpperCase()+t[1].toString(16).toUpperCase()+t[2].toString(16).toUpperCase();if("hash"==e)return"#"+t[0].toString(16).toUpperCase()+t[1].toString(16).toUpperCase()+t[2].toString(16).toUpperCase();if("rgb"==e)return"rgb("+t[0]+","+t[1]+","+t[2]+")";if("rgba"==e)return"rgba("+t[0]+","+t[1]+","+t[2]+","+t[3]+")";if("csv"==e)return t[0]+","+t[1]+","+t[2]+","+t[3]}return t[3]&&1!==t[3]?"rgba("+t[0]+","+t[1]+","+t[2]+","+t[3]+")":"rgb("+t[0]+","+t[1]+","+t[2]+")"},parseFontSize:function(e){var n=e.match(s("font-size"));return!!n&&t.lang.string(n[n.length-1].split(":")[1]).trim()}}}(wysihtml5),function(t){var e=t.dom;function n(t,e){for(var n=0;e!==t;)if(n++,!(e=e.parentNode))throw new Error("not a descendant of ancestor!");return n}function i(t){if(!t.canSurroundContents())for(var e=t.commonAncestorContainer,i=n(e,t.startContainer),o=n(e,t.endContainer);!t.canSurroundContents();)i>o?(t.setStartBefore(t.startContainer),i=n(e,t.startContainer)):(t.setEndAfter(t.endContainer),o=n(e,t.endContainer))}t.Selection=Base.extend({constructor:function(t,e,n){window.rangy.init(),this.editor=t,this.composer=t.composer,this.doc=this.composer.doc,this.contain=e,this.unselectableClass=n||!1},getBookmark:function(){var t=this.getRange();return t&&i(t),t&&t.cloneRange()},setBookmark:function(t){t&&this.setSelection(t)},setBefore:function(t){var e=rangy.createRange(this.doc);return e.setStartBefore(t),e.setEndBefore(t),this.setSelection(e)},setAfter:function(t){var e=rangy.createRange(this.doc);return e.setStartAfter(t),e.setEndAfter(t),this.setSelection(e)},selectNode:function(n,i){var o=rangy.createRange(this.doc),s=n.nodeType===t.ELEMENT_NODE,r="canHaveHTML"in n?n.canHaveHTML:"IMG"!==n.nodeName,a=s?n.innerHTML:n.data,l=""===a||a===t.INVISIBLE_SPACE,c=e.getStyle("display").from(n),u="block"===c||"list-item"===c;if(l&&s&&r&&!i)try{n.innerHTML=t.INVISIBLE_SPACE}catch(t){}r?o.selectNodeContents(n):o.selectNode(n),r&&l&&s?o.collapse(u):r&&l&&(o.setStartAfter(n),o.setEndAfter(n)),this.setSelection(o)},getSelectedNode:function(t){var e,n;return t&&this.doc.selection&&"Control"===this.doc.selection.type&&(n=this.doc.selection.createRange())&&n.length?n.item(0):(e=this.getSelection(this.doc)).focusNode===e.anchorNode?e.focusNode:(n=this.getRange(this.doc))?n.commonAncestorContainer:this.doc.body},fixSelBorders:function(){var t=this.getRange();i(t),this.setSelection(t)},getSelectedOwnNodes:function(t){for(var e=this.getOwnRanges(),n=[],i=0,o=e.length;i<o;i++)n.push(e[i].commonAncestorContainer||this.doc.body);return n},findNodesInSelection:function(e){for(var n,i=this.getOwnRanges(),o=[],s=0,r=i.length;s<r;s++)n=i[s].getNodes([1],function(n){return t.lang.array(e).contains(n.nodeName)}),o=o.concat(n);return o},containsUneditable:function(){for(var t=this.getOwnUneditables(),e=this.getSelection(),n=0,i=t.length;n<i;n++)if(e.containsNode(t[n]))return!0;return!1},deleteContents:function(){for(var t=this.getOwnRanges(),e=t.length;e--;)t[e].deleteContents();this.setSelection(t[0])},getPreviousNode:function(e,n){if(e||(e=this.getSelection().anchorNode),e===this.contain)return!1;var i,o=e.previousSibling;return o!==this.contain&&(o&&3!==o.nodeType&&1!==o.nodeType?o=this.getPreviousNode(o,n):o&&3===o.nodeType&&/^\s*$/.test(o.textContent)?o=this.getPreviousNode(o,n):n&&o&&1===o.nodeType&&!t.lang.array(["BR","HR","IMG"]).contains(o.nodeName)&&/^[\s]*$/.test(o.innerHTML)?o=this.getPreviousNode(o,n):o||e===this.contain||(i=e.parentNode)!==this.contain&&(o=this.getPreviousNode(i,n)),o!==this.contain&&o)},getSelectionParentsByTag:function(e){for(var n,i=this.getSelectedOwnNodes(),o=[],s=0,r=i.length;s<r;s++)(n=i[s].nodeName&&"LI"===i[s].nodeName?i[s]:t.dom.getParentElement(i[s],{nodeName:["LI"]},!1,this.contain))&&o.push(n);return o.length?o:null},getRangeToNodeEnd:function(){if(this.isCollapsed()){var t=this.getRange(),e=t.startContainer,n=t.startOffset,i=rangy.createRange(this.doc);return i.selectNodeContents(e),i.setStart(e,n),i}},caretIsLastInSelection:function(){rangy.createRange(this.doc),this.getSelection();var t=this.getRangeToNodeEnd().cloneContents();return/^\s*$/.test(t.textContent)},caretIsFirstInSelection:function(){var e=rangy.createRange(this.doc),n=this.getSelection(),i=this.getRange(),o=i.startContainer;return o.nodeType===t.TEXT_NODE?this.isCollapsed()&&o.nodeType===t.TEXT_NODE&&/^\s*$/.test(o.data.substr(0,i.startOffset)):(e.selectNodeContents(this.getRange().commonAncestorContainer),e.collapse(!0),this.isCollapsed()&&(e.startContainer===n.anchorNode||e.endContainer===n.anchorNode)&&e.startOffset===n.anchorOffset)},caretIsInTheBeginnig:function(e){var n=this.getSelection(),i=n.anchorNode,o=n.anchorOffset;return e?0===o&&(i.nodeName&&i.nodeName===e.toUpperCase()||t.dom.getParentElement(i.parentNode,{nodeName:e},1)):0===o&&!this.getPreviousNode(i,!0)},caretIsBeforeUneditable:function(){var t=this.getSelection();if(0===t.anchorOffset){var e=this.getPreviousNode(t.anchorNode,!0);if(e)for(var n=this.getOwnUneditables(),i=0,o=n.length;i<o;i++)if(e===n[i])return n[i]}return!1},executeAndRestoreRangy:function(t,e){var n=rangy.saveSelection(this.doc.defaultView||this.doc.parentWindow);if(n)try{t()}catch(t){setTimeout(function(){throw t},0)}else t();rangy.restoreSelection(n)},executeAndRestore:function(n,i){var o,s,r,a,l,c,u,h,d=this.doc.body,f=i&&d.scrollTop,p=i&&d.scrollLeft,g="_wysihtml5-temp-placeholder",m='<span class="'+g+'">'+t.INVISIBLE_SPACE+"</span>",v=this.getRange(!0);if(v){v.collapsed||(c=(u=v.cloneRange()).createContextualFragment(m),u.collapse(!1),u.insertNode(c),u.detach()),l=v.createContextualFragment(m),v.insertNode(l),c&&(o=this.contain.querySelectorAll("."+g),v.setStartBefore(o[0]),v.setEndAfter(o[o.length-1])),this.setSelection(v);try{n(v.startContainer,v.endContainer)}catch(t){setTimeout(function(){throw t},0)}if((o=this.contain.querySelectorAll("."+g))&&o.length){h=rangy.createRange(this.doc),r=o[0].nextSibling,o.length>1&&(a=o[o.length-1].previousSibling),a&&r?(h.setStartBefore(r),h.setEndAfter(a)):(s=this.doc.createTextNode(t.INVISIBLE_SPACE),e.insert(s).after(o[0]),h.setStartBefore(s),h.setEndAfter(s)),this.setSelection(h);for(var y=o.length;y--;)o[y].parentNode.removeChild(o[y])}else this.contain.focus();i&&(d.scrollTop=f,d.scrollLeft=p);try{o.parentNode.removeChild(o)}catch(t){}}else n(d,d)},set:function(t,e){var n=rangy.createRange(this.doc);n.setStart(t,e||0),this.setSelection(n)},insertHTML:function(t){var e=rangy.createRange(this.doc).createContextualFragment(t),n=e.lastChild;this.insertNode(e),n&&this.setAfter(n)},insertNode:function(t){var e=this.getRange();e&&e.insertNode(t)},surround:function(t){var e,n=this.getOwnRanges(),i=[];if(0==n.length)return i;for(var o=n.length;o--;){e=this.doc.createElement(t.nodeName),i.push(e),t.className&&(e.className=t.className),t.cssStyle&&e.setAttribute("style",t.cssStyle);try{n[o].surroundContents(e),this.selectNode(e)}catch(t){e.appendChild(n[o].extractContents()),n[o].insertNode(e)}}return i},deblockAndSurround:function(e){var n,i,o,s=this.doc.createElement("div"),r=rangy.createRange(this.doc);if(s.className=e.className,this.composer.commands.exec("formatBlock",e.nodeName,e.className),(n=this.contain.querySelectorAll("."+e.className))[0])for(n[0].parentNode.insertBefore(s,n[0]),r.setStartBefore(n[0]),r.setEndAfter(n[n.length-1]),i=r.extractContents();i.firstChild;)if(1==(o=i.firstChild).nodeType&&t.dom.hasClass(o,e.className)){for(;o.firstChild;)s.appendChild(o.firstChild);"BR"!==o.nodeName&&s.appendChild(this.doc.createElement("br")),i.removeChild(o)}else s.appendChild(o);else s=null;return s},scrollIntoView:function(){var e,n,i=this.doc,o=i.documentElement.scrollHeight>i.documentElement.offsetHeight,s=i._wysihtml5ScrollIntoViewElement=i._wysihtml5ScrollIntoViewElement||((n=i.createElement("span")).innerHTML=t.INVISIBLE_SPACE,n);o&&(this.insertNode(s),e=function(t){var e=0;if(t.parentNode)do{e+=t.offsetTop||0,t=t.offsetParent}while(t);return e}(s),s.parentNode.removeChild(s),e>=i.body.scrollTop+i.documentElement.offsetHeight-5&&(i.body.scrollTop=e))},selectLine:function(){t.browser.supportsSelectionModify()?this._selectLine_W3C():this.doc.selection&&this._selectLine_MSIE()},_selectLine_W3C:function(){var t=this.doc.defaultView.getSelection();t.modify("move","left","lineboundary"),t.modify("extend","right","lineboundary")},_selectLine_MSIE:function(){var t,e,n,i,o,s=this.doc.selection.createRange(),r=s.boundingTop,a=this.doc.body.scrollWidth;if(s.moveToPoint){for(0===r&&(n=this.doc.createElement("span"),this.insertNode(n),r=n.offsetTop,n.parentNode.removeChild(n)),r+=1,i=-10;i<a;i+=2)try{s.moveToPoint(i,r);break}catch(t){}for(t=r,e=this.doc.selection.createRange(),o=a;o>=0;o--)try{e.moveToPoint(o,t);break}catch(t){}s.setEndPoint("EndToEnd",e),s.select()}},getText:function(){var t=this.getSelection();return t?t.toString():""},getNodes:function(t,e){var n=this.getRange();return n?n.getNodes([t],e):[]},fixRangeOverflow:function(t){if(this.contain&&this.contain.firstChild&&t){var e=t.compareNode(this.contain);if(2!==e)1===e&&t.setStartBefore(this.contain.firstChild),0===e&&t.setEndAfter(this.contain.lastChild),3===e&&(t.setStartBefore(this.contain.firstChild),t.setEndAfter(this.contain.lastChild));else if(this._detectInlineRangeProblems(t)){var n=t.endContainer.previousElementSibling;n&&t.setEnd(n,this._endOffsetForNode(n))}}},_endOffsetForNode:function(t){var e=document.createRange();return e.selectNodeContents(t),e.endOffset},_detectInlineRangeProblems:function(t){var n=e.compareDocumentPosition(t.startContainer,t.endContainer);return 0==t.endOffset&&4&n},getRange:function(t){var e=this.getSelection(),n=e&&e.rangeCount&&e.getRangeAt(0);return!0!==t&&this.fixRangeOverflow(n),n},getOwnUneditables:function(){var n=e.query(this.contain,"."+this.unselectableClass),i=e.query(n,"."+this.unselectableClass);return t.lang.array(n).without(i)},getOwnRanges:function(){var t,e=[],n=this.getRange();if(n&&e.push(n),this.unselectableClass&&this.contain&&n){var i,o=this.getOwnUneditables();if(o.length>0)for(var s=0,r=o.length;s<r;s++){t=[];for(var a=0,l=e.length;a<l;a++){if(e[a])switch(e[a].compareNode(o[s])){case 2:break;case 3:(i=e[a].cloneRange()).setEndBefore(o[s]),t.push(i),(i=e[a].cloneRange()).setStartAfter(o[s]),t.push(i);break;default:t.push(e[a])}e=t}}}return e},getSelection:function(){return rangy.getSelection(this.doc.defaultView||this.doc.parentWindow)},setSelection:function(t){return rangy.getSelection(this.doc.defaultView||this.doc.parentWindow).setSingleRange(t)},createRange:function(){return rangy.createRange(this.doc)},isCollapsed:function(){return this.getSelection().isCollapsed},isEndToEndInNode:function(e){var n=this.getRange(),i=n.commonAncestorContainer,o=n.startContainer,s=n.endContainer;if(i.nodeType===t.TEXT_NODE&&(i=i.parentNode),o.nodeType===t.TEXT_NODE&&!/^\s*$/.test(o.data.substr(n.startOffset)))return!1;if(s.nodeType===t.TEXT_NODE&&!/^\s*$/.test(s.data.substr(n.endOffset)))return!1;for(;o&&o!==i;){if(o.nodeType!==t.TEXT_NODE&&!t.dom.contains(i,o))return!1;if(t.dom.domNode(o).prev({ignoreBlankTexts:!0}))return!1;o=o.parentNode}for(;s&&s!==i;){if(s.nodeType!==t.TEXT_NODE&&!t.dom.contains(i,s))return!1;if(t.dom.domNode(s).next({ignoreBlankTexts:!0}))return!1;s=s.parentNode}return!!t.lang.array(e).contains(i.nodeName)&&i},deselect:function(){var t=this.getSelection();t&&t.removeAllRanges()}})}(wysihtml5),function(t,e){var n="span",i=/\s+/g;function o(t,e,n){if(!t.className)return!1;var i=t.className.match(n)||[];return i[i.length-1]===e}function s(t,e,n){t.getAttribute("style")?(a(t,n),t.getAttribute("style")&&!/^\s*$/.test(t.getAttribute("style"))?t.setAttribute("style",e+";"+t.getAttribute("style")):t.setAttribute("style",e)):t.setAttribute("style",e)}function r(t,e){t.className&&(t.className=t.className.replace(e,""))}function a(t,e){var n,i=[];if(t.getAttribute("style")){for(var o=(n=t.getAttribute("style").split(";")).length;o--;)n[o].match(e)||/^\s*$/.test(n[o])||i.push(n[o]);i.length?t.setAttribute("style",i.join(";")):t.removeAttribute("style")}}function l(t,e){var n=[],i=e.split(";"),o=t.getAttribute("style");if(o){o=o.replace(/\s/gi,"").toLowerCase(),n.push(new RegExp("(^|\\s|;)"+e.replace(/\s/gi,"").replace(/([\(\)])/gi,"\\$1").toLowerCase().replace(";",";?").replace(/rgb\\\((\d+),(\d+),(\d+)\\\)/gi,"\\s?rgb\\($1,\\s?$2,\\s?$3\\)"),"gi"));for(var s=i.length;s-- >0;)/^\s*$/.test(i[s])||n.push(new RegExp("(^|\\s|;)"+i[s].replace(/\s/gi,"").replace(/([\(\)])/gi,"\\$1").toLowerCase().replace(";",";?").replace(/rgb\\\((\d+),(\d+),(\d+)\\\)/gi,"\\s?rgb\\($1,\\s?$2,\\s?$3\\)"),"gi"));for(var r=0,a=n.length;r<a;r++)if(o.match(n[r]))return n[r]}return!1}function c(n,i,o,s){return o?l(n,o):s?t.dom.hasClass(n,s):e.dom.arrayContains(i,n.tagName.toLowerCase())}function u(t,e,n,i){for(var o=t.length;o--;)if(!c(t[o],e,n,i))return!1;return!!t.length}function h(t,n){return e.dom.isCharacterDataNode(t)?0==n?!!t.previousSibling:n!=t.length||!!t.nextSibling:n>0&&n<t.childNodes.length}function d(t,n,i,o){var s;if(e.dom.isCharacterDataNode(n)&&(0==i?(i=e.dom.getNodeIndex(n),n=n.parentNode):i==n.length?(i=e.dom.getNodeIndex(n)+1,n=n.parentNode):s=e.dom.splitDataNode(n,i)),!(s||o&&n===o)){var r;for((s=n.cloneNode(!1)).id&&s.removeAttribute("id");r=n.childNodes[i];)s.appendChild(r);e.dom.insertAfter(s,n)}return n==t?s:d(t,s.parentNode,e.dom.getNodeIndex(s),o)}function f(e){this.isElementMerge=e.nodeType==t.ELEMENT_NODE,this.firstTextNode=this.isElementMerge?e.lastChild:e,this.textNodes=[this.firstTextNode]}function p(t,e,i,o,s,r,a){this.tagNames=t||[n],this.cssClass=e||!1!==e&&"",this.similarClassRegExp=i,this.cssStyle=s||"",this.similarStyleRegExp=r,this.normalize=o,this.applyToAnyTagName=!1,this.container=a}f.prototype={doMerge:function(){for(var t,e,n,i=[],o=0,s=this.textNodes.length;o<s;++o)e=(t=this.textNodes[o]).parentNode,i[o]=t.data,o&&(e.removeChild(t),e.hasChildNodes()||e.parentNode.removeChild(e));return this.firstTextNode.data=n=i.join(""),n},getLength:function(){for(var t=this.textNodes.length,e=0;t--;)e+=this.textNodes[t].length;return e},toString:function(){for(var t=[],e=0,n=this.textNodes.length;e<n;++e)t[e]="'"+this.textNodes[e].data+"'";return"[Merge("+t.join(",")+")]"}},p.prototype={getAncestorWithClass:function(n){for(var i;n;){if(i=this.cssClass?o(n,this.cssClass,this.similarClassRegExp):""===this.cssStyle,n.nodeType==t.ELEMENT_NODE&&"false"!=n.getAttribute("contenteditable")&&e.dom.arrayContains(this.tagNames,n.tagName.toLowerCase())&&i)return n;n=n.parentNode}return!1},getAncestorWithStyle:function(n){for(var i;n;){if(i=!!(this.cssStyle&&(o=n,s=this.similarStyleRegExp,o.getAttribute&&o.getAttribute("style")&&(o.getAttribute("style").match(s),o.getAttribute("style").match(s)))),n.nodeType==t.ELEMENT_NODE&&"false"!=n.getAttribute("contenteditable")&&e.dom.arrayContains(this.tagNames,n.tagName.toLowerCase())&&i)return n;n=n.parentNode}var o,s;return!1},getMatchingAncestor:function(t){var e=this.getAncestorWithClass(t),n=!1;return e?this.cssStyle&&(n="class"):(e=this.getAncestorWithStyle(t))&&(n="style"),{element:e,type:n}},postApply:function(t,e){for(var n,i,o,s=t[0],r=t[t.length-1],a=[],l=s,c=r,u=0,h=r.length,d=0,p=t.length;d<p;++d)o=null,(i=t[d])&&i.parentNode&&(o=this.getAdjacentMergeableTextNode(i.parentNode,!1)),o?(n||(n=new f(o),a.push(n)),n.textNodes.push(i),i===s&&(u=(l=n.firstTextNode).length),i===r&&(c=n.firstTextNode,h=n.getLength())):n=null;if(r&&r.parentNode){var g=this.getAdjacentMergeableTextNode(r.parentNode,!0);g&&(n||(n=new f(r),a.push(n)),n.textNodes.push(g))}if(a.length){for(d=0,p=a.length;d<p;++d)a[d].doMerge();e.setStart(l,u),e.setEnd(c,h)}},getAdjacentMergeableTextNode:function(e,n){var i,o=e.nodeType==t.TEXT_NODE,s=o?e.parentNode:e,r=n?"nextSibling":"previousSibling";if(o){if((i=e[r])&&i.nodeType==t.TEXT_NODE)return i}else if((i=s[r])&&this.areElementsMergeable(e,i))return i[n?"firstChild":"lastChild"];return null},areElementsMergeable:function(t,n){return e.dom.arrayContains(this.tagNames,(t.tagName||"").toLowerCase())&&e.dom.arrayContains(this.tagNames,(n.tagName||"").toLowerCase())&&function(t,e){return t.className.replace(i," ")==e.className.replace(i," ")}(t,n)&&function(t,e){if(t.attributes.length!=e.attributes.length)return!1;for(var n,i,o,s=0,r=t.attributes.length;s<r;++s)if("class"!=(o=(n=t.attributes[s]).name)){if(i=e.attributes.getNamedItem(o),n.specified!=i.specified)return!1;if(n.specified&&n.nodeValue!==i.nodeValue)return!1}return!0}(t,n)},createContainer:function(t){var e=t.createElement(this.tagNames[0]);return this.cssClass&&(e.className=this.cssClass),this.cssStyle&&e.setAttribute("style",this.cssStyle),e},applyToTextNode:function(t){var n=t.parentNode;if(1==n.childNodes.length&&e.dom.arrayContains(this.tagNames,n.tagName.toLowerCase()))this.cssClass&&function(t,e,n){t.className?(r(t,n),t.className+=" "+e):t.className=e}(n,this.cssClass,this.similarClassRegExp),this.cssStyle&&s(n,this.cssStyle,this.similarStyleRegExp);else{var i=this.createContainer(e.dom.getDocument(t));t.parentNode.insertBefore(i,t),i.appendChild(t)}},isRemovable:function(n){return e.dom.arrayContains(this.tagNames,n.tagName.toLowerCase())&&""===t.lang.string(n.className).trim()&&(!n.getAttribute("style")||""===t.lang.string(n.getAttribute("style")).trim())},undoToTextNode:function(t,e,n,i){var o,c,u,f,p=!n,g=n||i,m=!1;if(!e.containsNode(g)){var v=e.cloneRange();v.selectNode(g),v.isPointInRange(e.endContainer,e.endOffset)&&h(e.endContainer,e.endOffset)&&(d(g,e.endContainer,e.endOffset,this.container),e.setEndAfter(g)),v.isPointInRange(e.startContainer,e.startOffset)&&h(e.startContainer,e.startOffset)&&(g=d(g,e.startContainer,e.startOffset,this.container))}!p&&this.similarClassRegExp&&r(g,this.similarClassRegExp),p&&this.similarStyleRegExp&&(m="change"==(u=this.similarStyleRegExp,(f=l(o=g,c=this.cssStyle))?(a(o,f),"remove"):(s(o,c,u),"change"))),this.isRemovable(g)&&!m&&function(t){for(var e=t.parentNode;t.firstChild;)e.insertBefore(t.firstChild,t);e.removeChild(t)}(g)},applyToRange:function(e){for(var n,i=e.length;i--;){if(!(n=e[i].getNodes([t.TEXT_NODE])).length)try{var o=this.createContainer(e[i].endContainer.ownerDocument);return e[i].surroundContents(o),void this.selectNode(e[i],o)}catch(t){}if(e[i].splitBoundaries(),(n=e[i].getNodes([t.TEXT_NODE])).length){for(var s,r=0,a=n.length;r<a;++r)this.getMatchingAncestor(s=n[r]).element||this.applyToTextNode(s);e[i].setStart(n[0],0),e[i].setEnd(s=n[n.length-1],s.length),this.normalize&&this.postApply(n,e[i])}}},undoToRange:function(e){for(var n,i,o,s=e.length;s--;){if((n=e[s].getNodes([t.TEXT_NODE])).length)e[s].splitBoundaries(),n=e[s].getNodes([t.TEXT_NODE]);else{var r=e[s].endContainer.ownerDocument.createTextNode(t.INVISIBLE_SPACE);e[s].insertNode(r),e[s].selectNode(r),n=[r]}for(var a=0,l=n.length;a<l;++a)e[s].isValid()&&("style"===(o=this.getMatchingAncestor(i=n[a])).type?this.undoToTextNode(i,e[s],!1,o.element):o.element&&this.undoToTextNode(i,e[s],o.element));1==l?this.selectNode(e[s],n[0]):(e[s].setStart(n[0],0),e[s].setEnd(i=n[n.length-1],i.length),this.normalize&&this.postApply(n,e[s]))}},selectNode:function(e,n){var i=n.nodeType===t.ELEMENT_NODE,o=i?n.innerHTML:n.data,s=""===o||o===t.INVISIBLE_SPACE;if(s&&i&&(!("canHaveHTML"in n)||n.canHaveHTML))try{n.innerHTML=t.INVISIBLE_SPACE}catch(t){}e.selectNodeContents(n),s&&i?e.collapse(!1):s&&(e.setStartAfter(n),e.setEndAfter(n))},getTextSelectedByRange:function(t,e){var n=e.cloneRange();n.selectNodeContents(t);var i=n.intersection(e),o=i?i.toString():"";return n.detach(),o},isAppliedToRange:function(e){for(var n,i,o=[],s="full",r=e.length;r--;){if(!(i=e[r].getNodes([t.TEXT_NODE])).length)return!!(n=this.getMatchingAncestor(e[r].startContainer).element)&&{elements:[n],coverage:s};for(var a,l=0,c=i.length;l<c;++l)a=this.getTextSelectedByRange(i[l],e[r]),(n=this.getMatchingAncestor(i[l]).element)&&""!=a?(o.push(n),1===t.dom.getTextNodes(n,!0).length?s="full":"full"===s&&(s="inline")):n||(s="partial")}return!!o.length&&{elements:o,coverage:s}},toggleRange:function(t){var e,n=this.isAppliedToRange(t);n?"full"===n.coverage?this.undoToRange(t):"inline"===n.coverage?(e=u(n.elements,this.tagNames,this.cssStyle,this.cssClass),this.undoToRange(t),e||this.applyToRange(t)):(u(n.elements,this.tagNames,this.cssStyle,this.cssClass)||this.undoToRange(t),this.applyToRange(t)):this.applyToRange(t)}},t.selection.HTMLApplier=p}(wysihtml5,rangy),wysihtml5.Commands=Base.extend({constructor:function(t){this.editor=t,this.composer=t.composer,this.doc=this.composer.doc},support:function(t){return wysihtml5.browser.supportsCommand(this.doc,t)},exec:function(t,e){var n=wysihtml5.commands[t],i=wysihtml5.lang.array(arguments).get(),o=n&&n.exec,s=null;if(this.editor.fire("beforecommand:composer"),o)i.unshift(this.composer),s=o.apply(n,i);else try{s=this.doc.execCommand(t,!1,e)}catch(t){}return this.editor.fire("aftercommand:composer"),s},state:function(t,e){var n=wysihtml5.commands[t],i=wysihtml5.lang.array(arguments).get(),o=n&&n.state;if(o)return i.unshift(this.composer),o.apply(n,i);try{return this.doc.queryCommandState(t)}catch(t){return!1}},stateValue:function(t){var e=wysihtml5.commands[t],n=wysihtml5.lang.array(arguments).get(),i=e&&e.stateValue;return!!i&&(n.unshift(this.composer),i.apply(e,n))}}),wysihtml5.commands.bold={exec:function(t,e){wysihtml5.commands.formatInline.execWithToggle(t,e,"b")},state:function(t,e){return wysihtml5.commands.formatInline.state(t,e,"b")}},function(t){var e=t.dom;t.commands.createLink={exec:function(n,i,o){var s=this.state(n,i);s?n.selection.executeAndRestore(function(){!function(t,e,n){for(var i,o=e.length;o--;){for(var s=(i=e[o].attributes).length;s--;)e[o].removeAttribute(i.item(s).name);for(var r in n)n.hasOwnProperty(r)&&e[o].setAttribute(r,n[r])}}(0,s,o)}):function(n,i){var o,s,r,a,l,c,u,h=n.doc,d="_wysihtml5-temp-"+ +new Date,f=0;for(t.commands.formatInline.exec(n,void 0,"A",d,/non-matching-class/g,void 0,void 0,!0,!0),o=(s=h.querySelectorAll("A."+d)).length;f<o;f++)for(u in(r=s[f]).removeAttribute("class"),i)"text"!==u&&r.setAttribute(u,i[u]);a=r,1===o&&(l=e.getTextContent(r),!r.querySelector("*")&&(""===l||l===t.INVISIBLE_SPACE)&&(e.setTextContent(r,i.text||r.href),c=h.createTextNode(" "),n.selection.setAfter(r),e.insert(c).after(r),a=c)),n.selection.setAfter(a)}(n,o="object"==typeof o?o:{href:o})},state:function(e,n){return t.commands.formatInline.state(e,n,"A")}}}(wysihtml5),function(t){var e=t.dom;t.commands.removeLink={exec:function(t,n){var i=this.state(t,n);i&&t.selection.executeAndRestore(function(){!function(t,n){for(var i,o,s=n.length,r=0;r<s;r++)o=e.getParentElement(i=n[r],{nodeName:"code"}),e.getTextContent(i).match(e.autoLink.URL_REG_EXP)&&!o?o=e.renameElement(i,"code"):e.replaceWithChildNodes(i)}(0,i)})},state:function(e,n){return t.commands.formatInline.state(e,n,"A")}}}(wysihtml5),function(t){var e=/wysiwyg-font-size-[0-9a-z\-]+/g;t.commands.fontSize={exec:function(n,i,o){t.commands.formatInline.execWithToggle(n,i,"span","wysiwyg-font-size-"+o,e)},state:function(n,i,o){return t.commands.formatInline.state(n,i,"span","wysiwyg-font-size-"+o,e)}}}(wysihtml5),function(t){var e=/(\s|^)font-size\s*:\s*[^;\s]+;?/gi;t.commands.fontSizeStyle={exec:function(n,i,o){/^\s*$/.test(o="object"==typeof o?o.size:o)||t.commands.formatInline.execWithToggle(n,i,"span",!1,!1,"font-size:"+o,e)},state:function(n,i,o){return t.commands.formatInline.state(n,i,"span",!1,!1,"font-size",e)},stateValue:function(e,n){var i,o=this.state(e,n);return o&&t.lang.object(o).isArray()&&(o=o[0]),!(!o||!(i=o.getAttribute("style")))&&t.quirks.styleParser.parseFontSize(i)}}}(wysihtml5),function(t){var e=/wysiwyg-color-[0-9a-z]+/g;t.commands.foreColor={exec:function(n,i,o){t.commands.formatInline.execWithToggle(n,i,"span","wysiwyg-color-"+o,e)},state:function(n,i,o){return t.commands.formatInline.state(n,i,"span","wysiwyg-color-"+o,e)}}}(wysihtml5),function(t){var e=/(\s|^)color\s*:\s*[^;\s]+;?/gi;t.commands.foreColorStyle={exec:function(n,i,o){var s,r=t.quirks.styleParser.parseColor("object"==typeof o?"color:"+o.color:"color:"+o,"color");r&&(s="color: rgb("+r[0]+","+r[1]+","+r[2]+");",1!==r[3]&&(s+="color: rgba("+r[0]+","+r[1]+","+r[2]+","+r[3]+");"),t.commands.formatInline.execWithToggle(n,i,"span",!1,!1,s,e))},state:function(n,i){return t.commands.formatInline.state(n,i,"span",!1,!1,"color",e)},stateValue:function(e,n,i){var o,s=this.state(e,n);return s&&t.lang.object(s).isArray()&&(s=s[0]),!!(s&&(o=s.getAttribute("style"))&&o)&&(val=t.quirks.styleParser.parseColor(o,"color"),t.quirks.styleParser.unparseColor(val,i))}}}(wysihtml5),function(t){var e=/(\s|^)background-color\s*:\s*[^;\s]+;?/gi;t.commands.bgColorStyle={exec:function(n,i,o){var s,r=t.quirks.styleParser.parseColor("object"==typeof o?"background-color:"+o.color:"background-color:"+o,"background-color");r&&(s="background-color: rgb("+r[0]+","+r[1]+","+r[2]+");",1!==r[3]&&(s+="background-color: rgba("+r[0]+","+r[1]+","+r[2]+","+r[3]+");"),t.commands.formatInline.execWithToggle(n,i,"span",!1,!1,s,e))},state:function(n,i){return t.commands.formatInline.state(n,i,"span",!1,!1,"background-color",e)},stateValue:function(e,n,i){var o,s=this.state(e,n),r=!1;return s&&t.lang.object(s).isArray()&&(s=s[0]),!(!s||!(o=s.getAttribute("style")))&&(r=t.quirks.styleParser.parseColor(o,"background-color"),t.quirks.styleParser.unparseColor(r,i))}}}(wysihtml5),function(t){var e=t.dom,n=["H1","H2","H3","H4","H5","H6","P","PRE","DIV"];function i(e,n,i){e.className?(s(e,i),e.className=t.lang.string(e.className+" "+n).trim()):e.className=n}function o(e,n,i){r(e,i),e.getAttribute("style")?e.setAttribute("style",t.lang.string(e.getAttribute("style")+" "+n).trim()):e.setAttribute("style",n)}function s(e,n){var i=n.test(e.className);return e.className=e.className.replace(n,""),""==t.lang.string(e.className).trim()&&e.removeAttribute("class"),i}function r(e,n){var i=n.test(e.getAttribute("style"));return e.setAttribute("style",(e.getAttribute("style")||"").replace(n,"")),""==t.lang.string(e.getAttribute("style")||"").trim()&&e.removeAttribute("style"),i}function a(e){return!!t.lang.string(e.getAttribute("style")||"").trim()}t.commands.formatBlock={exec:function(l,c,u,h,d,f,p){var g,m,v,y,b,w=this.state(l,c,u,h,d,f,p),_=l.config.useLineBreaks,x=_?"DIV":"P";u="string"==typeof u?u.toUpperCase():u,w.length?l.selection.executeAndRestoreRangy(function(){for(var n=w.length;n--;){if(d&&(m=s(w[n],d)),p&&(y=r(w[n],p)),(y||m)&&null===u&&w[n].nodeName!=x)return;var i=!!t.lang.string(w[n].className).trim(),o=a(w[n]);i||o||!_&&"P"!==u?e.renameElement(w[n],"P"===u?"DIV":x):(t.dom.lineBreaks(w[n]).add(),e.replaceWithChildNodes(w[n]))}}):(null===u||t.lang.array(n).contains(u))&&(g=l.selection.findNodesInSelection(n).concat(l.selection.getSelectedOwnNodes()),l.selection.executeAndRestoreRangy(function(){for(var t=g.length;t--;)(b=e.getParentElement(g[t],{nodeName:n}))==l.element&&(b=null),b&&(u&&(b=e.renameElement(b,u)),h&&i(b,h,d),f&&o(b,f,p),v=!0)}),v)||function(e,n){e.selection.isCollapsed()&&e.selection.selectLine();for(var i,o=e.selection.surround(n),s=0,r=o.length;s<r;s++)t.dom.lineBreaks(o[s]).remove(),i=void 0,(i=o[s].lastChild)&&"BR"===i.nodeName&&i.parentNode.removeChild(i)}(l,{nodeName:u||x,className:h||null,cssStyle:f||null})},state:function(n,i,o,s,r,a,l){var c,u=n.selection.getSelectedOwnNodes(),h=[];o="string"==typeof o?o.toUpperCase():o;for(var d=0,f=u.length;d<f;d++)(c=e.getParentElement(u[d],{nodeName:o,className:s,classRegExp:r,cssStyle:a,styleRegExp:l}))&&-1==t.lang.array(h).indexOf(c)&&h.push(c);return 0!=h.length&&h}}}(wysihtml5),wysihtml5.commands.formatCode={exec:function(t,e,n){var i,o,s,r=this.state(t);r?t.selection.executeAndRestore(function(){i=r.querySelector("code"),wysihtml5.dom.replaceWithChildNodes(r),i&&wysihtml5.dom.replaceWithChildNodes(i)}):(s=(o=t.selection.getRange()).extractContents(),r=t.doc.createElement("pre"),i=t.doc.createElement("code"),n&&(i.className=n),r.appendChild(i),i.appendChild(s),o.insertNode(r),t.selection.selectNode(r))},state:function(t){var e=t.selection.getSelectedNode();return e&&e.nodeName&&"PRE"==e.nodeName&&e.firstChild&&e.firstChild.nodeName&&"CODE"==e.firstChild.nodeName?e:wysihtml5.dom.getParentElement(e,{nodeName:"CODE"})&&wysihtml5.dom.getParentElement(e,{nodeName:"PRE"})}},function(t){var e={strong:"b",em:"i",b:"strong",i:"em"},n={};function i(i,o,s,r,a,l){var c=i;return o&&(c+=":"+o),r&&(c+=":"+r),n[c]||(n[c]=new t.selection.HTMLApplier(function(t){var n=e[t];return n?[t.toLowerCase(),n.toLowerCase()]:[t.toLowerCase()]}(i),o,s,!0,r,a,l)),n[c]}t.commands.formatInline={exec:function(t,e,n,o,s,r,a,l,c){var u=t.selection.createRange(),h=t.selection.getOwnRanges();if(!h||0==h.length)return!1;t.selection.getSelection().removeAllRanges(),i(n,o,s,r,a,t.element).toggleRange(h),l?c||t.cleanUp():(u.setStart(h[0].startContainer,h[0].startOffset),u.setEnd(h[h.length-1].endContainer,h[h.length-1].endOffset),t.selection.setSelection(u),t.selection.executeAndRestore(function(){c||t.cleanUp()},!0,!0))},execWithToggle:function(e,n,i,o,s,r,a){if(this.state(e,n,i,o,s,r,a)&&e.selection.isCollapsed()&&!e.selection.caretIsLastInSelection()&&!e.selection.caretIsFirstInSelection()){var l=this.state(e,n,i,o,s)[0];e.selection.executeAndRestoreRangy(function(){e.selection.selectNode(l,!0),t.commands.formatInline.exec(e,n,i,o,s,r,a,!0,!0)})}else this.state(e,n,i,o,s,r,a)&&!e.selection.isCollapsed()?e.selection.executeAndRestoreRangy(function(){t.commands.formatInline.exec(e,n,i,o,s,r,a,!0,!0)}):t.commands.formatInline.exec(e,n,i,o,s,r,a)},state:function(n,o,s,r,a,l,c){var u,h,d=n.doc,f=e[s]||s;return!(!t.dom.hasElementWithTagName(d,s)&&!t.dom.hasElementWithTagName(d,f))&&!(r&&!t.dom.hasElementWithClassName(d,r))&&!(!(u=n.selection.getOwnRanges())||0===u.length)&&!(!(h=i(s,r,a,l,c,n.element).isAppliedToRange(u))||!h.elements)&&h.elements}}}(wysihtml5),function(t){t.commands.insertBlockQuote={exec:function(e,n){var i=this.state(e,n),o=e.selection.isEndToEndInNode(["H1","H2","H3","H4","H5","H6","P"]);e.selection.executeAndRestore(function(){if(i)e.config.useLineBreaks&&t.dom.lineBreaks(i).add(),t.dom.unwrap(i);else if(e.selection.isCollapsed()&&e.selection.selectLine(),o){var n=o.ownerDocument.createElement("blockquote");t.dom.insert(n).after(o),n.appendChild(o)}else e.selection.surround({nodeName:"blockquote"})})},state:function(e,n){var i=e.selection.getSelectedNode();return t.dom.getParentElement(i,{nodeName:"BLOCKQUOTE"},!1,e.element)||!1}}}(wysihtml5),wysihtml5.commands.insertHTML={exec:function(t,e,n){t.commands.support(e)?t.doc.execCommand(e,!1,n):t.selection.insertHTML(n)},state:function(){return!1}},function(t){t.commands.insertImage={exec:function(e,n,i){i="object"==typeof i?i:{src:i};var o,s,r=e.doc,a=this.state(e);if(a)return e.selection.setBefore(a),(s=a.parentNode).removeChild(a),t.dom.removeEmptyTextNodes(s),"A"!==s.nodeName||s.firstChild||(e.selection.setAfter(s),s.parentNode.removeChild(s)),void t.quirks.redraw(e.element);for(var l in a=r.createElement("IMG"),i)a.setAttribute("className"===l?"class":l,i[l]);e.selection.insertNode(a),t.browser.hasProblemsSettingCaretAfterImg()?(o=r.createTextNode(t.INVISIBLE_SPACE),e.selection.insertNode(o),e.selection.setAfter(o)):e.selection.setAfter(a)},state:function(e){var n,i,o;return!!t.dom.hasElementWithTagName(e.doc,"IMG")&&!!(n=e.selection.getSelectedNode())&&("IMG"===n.nodeName?n:n.nodeType===t.ELEMENT_NODE&&(i=e.selection.getText(),!(i=t.lang.string(i).trim())&&1===(o=e.selection.getNodes(t.ELEMENT_NODE,function(t){return"IMG"===t.nodeName})).length&&o[0]))}}}(wysihtml5),function(t){var e="<br>"+(t.browser.needsSpaceAfterLineBreak()?" ":"");t.commands.insertLineBreak={exec:function(n,i){n.commands.support(i)?(n.doc.execCommand(i,!1,null),t.browser.autoScrollsToCaret()||n.selection.scrollIntoView()):n.commands.exec("insertHTML",e)},state:function(){return!1}}}(wysihtml5),wysihtml5.commands.insertOrderedList={exec:function(t,e){wysihtml5.commands.insertList.exec(t,e,"OL")},state:function(t,e){return wysihtml5.commands.insertList.state(t,e,"OL")}},wysihtml5.commands.insertUnorderedList={exec:function(t,e){wysihtml5.commands.insertList.exec(t,e,"UL")},state:function(t,e){return wysihtml5.commands.insertList.state(t,e,"UL")}},wysihtml5.commands.insertList=function(t){var e=function(t,e){if(t&&t.nodeName){"string"==typeof e&&(e=[e]);for(var n=e.length;n--;)if(t.nodeName===e[n])return!0}return!1},n=function(n,i,o){var s={el:null,other:!1};if(n){var r=t.dom.getParentElement(n,{nodeName:"LI"}),a="UL"===i?"OL":"UL";e(n,i)?s.el=n:e(n,a)?s={el:n,other:!0}:r&&(e(r.parentNode,i)?s.el=r.parentNode:e(r.parentNode,a)&&(s={el:r.parentNode,other:!0}))}return s.el&&!o.element.contains(s.el)&&(s.el=null),s},i=function(t,n){for(var i=n.selection.getOwnRanges(),o=[],s=i.length;s--;)o=o.concat(i[s].getNodes([1],function(n){return e(n,t)}));return o};return{exec:function(e,o,s){var r=e.doc,a="OL"===s?"insertOrderedList":"insertUnorderedList",l=e.selection.getSelectedNode(),c=n(l,s,e);c.el?c.other?function(e,n,o){var s="UL"===n?"OL":"UL";o.selection.executeAndRestore(function(){for(var r=[e].concat(i(s,o)),a=r.length;a--;)t.dom.renameElement(r[a],n.toLowerCase())})}(c.el,s,e):function(e,n,o){var s,r="UL"===n?"OL":"UL";o.selection.executeAndRestore(function(){var a=i(r,o);if(a.length)for(var l=a.length;l--;)t.dom.renameElement(a[l],n.toLowerCase());else{for(var c=(s=i(["OL","UL"],o)).length;c--;)t.dom.resolveList(s[c],o.config.useLineBreaks);t.dom.resolveList(e,o.config.useLineBreaks)}})}(c.el,s,e):e.commands.support(a)?r.execCommand(a,!1,null):function(e,n){n.selection.executeAndRestoreRangy(function(){var i,o,s="_wysihtml5-temp-"+(new Date).getTime(),r=n.selection.deblockAndSurround({nodeName:"div",className:s});r.innerHTML=r.innerHTML.replace(/\uFEFF/g,""),r&&(i=t.lang.array(["","<br>",t.INVISIBLE_SPACE]).contains(r.innerHTML),o=t.dom.convertToList(r,e.toLowerCase(),n.parent.config.uneditableContainerClassname),i&&n.selection.selectNode(o.querySelector("li"),!0))})}(s,e)},state:function(t,e,i){var o=t.selection.getSelectedNode(),s=n(o,i,t);return!(!s.el||s.other)&&s.el}}}(wysihtml5),wysihtml5.commands.italic={exec:function(t,e){wysihtml5.commands.formatInline.execWithToggle(t,e,"i")},state:function(t,e){return wysihtml5.commands.formatInline.state(t,e,"i")}},function(t){var e=/wysiwyg-text-align-[0-9a-z]+/g;t.commands.justifyCenter={exec:function(n,i){return t.commands.formatBlock.exec(n,"formatBlock",null,"wysiwyg-text-align-center",e)},state:function(n,i){return t.commands.formatBlock.state(n,"formatBlock",null,"wysiwyg-text-align-center",e)}}}(wysihtml5),function(t){var e=/wysiwyg-text-align-[0-9a-z]+/g;t.commands.justifyLeft={exec:function(n,i){return t.commands.formatBlock.exec(n,"formatBlock",null,"wysiwyg-text-align-left",e)},state:function(n,i){return t.commands.formatBlock.state(n,"formatBlock",null,"wysiwyg-text-align-left",e)}}}(wysihtml5),function(t){var e=/wysiwyg-text-align-[0-9a-z]+/g;t.commands.justifyRight={exec:function(n,i){return t.commands.formatBlock.exec(n,"formatBlock",null,"wysiwyg-text-align-right",e)},state:function(n,i){return t.commands.formatBlock.state(n,"formatBlock",null,"wysiwyg-text-align-right",e)}}}(wysihtml5),function(t){var e=/wysiwyg-text-align-[0-9a-z]+/g;t.commands.justifyFull={exec:function(n,i){return t.commands.formatBlock.exec(n,"formatBlock",null,"wysiwyg-text-align-justify",e)},state:function(n,i){return t.commands.formatBlock.state(n,"formatBlock",null,"wysiwyg-text-align-justify",e)}}}(wysihtml5),function(t){var e=/(\s|^)text-align\s*:\s*[^;\s]+;?/gi;t.commands.alignRightStyle={exec:function(n,i){return t.commands.formatBlock.exec(n,"formatBlock",null,null,null,"text-align: right;",e)},state:function(n,i){return t.commands.formatBlock.state(n,"formatBlock",null,null,null,"text-align: right;",e)}}}(wysihtml5),function(t){var e=/(\s|^)text-align\s*:\s*[^;\s]+;?/gi;t.commands.alignLeftStyle={exec:function(n,i){return t.commands.formatBlock.exec(n,"formatBlock",null,null,null,"text-align: left;",e)},state:function(n,i){return t.commands.formatBlock.state(n,"formatBlock",null,null,null,"text-align: left;",e)}}}(wysihtml5),function(t){var e=/(\s|^)text-align\s*:\s*[^;\s]+;?/gi;t.commands.alignCenterStyle={exec:function(n,i){return t.commands.formatBlock.exec(n,"formatBlock",null,null,null,"text-align: center;",e)},state:function(n,i){return t.commands.formatBlock.state(n,"formatBlock",null,null,null,"text-align: center;",e)}}}(wysihtml5),wysihtml5.commands.redo={exec:function(t){return t.undoManager.redo()},state:function(t){return!1}},wysihtml5.commands.underline={exec:function(t,e){wysihtml5.commands.formatInline.execWithToggle(t,e,"u")},state:function(t,e){return wysihtml5.commands.formatInline.state(t,e,"u")}},wysihtml5.commands.undo={exec:function(t){return t.undoManager.undo()},state:function(t){return!1}},wysihtml5.commands.createTable={exec:function(t,e,n){var i,o,s;if(n&&n.cols&&n.rows&&parseInt(n.cols,10)>0&&parseInt(n.rows,10)>0){for(s=n.tableStyle?'<table style="'+n.tableStyle+'">':"<table>",s+="<tbody>",o=0;o<n.rows;o++){for(s+="<tr>",i=0;i<n.cols;i++)s+="<td>&nbsp;</td>";s+="</tr>"}t.commands.exec("insertHTML",s+="</tbody></table>")}},state:function(t,e){return!1}},wysihtml5.commands.mergeTableCells={exec:function(t,e){t.tableSelection&&t.tableSelection.start&&t.tableSelection.end&&(this.state(t,e)?wysihtml5.dom.table.unmergeCell(t.tableSelection.start):wysihtml5.dom.table.mergeCellsBetween(t.tableSelection.start,t.tableSelection.end))},state:function(t,e){if(t.tableSelection){var n=t.tableSelection.start,i=t.tableSelection.end;if(n&&i&&n==i&&(wysihtml5.dom.getAttribute(n,"colspan")&&parseInt(wysihtml5.dom.getAttribute(n,"colspan"),10)>1||wysihtml5.dom.getAttribute(n,"rowspan")&&parseInt(wysihtml5.dom.getAttribute(n,"rowspan"),10)>1))return[n]}return!1}},wysihtml5.commands.addTableCells={exec:function(t,e,n){if(t.tableSelection&&t.tableSelection.start&&t.tableSelection.end){var i=wysihtml5.dom.table.orderSelectionEnds(t.tableSelection.start,t.tableSelection.end);"before"==n||"above"==n?wysihtml5.dom.table.addCells(i.start,n):"after"!=n&&"below"!=n||wysihtml5.dom.table.addCells(i.end,n),setTimeout(function(){t.tableSelection.select(i.start,i.end)},0)}},state:function(t,e){return!1}},wysihtml5.commands.deleteTableCells={exec:function(t,e,n){if(t.tableSelection&&t.tableSelection.start&&t.tableSelection.end){var i,o=wysihtml5.dom.table.orderSelectionEnds(t.tableSelection.start,t.tableSelection.end),s=wysihtml5.dom.table.indexOf(o.start),r=t.tableSelection.table;wysihtml5.dom.table.removeCells(o.start,n),setTimeout(function(){(i=wysihtml5.dom.table.findCell(r,s))||("row"==n&&(i=wysihtml5.dom.table.findCell(r,{row:s.row-1,col:s.col})),"column"==n&&(i=wysihtml5.dom.table.findCell(r,{row:s.row,col:s.col-1}))),i&&t.tableSelection.select(i,i)},0)}},state:function(t,e){return!1}},wysihtml5.commands.indentList={exec:function(t,e,n){var i=t.selection.getSelectionParentsByTag("LI");return!!i&&this.tryToPushLiLevel(i,t.selection)},state:function(t,e){return!1},tryToPushLiLevel:function(t,e){var n,i,o,s,r=!1;return e.executeAndRestoreRangy(function(){for(var e=t.length;e--;)n=(o=t[e]).ownerDocument.createElement("OL"===o.parentNode.nodeName?"OL":"UL"),i=wysihtml5.dom.domNode(o).prev({nodeTypes:[wysihtml5.ELEMENT_NODE]}),s=i?i.querySelector("ul, ol"):null,i&&(s?s.appendChild(o):(n.appendChild(o),i.appendChild(n)),r=!0)}),r}},wysihtml5.commands.outdentList={exec:function(t,e,n){var i=t.selection.getSelectionParentsByTag("LI");return!!i&&this.tryToPullLiLevel(i,t)},state:function(t,e){return!1},tryToPullLiLevel:function(t,e){var n,i,o,s,r,a=!1,l=this;return e.selection.executeAndRestoreRangy(function(){for(var c=t.length;c--;)if((s=t[c]).parentNode&&("OL"===(n=s.parentNode).tagName||"UL"===n.tagName)){if(a=!0,i=wysihtml5.dom.getParentElement(n.parentNode,{nodeName:["OL","UL"]},!1,e.element),o=wysihtml5.dom.getParentElement(n.parentNode,{nodeName:["LI"]},!1,e.element),i&&o)s.nextSibling&&(r=l.getAfterList(n,s),s.appendChild(r)),i.insertBefore(s,o.nextSibling);else{s.nextSibling&&(r=l.getAfterList(n,s),s.appendChild(r));for(var u=s.childNodes.length;u--;)n.parentNode.insertBefore(s.childNodes[u],n.nextSibling);n.parentNode.insertBefore(document.createElement("br"),n.nextSibling),s.parentNode.removeChild(s)}0===n.childNodes.length&&n.parentNode.removeChild(n)}}),a},getAfterList:function(t,e){for(var n=document.createElement(t.nodeName);e.nextSibling;)n.appendChild(e.nextSibling);return n}},function(t){var e="data-wysihtml5-selection-node",n="data-wysihtml5-selection-offset",i=t.dom;t.UndoManager=t.lang.Dispatcher.extend({constructor:function(t){this.editor=t,this.composer=t.composer,this.element=this.composer.element,this.position=0,this.historyStr=[],this.historyDom=[],this.transact(),this._observe()},_observe:function(){var t,e=this;this.composer.sandbox.getDocument(),i.observe(this.element,"keydown",function(t){if(!t.altKey&&(t.ctrlKey||t.metaKey)){var n=t.keyCode;90!==n||t.shiftKey?(90===n&&t.shiftKey||89===n)&&(e.redo(),t.preventDefault()):(e.undo(),t.preventDefault())}}),i.observe(this.element,"keydown",function(n){var i=n.keyCode;i!==t&&(t=i,8!==i&&46!==i||e.transact())}),this.editor.on("newword:composer",function(){e.transact()}).on("beforecommand:composer",function(){e.transact()})},transact:function(){var i,o,s,r,a,l=this.historyStr[this.position-1],c=this.composer.getValue(!1,!1),u=this.element.offsetWidth>0&&this.element.offsetHeight>0;if(c!==l){(this.historyStr.length=this.historyDom.length=this.position)>25&&(this.historyStr.shift(),this.historyDom.shift(),this.position--),this.position++,u&&(o=(i=this.composer.selection.getRange())&&i.startContainer?i.startContainer:this.element,s=i&&i.startOffset?i.startOffset:0,o.nodeType===t.ELEMENT_NODE?r=o:a=this.getChildNodeIndex(r=o.parentNode,o),r.setAttribute(n,s),"undefined"!=typeof a&&r.setAttribute(e,a));var h=this.element.cloneNode(!!c);this.historyDom.push(h),this.historyStr.push(c),r&&(r.removeAttribute(n),r.removeAttribute(e))}},undo:function(){this.transact(),this.undoPossible()&&(this.set(this.historyDom[--this.position-1]),this.editor.fire("undo:composer"))},redo:function(){this.redoPossible()&&(this.set(this.historyDom[++this.position-1]),this.editor.fire("redo:composer"))},undoPossible:function(){return this.position>1},redoPossible:function(){return this.position<this.historyStr.length},set:function(t){this.element.innerHTML="";for(var i,o,s,r=0,a=t.childNodes,l=t.childNodes.length;r<l;r++)this.element.appendChild(a[r].cloneNode(!0));t.hasAttribute(n)?(i=t.getAttribute(n),s=t.getAttribute(e),o=this.element):(i=(o=this.element.querySelector("["+n+"]")||this.element).getAttribute(n),s=o.getAttribute(e),o.removeAttribute(n),o.removeAttribute(e)),null!==s&&(o=this.getChildNodeByIndex(o,+s)),this.composer.selection.set(o,i)},getChildNodeIndex:function(t,e){for(var n=0,i=t.childNodes,o=i.length;n<o;n++)if(i[n]===e)return n},getChildNodeByIndex:function(t,e){return t.childNodes[e]}})}(wysihtml5),wysihtml5.views.View=Base.extend({constructor:function(t,e,n){this.parent=t,this.element=e,this.config=n,this.config.noTextarea||this._observeViewChange()},_observeViewChange:function(){var t=this;this.parent.on("beforeload",function(){t.parent.on("change_view",function(e){e===t.name?(t.parent.currentView=t,t.show(),setTimeout(function(){t.focus()},0)):t.hide()})})},focus:function(){if(this.element.ownerDocument.querySelector(":focus")!==this.element)try{this.element.focus()}catch(t){}},hide:function(){this.element.style.display="none"},show:function(){this.element.style.display=""},disable:function(){this.element.setAttribute("disabled","disabled")},enable:function(){this.element.removeAttribute("disabled")}}),function(t){var e=t.dom,n=t.browser;t.views.Composer=t.views.View.extend({name:"composer",CARET_HACK:"<br>",constructor:function(t,e,n){this.base(t,e,n),this.config.noTextarea?this.editableArea=e:this.textarea=this.parent.textarea,this.config.contentEditableMode?this._initContentEditableArea():this._initSandbox()},clear:function(){this.element.innerHTML=n.displaysCaretInEmptyContentEditableCorrectly()?"":this.CARET_HACK},getValue:function(e,n){var i=this.isEmpty()?"":t.quirks.getCorrectInnerHTML(this.element);return!1!==e&&(i=this.parent.parse(i,!1!==n)),i},setValue:function(t,e){e&&(t=this.parent.parse(t));try{this.element.innerHTML=t}catch(e){this.element.innerText=t}},cleanUp:function(){this.parent.parse(this.element)},show:function(){this.editableArea.style.display=this._displayStyle||"",this.config.noTextarea||this.textarea.element.disabled||(this.disable(),this.enable())},hide:function(){this._displayStyle=e.getStyle("display").from(this.editableArea),"none"===this._displayStyle&&(this._displayStyle=null),this.editableArea.style.display="none"},disable:function(){this.parent.fire("disable:composer"),this.element.removeAttribute("contentEditable")},enable:function(){this.parent.fire("enable:composer"),this.element.setAttribute("contentEditable","true")},focus:function(e){t.browser.doesAsyncFocus()&&this.hasPlaceholderSet()&&this.clear(),this.base();var n=this.element.lastChild;e&&n&&this.selection&&("BR"===n.nodeName?this.selection.setBefore(this.element.lastChild):this.selection.setAfter(this.element.lastChild))},getTextContent:function(){return e.getTextContent(this.element)},hasPlaceholderSet:function(){return this.getTextContent()==(this.config.noTextarea?this.editableArea.getAttribute("data-placeholder"):this.textarea.element.getAttribute("placeholder"))&&this.placeholderSet},isEmpty:function(){var t=this.element.innerHTML.toLowerCase();return/^(\s|<br>|<\/br>|<p>|<\/p>)*$/i.test(t)||""===t||"<br>"===t||"<p></p>"===t||"<p><br></p>"===t||this.hasPlaceholderSet()},_initContentEditableArea:function(){var t=this;this.config.noTextarea?this.sandbox=new e.ContentEditableArea(function(){t._create()},{},this.editableArea):(this.sandbox=new e.ContentEditableArea(function(){t._create()}),this.editableArea=this.sandbox.getContentEditable(),e.insert(this.editableArea).after(this.textarea.element),this._createWysiwygFormField())},_initSandbox:function(){var t=this;this.sandbox=new e.Sandbox(function(){t._create()},{stylesheets:this.config.stylesheets}),this.editableArea=this.sandbox.getIframe();var n=this.textarea.element;e.insert(this.editableArea).after(n),this._createWysiwygFormField()},_createWysiwygFormField:function(){if(this.textarea.element.form){var t=document.createElement("input");t.type="hidden",t.name="_wysihtml5_mode",t.value=1,e.insert(t).after(this.textarea.element)}},_create:function(){var i=this;this.doc=this.sandbox.getDocument(),this.element=this.config.contentEditableMode?this.sandbox.getContentEditable():this.doc.body,this.config.noTextarea?this.cleanUp():(this.textarea=this.parent.textarea,this.element.innerHTML=this.textarea.getValue(!0,!1)),this.selection=new t.Selection(this.parent,this.element,this.config.uneditableContainerClassname),this.commands=new t.Commands(this.parent),this.config.noTextarea||e.copyAttributes(["className","spellcheck","title","lang","dir","accessKey"]).from(this.textarea.element).to(this.element),e.addClass(this.element,this.config.composerClassName),this.config.style&&!this.config.contentEditableMode&&this.style(),this.observe();var o=this.config.name;o&&(e.addClass(this.element,o),this.config.contentEditableMode||e.addClass(this.editableArea,o)),this.enable(),!this.config.noTextarea&&this.textarea.element.disabled&&this.disable();var s="string"==typeof this.config.placeholder?this.config.placeholder:this.config.noTextarea?this.editableArea.getAttribute("data-placeholder"):this.textarea.element.getAttribute("placeholder");s&&e.simulatePlaceholder(this.parent,this,s),this.commands.exec("styleWithCSS",!1),this._initAutoLinking(),this._initObjectResizing(),this._initUndoManager(),this._initLineBreaking(),this.config.noTextarea||!this.textarea.element.hasAttribute("autofocus")&&document.querySelector(":focus")!=this.textarea.element||n.isIos()||setTimeout(function(){i.focus(!0)},100),n.clearsContentEditableCorrectly()||t.quirks.ensureProperClearing(this),this.initSync&&this.config.sync&&this.initSync(),this.config.noTextarea||this.textarea.hide(),this.parent.fire("beforeload").fire("load")},_initAutoLinking:function(){var i=this,o=n.canDisableAutoLinking(),s=n.doesAutoLinkingInContentEditable();if(o&&this.commands.exec("autoUrlDetect",!1),this.config.autoLink){(!s||s&&o)&&(this.parent.on("newword:composer",function(){e.getTextContent(i.element).match(e.autoLink.URL_REG_EXP)&&i.selection.executeAndRestore(function(n,o){for(var s=i.element.querySelectorAll("."+i.config.uneditableContainerClassname),r=!1,a=s.length;a--;)t.dom.contains(s[a],o)&&(r=!0);r||e.autoLink(o.parentNode,[i.config.uneditableContainerClassname])})}),e.observe(this.element,"blur",function(){e.autoLink(i.element,[i.config.uneditableContainerClassname])}));var r=this.sandbox.getDocument().getElementsByTagName("a"),a=e.autoLink.URL_REG_EXP,l=function(n){var i=t.lang.string(e.getTextContent(n)).trim();return"www."===i.substr(0,4)&&(i="http://"+i),i};e.observe(this.element,"keydown",function(t){if(r.length){var n,o=i.selection.getSelectedNode(t.target.ownerDocument),s=e.getParentElement(o,{nodeName:"A"},4);s&&(n=l(s),setTimeout(function(){var t=l(s);t!==n&&t.match(a)&&s.setAttribute("href",t)},0))}})}},_initObjectResizing:function(){if(this.commands.exec("enableObjectResizing",!0),n.supportsEvent("resizeend")){var i=["width","height"],o=i.length,s=this.element;e.observe(s,"resizeend",function(e){var n,r=e.target||e.srcElement,a=r.style,l=0;if("IMG"===r.nodeName){for(;l<o;l++)a[n=i[l]]&&(r.setAttribute(n,parseInt(a[n],10)),a[n]="");t.quirks.redraw(s)}})}},_initUndoManager:function(){this.undoManager=new t.UndoManager(this.parent)},_initLineBreaking:function(){var i=this,o=["LI","P","H1","H2","H3","H4","H5","H6"],s=["UL","OL","MENU"];function r(t){var n=e.getParentElement(t,{nodeName:["P","DIV"]},2);n&&e.contains(i.element,n)&&i.selection.executeAndRestore(function(){i.config.useLineBreaks?e.replaceWithChildNodes(n):"P"!==n.nodeName&&e.renameElement(n,"p")})}this.config.useLineBreaks||e.observe(this.element,["focus","keydown"],function(){if(i.isEmpty()){var t=i.doc.createElement("P");i.element.innerHTML="",i.element.appendChild(t),n.displaysCaretInEmptyContentEditableCorrectly()?i.selection.selectNode(t,!0):(t.innerHTML="<br>",i.selection.setBefore(t.firstChild))}}),e.observe(this.element,"keydown",function(n){var a=n.keyCode;if(!n.shiftKey&&(a===t.ENTER_KEY||a===t.BACKSPACE_KEY)){var l=e.getParentElement(i.selection.getSelectedNode(),{nodeName:o},4);l?setTimeout(function(){var n=i.selection.getSelectedNode();if("LI"===l.nodeName){if(!n)return;e.getParentElement(n,{nodeName:s},2)||r(n)}a===t.ENTER_KEY&&l.nodeName.match(/^H[1-6]$/)&&r(n)},0):i.config.useLineBreaks&&a===t.ENTER_KEY&&!t.browser.insertsLineBreaksOnReturn()&&(n.preventDefault(),i.commands.exec("insertLineBreak"))}})}})}(wysihtml5),function(t){var e=t.dom,n=document,i=window,o=n.createElement("div"),s=["background-color","color","cursor","font-family","font-size","font-style","font-variant","font-weight","line-height","letter-spacing","text-align","text-decoration","text-indent","text-rendering","word-break","word-wrap","word-spacing"],r=["background-color","border-collapse","border-bottom-color","border-bottom-style","border-bottom-width","border-left-color","border-left-style","border-left-width","border-right-color","border-right-style","border-right-width","border-top-color","border-top-style","border-top-width","clear","display","float","margin-bottom","margin-left","margin-right","margin-top","outline-color","outline-offset","outline-width","outline-style","padding-left","padding-right","padding-top","padding-bottom","position","top","left","right","bottom","z-index","vertical-align","text-align","-webkit-box-sizing","-moz-box-sizing","-ms-box-sizing","box-sizing","-webkit-box-shadow","-moz-box-shadow","-ms-box-shadow","box-shadow","-webkit-border-top-right-radius","-moz-border-radius-topright","border-top-right-radius","-webkit-border-bottom-right-radius","-moz-border-radius-bottomright","border-bottom-right-radius","-webkit-border-bottom-left-radius","-moz-border-radius-bottomleft","border-bottom-left-radius","-webkit-border-top-left-radius","-moz-border-radius-topleft","border-top-left-radius","width","height"],a=["html                 { height: 100%; }","body                 { height: 100%; padding: 1px 0 0 0; margin: -1px 0 0 0; }","body > p:first-child { margin-top: 0; }","._wysihtml5-temp     { display: none; }",t.browser.isGecko?"body.placeholder { color: graytext !important; }":"body.placeholder { color: #a9a9a9 !important; }","img:-moz-broken      { -moz-force-broken-image-icon: 1; height: 24px; width: 24px; }"];t.views.Composer.prototype.style=function(){var l,c=this,u=n.querySelector(":focus"),h=this.textarea.element,d=h.hasAttribute("placeholder"),f=d&&h.getAttribute("placeholder"),p=h.style.display,g=h.disabled;this.focusStylesHost=o.cloneNode(!1),this.blurStylesHost=o.cloneNode(!1),this.disabledStylesHost=o.cloneNode(!1),d&&h.removeAttribute("placeholder"),h===u&&h.blur(),h.disabled=!1,h.style.display=l="none",(h.getAttribute("rows")&&"auto"===e.getStyle("height").from(h)||h.getAttribute("cols")&&"auto"===e.getStyle("width").from(h))&&(h.style.display=l=p),e.copyStyles(r).from(h).to(this.editableArea).andTo(this.blurStylesHost),e.copyStyles(s).from(h).to(this.element).andTo(this.blurStylesHost),e.insertCSS(a).into(this.element.ownerDocument),h.disabled=!0,e.copyStyles(r).from(h).to(this.disabledStylesHost),e.copyStyles(s).from(h).to(this.disabledStylesHost),h.disabled=g,h.style.display=p,function(t){if(t.setActive)try{t.setActive()}catch(t){}else{var o=t.style,s=n.documentElement.scrollTop||n.body.scrollTop,r=n.documentElement.scrollLeft||n.body.scrollLeft,a={position:o.position,top:o.top,left:o.left,WebkitUserSelect:o.WebkitUserSelect};e.setStyles({position:"absolute",top:"-99999px",left:"-99999px",WebkitUserSelect:"none"}).on(t),t.focus(),e.setStyles(a).on(t),i.scrollTo&&i.scrollTo(r,s)}}(h),h.style.display=l,e.copyStyles(r).from(h).to(this.focusStylesHost),e.copyStyles(s).from(h).to(this.focusStylesHost),h.style.display=p,e.copyStyles(["display"]).from(h).to(this.editableArea);var m=t.lang.array(r).without(["display"]);return u?u.focus():h.blur(),d&&h.setAttribute("placeholder",f),this.parent.on("focus:composer",function(){e.copyStyles(m).from(c.focusStylesHost).to(c.editableArea),e.copyStyles(s).from(c.focusStylesHost).to(c.element)}),this.parent.on("blur:composer",function(){e.copyStyles(m).from(c.blurStylesHost).to(c.editableArea),e.copyStyles(s).from(c.blurStylesHost).to(c.element)}),this.parent.observe("disable:composer",function(){e.copyStyles(m).from(c.disabledStylesHost).to(c.editableArea),e.copyStyles(s).from(c.disabledStylesHost).to(c.element)}),this.parent.observe("enable:composer",function(){e.copyStyles(m).from(c.blurStylesHost).to(c.editableArea),e.copyStyles(s).from(c.blurStylesHost).to(c.element)}),this}}(wysihtml5),function(t){var e=t.dom,n=t.browser,i={66:"bold",73:"italic",85:"underline"};t.views.Composer.prototype.observe=function(){var o=this,s=this.getValue(!1,!1),r=this.sandbox.getIframe?this.sandbox.getIframe():this.sandbox.getContentEditable(),a=this.element,l=n.supportsEventsInIframeCorrectly()||this.sandbox.getContentEditable?a:this.sandbox.getWindow();if(e.observe(r,"DOMNodeRemoved",function(){clearInterval(c),o.parent.fire("destroy:composer")}),!n.supportsMutationEvents())var c=setInterval(function(){e.contains(document.documentElement,r)||(clearInterval(c),o.parent.fire("destroy:composer"))},250);e.observe(l,["drop","paste","mouseup","focus","keyup"],function(){setTimeout(function(){o.parent.fire("interaction").fire("interaction:composer")},0)}),this.config.handleTables&&(!this.tableClickHandle&&this.doc.execCommand&&t.browser.supportsCommand(this.doc,"enableObjectResizing")&&t.browser.supportsCommand(this.doc,"enableInlineTableEditing")&&(this.sandbox.getIframe?this.tableClickHandle=e.observe(r,["focus","mouseup","mouseover"],function(){o.doc.execCommand("enableObjectResizing",!1,"false"),o.doc.execCommand("enableInlineTableEditing",!1,"false"),o.tableClickHandle.stop()}):setTimeout(function(){o.doc.execCommand("enableObjectResizing",!1,"false"),o.doc.execCommand("enableInlineTableEditing",!1,"false")},0)),this.tableSelection=t.quirks.tableCellsSelection(a,o.parent)),e.observe(l,"focus",function(t){o.parent.fire("focus",t).fire("focus:composer",t),setTimeout(function(){s=o.getValue(!1,!1)},0)}),e.observe(l,"blur",function(t){if(s!==o.getValue(!1,!1)){var e=t;"function"==typeof Object.create&&(e=Object.create(t,{type:{value:"change"}})),o.parent.fire("change",e).fire("change:composer",e)}o.parent.fire("blur",t).fire("blur:composer",t)}),e.observe(a,"dragenter",function(){o.parent.fire("unset_placeholder")}),e.observe(a,["drop","paste"],function(t){setTimeout(function(){o.parent.fire(t.type,t).fire(t.type+":composer",t)},0)}),e.observe(a,"keyup",function(e){var n=e.keyCode;n!==t.SPACE_KEY&&n!==t.ENTER_KEY||o.parent.fire("newword:composer")}),this.parent.on("paste:composer",function(){setTimeout(function(){o.parent.fire("newword:composer")},0)}),n.canSelectImagesInContentEditable()||e.observe(a,"mousedown",function(e){var n=e.target,i=a.querySelectorAll("img"),s=a.querySelectorAll("."+o.config.uneditableContainerClassname+" img"),r=t.lang.array(i).without(s);"IMG"===n.nodeName&&t.lang.array(r).contains(n)&&o.selection.selectNode(n)}),n.canSelectImagesInContentEditable()||e.observe(a,"drop",function(t){setTimeout(function(){o.selection.getSelection().removeAllRanges()},0)}),n.hasHistoryIssue()&&n.supportsSelectionModify()&&e.observe(a,"keydown",function(t){if(t.metaKey||t.ctrlKey){var e=t.keyCode,n=a.ownerDocument.defaultView.getSelection();37!==e&&39!==e||(37===e&&(n.modify("extend","left","lineboundary"),t.shiftKey||n.collapseToStart()),39===e&&(n.modify("extend","right","lineboundary"),t.shiftKey||n.collapseToEnd()),t.preventDefault())}}),e.observe(a,"keydown",function(t){var e=t.keyCode,n=i[e];(t.ctrlKey||t.metaKey)&&!t.altKey&&n&&(o.commands.exec(n),t.preventDefault()),8===e?function(t,e,n,i){if(e.isCollapsed())if(e.caretIsInTheBeginnig("LI"))t.preventDefault(),i.commands.exec("outdentList");else if(e.caretIsInTheBeginnig())t.preventDefault();else{if(e.caretIsFirstInSelection()&&e.getPreviousNode()&&e.getPreviousNode().nodeName&&/^H\d$/gi.test(e.getPreviousNode().nodeName)){var o=e.getPreviousNode();if(t.preventDefault(),/^\s*$/.test(o.textContent||o.innerText))o.parentNode.removeChild(o);else{var s=o.ownerDocument.createRange();s.selectNodeContents(o),s.collapse(!1),e.setSelection(s)}}var r=e.caretIsBeforeUneditable();r&&(t.preventDefault(),function(t,e,n){var i=t.getPreviousNode(e,!0),o=t.getSelectedNode();if(1!==o.nodeType&&o.parentNode!==n&&(o=o.parentNode),i)if(1==o.nodeType){var s=o.firstChild;if(1==i.nodeType)for(;o.firstChild;)i.appendChild(o.firstChild);else for(;o.firstChild;)e.parentNode.insertBefore(o.firstChild,e);o.parentNode&&o.parentNode.removeChild(o),t.setBefore(s)}else 1==i.nodeType?i.appendChild(o):e.parentNode.insertBefore(o,e),t.setBefore(o)}(e,r,n))}else e.containsUneditable()&&(t.preventDefault(),e.deleteContents())}(t,o.selection,a,o):o.config.handleTabKey&&9===e&&(t.preventDefault(),function(t,e){if(t.selection.isCollapsed()){if(t.selection.caretIsInTheBeginnig("LI")&&t.commands.exec("indentList"))return}else t.selection.deleteContents();t.commands.exec("insertHTML","&emsp;")}(o))}),e.observe(a,"keydown",function(e){var n,i=o.selection.getSelectedNode(!0),s=e.keyCode;!i||"IMG"!==i.nodeName||s!==t.BACKSPACE_KEY&&s!==t.DELETE_KEY||((n=i.parentNode).removeChild(i),"A"!==n.nodeName||n.firstChild||n.parentNode.removeChild(n),setTimeout(function(){t.quirks.redraw(a)},0),e.preventDefault())}),!this.config.contentEditableMode&&n.hasIframeFocusIssue()&&(e.observe(r,"focus",function(){setTimeout(function(){o.doc.querySelector(":focus")!==o.element&&o.focus()},0)}),e.observe(this.element,"blur",function(){setTimeout(function(){o.selection.getSelection().removeAllRanges()},0)}));var u={IMG:"Image: ",A:"Link: "};e.observe(a,"mouseover",function(t){var e,n=t.target,i=n.nodeName;"A"!==i&&"IMG"!==i||n.hasAttribute("title")||(e=u[i]+(n.getAttribute("href")||n.getAttribute("src")),n.setAttribute("title",e))})}}(wysihtml5),function(t){t.views.Synchronizer=Base.extend({constructor:function(t,e,n){this.editor=t,this.textarea=e,this.composer=n,this._observe()},fromComposerToTextarea:function(e){this.textarea.setValue(t.lang.string(this.composer.getValue(!1,!1)).trim(),e)},fromTextareaToComposer:function(t){var e=this.textarea.getValue(!1,!1);e?this.composer.setValue(e,t):(this.composer.clear(),this.editor.fire("set_placeholder"))},sync:function(t){"textarea"===this.editor.currentView.name?this.fromTextareaToComposer(t):this.fromComposerToTextarea(t)},_observe:function(){var e,n=this,i=this.textarea.element.form,o=function(){e=setInterval(function(){n.fromComposerToTextarea()},400)},s=function(){clearInterval(e),e=null};o(),i&&(t.dom.observe(i,"submit",function(){n.sync(!0)}),t.dom.observe(i,"reset",function(){setTimeout(function(){n.fromTextareaToComposer()},0)})),this.editor.on("change_view",function(t){"composer"!==t||e?"textarea"===t&&(n.fromComposerToTextarea(!0),s()):(n.fromTextareaToComposer(!0),o())}),this.editor.on("destroy:composer",s)}})}(wysihtml5),wysihtml5.views.Textarea=wysihtml5.views.View.extend({name:"textarea",constructor:function(t,e,n){this.base(t,e,n),this._observe()},clear:function(){this.element.value=""},getValue:function(t){var e=this.isEmpty()?"":this.element.value;return!1!==t&&(e=this.parent.parse(e)),e},setValue:function(t,e){e&&(t=this.parent.parse(t)),this.element.value=t},cleanUp:function(){var t=this.parent.parse(this.element.value);this.element.value=t},hasPlaceholderSet:function(){var t=wysihtml5.browser.supportsPlaceholderAttributeOn(this.element),e=this.element.getAttribute("placeholder")||null,n=this.element.value;return t&&!n||n===e},isEmpty:function(){return!wysihtml5.lang.string(this.element.value).trim()||this.hasPlaceholderSet()},_observe:function(){var t=this.element,e=this.parent,n={focusin:"focus",focusout:"blur"},i=wysihtml5.browser.supportsEvent("focusin")?["focusin","focusout","change"]:["focus","blur","change"];e.on("beforeload",function(){wysihtml5.dom.observe(t,i,function(t){var i=n[t.type]||t.type;e.fire(i).fire(i+":textarea")}),wysihtml5.dom.observe(t,["paste","drop"],function(){setTimeout(function(){e.fire("paste").fire("paste:textarea")},0)})})}}),function(t){var e={name:void 0,style:!0,toolbar:void 0,showToolbarAfterInit:!0,autoLink:!0,handleTables:!0,handleTabKey:!0,parserRules:{tags:{br:{},span:{},div:{},p:{}},classes:{}},parser:t.dom.parse,composerClassName:"wysihtml5-editor",bodyClassName:"wysihtml5-supported",useLineBreaks:!0,stylesheets:[],placeholderText:void 0,supportTouchDevices:!0,cleanUp:!0,contentEditableMode:!1,uneditableContainerClassname:"wysihtml5-uneditable-container"};t.Editor=t.lang.Dispatcher.extend({constructor:function(n,i){if(this.editableElement="string"==typeof n?document.getElementById(n):n,this.config=t.lang.object({}).merge(e).merge(i).get(),this._isCompatible=t.browser.supported(),"textarea"!=this.editableElement.nodeName.toLowerCase()&&(this.config.contentEditableMode=!0,this.config.noTextarea=!0),this.config.noTextarea||(this.textarea=new t.views.Textarea(this,this.editableElement,this.config),this.currentView=this.textarea),!this._isCompatible||!this.config.supportTouchDevices&&t.browser.isTouchDevice()){var o=this;setTimeout(function(){o.fire("beforeload").fire("load")},0)}else t.dom.addClass(document.body,this.config.bodyClassName),this.composer=new t.views.Composer(this,this.editableElement,this.config),this.currentView=this.composer,"function"==typeof this.config.parser&&this._initParser(),this.on("beforeload",this.handleBeforeLoad)},handleBeforeLoad:function(){this.config.noTextarea||(this.synchronizer=new t.views.Synchronizer(this,this.textarea,this.composer)),this.config.toolbar&&(this.toolbar=new t.toolbar.Toolbar(this,this.config.toolbar,this.config.showToolbarAfterInit))},isCompatible:function(){return this._isCompatible},clear:function(){return this.currentView.clear(),this},getValue:function(t,e){return this.currentView.getValue(t,e)},setValue:function(t,e){return this.fire("unset_placeholder"),t?(this.currentView.setValue(t,e),this):this.clear()},cleanUp:function(){this.currentView.cleanUp()},focus:function(t){return this.currentView.focus(t),this},disable:function(){return this.currentView.disable(),this},enable:function(){return this.currentView.enable(),this},isEmpty:function(){return this.currentView.isEmpty()},hasPlaceholderSet:function(){return this.currentView.hasPlaceholderSet()},parse:function(e,n){var i=this.config.contentEditableMode?document:this.composer?this.composer.sandbox.getDocument():null,o=this.config.parser(e,{rules:this.config.parserRules,cleanUp:this.config.cleanUp,context:i,uneditableClass:this.config.uneditableContainerClassname,clearInternals:n});return"object"==typeof e&&t.quirks.redraw(e),o},_initParser:function(){this.on("paste:composer",function(){var e=this;e.composer.selection.executeAndRestore(function(){t.quirks.cleanPastedHTML(e.composer.element),e.parse(e.composer.element)},!0)})}})}(wysihtml5),function(t){var e=t.dom,n="wysihtml5-command-dialog-opened";t.toolbar.Dialog=t.lang.Dispatcher.extend({constructor:function(t,e){this.link=t,this.container=e},_observe:function(){if(!this._observed){var i=this,o=function(t){var e=i._serialize();i.fire(e==i.elementToChange?"edit":"save",e),i.hide(),t.preventDefault(),t.stopPropagation()};e.observe(i.link,"click",function(){e.hasClass(i.link,n)&&setTimeout(function(){i.hide()},0)}),e.observe(this.container,"keydown",function(e){var n=e.keyCode;n===t.ENTER_KEY&&o(e),n===t.ESCAPE_KEY&&(i.fire("cancel"),i.hide())}),e.delegate(this.container,"[data-wysihtml5-dialog-action=save]","click",o),e.delegate(this.container,"[data-wysihtml5-dialog-action=cancel]","click",function(t){i.fire("cancel"),i.hide(),t.preventDefault(),t.stopPropagation()});for(var s=this.container.querySelectorAll("input, select, textarea"),r=0,a=s.length,l=function(){clearInterval(i.interval)};r<a;r++)e.observe(s[r],"change",l);this._observed=!0}},_serialize:function(){for(var t=this.elementToChange||{},e=this.container.querySelectorAll("[data-wysihtml5-dialog-field]"),n=e.length,i=0;i<n;i++)t[e[i].getAttribute("data-wysihtml5-dialog-field")]=e[i].value;return t},_interpolate:function(t){for(var e,n,i,o=document.querySelector(":focus"),s=this.container.querySelectorAll("[data-wysihtml5-dialog-field]"),r=s.length,a=0;a<r;a++)(e=s[a])!==o&&(t&&"hidden"===e.type||(n=e.getAttribute("data-wysihtml5-dialog-field"),i=this.elementToChange&&"boolean"!=typeof this.elementToChange?this.elementToChange.getAttribute(n)||"":e.defaultValue,e.value=i))},show:function(t){if(!e.hasClass(this.link,n)){var i=this,o=this.container.querySelector("input, select, textarea");if(this.elementToChange=t,this._observe(),this._interpolate(),t&&(this.interval=setInterval(function(){i._interpolate(!0)},500)),e.addClass(this.link,n),this.container.style.display="",this.fire("show"),o&&!t)try{o.focus()}catch(t){}}},hide:function(){clearInterval(this.interval),this.elementToChange=null,e.removeClass(this.link,n),this.container.style.display="none",this.fire("hide")}})}(wysihtml5),function(t){var e=t.dom,n={position:"relative"},i={left:0,margin:0,opacity:0,overflow:"hidden",padding:0,position:"absolute",top:0,zIndex:1},o={cursor:"inherit",fontSize:"50px",height:"50px",marginTop:"-25px",outline:0,padding:0,position:"absolute",right:"-4px",top:"50%"},s={"x-webkit-speech":"",speech:""};t.toolbar.Speech=function(r,a){var l=document.createElement("input");if(t.browser.supportsSpeechApiOn(l)){var c=r.editor.textarea.element.getAttribute("lang");c&&(s.lang=c);var u=document.createElement("div");t.lang.object(i).merge({width:a.offsetWidth+"px",height:a.offsetHeight+"px"}),e.insert(l).into(u),e.insert(u).into(a),e.setStyles(o).on(l),e.setAttributes(s).on(l),e.setStyles(i).on(u),e.setStyles(n).on(a),e.observe(l,"onwebkitspeechchange"in l?"webkitspeechchange":"speechchange",function(){r.execCommand("insertText",l.value),l.value=""}),e.observe(l,"click",function(t){e.hasClass(a,"wysihtml5-command-disabled")&&t.preventDefault(),t.stopPropagation()})}else a.style.display="none"}}(wysihtml5),function(t){var e=t.dom;t.toolbar.Toolbar=Base.extend({constructor:function(e,n,i){this.editor=e,this.container="string"==typeof n?document.getElementById(n):n,this.composer=e.composer,this._getLinks("command"),this._getLinks("action"),this._observe(),i&&this.show();for(var o=this.container.querySelectorAll("[data-wysihtml5-command=insertSpeech]"),s=o.length,r=0;r<s;r++)new t.toolbar.Speech(this,o[r])},_getLinks:function(e){for(var n,i,o,s,r,a=this[e+"Links"]=t.lang.array(this.container.querySelectorAll("[data-wysihtml5-"+e+"]")).get(),l=a.length,c=0,u=this[e+"Mapping"]={};c<l;c++)o=(n=a[c]).getAttribute("data-wysihtml5-"+e),s=n.getAttribute("data-wysihtml5-"+e+"-value"),i=this.container.querySelector("[data-wysihtml5-"+e+"-group='"+o+"']"),r=this._getDialog(n,o),u[o+":"+s]={link:n,group:i,name:o,value:s,dialog:r,state:!1}},_getDialog:function(e,n){var i,o,s=this,r=this.container.querySelector("[data-wysihtml5-dialog='"+n+"']");return r&&((i=t.toolbar["Dialog_"+n]?new t.toolbar["Dialog_"+n](e,r):new t.toolbar.Dialog(e,r)).on("show",function(){o=s.composer.selection.getBookmark(),s.editor.fire("show:dialog",{command:n,dialogContainer:r,commandLink:e})}),i.on("save",function(t){o&&s.composer.selection.setBookmark(o),s._execCommand(n,t),s.editor.fire("save:dialog",{command:n,dialogContainer:r,commandLink:e})}),i.on("cancel",function(){s.editor.focus(!1),s.editor.fire("cancel:dialog",{command:n,dialogContainer:r,commandLink:e})})),i},execCommand:function(t,e){if(!this.commandsDisabled){var n=this.commandMapping[t+":"+e];n&&n.dialog&&!n.state?n.dialog.show():this._execCommand(t,e)}},_execCommand:function(t,e){this.editor.focus(!1),this.composer.commands.exec(t,e),this._updateLinkStates()},execAction:function(t){var e=this.editor;"change_view"===t&&e.textarea&&e.fire("change_view",e.currentView===e.textarea?"composer":"textarea"),"showSource"==t&&e.fire("showSource")},_observe:function(){for(var t=this,n=this.editor,i=this.container,o=this.commandLinks.concat(this.actionLinks),s=o.length,r=0;r<s;r++)"A"===o[r].nodeName?e.setAttributes({href:"javascript:;",unselectable:"on"}).on(o[r]):e.setAttributes({unselectable:"on"}).on(o[r]);e.delegate(i,"[data-wysihtml5-command], [data-wysihtml5-action]","mousedown",function(t){t.preventDefault()}),e.delegate(i,"[data-wysihtml5-command]","click",function(e){var n=this.getAttribute("data-wysihtml5-command"),i=this.getAttribute("data-wysihtml5-command-value");t.execCommand(n,i),e.preventDefault()}),e.delegate(i,"[data-wysihtml5-action]","click",function(e){var n=this.getAttribute("data-wysihtml5-action");t.execAction(n),e.preventDefault()}),n.on("interaction:composer",function(){t._updateLinkStates()}),n.on("focus:composer",function(){t.bookmark=null}),this.editor.config.handleTables&&(n.on("tableselect:composer",function(){t.container.querySelectorAll('[data-wysihtml5-hiddentools="table"]')[0].style.display=""}),n.on("tableunselect:composer",function(){t.container.querySelectorAll('[data-wysihtml5-hiddentools="table"]')[0].style.display="none"})),n.on("change_view",function(o){n.textarea&&setTimeout(function(){t.commandsDisabled="composer"!==o,t._updateLinkStates(),t.commandsDisabled?e.addClass(i,"wysihtml5-commands-disabled"):e.removeClass(i,"wysihtml5-commands-disabled")},0)})},_updateLinkStates:function(){var n,i,o,s,r=this.commandMapping,a=this.actionMapping;for(n in r)s=r[n],this.commandsDisabled?(i=!1,e.removeClass(s.link,"wysihtml5-command-active"),s.group&&e.removeClass(s.group,"wysihtml5-command-active"),s.dialog&&s.dialog.hide()):(i=this.composer.commands.state(s.name,s.value),e.removeClass(s.link,"wysihtml5-command-disabled"),s.group&&e.removeClass(s.group,"wysihtml5-command-disabled")),s.state!==i&&(s.state=i,i?(e.addClass(s.link,"wysihtml5-command-active"),s.group&&e.addClass(s.group,"wysihtml5-command-active"),s.dialog&&("object"==typeof i||t.lang.object(i).isArray()?(!s.dialog.multiselect&&t.lang.object(i).isArray()&&(s.state=i=1!==i.length||i[0]),s.dialog.show(i)):s.dialog.hide())):(e.removeClass(s.link,"wysihtml5-command-active"),s.group&&e.removeClass(s.group,"wysihtml5-command-active"),s.dialog&&s.dialog.hide()));for(n in a)"change_view"===(o=a[n]).name&&(o.state=this.editor.currentView===this.editor.textarea,o.state?e.addClass(o.link,"wysihtml5-action-active"):e.removeClass(o.link,"wysihtml5-action-active"))},show:function(){this.container.style.display=""},hide:function(){this.container.style.display="none"}})}(wysihtml5),function(t){t.toolbar.Dialog_createTable=t.toolbar.Dialog.extend({show:function(t){this.base(t)}})}(wysihtml5),function(t){t.toolbar.Dialog_foreColorStyle=t.toolbar.Dialog.extend({multiselect:!0,_serialize:function(){for(var t={},e=this.container.querySelectorAll("[data-wysihtml5-dialog-field]"),n=e.length,i=0;i<n;i++)t[e[i].getAttribute("data-wysihtml5-dialog-field")]=e[i].value;return t},_interpolate:function(e){for(var n,i=document.querySelector(":focus"),o=this.container.querySelectorAll("[data-wysihtml5-dialog-field]"),s=o.length,r=0,a=this.elementToChange?t.lang.object(this.elementToChange).isArray()?this.elementToChange[0]:this.elementToChange:null,l=a?a.getAttribute("style"):null,c=l?t.quirks.styleParser.parseColor(l,"color"):null;r<s;r++)(n=o[r])!==i&&(e&&"hidden"===n.type||"color"===n.getAttribute("data-wysihtml5-dialog-field")&&(n.value=c?c[3]&&1!=c[3]?"rgba("+c[0]+","+c[1]+","+c[2]+","+c[3]+");":"rgb("+c[0]+","+c[1]+","+c[2]+");":"rgb(0,0,0);"))}})}(wysihtml5),function(t){t.toolbar.Dialog_fontSizeStyle=t.toolbar.Dialog.extend({multiselect:!0,_serialize:function(){return{size:this.container.querySelector('[data-wysihtml5-dialog-field="size"]').value}},_interpolate:function(e){var n=document.querySelector(":focus"),i=this.container.querySelector("[data-wysihtml5-dialog-field='size']"),o=this.elementToChange?t.lang.object(this.elementToChange).isArray()?this.elementToChange[0]:this.elementToChange:null,s=o?o.getAttribute("style"):null,r=s?t.quirks.styleParser.parseFontSize(s):null;i&&i!==n&&r&&!/^\s*$/.test(r)&&(i.value=r)}})}(wysihtml5);var Handlebars=function(){var t=function(){"use strict";function t(t){this.string=t}return t.prototype.toString=function(){return""+this.string},t}(),e=function(t){"use strict";function e(t){return o[t]||"&amp;"}var n={},i=t,o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},s=/[&<>"'`]/g,r=/[&<>"'`]/;n.extend=function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])};var a,l=Object.prototype.toString;n.toString=l,(a=function(t){return"function"==typeof t})(/x/)&&(a=function(t){return"function"==typeof t&&"[object Function]"===l.call(t)}),n.isFunction=a;var c=Array.isArray||function(t){return!(!t||"object"!=typeof t)&&"[object Array]"===l.call(t)};return n.isArray=c,n.escapeExpression=function(t){return t instanceof i?t.toString():t||0===t?r.test(t=""+t)?t.replace(s,e):t:""},n.isEmpty=function(t){return!t&&0!==t||!(!c(t)||0!==t.length)},n}(t),n=function(){"use strict";function t(t,n){var i;n&&n.firstLine&&(t+=" - "+(i=n.firstLine)+":"+n.firstColumn);for(var o=Error.prototype.constructor.call(this,t),s=0;s<e.length;s++)this[e[s]]=o[e[s]];i&&(this.lineNumber=i,this.column=n.firstColumn)}var e=["description","fileName","lineNumber","message","name","number","stack"];return t.prototype=new Error,t}(),i=function(t,e){"use strict";function n(t,e){this.helpers=t||{},this.partials=e||{},function(t){t.registerHelper("helperMissing",function(t){if(2!==arguments.length)throw new r("Missing helper: '"+t+"'")}),t.registerHelper("blockHelperMissing",function(e,n){var i=n.inverse||function(){},o=n.fn;return l(e)&&(e=e.call(this)),!0===e?o(this):!1===e||null==e?i(this):a(e)?e.length>0?t.helpers.each(e,n):i(this):o(e)}),t.registerHelper("each",function(t,e){var n,i=e.fn,o=e.inverse,s=0,r="";if(l(t)&&(t=t.call(this)),e.data&&(n=d(e.data)),t&&"object"==typeof t)if(a(t))for(var c=t.length;c>s;s++)n&&(n.index=s,n.first=0===s,n.last=s===t.length-1),r+=i(t[s],{data:n});else for(var u in t)t.hasOwnProperty(u)&&(n&&(n.key=u,n.index=s,n.first=0===s),r+=i(t[u],{data:n}),s++);return 0===s&&(r=o(this)),r}),t.registerHelper("if",function(t,e){return l(t)&&(t=t.call(this)),!e.hash.includeZero&&!t||s.isEmpty(t)?e.inverse(this):e.fn(this)}),t.registerHelper("unless",function(e,n){return t.helpers.if.call(this,e,{fn:n.inverse,inverse:n.fn,hash:n.hash})}),t.registerHelper("with",function(t,e){return l(t)&&(t=t.call(this)),s.isEmpty(t)?void 0:e.fn(t)}),t.registerHelper("log",function(e,n){var i=n.data&&null!=n.data.level?parseInt(n.data.level,10):1;t.log(i,e)})}(this)}function i(t,e){h.log(t,e)}var o={},s=t,r=e;o.VERSION="1.3.0",o.COMPILER_REVISION=4,o.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"};var a=s.isArray,l=s.isFunction,c=s.toString,u="[object Object]";o.HandlebarsEnvironment=n,n.prototype={constructor:n,logger:h,log:i,registerHelper:function(t,e,n){if(c.call(t)===u){if(n||e)throw new r("Arg not supported with multiple helpers");s.extend(this.helpers,t)}else n&&(e.not=n),this.helpers[t]=e},registerPartial:function(t,e){c.call(t)===u?s.extend(this.partials,t):this.partials[t]=e}};var h={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(t,e){if(h.level<=t){var n=h.methodMap[t];"undefined"!=typeof console&&console[n]&&console[n].call(console,e)}}};o.logger=h,o.log=i;var d=function(t){var e={};return s.extend(e,t),e};return o.createFrame=d,o}(e,n),o=function(t,e,n){"use strict";function o(t,e,n){var i=function(t,i){return e(t,(i=i||{}).data||n)};return i.program=t,i.depth=0,i}var s={},r=t,a=e,l=i.COMPILER_REVISION,c=i.REVISION_CHANGES;return s.checkRevision=function(t){var e=t&&t[0]||1;if(e!==l){if(l>e)throw new a("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+c[l]+") or downgrade your runtime to an older version ("+c[e]+").");throw new a("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+t[1]+").")}},s.template=function(t,e){if(!e)throw new a("No environment passed to template");var n={escapeExpression:r.escapeExpression,invokePartial:function(t,n,i,o,s,r){var l=e.VM.invokePartial.apply(this,arguments);if(null!=l)return l;if(e.compile){var c={helpers:o,partials:s,data:r};return s[n]=e.compile(t,{data:void 0!==r},e),s[n](i,c)}throw new a("The partial "+n+" could not be compiled when running in runtime-only mode")},programs:[],program:function(t,e,n){var i=this.programs[t];return n?i=o(t,e,n):i||(i=this.programs[t]=o(t,e)),i},merge:function(t,e){var n=t||e;return t&&e&&t!==e&&(r.extend(n={},e),r.extend(n,t)),n},programWithDepth:e.VM.programWithDepth,noop:e.VM.noop,compilerInfo:null};return function(i,o){var s,r;(o=o||{}).partial||(s=o.helpers,r=o.partials);var a=t.call(n,o.partial?o:e,i,s,r,o.data);return o.partial||e.VM.checkRevision(n.compilerInfo),a}},s.programWithDepth=function(t,e,n){var i=Array.prototype.slice.call(arguments,3),o=function(t,o){return e.apply(this,[t,(o=o||{}).data||n].concat(i))};return o.program=t,o.depth=i.length,o},s.program=o,s.invokePartial=function(t,e,n,i,o,s){var r={partial:!0,helpers:i,partials:o,data:s};if(void 0===t)throw new a("The partial "+e+" could not be found");return t instanceof Function?t(n,r):void 0},s.noop=function(){return""},s}(e,n);return function(t,e,n,i,o){"use strict";var s=t,r=e,a=n,l=i,c=o,u=function(){var t=new s.HandlebarsEnvironment;return l.extend(t,s),t.SafeString=r,t.Exception=a,t.Utils=l,t.VM=c,t.template=function(e){return c.template(e,t)},t},h=u();return h.create=u,h}(i,t,n,e,o)}();if(this.wysihtml5=this.wysihtml5||{},this.wysihtml5.tpl=this.wysihtml5.tpl||{},this.wysihtml5.tpl.blockquote=Handlebars.template(function(t,e,n,i,o){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),o=o||{};var s,r="",a=this.escapeExpression;return r+='<li>\n  <a class="btn ',((s=n.if.call(e,null==(s=null==(s=e&&e.options)||!1===s?s:s.toolbar)||!1===s?s:s.size,{hash:{},inverse:this.noop,fn:this.program(1,function(t,e){var n;return"btn-"+a("function"==typeof(n=null==(n=null==(n=t&&t.options)||!1===n?n:n.toolbar)||!1===n?n:n.size)?n.apply(t):n)},o),data:o}))||0===s)&&(r+=s),r+=' btn-default" data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="blockquote" data-wysihtml5-display-format-name="false" tabindex="-1">\n    ',((s=n.if.call(e,null==(s=null==(s=e&&e.options)||!1===s?s:s.toolbar)||!1===s?s:s.fa,{hash:{},inverse:this.program(5,function(t,e){return'\n      <span class="glyphicon glyphicon-quote"></span>\n    '},o),fn:this.program(3,function(t,e){return' \n      <span class="fa fa-quote-left"></span>\n    '},o),data:o}))||0===s)&&(r+=s),r+"\n  </a>\n</li>\n"}),this.wysihtml5.tpl.color=Handlebars.template(function(t,e,n,i,o){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),o=o||{};var s,r="",a=this.escapeExpression;return r+='<li class="dropdown">\n  <a class="btn btn-default dropdown-toggle ',((s=n.if.call(e,null==(s=null==(s=e&&e.options)||!1===s?s:s.toolbar)||!1===s?s:s.size,{hash:{},inverse:this.noop,fn:this.program(1,function(t,e){var n;return"btn-"+a("function"==typeof(n=null==(n=null==(n=t&&t.options)||!1===n?n:n.toolbar)||!1===n?n:n.size)?n.apply(t):n)},o),data:o}))||0===s)&&(r+=s),r+'" data-toggle="dropdown" tabindex="-1">\n    <span class="current-color">'+a("function"==typeof(s=null==(s=null==(s=e&&e.locale)||!1===s?s:s.colours)||!1===s?s:s.black)?s.apply(e):s)+'</span>\n    <b class="caret"></b>\n  </a>\n  <ul class="dropdown-menu">\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="black"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="black">'+a("function"==typeof(s=null==(s=null==(s=e&&e.locale)||!1===s?s:s.colours)||!1===s?s:s.black)?s.apply(e):s)+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="silver"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="silver">'+a("function"==typeof(s=null==(s=null==(s=e&&e.locale)||!1===s?s:s.colours)||!1===s?s:s.silver)?s.apply(e):s)+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="gray"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="gray">'+a("function"==typeof(s=null==(s=null==(s=e&&e.locale)||!1===s?s:s.colours)||!1===s?s:s.gray)?s.apply(e):s)+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="maroon"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="maroon">'+a("function"==typeof(s=null==(s=null==(s=e&&e.locale)||!1===s?s:s.colours)||!1===s?s:s.maroon)?s.apply(e):s)+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="red"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="red">'+a("function"==typeof(s=null==(s=null==(s=e&&e.locale)||!1===s?s:s.colours)||!1===s?s:s.red)?s.apply(e):s)+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="purple"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="purple">'+a("function"==typeof(s=null==(s=null==(s=e&&e.locale)||!1===s?s:s.colours)||!1===s?s:s.purple)?s.apply(e):s)+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="green"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="green">'+a("function"==typeof(s=null==(s=null==(s=e&&e.locale)||!1===s?s:s.colours)||!1===s?s:s.green)?s.apply(e):s)+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="olive"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="olive">'+a("function"==typeof(s=null==(s=null==(s=e&&e.locale)||!1===s?s:s.colours)||!1===s?s:s.olive)?s.apply(e):s)+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="navy"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="navy">'+a("function"==typeof(s=null==(s=null==(s=e&&e.locale)||!1===s?s:s.colours)||!1===s?s:s.navy)?s.apply(e):s)+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="blue"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="blue">'+a("function"==typeof(s=null==(s=null==(s=e&&e.locale)||!1===s?s:s.colours)||!1===s?s:s.blue)?s.apply(e):s)+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="orange"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="orange">'+a("function"==typeof(s=null==(s=null==(s=e&&e.locale)||!1===s?s:s.colours)||!1===s?s:s.orange)?s.apply(e):s)+"</a></li>\n  </ul>\n</li>\n"}),this.wysihtml5.tpl.emphasis=Handlebars.template(function(t,e,n,i,o){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),o=o||{};var s,r="",a="function",l=this.escapeExpression,c=this;function u(t,e){var n;return"btn-"+l(typeof(n=null==(n=null==(n=t&&t.options)||!1===n?n:n.toolbar)||!1===n?n:n.size)===a?n.apply(t):n)}return r+='<li>\n  <div class="btn-group">\n    <a class="btn ',((s=n.if.call(e,null==(s=null==(s=e&&e.options)||!1===s?s:s.toolbar)||!1===s?s:s.size,{hash:{},inverse:c.noop,fn:c.program(1,u,o),data:o}))||0===s)&&(r+=s),r+=' btn-default" data-wysihtml5-command="bold" title="CTRL+B" tabindex="-1">'+l(typeof(s=null==(s=null==(s=e&&e.locale)||!1===s?s:s.emphasis)||!1===s?s:s.bold)===a?s.apply(e):s)+'</a>\n    <a class="btn ',((s=n.if.call(e,null==(s=null==(s=e&&e.options)||!1===s?s:s.toolbar)||!1===s?s:s.size,{hash:{},inverse:c.noop,fn:c.program(1,u,o),data:o}))||0===s)&&(r+=s),r+=' btn-default" data-wysihtml5-command="italic" title="CTRL+I" tabindex="-1">'+l(typeof(s=null==(s=null==(s=e&&e.locale)||!1===s?s:s.emphasis)||!1===s?s:s.italic)===a?s.apply(e):s)+'</a>\n    <a class="btn ',((s=n.if.call(e,null==(s=null==(s=e&&e.options)||!1===s?s:s.toolbar)||!1===s?s:s.size,{hash:{},inverse:c.noop,fn:c.program(1,u,o),data:o}))||0===s)&&(r+=s),r+=' btn-default" data-wysihtml5-command="underline" title="CTRL+U" tabindex="-1">'+l(typeof(s=null==(s=null==(s=e&&e.locale)||!1===s?s:s.emphasis)||!1===s?s:s.underline)===a?s.apply(e):s)+"</a>\n    ",((s=n.if.call(e,null==(s=null==(s=null==(s=e&&e.options)||!1===s?s:s.toolbar)||!1===s?s:s.emphasis)||!1===s?s:s.small,{hash:{},inverse:c.noop,fn:c.program(3,function(t,e){var i,o="";return o+='\n    <a class="btn ',((i=n.if.call(t,null==(i=null==(i=t&&t.options)||!1===i?i:i.toolbar)||!1===i?i:i.size,{hash:{},inverse:c.noop,fn:c.program(1,u,e),data:e}))||0===i)&&(o+=i),o+' btn-default" data-wysihtml5-command="small" title="CTRL+S" tabindex="-1">'+l(typeof(i=null==(i=null==(i=t&&t.locale)||!1===i?i:i.emphasis)||!1===i?i:i.small)===a?i.apply(t):i)+"</a>\n    "},o),data:o}))||0===s)&&(r+=s),r+"\n  </div>\n</li>\n"}),this.wysihtml5.tpl["font-styles"]=Handlebars.template(function(t,e,n,i,o){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),o=o||{};var s,r="",a=this.escapeExpression;return r+='<li class="dropdown">\n  <a class="btn btn-default dropdown-toggle ',((s=n.if.call(e,null==(s=null==(s=e&&e.options)||!1===s?s:s.toolbar)||!1===s?s:s.size,{hash:{},inverse:this.noop,fn:this.program(1,function(t,e){var n;return"btn-"+a("function"==typeof(n=null==(n=null==(n=t&&t.options)||!1===n?n:n.toolbar)||!1===n?n:n.size)?n.apply(t):n)},o),data:o}))||0===s)&&(r+=s),r+='" data-toggle="dropdown">\n    ',((s=n.if.call(e,null==(s=null==(s=e&&e.options)||!1===s?s:s.toolbar)||!1===s?s:s.fa,{hash:{},inverse:this.program(5,function(t,e){return'\n      <span class="glyphicon glyphicon-font"></span>\n    '},o),fn:this.program(3,function(t,e){return'\n      <span class="fa fa-font"></span>\n    '},o),data:o}))||0===s)&&(r+=s),r+'\n    <span class="current-font">'+a("function"==typeof(s=null==(s=null==(s=e&&e.locale)||!1===s?s:s.font_styles)||!1===s?s:s.normal)?s.apply(e):s)+'</span>\n    <b class="caret"></b>\n  </a>\n  <ul class="dropdown-menu">\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="p" tabindex="-1">'+a("function"==typeof(s=null==(s=null==(s=e&&e.locale)||!1===s?s:s.font_styles)||!1===s?s:s.normal)?s.apply(e):s)+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h1" tabindex="-1">'+a("function"==typeof(s=null==(s=null==(s=e&&e.locale)||!1===s?s:s.font_styles)||!1===s?s:s.h1)?s.apply(e):s)+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h2" tabindex="-1">'+a("function"==typeof(s=null==(s=null==(s=e&&e.locale)||!1===s?s:s.font_styles)||!1===s?s:s.h2)?s.apply(e):s)+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h3" tabindex="-1">'+a("function"==typeof(s=null==(s=null==(s=e&&e.locale)||!1===s?s:s.font_styles)||!1===s?s:s.h3)?s.apply(e):s)+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h4" tabindex="-1">'+a("function"==typeof(s=null==(s=null==(s=e&&e.locale)||!1===s?s:s.font_styles)||!1===s?s:s.h4)?s.apply(e):s)+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h5" tabindex="-1">'+a("function"==typeof(s=null==(s=null==(s=e&&e.locale)||!1===s?s:s.font_styles)||!1===s?s:s.h5)?s.apply(e):s)+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h6" tabindex="-1">'+a("function"==typeof(s=null==(s=null==(s=e&&e.locale)||!1===s?s:s.font_styles)||!1===s?s:s.h6)?s.apply(e):s)+"</a></li>\n  </ul>\n</li>\n"}),this.wysihtml5.tpl.html=Handlebars.template(function(t,e,n,i,o){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),o=o||{};var s,r="",a=this.escapeExpression;return r+='<li>\n  <div class="btn-group">\n    <a class="btn ',((s=n.if.call(e,null==(s=null==(s=e&&e.options)||!1===s?s:s.toolbar)||!1===s?s:s.size,{hash:{},inverse:this.noop,fn:this.program(1,function(t,e){var n;return"btn-"+a("function"==typeof(n=null==(n=null==(n=t&&t.options)||!1===n?n:n.toolbar)||!1===n?n:n.size)?n.apply(t):n)},o),data:o}))||0===s)&&(r+=s),r+=' btn-default" data-wysihtml5-action="change_view" title="'+a("function"==typeof(s=null==(s=null==(s=e&&e.locale)||!1===s?s:s.html)||!1===s?s:s.edit)?s.apply(e):s)+'" tabindex="-1">\n      ',((s=n.if.call(e,null==(s=null==(s=e&&e.options)||!1===s?s:s.toolbar)||!1===s?s:s.fa,{hash:{},inverse:this.program(5,function(t,e){return'\n        <span class="glyphicon glyphicon-pencil"></span>\n      '},o),fn:this.program(3,function(t,e){return'\n        <span class="fa fa-pencil"></span>\n      '},o),data:o}))||0===s)&&(r+=s),r+"\n    </a>\n  </div>\n</li>\n"}),this.wysihtml5.tpl.image=Handlebars.template(function(t,e,n,i,o){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),o=o||{};var s,r="",a=this.escapeExpression;return r+='<li>\n  <div class="bootstrap-wysihtml5-insert-image-modal modal fade" data-wysihtml5-dialog="insertImage">\n    <div class="modal-dialog ',((s=n.if.call(e,null==(s=null==(s=e&&e.options)||!1===s?s:s.toolbar)||!1===s?s:s.smallmodals,{hash:{},inverse:this.noop,fn:this.program(1,function(t,e){return"modal-sm"},o),data:o}))||0===s)&&(r+=s),r+='">\n      <div class="modal-content">\n        <div class="modal-header">\n          <a class="close" data-dismiss="modal">&times;</a>\n          <h3>'+a("function"==typeof(s=null==(s=null==(s=e&&e.locale)||!1===s?s:s.image)||!1===s?s:s.insert)?s.apply(e):s)+'</h3>\n        </div>\n        <div class="modal-body">\n          <div class="form-group">\n            <input value="http://" class="bootstrap-wysihtml5-insert-image-url form-control">\n          </div> \n        </div>\n        <div class="modal-footer">\n          <a class="btn btn-default" data-dismiss="modal" data-wysihtml5-dialog-action="cancel" href="#">'+a("function"==typeof(s=null==(s=null==(s=e&&e.locale)||!1===s?s:s.image)||!1===s?s:s.cancel)?s.apply(e):s)+'</a>\n          <a class="btn btn-primary" data-dismiss="modal"  data-wysihtml5-dialog-action="save" href="#">'+a("function"==typeof(s=null==(s=null==(s=e&&e.locale)||!1===s?s:s.image)||!1===s?s:s.insert)?s.apply(e):s)+'</a>\n        </div>\n      </div>\n    </div>\n  </div>\n  <a class="btn ',((s=n.if.call(e,null==(s=null==(s=e&&e.options)||!1===s?s:s.toolbar)||!1===s?s:s.size,{hash:{},inverse:this.noop,fn:this.program(3,function(t,e){var n;return"btn-"+a("function"==typeof(n=null==(n=null==(n=t&&t.options)||!1===n?n:n.toolbar)||!1===n?n:n.size)?n.apply(t):n)},o),data:o}))||0===s)&&(r+=s),r+=' btn-default" data-wysihtml5-command="insertImage" title="'+a("function"==typeof(s=null==(s=null==(s=e&&e.locale)||!1===s?s:s.image)||!1===s?s:s.insert)?s.apply(e):s)+'" tabindex="-1">\n    ',((s=n.if.call(e,null==(s=null==(s=e&&e.options)||!1===s?s:s.toolbar)||!1===s?s:s.fa,{hash:{},inverse:this.program(7,function(t,e){return'\n      <span class="glyphicon glyphicon-picture"></span>\n    '},o),fn:this.program(5,function(t,e){return'\n      <span class="fa fa-file-image-o"></span>\n    '},o),data:o}))||0===s)&&(r+=s),r+"\n  </a>\n</li>\n"}),this.wysihtml5.tpl.link=Handlebars.template(function(t,e,n,i,o){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),o=o||{};var s,r="",a=this.escapeExpression;return r+='<li>\n  <div class="bootstrap-wysihtml5-insert-link-modal modal fade" data-wysihtml5-dialog="createLink">\n    <div class="modal-dialog ',((s=n.if.call(e,null==(s=null==(s=e&&e.options)||!1===s?s:s.toolbar)||!1===s?s:s.smallmodals,{hash:{},inverse:this.noop,fn:this.program(1,function(t,e){return"modal-sm"},o),data:o}))||0===s)&&(r+=s),r+='">\n      <div class="modal-content">\n        <div class="modal-header">\n          <a class="close" data-dismiss="modal">&times;</a>\n          <h3>'+a("function"==typeof(s=null==(s=null==(s=e&&e.locale)||!1===s?s:s.link)||!1===s?s:s.insert)?s.apply(e):s)+'</h3>\n        </div>\n        <div class="modal-body">\n          <div class="form-group">\n            <input value="http://" class="bootstrap-wysihtml5-insert-link-url form-control" data-wysihtml5-dialog-field="href">\n          </div> \n          <div class="checkbox">\n            <label> \n              <input type="checkbox" class="bootstrap-wysihtml5-insert-link-target" checked>'+a("function"==typeof(s=null==(s=null==(s=e&&e.locale)||!1===s?s:s.link)||!1===s?s:s.target)?s.apply(e):s)+'\n            </label>\n          </div>\n        </div>\n        <div class="modal-footer">\n          <a class="btn btn-default" data-dismiss="modal" data-wysihtml5-dialog-action="cancel" href="#">'+a("function"==typeof(s=null==(s=null==(s=e&&e.locale)||!1===s?s:s.link)||!1===s?s:s.cancel)?s.apply(e):s)+'</a>\n          <a href="#" class="btn btn-primary" data-dismiss="modal" data-wysihtml5-dialog-action="save">'+a("function"==typeof(s=null==(s=null==(s=e&&e.locale)||!1===s?s:s.link)||!1===s?s:s.insert)?s.apply(e):s)+'</a>\n        </div>\n      </div>\n    </div>\n  </div>\n  <a class="btn ',((s=n.if.call(e,null==(s=null==(s=e&&e.options)||!1===s?s:s.toolbar)||!1===s?s:s.size,{hash:{},inverse:this.noop,fn:this.program(3,function(t,e){var n;return"btn-"+a("function"==typeof(n=null==(n=null==(n=t&&t.options)||!1===n?n:n.toolbar)||!1===n?n:n.size)?n.apply(t):n)},o),data:o}))||0===s)&&(r+=s),r+=' btn-default" data-wysihtml5-command="createLink" title="'+a("function"==typeof(s=null==(s=null==(s=e&&e.locale)||!1===s?s:s.link)||!1===s?s:s.insert)?s.apply(e):s)+'" tabindex="-1">\n    ',((s=n.if.call(e,null==(s=null==(s=e&&e.options)||!1===s?s:s.toolbar)||!1===s?s:s.fa,{hash:{},inverse:this.program(7,function(t,e){return'\n      <span class="glyphicon glyphicon-share"></span>\n    '},o),fn:this.program(5,function(t,e){return'\n      <span class="fa fa-share-square-o"></span>\n    '},o),data:o}))||0===s)&&(r+=s),r+"\n  </a>\n</li>\n"}),this.wysihtml5.tpl.lists=Handlebars.template(function(t,e,n,i,o){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),o=o||{};var s,r="",a="function",l=this.escapeExpression;function c(t,e){var n;return"btn-"+l(typeof(n=null==(n=null==(n=t&&t.options)||!1===n?n:n.toolbar)||!1===n?n:n.size)===a?n.apply(t):n)}return r+='<li>\n  <div class="btn-group">\n    <a class="btn ',((s=n.if.call(e,null==(s=null==(s=e&&e.options)||!1===s?s:s.toolbar)||!1===s?s:s.size,{hash:{},inverse:this.noop,fn:this.program(1,c,o),data:o}))||0===s)&&(r+=s),r+=' btn-default" data-wysihtml5-command="insertUnorderedList" title="'+l(typeof(s=null==(s=null==(s=e&&e.locale)||!1===s?s:s.lists)||!1===s?s:s.unordered)===a?s.apply(e):s)+'" tabindex="-1">\n    ',((s=n.if.call(e,null==(s=null==(s=e&&e.options)||!1===s?s:s.toolbar)||!1===s?s:s.fa,{hash:{},inverse:this.program(5,function(t,e){return'\n      <span class="glyphicon glyphicon-list"></span>\n    '},o),fn:this.program(3,function(t,e){return'\n      <span class="fa fa-list-ul"></span>\n    '},o),data:o}))||0===s)&&(r+=s),r+='\n    </a>\n    <a class="btn ',((s=n.if.call(e,null==(s=null==(s=e&&e.options)||!1===s?s:s.toolbar)||!1===s?s:s.size,{hash:{},inverse:this.noop,fn:this.program(1,c,o),data:o}))||0===s)&&(r+=s),r+=' btn-default" data-wysihtml5-command="insertOrderedList" title="'+l(typeof(s=null==(s=null==(s=e&&e.locale)||!1===s?s:s.lists)||!1===s?s:s.ordered)===a?s.apply(e):s)+'" tabindex="-1">\n    ',((s=n.if.call(e,null==(s=null==(s=e&&e.options)||!1===s?s:s.toolbar)||!1===s?s:s.fa,{hash:{},inverse:this.program(9,function(t,e){return'\n      <span class="glyphicon glyphicon-th-list"></span>\n    '},o),fn:this.program(7,function(t,e){return'\n      <span class="fa fa-list-ol"></span>\n    '},o),data:o}))||0===s)&&(r+=s),r+='\n    </a>\n    <a class="btn ',((s=n.if.call(e,null==(s=null==(s=e&&e.options)||!1===s?s:s.toolbar)||!1===s?s:s.size,{hash:{},inverse:this.noop,fn:this.program(1,c,o),data:o}))||0===s)&&(r+=s),r+=' btn-default" data-wysihtml5-command="Outdent" title="'+l(typeof(s=null==(s=null==(s=e&&e.locale)||!1===s?s:s.lists)||!1===s?s:s.outdent)===a?s.apply(e):s)+'" tabindex="-1">\n    ',((s=n.if.call(e,null==(s=null==(s=e&&e.options)||!1===s?s:s.toolbar)||!1===s?s:s.fa,{hash:{},inverse:this.program(13,function(t,e){return'\n      <span class="glyphicon glyphicon-indent-right"></span>\n    '},o),fn:this.program(11,function(t,e){return'\n      <span class="fa fa-outdent"></span>\n    '},o),data:o}))||0===s)&&(r+=s),r+='\n    </a>\n    <a class="btn ',((s=n.if.call(e,null==(s=null==(s=e&&e.options)||!1===s?s:s.toolbar)||!1===s?s:s.size,{hash:{},inverse:this.noop,fn:this.program(1,c,o),data:o}))||0===s)&&(r+=s),r+=' btn-default" data-wysihtml5-command="Indent" title="'+l(typeof(s=null==(s=null==(s=e&&e.locale)||!1===s?s:s.lists)||!1===s?s:s.indent)===a?s.apply(e):s)+'" tabindex="-1">\n    ',((s=n.if.call(e,null==(s=null==(s=e&&e.options)||!1===s?s:s.toolbar)||!1===s?s:s.fa,{hash:{},inverse:this.program(17,function(t,e){return'\n      <span class="glyphicon glyphicon-indent-left"></span>\n    '},o),fn:this.program(15,function(t,e){return'\n      <span class="fa fa-indent"></span>\n    '},o),data:o}))||0===s)&&(r+=s),r+"\n    </a>\n  </div>\n</li>\n"}),function(t){"function"==typeof define&&define.amd?define("bootstrap.wysihtml5",["jquery","wysihtml5","bootstrap","bootstrap.wysihtml5.templates","bootstrap.wysihtml5.commands"],t):t(jQuery,wysihtml5)}(function(t,e){!function(t,e){"use strict";var n=function(t,n,i){if(e.tpl[t])return e.tpl[t]({locale:n,options:i})},i=function(n,i){this.el=n;var o=t.extend(!0,{},s,i);for(var r in o.customTemplates)e.tpl[r]=o.customTemplates[r];this.toolbar=this.createToolbar(n,o),this.editor=this.createEditor(o)};i.prototype={constructor:i,createEditor:function(n){(n=t.extend(!0,{},n=n||{})).toolbar=this.toolbar[0];var i=new e.Editor(this.el[0],n);if(this.addMoreShortcuts(i,i.composer.editableArea.contentDocument?i.composer.editableArea.contentDocument.body||i.composer.editableArea.contentDocument:i.composer.editableArea,n.shortcuts),n&&n.events)for(var o in n.events)i.on(o,n.events[o]);return i.on("beforeload",this.syncBootstrapDialogEvents),i},syncBootstrapDialogEvents:function(){var e=this;t.map(this.toolbar.commandMapping,function(t,e){return[t]}).filter(function(t,e,n){return t.dialog}).map(function(t,e,n){return t.dialog}).forEach(function(n,i,o){n.on("show",function(e){t(this.container).modal("show")}),n.on("hide",function(n){t(this.container).modal("hide"),e.composer.focus()}),t(n.container).on("shown.bs.modal",function(){t(this).find("input, select, textarea").first().focus()})})},createToolbar:function(e,i){var o=this,a=t("<ul/>",{class:"wysihtml5-toolbar",style:"display:none"}),l=i.locale||s.locale||"en";r.hasOwnProperty(l)||(console.debug("Locale '"+l+"' not found. Available locales are: "+Object.keys(r)+". Falling back to 'en'."),l="en");var c=t.extend(!0,{},r.en,r[l]);for(var u in i.toolbar)i.toolbar[u]&&(a.append(n(u,c,i)),"html"===u&&this.initHtml(a));return a.find('a[data-wysihtml5-command="formatBlock"]').click(function(e){var n=t(e.delegateTarget||e.target||e.srcElement),i=n.data("wysihtml5-display-format-name"),s=n.data("wysihtml5-format-name")||n.html();void 0!==i&&"true"!==i||o.toolbar.find(".current-font").text(s)}),a.find('a[data-wysihtml5-command="foreColor"]').click(function(e){var n=t(e.target||e.srcElement);o.toolbar.find(".current-color").text(n.html())}),this.el.before(a),a},initHtml:function(t){t.find('a[data-wysihtml5-action="change_view"]').click(function(e){t.find("a.btn").not('a[data-wysihtml5-action="change_view"]').toggleClass("disabled")})},addMoreShortcuts:function(t,n,i){e.dom.observe(n,"keydown",function(n){var o=i[n.keyCode];if((n.ctrlKey||n.metaKey||n.altKey)&&o&&e.commands[o]){var s=t.toolbar.commandMapping[o+":null"];s&&s.dialog&&!s.state?s.dialog.show():e.commands[o].exec(t.composer,o),n.preventDefault()}})}};var o={resetDefaults:function(){t.fn.wysihtml5.defaultOptions=t.extend(!0,{},t.fn.wysihtml5.defaultOptionsCache)},bypassDefaults:function(e){return this.each(function(){var n=t(this);n.data("wysihtml5",new i(n,e))})},shallowExtend:function(e){var n=t.extend({},t.fn.wysihtml5.defaultOptions,e||{},t(this).data());return o.bypassDefaults.apply(this,[n])},deepExtend:function(e){var n=t.extend(!0,{},t.fn.wysihtml5.defaultOptions,e||{});return o.bypassDefaults.apply(this,[n])},init:function(t){return o.shallowExtend.apply(this,[t])}};t.fn.wysihtml5=function(e){return o[e]?o[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error("Method "+e+" does not exist on jQuery.wysihtml5"):o.init.apply(this,arguments)},t.fn.wysihtml5.Constructor=i;var s=t.fn.wysihtml5.defaultOptions={toolbar:{"font-styles":!0,color:!1,emphasis:{small:!0},blockquote:!0,lists:!0,html:!1,link:!0,image:!0,smallmodals:!1},parserRules:{classes:{"wysiwyg-color-silver":1,"wysiwyg-color-gray":1,"wysiwyg-color-white":1,"wysiwyg-color-maroon":1,"wysiwyg-color-red":1,"wysiwyg-color-purple":1,"wysiwyg-color-fuchsia":1,"wysiwyg-color-green":1,"wysiwyg-color-lime":1,"wysiwyg-color-olive":1,"wysiwyg-color-yellow":1,"wysiwyg-color-navy":1,"wysiwyg-color-blue":1,"wysiwyg-color-teal":1,"wysiwyg-color-aqua":1,"wysiwyg-color-orange":1},tags:{b:{},i:{},strong:{},em:{},p:{},br:{},ol:{},ul:{},li:{},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},blockquote:{},u:1,img:{check_attributes:{width:"numbers",alt:"alt",src:"url",height:"numbers"}},a:{check_attributes:{href:"url"},set_attributes:{target:"_blank",rel:"nofollow"}},span:1,div:1,small:1,code:1,pre:1}},locale:"en",shortcuts:{83:"small"}};"undefined"==typeof t.fn.wysihtml5.defaultOptionsCache&&(t.fn.wysihtml5.defaultOptionsCache=t.extend(!0,{},t.fn.wysihtml5.defaultOptions));var r=t.fn.wysihtml5.locale={}}(t,e)}),function(t){t.commands.small={exec:function(e,n){return t.commands.formatInline.exec(e,n,"small")},state:function(e,n){return t.commands.formatInline.state(e,n,"small")}}}(wysihtml5),function(t){"function"==typeof define&&define.amd?define("bootstrap.wysihtml5.en-US",["jquery","bootstrap.wysihtml5"],t):t(jQuery)}(function(t){t.fn.wysihtml5.locale.en=t.fn.wysihtml5.locale["en-US"]={font_styles:{normal:"Normal text",h1:"Heading 1",h2:"Heading 2",h3:"Heading 3",h4:"Heading 4",h5:"Heading 5",h6:"Heading 6"},emphasis:{bold:"Bold",italic:"Italic",underline:"Underline",small:"Small"},lists:{unordered:"Unordered list",ordered:"Ordered list",outdent:"Outdent",indent:"Indent"},link:{insert:"Insert link",cancel:"Cancel",target:"Open link in new window"},image:{insert:"Insert image",cancel:"Cancel"},html:{edit:"Edit HTML"},colours:{black:"Black",silver:"Silver",gray:"Grey",maroon:"Maroon",red:"Red",purple:"Purple",green:"Green",olive:"Olive",navy:"Navy",blue:"Blue",orange:"Orange"}}}),function(t){var e="iCheck",n=e+"-helper",i="radio",o="checked",s="un"+o,r="disabled",a="determinate",l="in"+a,c="update",u="type",h="touchbegin.i touchend.i",d="addClass",f="removeClass",p="trigger",g="label",m="cursor",v=/ipad|iphone|ipod|android|blackberry|windows phone|opera mini|silk/i.test(navigator.userAgent);function y(t,e,n){var s=t[0],h=/er/.test(n)?l:/bl/.test(n)?r:o,d=n==c?{checked:s[o],disabled:s[r],indeterminate:"true"==t.attr(l)||"false"==t.attr(a)}:s[h];if(/^(ch|di|in)/.test(n)&&!d)b(t,h);else if(/^(un|en|de)/.test(n)&&d)w(t,h);else if(n==c)for(var f in d)d[f]?b(t,f,!0):w(t,f,!0);else e&&"toggle"!=n||(e||t[p]("ifClicked"),d?s[u]!==i&&w(t,h):b(t,h))}function b(c,h,p){var g=c[0],v=c.parent(),y=h==o,b=h==l,_=h==r,S=b?a:y?s:"enabled",T=x(c,S+C(g[u])),D=x(c,h+C(g[u]));if(!0!==g[h]){if(!p&&h==o&&g[u]==i&&g.name){var O=c.closest("form"),E='input[name="'+g.name+'"]';(E=O.length?O.find(E):t(E)).each(function(){this!==g&&t(this).data(e)&&w(t(this),h)})}b?(g[h]=!0,g[o]&&w(c,o,"force")):(p||(g[h]=!0),y&&g[l]&&w(c,l,!1)),k(c,y,h,p)}g[r]&&x(c,m,!0)&&v.find("."+n).css(m,"default"),v[d](D||x(c,h)||""),v.attr("role")&&!b&&v.attr("aria-"+(_?r:o),"true"),v[f](T||x(c,S)||"")}function w(t,e,i){var c=t[0],h=t.parent(),p=e==o,g=e==l,v=e==r,y=g?a:p?s:"enabled",b=x(t,y+C(c[u])),w=x(t,e+C(c[u]));!1!==c[e]&&(!g&&i&&"force"!=i||(c[e]=!1),k(t,p,y,i)),!c[r]&&x(t,m,!0)&&h.find("."+n).css(m,"pointer"),h[f](w||x(t,e)||""),h.attr("role")&&!g&&h.attr("aria-"+(v?r:o),"false"),h[d](b||x(t,y)||"")}function _(n,i){n.data(e)&&(n.parent().html(n.attr("style",n.data(e).s||"")),i&&n[p](i),n.off(".i").unwrap(),t(g+'[for="'+n[0].id+'"]').add(n.closest(g)).off(".i"))}function x(t,n,i){if(t.data(e))return t.data(e).o[n+(i?"":"Class")]}function C(t){return t.charAt(0).toUpperCase()+t.slice(1)}function k(t,e,n,i){i||(e&&t[p]("ifToggled"),t[p]("ifChanged")[p]("if"+C(n)))}t.fn[e]=function(s,a){var m='input[type="checkbox"], input[type="'+i+'"]',x=t(),C=function(e){e.each(function(){var e=t(this);x=e.is(m)?x.add(e):x.add(e.find(m))})};if(/^(check|uncheck|toggle|indeterminate|determinate|disable|enable|update|destroy)$/i.test(s))return s=s.toLowerCase(),C(this),x.each(function(){var e=t(this);"destroy"==s?_(e,"ifDestroyed"):y(e,!0,s),t.isFunction(a)&&a()});if("object"!=typeof s&&s)return this;var k=t.extend({checkedClass:o,disabledClass:r,indeterminateClass:l,labelHover:!0},s),S=k.handle,T=k.hoverClass||"hover",D=k.focusClass||"focus",O=k.activeClass||"active",E=!!k.labelHover,N=k.labelHoverClass||"hover",A=0|(""+k.increaseArea).replace("%","");return"checkbox"!=S&&S!=i||(m='input[type="'+S+'"]'),A<-50&&(A=-50),C(this),x.each(function(){var s=t(this);_(s);var a,l=this,m=l.id,x=-A+"%",C=100+2*A+"%",S={position:"absolute",top:x,left:x,display:"block",width:C,height:C,margin:0,padding:0,background:"#fff",border:0,opacity:0},M=v?{position:"absolute",visibility:"hidden"}:A?S:{position:"absolute",opacity:0},P="checkbox"==l[u]?k.checkboxClass||"icheckbox":k.radioClass||"i"+i,I=t(g+'[for="'+m+'"]').add(s.closest(g)),R=!!k.aria,L=e+"-"+Math.random().toString(36).substr(2,6),j='<div class="'+P+'" '+(R?'role="'+l[u]+'" ':"");R&&I.each(function(){j+='aria-labelledby="',this.id?j+=this.id:(this.id=L,j+=L),j+='"'}),j=s.wrap(j+"/>")[p]("ifCreated").parent().append(k.insert),a=t('<ins class="'+n+'"/>').css(S).appendTo(j),s.data(e,{o:k,s:s.attr("style")}).css(M),k.inheritClass&&j[d](l.className||""),k.inheritID&&m&&j.attr("id",e+"-"+m),"static"==j.css("position")&&j.css("position","relative"),y(s,!0,c),I.length&&I.on("click.i mouseover.i mouseout.i "+h,function(e){var n=e[u],i=t(this);if(!l[r]){if("click"==n){if(t(e.target).is("a"))return;y(s,!1,!0)}else E&&(/ut|nd/.test(n)?(j[f](T),i[f](N)):(j[d](T),i[d](N)));if(!v)return!1;e.stopPropagation()}}),s.on("click.i focus.i blur.i keyup.i keydown.i keypress.i",function(t){var e=t[u];return"click"!=e&&("keydown"==e&&32==t.keyCode?(l[u]==i&&l[o]||(l[o]?w(s,o):b(s,o)),!1):void("keyup"==e&&l[u]==i?!l[o]&&b(s,o):/us|ur/.test(e)&&j["blur"==e?f:d](D)))}),a.on("click mousedown mouseup mouseover mouseout "+h,function(t){var e=t[u],n=/wn|up/.test(e)?O:T;if(!l[r]){if("click"==e?y(s,!1,!0):(/wn|er|in/.test(e)?j[d](n):j[f](n+" "+O),I.length&&E&&n==T&&I[/ut|nd/.test(e)?f:d](N)),!v)return!1;t.stopPropagation()}})})}}(window.jQuery||window.Zepto),"undefined"==typeof jQuery)throw new Error("AdminLTE requires jQuery");function _init(){"use strict";$.AdminLTE.layout={activate:function(){var t=this;t.fix(),t.fixSidebar(),$("body, html, .wrapper").css("height","auto"),$(window,".wrapper").resize(function(){t.fix(),t.fixSidebar()})},fix:function(){$(".layout-boxed > .wrapper").css("overflow","hidden");var t=$(".main-footer").outerHeight()||0,e=$(".main-header").outerHeight()+t,n=$(window).height(),i=$(".sidebar").height()||0;if($("body").hasClass("fixed"))$(".content-wrapper, .right-side").css("min-height",n-t);else{var o;n>=i?($(".content-wrapper, .right-side").css("min-height",n-e),o=n-e):($(".content-wrapper, .right-side").css("min-height",i),o=i);var s=$($.AdminLTE.options.controlSidebarOptions.selector);"undefined"!=typeof s&&s.height()>o&&$(".content-wrapper, .right-side").css("min-height",s.height())}},fixSidebar:function(){$("body").hasClass("fixed")?("undefined"==typeof $.fn.slimScroll&&window.console&&window.console.error("Error: the fixed layout requires the slimscroll plugin!"),$.AdminLTE.options.sidebarSlimScroll&&"undefined"!=typeof $.fn.slimScroll&&($(".sidebar").slimScroll({destroy:!0}).height("auto"),$(".sidebar").slimScroll({height:$(window).height()-$(".main-header").height()+"px",color:"rgba(0,0,0,0.2)",size:"3px"}))):"undefined"!=typeof $.fn.slimScroll&&$(".sidebar").slimScroll({destroy:!0}).height("auto")}},$.AdminLTE.pushMenu={activate:function(t){var e=$.AdminLTE.options.screenSizes;$(document).on("click",t,function(t){t.preventDefault(),$(window).width()>e.sm-1?$("body").hasClass("sidebar-collapse")?$("body").removeClass("sidebar-collapse").trigger("expanded.pushMenu"):$("body").addClass("sidebar-collapse").trigger("collapsed.pushMenu"):$("body").hasClass("sidebar-open")?$("body").removeClass("sidebar-open").removeClass("sidebar-collapse").trigger("collapsed.pushMenu"):$("body").addClass("sidebar-open").trigger("expanded.pushMenu")}),$(".content-wrapper").click(function(){$(window).width()<=e.sm-1&&$("body").hasClass("sidebar-open")&&$("body").removeClass("sidebar-open")}),($.AdminLTE.options.sidebarExpandOnHover||$("body").hasClass("fixed")&&$("body").hasClass("sidebar-mini"))&&this.expandOnHover()},expandOnHover:function(){var t=this,e=$.AdminLTE.options.screenSizes.sm-1;$(".main-sidebar").hover(function(){$("body").hasClass("sidebar-mini")&&$("body").hasClass("sidebar-collapse")&&$(window).width()>e&&t.expand()},function(){$("body").hasClass("sidebar-mini")&&$("body").hasClass("sidebar-expanded-on-hover")&&$(window).width()>e&&t.collapse()})},expand:function(){$("body").removeClass("sidebar-collapse").addClass("sidebar-expanded-on-hover")},collapse:function(){$("body").hasClass("sidebar-expanded-on-hover")&&$("body").removeClass("sidebar-expanded-on-hover").addClass("sidebar-collapse")}},$.AdminLTE.tree=function(t){var e=this,n=$.AdminLTE.options.animationSpeed;$(document).off("click",t+" li a").on("click",t+" li a",function(t){var i=$(this),o=i.next();if(o.is(".treeview-menu")&&o.is(":visible")&&!$("body").hasClass("sidebar-collapse"))o.slideUp(n,function(){o.removeClass("menu-open")}),o.parent("li").removeClass("active");else if(o.is(".treeview-menu")&&!o.is(":visible")){var s=i.parents("ul").first();s.find("ul:visible").slideUp(n).removeClass("menu-open");var r=i.parent("li");o.slideDown(n,function(){o.addClass("menu-open"),s.find("li.active").removeClass("active"),r.addClass("active"),e.layout.fix()})}o.is(".treeview-menu")&&t.preventDefault()})},$.AdminLTE.controlSidebar={activate:function(){var t=this,e=$.AdminLTE.options.controlSidebarOptions,n=$(e.selector);$(e.toggleBtnSelector).on("click",function(i){i.preventDefault(),n.hasClass("control-sidebar-open")||$("body").hasClass("control-sidebar-open")?t.close(n,e.slide):t.open(n,e.slide)});var i=$(".control-sidebar-bg");t._fix(i),$("body").hasClass("fixed")?t._fixForFixed(n):$(".content-wrapper, .right-side").height()<n.height()&&t._fixForContent(n)},open:function(t,e){e?t.addClass("control-sidebar-open"):$("body").addClass("control-sidebar-open")},close:function(t,e){e?t.removeClass("control-sidebar-open"):$("body").removeClass("control-sidebar-open")},_fix:function(t){var e=this;if($("body").hasClass("layout-boxed")){if(t.css("position","absolute"),t.height($(".wrapper").height()),e.hasBindedResize)return;$(window).resize(function(){e._fix(t)}),e.hasBindedResize=!0}else t.css({position:"fixed",height:"auto"})},_fixForFixed:function(t){t.css({position:"fixed","max-height":"100%",overflow:"auto","padding-bottom":"50px"})},_fixForContent:function(t){$(".content-wrapper, .right-side").css("min-height",t.height())}},$.AdminLTE.boxWidget={selectors:$.AdminLTE.options.boxWidgetOptions.boxWidgetSelectors,icons:$.AdminLTE.options.boxWidgetOptions.boxWidgetIcons,animationSpeed:$.AdminLTE.options.animationSpeed,activate:function(t){var e=this;t||(t=document),$(t).on("click",e.selectors.collapse,function(t){t.preventDefault(),e.collapse($(this))}),$(t).on("click",e.selectors.remove,function(t){t.preventDefault(),e.remove($(this))})},collapse:function(t){var e=t.parents(".box").first(),n=e.find("> .box-body, > .box-footer, > form  >.box-body, > form > .box-footer");e.hasClass("collapsed-box")?(t.children(":first").removeClass(this.icons.open).addClass(this.icons.collapse),n.slideDown(this.animationSpeed,function(){e.removeClass("collapsed-box")})):(t.children(":first").removeClass(this.icons.collapse).addClass(this.icons.open),n.slideUp(this.animationSpeed,function(){e.addClass("collapsed-box")}))},remove:function(t){t.parents(".box").first().slideUp(this.animationSpeed)}}}$.AdminLTE={},$.AdminLTE.options={navbarMenuSlimscroll:!0,navbarMenuSlimscrollWidth:"3px",navbarMenuHeight:"200px",animationSpeed:500,sidebarToggleSelector:"[data-toggle='offcanvas']",sidebarPushMenu:!0,sidebarSlimScroll:!0,sidebarExpandOnHover:!1,enableBoxRefresh:!0,enableBSToppltip:!0,BSTooltipSelector:"[data-toggle='tooltip']",enableFastclick:!1,enableControlTreeView:!0,enableControlSidebar:!0,controlSidebarOptions:{toggleBtnSelector:"[data-toggle='control-sidebar']",selector:".control-sidebar",slide:!0},enableBoxWidget:!0,boxWidgetOptions:{boxWidgetIcons:{collapse:"fa-minus",open:"fa-plus",remove:"fa-times"},boxWidgetSelectors:{remove:'[data-widget="remove"]',collapse:'[data-widget="collapse"]'}},directChat:{enable:!0,contactToggleSelector:'[data-widget="chat-pane-toggle"]'},colors:{lightBlue:"#3c8dbc",red:"#f56954",green:"#00a65a",aqua:"#00c0ef",yellow:"#f39c12",blue:"#0073b7",navy:"#001F3F",teal:"#39CCCC",olive:"#3D9970",lime:"#01FF70",orange:"#FF851B",fuchsia:"#F012BE",purple:"#8E24AA",maroon:"#D81B60",black:"#222222",gray:"#d2d6de"},screenSizes:{xs:480,sm:768,md:992,lg:1200}},$(function(){"use strict";$("body").removeClass("hold-transition"),"undefined"!=typeof AdminLTEOptions&&$.extend(!0,$.AdminLTE.options,AdminLTEOptions);var t=$.AdminLTE.options;_init(),$.AdminLTE.layout.activate(),t.enableControlTreeView&&$.AdminLTE.tree(".sidebar"),t.enableControlSidebar&&$.AdminLTE.controlSidebar.activate(),t.navbarMenuSlimscroll&&"undefined"!=typeof $.fn.slimscroll&&$(".navbar .menu").slimscroll({height:t.navbarMenuHeight,alwaysVisible:!1,size:t.navbarMenuSlimscrollWidth}).css("width","100%"),t.sidebarPushMenu&&$.AdminLTE.pushMenu.activate(t.sidebarToggleSelector),t.enableBSToppltip&&$("body").tooltip({selector:t.BSTooltipSelector,container:"body"}),t.enableBoxWidget&&$.AdminLTE.boxWidget.activate(),t.enableFastclick&&"undefined"!=typeof FastClick&&FastClick.attach(document.body),t.directChat.enable&&$(document).on("click",t.directChat.contactToggleSelector,function(){$(this).parents(".direct-chat").first().toggleClass("direct-chat-contacts-open")}),$('.btn-group[data-toggle="btn-toggle"]').each(function(){var t=$(this);$(this).find(".btn").on("click",function(e){t.find(".btn.active").removeClass("active"),$(this).addClass("active"),e.preventDefault()})})}),function(t){"use strict";t.fn.boxRefresh=function(e){var n=t.extend({trigger:".refresh-btn",source:"",onLoadStart:function(t){return t},onLoadDone:function(t){return t}},e),i=t('<div class="overlay"><div class="fa fa-refresh fa-spin"></div></div>');return this.each(function(){if(""!==n.source){var e=t(this);e.find(n.trigger).first().on("click",function(t){t.preventDefault(),function(t){t.append(i),n.onLoadStart.call(t)}(e),e.find(".box-body").load(n.source,function(){!function(t){t.find(i).remove(),n.onLoadDone.call(t)}(e)})})}else window.console&&window.console.log("Please specify a source first - boxRefresh()")})}}(jQuery),function(t){"use strict";t.fn.activateBox=function(){t.AdminLTE.boxWidget.activate(this)},t.fn.toggleBox=function(){var e=t(t.AdminLTE.boxWidget.selectors.collapse,this);t.AdminLTE.boxWidget.collapse(e)},t.fn.removeBox=function(){var e=t(t.AdminLTE.boxWidget.selectors.remove,this);t.AdminLTE.boxWidget.remove(e)}}(jQuery),function(t){"use strict";t.fn.todolist=function(e){var n=t.extend({onCheck:function(t){return t},onUncheck:function(t){return t}},e);return this.each(function(){"undefined"!=typeof t.fn.iCheck?(t("input",this).on("ifChecked",function(){var e=t(this).parents("li").first();e.toggleClass("done"),n.onCheck.call(e)}),t("input",this).on("ifUnchecked",function(){var e=t(this).parents("li").first();e.toggleClass("done"),n.onUncheck.call(e)})):t("input",this).on("change",function(){var e=t(this).parents("li").first();e.toggleClass("done"),t("input",e).is(":checked")?n.onCheck.call(e):n.onUncheck.call(e)})})}}(jQuery),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Sweetalert2=e()}(this,function(){"use strict";var t={title:"",titleText:"",text:"",html:"",footer:"",type:null,toast:!1,customClass:"",target:"body",backdrop:!0,animation:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,showConfirmButton:!0,showCancelButton:!1,preConfirm:null,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:null,confirmButtonClass:null,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:null,cancelButtonClass:null,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusCancel:!1,showCloseButton:!1,closeButtonAriaLabel:"Close this dialog",showLoaderOnConfirm:!1,imageUrl:null,imageWidth:null,imageHeight:null,imageAlt:"",imageClass:null,timer:null,width:null,padding:null,background:null,input:null,inputPlaceholder:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputClass:null,inputAttributes:{},inputValidator:null,grow:!1,position:"center",progressSteps:[],currentProgressStep:null,progressStepsDistance:null,onBeforeOpen:null,onOpen:null,onClose:null,useRejections:!1,expectRejections:!1},e=["useRejections","expectRejections"],n=function(t){var e={};for(var n in t)e[t[n]]="swal2-"+t[n];return e},i=n(["container","shown","iosfix","popup","modal","no-backdrop","toast","toast-shown","fade","show","hide","noanimation","close","title","header","content","actions","confirm","cancel","footer","icon","icon-text","image","input","has-input","file","range","select","radio","checkbox","textarea","inputerror","validationerror","progresssteps","activeprogressstep","progresscircle","progressline","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen"]),o=n(["success","warning","info","question","error"]),s=function(t){console.warn("SweetAlert2: "+t)},r=function(t){console.error("SweetAlert2: "+t)},a=[],l=function(t){-1===a.indexOf(t)&&(a.push(t),s(t))},c=function(t){return"function"==typeof t?t():t},u={previousActiveElement:null,previousBodyPadding:null},h=function(t,e){return!!t.classList&&t.classList.contains(e)},d=function(t){if(t.focus(),"file"!==t.type){var e=t.value;t.value="",t.value=e}},f=function(t,e,n){t&&e&&("string"==typeof e&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(function(e){t.forEach?t.forEach(function(t){n?t.classList.add(e):t.classList.remove(e)}):n?t.classList.add(e):t.classList.remove(e)}))},p=function(t,e){f(t,e,!0)},g=function(t,e){f(t,e,!1)},m=function(t,e){for(var n=0;n<t.childNodes.length;n++)if(h(t.childNodes[n],e))return t.childNodes[n]},v=function(t){t.style.opacity="",t.style.display=t.id===i.content?"block":"flex"},y=function(t){t.style.opacity="",t.style.display="none"},b=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},w=function(t){return t&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},_=function(t,e){t.style.removeProperty?t.style.removeProperty(e):t.style.removeAttribute(e)},x=function(){return document.body.querySelector("."+i.container)},C=function(t){var e=x();return e?e.querySelector("."+t):null},k=function(){return C(i.popup)},S=function(){return k().querySelectorAll("."+i.icon)},T=function(){return C(i.title)},D=function(){return C(i.content)},O=function(){return C(i.image)},E=function(){return C(i.progresssteps)},N=function(){return C(i.confirm)},A=function(){return C(i.cancel)},M=function(){return C(i.actions)},P=function(){return C(i.footer)},I=function(){return C(i.close)},R=function(){var t=Array.prototype.slice.call(k().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort(function(t,e){return(t=parseInt(t.getAttribute("tabindex")))>(e=parseInt(e.getAttribute("tabindex")))?1:t<e?-1:0}),e=Array.prototype.slice.call(k().querySelectorAll('button, input:not([type=hidden]), textarea, select, a, [tabindex="0"]'));return function(t){for(var e=[],n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e}(t.concat(e))},L=function(){return!document.body.classList.contains(i["toast-shown"])},j=function(){return"undefined"==typeof window||"undefined"==typeof document},H=('\n <div aria-labelledby="'+i.title+'" aria-describedby="'+i.content+'" class="'+i.popup+'" tabindex="-1">\n   <div class="'+i.header+'">\n     <ul class="'+i.progresssteps+'"></ul>\n     <div class="'+i.icon+" "+o.error+'">\n       <span class="swal2-x-mark"><span class="swal2-x-mark-line-left"></span><span class="swal2-x-mark-line-right"></span></span>\n     </div>\n     <div class="'+i.icon+" "+o.question+'">\n       <span class="'+i["icon-text"]+'">?</span>\n      </div>\n     <div class="'+i.icon+" "+o.warning+'">\n       <span class="'+i["icon-text"]+'">!</span>\n      </div>\n     <div class="'+i.icon+" "+o.info+'">\n       <span class="'+i["icon-text"]+'">i</span>\n      </div>\n     <div class="'+i.icon+" "+o.success+'">\n       <div class="swal2-success-circular-line-left"></div>\n       <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n       <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n       <div class="swal2-success-circular-line-right"></div>\n     </div>\n     <img class="'+i.image+'" />\n     <h2 class="'+i.title+'" id="'+i.title+'"></h2>\n     <button type="button" class="'+i.close+'">\xd7</button>\n   </div>\n   <div class="'+i.content+'">\n     <div id="'+i.content+'"></div>\n     <input class="'+i.input+'" />\n     <input type="file" class="'+i.file+'" />\n     <div class="'+i.range+'">\n       <input type="range" />\n       <output></output>\n     </div>\n     <select class="'+i.select+'"></select>\n     <div class="'+i.radio+'"></div>\n     <label for="'+i.checkbox+'" class="'+i.checkbox+'">\n       <input type="checkbox" />\n     </label>\n     <textarea class="'+i.textarea+'"></textarea>\n     <div class="'+i.validationerror+'" id="'+i.validationerror+'"></div>\n   </div>\n   <div class="'+i.actions+'">\n     <button type="button" class="'+i.confirm+'">OK</button>\n     <button type="button" class="'+i.cancel+'">Cancel</button>\n   </div>\n   <div class="'+i.footer+'">\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),B=function(t){var e=x();if(e&&(e.parentNode.removeChild(e),g([document.documentElement,document.body],[i["no-backdrop"],i["has-input"],i["toast-shown"]])),!j()){var n=document.createElement("div");n.className=i.container,n.innerHTML=H,("string"==typeof t.target?document.querySelector(t.target):t.target).appendChild(n);var o=k(),s=D(),a=m(s,i.input),l=m(s,i.file),c=s.querySelector("."+i.range+" input"),u=s.querySelector("."+i.range+" output"),h=m(s,i.select),d=s.querySelector("."+i.checkbox+" input"),f=m(s,i.textarea);o.setAttribute("role",t.toast?"alert":"dialog"),o.setAttribute("aria-live",t.toast?"polite":"assertive"),t.toast||o.setAttribute("aria-modal","true");var p=function(){et.isVisible()&&et.resetValidationError()};return a.oninput=p,l.onchange=p,h.onchange=p,d.onchange=p,f.oninput=p,c.oninput=function(){p(),u.value=c.value},c.onchange=function(){p(),c.nextSibling.value=c.value},o}r("SweetAlert2 requires document to initialize")},q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},F=function(t,e){if(!t)return y(e);if("object"===("undefined"==typeof t?"undefined":q(t)))if(e.innerHTML="",0 in t)for(var n=0;n in t;n++)e.appendChild(t[n].cloneNode(!0));else e.appendChild(t.cloneNode(!0));else t&&(e.innerHTML=t);v(e)},$=function(){if(j())return!1;var t=document.createElement("div"),e={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"};for(var n in e)if(e.hasOwnProperty(n)&&"undefined"!=typeof t.style[n])return e[n];return!1}(),z={email:function(t){return/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(t)?Promise.resolve():Promise.reject("Invalid email address")},url:function(t){return/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_+.~#?&//=]*)$/.test(t)?Promise.resolve():Promise.reject("Invalid URL")}};function W(t){t.inputValidator||Object.keys(z).forEach(function(e){t.input===e&&(t.inputValidator=t.expectRejections?z[e]:et.adaptInputValidator(z[e]))}),(!t.target||"string"==typeof t.target&&!document.querySelector(t.target)||"string"!=typeof t.target&&!t.target.appendChild)&&(s('Target parameter is not valid, defaulting to "body"'),t.target="body");var e=void 0,n=k(),a="string"==typeof t.target?document.querySelector(t.target):t.target;e=n&&a&&n.parentNode!==a.parentNode?B(t):n||B(t),t.width&&(e.style.width="number"==typeof t.width?t.width+"px":t.width),t.padding&&(e.style.padding="number"==typeof t.padding?t.padding+"px":t.padding),t.background&&(e.style.background=t.background);for(var l=window.getComputedStyle(e).getPropertyValue("background-color"),c=e.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix"),u=0;u<c.length;u++)c[u].style.backgroundColor=l;var h=x(),d=T(),f=D().querySelector("#"+i.content),m=M(),w=N(),C=A(),R=I(),L=P();if(t.titleText?d.innerText=t.titleText:t.title&&(d.innerHTML=t.title.split("\n").join("<br />")),"string"==typeof t.backdrop?x().style.background=t.backdrop:t.backdrop||p([document.documentElement,document.body],i["no-backdrop"]),t.html?F(t.html,f):t.text?(f.textContent=t.text,v(f)):y(f),t.position in i?p(h,i[t.position]):(s('The "position" parameter is not valid, defaulting to "center"'),p(h,i.center)),t.grow&&"string"==typeof t.grow){var j="grow-"+t.grow;j in i&&p(h,i[j])}"function"==typeof t.animation&&(t.animation=t.animation.call()),t.showCloseButton?(R.setAttribute("aria-label",t.closeButtonAriaLabel),v(R)):y(R),e.className=i.popup,t.toast?(p([document.documentElement,document.body],i["toast-shown"]),p(e,i.toast)):p(e,i.modal),t.customClass&&p(e,t.customClass);var H=E(),q=parseInt(null===t.currentProgressStep?et.getQueueStep():t.currentProgressStep,10);t.progressSteps&&t.progressSteps.length?(v(H),b(H),q>=t.progressSteps.length&&s("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),t.progressSteps.forEach(function(e,n){var o=document.createElement("li");if(p(o,i.progresscircle),o.innerHTML=e,n===q&&p(o,i.activeprogressstep),H.appendChild(o),n!==t.progressSteps.length-1){var s=document.createElement("li");p(s,i.progressline),t.progressStepsDistance&&(s.style.width=t.progressStepsDistance),H.appendChild(s)}})):y(H);for(var $=S(),W=0;W<$.length;W++)y($[W]);if(t.type){var Y=!1;for(var U in o)if(t.type===U){Y=!0;break}if(!Y)return r("Unknown alert type: "+t.type),!1;var V=e.querySelector("."+i.icon+"."+o[t.type]);v(V),t.animation&&p(V,"swal2-animate-"+t.type+"-icon")}var G=O();if(t.imageUrl?(G.setAttribute("src",t.imageUrl),G.setAttribute("alt",t.imageAlt),v(G),t.imageWidth?G.setAttribute("width",t.imageWidth):G.removeAttribute("width"),t.imageHeight?G.setAttribute("height",t.imageHeight):G.removeAttribute("height"),G.className=i.image,t.imageClass&&p(G,t.imageClass)):y(G),t.showCancelButton?C.style.display="inline-block":y(C),t.showConfirmButton?_(w,"display"):y(w),t.showConfirmButton||t.showCancelButton?v(m):y(m),w.innerHTML=t.confirmButtonText,C.innerHTML=t.cancelButtonText,w.setAttribute("aria-label",t.confirmButtonAriaLabel),C.setAttribute("aria-label",t.cancelButtonAriaLabel),w.className=i.confirm,p(w,t.confirmButtonClass),C.className=i.cancel,p(C,t.cancelButtonClass),t.buttonsStyling){p([w,C],i.styled),t.confirmButtonColor&&(w.style.backgroundColor=t.confirmButtonColor),t.cancelButtonColor&&(C.style.backgroundColor=t.cancelButtonColor);var K=window.getComputedStyle(w).getPropertyValue("background-color");w.style.borderLeftColor=K,w.style.borderRightColor=K}else g([w,C],i.styled),w.style.backgroundColor=w.style.borderLeftColor=w.style.borderRightColor="",C.style.backgroundColor=C.style.borderLeftColor=C.style.borderRightColor="";F(t.footer,L),!0===t.animation?g(e,i.noanimation):p(e,i.noanimation),t.showLoaderOnConfirm&&!t.preConfirm&&s("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request")}var Y=Object.freeze({cancel:"cancel",backdrop:"overlay",close:"close",esc:"esc",timer:"timer"}),U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},V=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,o=!1,s=void 0;try{for(var r,a=t[Symbol.iterator]();!(i=(r=a.next()).done)&&(n.push(r.value),!e||n.length!==e);i=!0);}catch(t){o=!0,s=t}finally{try{!i&&a.return&&a.return()}finally{if(o)throw s}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},G=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},K=G({},t),X=[],Z=void 0,Q=void 0,J=void 0,tt=function(t){for(var e in t)et.isValidParameter(e)||s('Unknown parameter "'+e+'"'),et.isDeprecatedParameter(e)&&l('The parameter "'+e+'" is deprecated and will be removed in the next major release.')},et=function t(){for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];if("undefined"!=typeof window){if("undefined"==typeof Promise&&r("This package requires a Promise library, please include a shim to enable it in this browser (See: https://github.com/sweetalert2/sweetalert2/wiki/Migration-from-SweetAlert-to-SweetAlert2#1-ie-support)"),"undefined"==typeof n[0])return r("SweetAlert2 expects at least 1 attribute!"),!1;var s=Z={},a=s.params=G({},K,t.argsToParams(n));W(a);var l=s.domCache={popup:k(),container:x(),content:D(),actions:M(),confirmButton:N(),cancelButton:A(),closeButton:I(),validationError:C(i.validationerror),progressSteps:E()};return new Promise(function(e,n){var o=function(n){t.closePopup(a.onClose),e(a.useRejections?n:{value:n})},s=function(i){t.closePopup(a.onClose),a.useRejections?n(i):e({dismiss:i})},f=function(e){t.closePopup(a.onClose),n(e)};a.timer&&(l.popup.timeout=setTimeout(function(){return s("timer")},a.timer)),a.input&&setTimeout(function(){var e=t.getInput();e&&d(e)},0);for(var b=function(e){if(a.showLoaderOnConfirm&&t.showLoading(),a.preConfirm){t.resetValidationError();var n=Promise.resolve().then(function(){return a.preConfirm(e,a.extraParams)});a.expectRejections?n.then(function(t){return o(t||e)},function(e){t.hideLoading(),e&&t.showValidationError(e)}):n.then(function(n){w(l.validationError)||!1===n?t.hideLoading():o(n||e)},function(t){return f(t)})}else o(e)},_=function(e){var n=e||window.event,i=n.target||n.srcElement,o=l.confirmButton,r=l.cancelButton,c=o&&(o===i||o.contains(i)),u=r&&(r===i||r.contains(i));switch(n.type){case"click":if(c&&t.isVisible())if(t.disableButtons(),a.input){var h=function(){var e=t.getInput();if(!e)return null;switch(a.input){case"checkbox":return e.checked?1:0;case"radio":return e.checked?e.value:null;case"file":return e.files.length?e.files[0]:null;default:return a.inputAutoTrim?e.value.trim():e.value}}();if(a.inputValidator){t.disableInput();var d=Promise.resolve().then(function(){return a.inputValidator(h,a.extraParams)});a.expectRejections?d.then(function(){t.enableButtons(),t.enableInput(),b(h)},function(e){t.enableButtons(),t.enableInput(),e&&t.showValidationError(e)}):d.then(function(e){t.enableButtons(),t.enableInput(),e?t.showValidationError(e):b(h)},function(t){return f(t)})}else b(h)}else b(!0);else u&&t.isVisible()&&(t.disableButtons(),s(t.DismissReason.cancel))}},C=l.popup.querySelectorAll("button"),S=0;S<C.length;S++)C[S].onclick=_,C[S].onmouseover=_,C[S].onmouseout=_,C[S].onmousedown=_;if(l.closeButton.onclick=function(){s(t.DismissReason.close)},a.toast)l.popup.onclick=function(e){a.showConfirmButton||a.showCancelButton||a.showCloseButton||a.input||(t.closePopup(a.onClose),s(t.DismissReason.close))};else{var T=!1;l.popup.onmousedown=function(){l.container.onmouseup=function(t){l.container.onmouseup=void 0,t.target===l.container&&(T=!0)}},l.container.onmousedown=function(){l.popup.onmouseup=function(t){l.popup.onmouseup=void 0,(t.target===l.popup||l.popup.contains(t.target))&&(T=!0)}},l.container.onclick=function(e){T?T=!1:e.target===l.container&&c(a.allowOutsideClick)&&s(t.DismissReason.backdrop)}}a.reverseButtons?l.confirmButton.parentNode.insertBefore(l.cancelButton,l.confirmButton):l.confirmButton.parentNode.insertBefore(l.confirmButton,l.cancelButton);var D=function(t,e){for(var n=R(),i=0;i<n.length;i++){(t+=e)===n.length?t=0:-1===t&&(t=n.length-1);var o=n[t];if(w(o))return o.focus()}};a.toast&&J&&(window.onkeydown=Q,J=!1),a.toast||J||(Q=window.onkeydown,J=!0,window.onkeydown=function(e){var n=e||window.event;if("Enter"!==n.key||n.isComposing)if("Tab"===n.key){for(var i=n.target||n.srcElement,o=R(),r=-1,u=0;u<o.length;u++)if(i===o[u]){r=u;break}D(r,n.shiftKey?-1:1),n.stopPropagation(),n.preventDefault()}else-1!==["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Left","Right","Up","Down"].indexOf(n.key)?document.activeElement===l.confirmButton&&w(l.cancelButton)?l.cancelButton.focus():document.activeElement===l.cancelButton&&w(l.confirmButton)&&l.confirmButton.focus():"Escape"!==n.key&&"Esc"!==n.key||!0!==c(a.allowEscapeKey)||s(t.DismissReason.esc);else if(n.target===t.getInput()){if(-1!==["textarea","file"].indexOf(a.input))return;t.clickConfirm(),n.preventDefault()}}),t.enableButtons(),t.hideLoading(),t.resetValidationError(),a.input&&p(document.body,i["has-input"]);for(var O=["input","file","range","select","radio","checkbox","textarea"],E=void 0,N=0;N<O.length;N++){var A=i[O[N]],M=m(l.content,A);if(E=t.getInput(O[N])){for(var P in E.attributes)if(E.attributes.hasOwnProperty(P)){var I=E.attributes[P].name;"type"!==I&&"value"!==I&&E.removeAttribute(I)}for(var j in a.inputAttributes)E.setAttribute(j,a.inputAttributes[j])}M.className=A,a.inputClass&&p(M,a.inputClass),y(M)}var H,B,q,F,z,W=void 0;switch(a.input){case"text":case"email":case"password":case"number":case"tel":case"url":(E=m(l.content,i.input)).value=a.inputValue,E.placeholder=a.inputPlaceholder,E.type=a.input,v(E);break;case"file":(E=m(l.content,i.file)).placeholder=a.inputPlaceholder,E.type=a.input,v(E);break;case"range":var Y=m(l.content,i.range),G=Y.querySelector("input"),K=Y.querySelector("output");G.value=a.inputValue,G.type=a.input,K.value=a.inputValue,v(Y);break;case"select":var X=m(l.content,i.select);if(X.innerHTML="",a.inputPlaceholder){var Z=document.createElement("option");Z.innerHTML=a.inputPlaceholder,Z.value="",Z.disabled=!0,Z.selected=!0,X.appendChild(Z)}W=function(t){t.forEach(function(t){var e=V(t,2),n=e[0],i=e[1],o=document.createElement("option");o.value=n,o.innerHTML=i,a.inputValue.toString()===n.toString()&&(o.selected=!0),X.appendChild(o)}),v(X),X.focus()};break;case"radio":var tt=m(l.content,i.radio);tt.innerHTML="",W=function(t){t.forEach(function(t){var e=V(t,2),n=e[0],o=e[1],s=document.createElement("input"),r=document.createElement("label");s.type="radio",s.name=i.radio,s.value=n,a.inputValue.toString()===n.toString()&&(s.checked=!0),r.innerHTML=o,r.insertBefore(s,r.firstChild),tt.appendChild(r)}),v(tt);var e=tt.querySelectorAll("input");e.length&&e[0].focus()};break;case"checkbox":var et=m(l.content,i.checkbox),nt=t.getInput("checkbox");nt.type="checkbox",nt.value=1,nt.id=i.checkbox,nt.checked=Boolean(a.inputValue);var it=et.getElementsByTagName("span");it.length&&et.removeChild(it[0]),(it=document.createElement("span")).innerHTML=a.inputPlaceholder,et.appendChild(it),v(et);break;case"textarea":var ot=m(l.content,i.textarea);ot.value=a.inputValue,ot.placeholder=a.inputPlaceholder,v(ot);break;case null:break;default:r('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'+a.input+'"')}if("select"===a.input||"radio"===a.input){var st=function(t){return W(function(t){var e=[];return t instanceof Map?t.forEach(function(t,n){e.push([n,t])}):Object.keys(t).forEach(function(n){e.push([n,t[n]])}),e}(t))};a.inputOptions instanceof Promise?(t.showLoading(),a.inputOptions.then(function(e){t.hideLoading(),st(e)})):"object"===U(a.inputOptions)?st(a.inputOptions):r("Unexpected type of inputOptions! Expected object, Map or Promise, got "+U(a.inputOptions))}H=a.animation,B=a.onBeforeOpen,q=a.onOpen,F=x(),z=k(),null!==B&&"function"==typeof B&&B(z),H?(p(z,i.show),p(F,i.fade),g(z,i.hide)):g(z,i.fade),v(z),F.style.overflowY="hidden",$&&!h(z,i.noanimation)?z.addEventListener($,function t(){z.removeEventListener($,t),F.style.overflowY="auto"}):F.style.overflowY="auto",p([document.documentElement,document.body,F],i.shown),L()&&(null===u.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(u.previousBodyPadding=document.body.style.paddingRight,document.body.style.paddingRight=function(){if("ontouchstart"in window||navigator.msMaxTouchPoints)return 0;var t=document.createElement("div");t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t);var e=t.offsetWidth-t.clientWidth;return document.body.removeChild(t),e}()+"px"),function(){if(/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&!h(document.body,i.iosfix)){var t=document.body.scrollTop;document.body.style.top=-1*t+"px",p(document.body,i.iosfix)}}()),u.previousActiveElement=document.activeElement,null!==q&&"function"==typeof q&&setTimeout(function(){q(z)}),a.toast||(c(a.allowEnterKey)?a.focusCancel&&w(l.cancelButton)?l.cancelButton.focus():a.focusConfirm&&w(l.confirmButton)?l.confirmButton.focus():D(-1,1):document.activeElement&&document.activeElement.blur()),l.container.scrollTop=0})}};return et.isVisible=function(){return!!k()},et.queue=function(t){X=t;var e=function(){X=[],document.body.removeAttribute("data-swal2-queue-step")},n=[];return new Promise(function(t,i){!function i(o,s){o<X.length?(document.body.setAttribute("data-swal2-queue-step",o),et(X[o]).then(function(r){"undefined"!=typeof r.value?(n.push(r.value),i(o+1,s)):(e(),t({dismiss:r.dismiss}))})):(e(),t({value:n}))}(0)})},et.getQueueStep=function(){return document.body.getAttribute("data-swal2-queue-step")},et.insertQueueStep=function(t,e){return e&&e<X.length?X.splice(e,0,t):X.push(t)},et.deleteQueueStep=function(t){"undefined"!=typeof X[t]&&X.splice(t,1)},et.close=et.closePopup=et.closeModal=et.closeToast=function(t){var e=x(),n=k();if(n){g(n,i.show),p(n,i.hide),clearTimeout(n.timeout),document.body.classList.contains(i["toast-shown"])||(function(){if(u.previousActiveElement&&u.previousActiveElement.focus){var t=window.scrollX,e=window.scrollY;u.previousActiveElement.focus(),"undefined"!=typeof t&&"undefined"!=typeof e&&window.scrollTo(t,e)}}(),window.onkeydown=Q,J=!1);var o=function(){e.parentNode&&e.parentNode.removeChild(e),g([document.documentElement,document.body],[i.shown,i["no-backdrop"],i["has-input"],i["toast-shown"]]),L()&&(null!==u.previousBodyPadding&&(document.body.style.paddingRight=u.previousBodyPadding,u.previousBodyPadding=null),function(){if(h(document.body,i.iosfix)){var t=parseInt(document.body.style.top,10);g(document.body,i.iosfix),document.body.style.top="",document.body.scrollTop=-1*t}}())};$&&!h(n,i.noanimation)?n.addEventListener($,function t(){n.removeEventListener($,t),h(n,i.hide)&&o()}):o(),null!==t&&"function"==typeof t&&setTimeout(function(){t(n)})}},et.clickConfirm=function(){return N().click()},et.clickCancel=function(){return A().click()},et.showLoading=et.enableLoading=function(){var t=k();t||et(""),t=k();var e=M(),n=N(),o=A();v(e),v(n),p([t,e],i.loading),n.disabled=!0,o.disabled=!0,t.setAttribute("data-loading",!0),t.setAttribute("aria-busy",!0),t.focus()},et.isValidParameter=function(e){return t.hasOwnProperty(e)||"extraParams"===e},et.isDeprecatedParameter=function(t){return-1!==e.indexOf(t)},et.setDefaults=function(t){if(!t||"object"!==("undefined"==typeof t?"undefined":U(t)))return r("the argument for setDefaults() is required and has to be a object");for(var e in tt(t),t)et.isValidParameter(e)&&(K[e]=t[e])},et.resetDefaults=function(){K=G({},t)},et.adaptInputValidator=function(t){return function(e,n){return t.call(this,e,n).then(function(){},function(t){return t})}},et.getTitle=function(){return T()},et.getContent=function(){return D()},et.getImage=function(){return O()},et.getButtonsWrapper=function(){return l("swal.getButtonsWrapper() is deprecated and will be removed in the next major release, use swal.getActions() instead"),C(i.actions)},et.getActions=function(){return M()},et.getConfirmButton=function(){return N()},et.getCancelButton=function(){return A()},et.getFooter=function(){return P()},et.isLoading=function(){return k().hasAttribute("data-loading")},et.hideLoading=et.disableLoading=function(){if(Z){var t=Z.params,e=Z.domCache;t.showConfirmButton||(y(e.confirmButton),t.showCancelButton||y(e.actions)),g([e.popup,e.actions],i.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.cancelButton.disabled=!1}},et.getInput=function(t){if(Z){var e=Z.domCache;if(!(t=t||Z.params.input))return null;switch(t){case"select":case"textarea":case"file":return m(e.content,i[t]);case"checkbox":return e.popup.querySelector("."+i.checkbox+" input");case"radio":return e.popup.querySelector("."+i.radio+" input:checked")||e.popup.querySelector("."+i.radio+" input:first-child");case"range":return e.popup.querySelector("."+i.range+" input");default:return m(e.content,i.input)}}},et.enableButtons=function(){if(Z){var t=Z.domCache;t.confirmButton.disabled=!1,t.cancelButton.disabled=!1}},et.disableButtons=function(){if(Z){var t=Z.domCache;t.confirmButton.disabled=!0,t.cancelButton.disabled=!0}},et.enableConfirmButton=function(){Z&&(Z.domCache.confirmButton.disabled=!1)},et.disableConfirmButton=function(){Z&&(Z.domCache.confirmButton.disabled=!0)},et.enableInput=function(){if(Z){var t=et.getInput();if(!t)return!1;if("radio"===t.type)for(var e=t.parentNode.parentNode.querySelectorAll("input"),n=0;n<e.length;n++)e[n].disabled=!1;else t.disabled=!1}},et.disableInput=function(){if(Z){var t=et.getInput();if(!t)return!1;if(t&&"radio"===t.type)for(var e=t.parentNode.parentNode.querySelectorAll("input"),n=0;n<e.length;n++)e[n].disabled=!0;else t.disabled=!0}},et.showValidationError=function(t){if(Z){var e=Z.domCache;e.validationError.innerHTML=t;var n=window.getComputedStyle(e.popup);e.validationError.style.marginLeft="-"+n.getPropertyValue("padding-left"),e.validationError.style.marginRight="-"+n.getPropertyValue("padding-right"),v(e.validationError);var o=et.getInput();o&&(o.setAttribute("aria-invalid",!0),o.setAttribute("aria-describedBy",i.validationerror),d(o),p(o,i.inputerror))}},et.resetValidationError=function(){if(Z){var t=Z.domCache;t.validationError&&y(t.validationError);var e=et.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedBy"),g(e,i.inputerror))}},et.getProgressSteps=function(){if(Z)return Z.params.progressSteps},et.setProgressSteps=function(t){if(Z){var e=Z.params;e.progressSteps=t,W(e)}},et.showProgressSteps=function(){Z&&v(Z.domCache.progressSteps)},et.hideProgressSteps=function(){Z&&y(Z.domCache.progressSteps)},et.argsToParams=function(t){var e={};switch(U(t[0])){case"string":["title","html","type"].forEach(function(n,i){void 0!==t[i]&&(e[n]=t[i])});break;case"object":tt(t[0]),G(e,t[0]);break;default:return r('Unexpected type of argument! Expected "string" or "object", got '+U(t[0])),!1}return e},et.DismissReason=Y,et.noop=function(){},et.version="7.15.0",et.default=et,"undefined"!=typeof window&&"object"===U(window._swalDefaults)&&et.setDefaults(window._swalDefaults),et}),"undefined"!=typeof window&&window.Sweetalert2&&(window.sweetAlert=window.swal=window.Sweetalert2),function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch(t){n.innerText=e}}(document,"@-webkit-keyframes swal2-show {\n  0% {\n    -webkit-transform: scale(0.7);\n            transform: scale(0.7); }\n  45% {\n    -webkit-transform: scale(1.05);\n            transform: scale(1.05); }\n  80% {\n    -webkit-transform: scale(0.95);\n            transform: scale(0.95); }\n  100% {\n    -webkit-transform: scale(1);\n            transform: scale(1); } }\n\n@keyframes swal2-show {\n  0% {\n    -webkit-transform: scale(0.7);\n            transform: scale(0.7); }\n  45% {\n    -webkit-transform: scale(1.05);\n            transform: scale(1.05); }\n  80% {\n    -webkit-transform: scale(0.95);\n            transform: scale(0.95); }\n  100% {\n    -webkit-transform: scale(1);\n            transform: scale(1); } }\n\n@-webkit-keyframes swal2-hide {\n  0% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n    opacity: 1; }\n  100% {\n    -webkit-transform: scale(0.5);\n            transform: scale(0.5);\n    opacity: 0; } }\n\n@keyframes swal2-hide {\n  0% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n    opacity: 1; }\n  100% {\n    -webkit-transform: scale(0.5);\n            transform: scale(0.5);\n    opacity: 0; } }\n\n@-webkit-keyframes swal2-animate-success-line-tip {\n  0% {\n    top: 1.1875em;\n    left: .0625em;\n    width: 0; }\n  54% {\n    top: 1.0625em;\n    left: .125em;\n    width: 0; }\n  70% {\n    top: 2.1875em;\n    left: -.375em;\n    width: 3.125em; }\n  84% {\n    top: 3em;\n    left: 1.3125em;\n    width: 1.0625em; }\n  100% {\n    top: 2.8125em;\n    left: .875em;\n    width: 1.5625em; } }\n\n@keyframes swal2-animate-success-line-tip {\n  0% {\n    top: 1.1875em;\n    left: .0625em;\n    width: 0; }\n  54% {\n    top: 1.0625em;\n    left: .125em;\n    width: 0; }\n  70% {\n    top: 2.1875em;\n    left: -.375em;\n    width: 3.125em; }\n  84% {\n    top: 3em;\n    left: 1.3125em;\n    width: 1.0625em; }\n  100% {\n    top: 2.8125em;\n    left: .875em;\n    width: 1.5625em; } }\n\n@-webkit-keyframes swal2-animate-success-line-long {\n  0% {\n    top: 3.375em;\n    right: 2.875em;\n    width: 0; }\n  65% {\n    top: 3.375em;\n    right: 2.875em;\n    width: 0; }\n  84% {\n    top: 2.1875em;\n    right: 0;\n    width: 3.4375em; }\n  100% {\n    top: 2.375em;\n    right: .5em;\n    width: 2.9375em; } }\n\n@keyframes swal2-animate-success-line-long {\n  0% {\n    top: 3.375em;\n    right: 2.875em;\n    width: 0; }\n  65% {\n    top: 3.375em;\n    right: 2.875em;\n    width: 0; }\n  84% {\n    top: 2.1875em;\n    right: 0;\n    width: 3.4375em; }\n  100% {\n    top: 2.375em;\n    right: .5em;\n    width: 2.9375em; } }\n\n@-webkit-keyframes swal2-rotate-success-circular-line {\n  0% {\n    -webkit-transform: rotate(-45deg);\n            transform: rotate(-45deg); }\n  5% {\n    -webkit-transform: rotate(-45deg);\n            transform: rotate(-45deg); }\n  12% {\n    -webkit-transform: rotate(-405deg);\n            transform: rotate(-405deg); }\n  100% {\n    -webkit-transform: rotate(-405deg);\n            transform: rotate(-405deg); } }\n\n@keyframes swal2-rotate-success-circular-line {\n  0% {\n    -webkit-transform: rotate(-45deg);\n            transform: rotate(-45deg); }\n  5% {\n    -webkit-transform: rotate(-45deg);\n            transform: rotate(-45deg); }\n  12% {\n    -webkit-transform: rotate(-405deg);\n            transform: rotate(-405deg); }\n  100% {\n    -webkit-transform: rotate(-405deg);\n            transform: rotate(-405deg); } }\n\n@-webkit-keyframes swal2-animate-error-x-mark {\n  0% {\n    margin-top: 1.625em;\n    -webkit-transform: scale(0.4);\n            transform: scale(0.4);\n    opacity: 0; }\n  50% {\n    margin-top: 1.625em;\n    -webkit-transform: scale(0.4);\n            transform: scale(0.4);\n    opacity: 0; }\n  80% {\n    margin-top: -.375em;\n    -webkit-transform: scale(1.15);\n            transform: scale(1.15); }\n  100% {\n    margin-top: 0;\n    -webkit-transform: scale(1);\n            transform: scale(1);\n    opacity: 1; } }\n\n@keyframes swal2-animate-error-x-mark {\n  0% {\n    margin-top: 1.625em;\n    -webkit-transform: scale(0.4);\n            transform: scale(0.4);\n    opacity: 0; }\n  50% {\n    margin-top: 1.625em;\n    -webkit-transform: scale(0.4);\n            transform: scale(0.4);\n    opacity: 0; }\n  80% {\n    margin-top: -.375em;\n    -webkit-transform: scale(1.15);\n            transform: scale(1.15); }\n  100% {\n    margin-top: 0;\n    -webkit-transform: scale(1);\n            transform: scale(1);\n    opacity: 1; } }\n\n@-webkit-keyframes swal2-animate-error-icon {\n  0% {\n    -webkit-transform: rotateX(100deg);\n            transform: rotateX(100deg);\n    opacity: 0; }\n  100% {\n    -webkit-transform: rotateX(0deg);\n            transform: rotateX(0deg);\n    opacity: 1; } }\n\n@keyframes swal2-animate-error-icon {\n  0% {\n    -webkit-transform: rotateX(100deg);\n            transform: rotateX(100deg);\n    opacity: 0; }\n  100% {\n    -webkit-transform: rotateX(0deg);\n            transform: rotateX(0deg);\n    opacity: 1; } }\n\nbody.swal2-toast-shown.swal2-has-input > .swal2-container > .swal2-toast {\n  flex-direction: column;\n  align-items: stretch; }\n  body.swal2-toast-shown.swal2-has-input > .swal2-container > .swal2-toast .swal2-actions {\n    flex: 1;\n    align-self: stretch;\n    justify-content: flex-end;\n    height: 2.2em; }\n  body.swal2-toast-shown.swal2-has-input > .swal2-container > .swal2-toast .swal2-loading {\n    justify-content: center; }\n  body.swal2-toast-shown.swal2-has-input > .swal2-container > .swal2-toast .swal2-input {\n    height: 2em;\n    margin: .3125em auto;\n    font-size: 1em; }\n  body.swal2-toast-shown.swal2-has-input > .swal2-container > .swal2-toast .swal2-validationerror {\n    font-size: 1em; }\n\nbody.swal2-toast-shown > .swal2-container {\n  position: fixed;\n  background-color: transparent; }\n  body.swal2-toast-shown > .swal2-container.swal2-shown {\n    background-color: transparent; }\n  body.swal2-toast-shown > .swal2-container.swal2-top {\n    top: 0;\n    right: auto;\n    bottom: auto;\n    left: 50%;\n    -webkit-transform: translateX(-50%);\n            transform: translateX(-50%); }\n  body.swal2-toast-shown > .swal2-container.swal2-top-end, body.swal2-toast-shown > .swal2-container.swal2-top-right {\n    top: 0;\n    right: 0;\n    bottom: auto;\n    left: auto; }\n  body.swal2-toast-shown > .swal2-container.swal2-top-start, body.swal2-toast-shown > .swal2-container.swal2-top-left {\n    top: 0;\n    right: auto;\n    bottom: auto;\n    left: 0; }\n  body.swal2-toast-shown > .swal2-container.swal2-center-start, body.swal2-toast-shown > .swal2-container.swal2-center-left {\n    top: 50%;\n    right: auto;\n    bottom: auto;\n    left: 0;\n    -webkit-transform: translateY(-50%);\n            transform: translateY(-50%); }\n  body.swal2-toast-shown > .swal2-container.swal2-center {\n    top: 50%;\n    right: auto;\n    bottom: auto;\n    left: 50%;\n    -webkit-transform: translate(-50%, -50%);\n            transform: translate(-50%, -50%); }\n  body.swal2-toast-shown > .swal2-container.swal2-center-end, body.swal2-toast-shown > .swal2-container.swal2-center-right {\n    top: 50%;\n    right: 0;\n    bottom: auto;\n    left: auto;\n    -webkit-transform: translateY(-50%);\n            transform: translateY(-50%); }\n  body.swal2-toast-shown > .swal2-container.swal2-bottom-start, body.swal2-toast-shown > .swal2-container.swal2-bottom-left {\n    top: auto;\n    right: auto;\n    bottom: 0;\n    left: 0; }\n  body.swal2-toast-shown > .swal2-container.swal2-bottom {\n    top: auto;\n    right: auto;\n    bottom: 0;\n    left: 50%;\n    -webkit-transform: translateX(-50%);\n            transform: translateX(-50%); }\n  body.swal2-toast-shown > .swal2-container.swal2-bottom-end, body.swal2-toast-shown > .swal2-container.swal2-bottom-right {\n    top: auto;\n    right: 0;\n    bottom: 0;\n    left: auto; }\n\n.swal2-popup.swal2-toast {\n  flex-direction: row;\n  align-items: center;\n  width: auto;\n  padding: 0.625em;\n  box-shadow: 0 0 0.625em #d9d9d9;\n  overflow-y: hidden; }\n  .swal2-popup.swal2-toast .swal2-header {\n    flex-direction: row; }\n  .swal2-popup.swal2-toast .swal2-title {\n    justify-content: flex-start;\n    margin: 0 .6em;\n    font-size: 1em; }\n  .swal2-popup.swal2-toast .swal2-close {\n    position: initial; }\n  .swal2-popup.swal2-toast .swal2-content {\n    justify-content: flex-start;\n    font-size: 1em; }\n  .swal2-popup.swal2-toast .swal2-icon {\n    width: 2em;\n    min-width: 2em;\n    height: 2em;\n    margin: 0; }\n    .swal2-popup.swal2-toast .swal2-icon-text {\n      font-size: 2em;\n      font-weight: bold;\n      line-height: 1em; }\n    .swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring {\n      width: 2em;\n      height: 2em; }\n    .swal2-popup.swal2-toast .swal2-icon.swal2-error [class^='swal2-x-mark-line'] {\n      top: .875em;\n      width: 1.375em; }\n      .swal2-popup.swal2-toast .swal2-icon.swal2-error [class^='swal2-x-mark-line'][class$='left'] {\n        left: .3125em; }\n      .swal2-popup.swal2-toast .swal2-icon.swal2-error [class^='swal2-x-mark-line'][class$='right'] {\n        right: .3125em; }\n  .swal2-popup.swal2-toast .swal2-actions {\n    height: auto;\n    margin: 0 .3125em; }\n  .swal2-popup.swal2-toast .swal2-styled {\n    margin: 0 .3125em;\n    padding: .3125em .625em;\n    font-size: 1em; }\n    .swal2-popup.swal2-toast .swal2-styled:focus {\n      box-shadow: 0 0 0 0.0625em #fff, 0 0 0 0.125em rgba(50, 100, 150, 0.4); }\n  .swal2-popup.swal2-toast .swal2-success {\n    border-color: #a5dc86; }\n    .swal2-popup.swal2-toast .swal2-success [class^='swal2-success-circular-line'] {\n      position: absolute;\n      width: 2em;\n      height: 2.8125em;\n      -webkit-transform: rotate(45deg);\n              transform: rotate(45deg);\n      border-radius: 50%; }\n      .swal2-popup.swal2-toast .swal2-success [class^='swal2-success-circular-line'][class$='left'] {\n        top: -.25em;\n        left: -.9375em;\n        -webkit-transform: rotate(-45deg);\n                transform: rotate(-45deg);\n        -webkit-transform-origin: 2em 2em;\n                transform-origin: 2em 2em;\n        border-radius: 4em 0 0 4em; }\n      .swal2-popup.swal2-toast .swal2-success [class^='swal2-success-circular-line'][class$='right'] {\n        top: -.25em;\n        left: .9375em;\n        -webkit-transform-origin: 0 2em;\n                transform-origin: 0 2em;\n        border-radius: 0 4em 4em 0; }\n    .swal2-popup.swal2-toast .swal2-success .swal2-success-ring {\n      width: 2em;\n      height: 2em; }\n    .swal2-popup.swal2-toast .swal2-success .swal2-success-fix {\n      top: 0;\n      left: .4375em;\n      width: .4375em;\n      height: 2.6875em; }\n    .swal2-popup.swal2-toast .swal2-success [class^='swal2-success-line'] {\n      height: .3125em; }\n      .swal2-popup.swal2-toast .swal2-success [class^='swal2-success-line'][class$='tip'] {\n        top: 1.125em;\n        left: .1875em;\n        width: .75em; }\n      .swal2-popup.swal2-toast .swal2-success [class^='swal2-success-line'][class$='long'] {\n        top: .9375em;\n        right: .1875em;\n        width: 1.375em; }\n  .swal2-popup.swal2-toast.swal2-show {\n    -webkit-animation: showSweetToast .5s;\n            animation: showSweetToast .5s; }\n  .swal2-popup.swal2-toast.swal2-hide {\n    -webkit-animation: hideSweetToast .2s forwards;\n            animation: hideSweetToast .2s forwards; }\n  .swal2-popup.swal2-toast .swal2-animate-success-icon .swal2-success-line-tip {\n    -webkit-animation: animate-toast-success-tip .75s;\n            animation: animate-toast-success-tip .75s; }\n  .swal2-popup.swal2-toast .swal2-animate-success-icon .swal2-success-line-long {\n    -webkit-animation: animate-toast-success-long .75s;\n            animation: animate-toast-success-long .75s; }\n\n@-webkit-keyframes showSweetToast {\n  0% {\n    -webkit-transform: translateY(-0.625em) rotateZ(2deg);\n            transform: translateY(-0.625em) rotateZ(2deg);\n    opacity: 0; }\n  33% {\n    -webkit-transform: translateY(0) rotateZ(-2deg);\n            transform: translateY(0) rotateZ(-2deg);\n    opacity: .5; }\n  66% {\n    -webkit-transform: translateY(0.3125em) rotateZ(2deg);\n            transform: translateY(0.3125em) rotateZ(2deg);\n    opacity: .7; }\n  100% {\n    -webkit-transform: translateY(0) rotateZ(0);\n            transform: translateY(0) rotateZ(0);\n    opacity: 1; } }\n\n@keyframes showSweetToast {\n  0% {\n    -webkit-transform: translateY(-0.625em) rotateZ(2deg);\n            transform: translateY(-0.625em) rotateZ(2deg);\n    opacity: 0; }\n  33% {\n    -webkit-transform: translateY(0) rotateZ(-2deg);\n            transform: translateY(0) rotateZ(-2deg);\n    opacity: .5; }\n  66% {\n    -webkit-transform: translateY(0.3125em) rotateZ(2deg);\n            transform: translateY(0.3125em) rotateZ(2deg);\n    opacity: .7; }\n  100% {\n    -webkit-transform: translateY(0) rotateZ(0);\n            transform: translateY(0) rotateZ(0);\n    opacity: 1; } }\n\n@-webkit-keyframes hideSweetToast {\n  0% {\n    opacity: 1; }\n  33% {\n    opacity: .5; }\n  100% {\n    -webkit-transform: rotateZ(1deg);\n            transform: rotateZ(1deg);\n    opacity: 0; } }\n\n@keyframes hideSweetToast {\n  0% {\n    opacity: 1; }\n  33% {\n    opacity: .5; }\n  100% {\n    -webkit-transform: rotateZ(1deg);\n            transform: rotateZ(1deg);\n    opacity: 0; } }\n\n@-webkit-keyframes animate-toast-success-tip {\n  0% {\n    top: .5625em;\n    left: .0625em;\n    width: 0; }\n  54% {\n    top: .125em;\n    left: .125em;\n    width: 0; }\n  70% {\n    top: .625em;\n    left: -.25em;\n    width: 1.625em; }\n  84% {\n    top: 1.0625em;\n    left: .75em;\n    width: .5em; }\n  100% {\n    top: 1.125em;\n    left: .1875em;\n    width: .75em; } }\n\n@keyframes animate-toast-success-tip {\n  0% {\n    top: .5625em;\n    left: .0625em;\n    width: 0; }\n  54% {\n    top: .125em;\n    left: .125em;\n    width: 0; }\n  70% {\n    top: .625em;\n    left: -.25em;\n    width: 1.625em; }\n  84% {\n    top: 1.0625em;\n    left: .75em;\n    width: .5em; }\n  100% {\n    top: 1.125em;\n    left: .1875em;\n    width: .75em; } }\n\n@-webkit-keyframes animate-toast-success-long {\n  0% {\n    top: 1.625em;\n    right: 1.375em;\n    width: 0; }\n  65% {\n    top: 1.25em;\n    right: .9375em;\n    width: 0; }\n  84% {\n    top: .9375em;\n    right: 0;\n    width: 1.125em; }\n  100% {\n    top: .9375em;\n    right: .1875em;\n    width: 1.375em; } }\n\n@keyframes animate-toast-success-long {\n  0% {\n    top: 1.625em;\n    right: 1.375em;\n    width: 0; }\n  65% {\n    top: 1.25em;\n    right: .9375em;\n    width: 0; }\n  84% {\n    top: .9375em;\n    right: 0;\n    width: 1.125em; }\n  100% {\n    top: .9375em;\n    right: .1875em;\n    width: 1.375em; } }\n\nhtml.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown),\nbody.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) {\n  height: auto;\n  overflow-y: hidden; }\n\nbody.swal2-no-backdrop .swal2-shown {\n  top: auto;\n  right: auto;\n  bottom: auto;\n  left: auto;\n  background-color: transparent; }\n  body.swal2-no-backdrop .swal2-shown > .swal2-modal {\n    box-shadow: 0 0 10px rgba(0, 0, 0, 0.4); }\n  body.swal2-no-backdrop .swal2-shown.swal2-top {\n    top: 0;\n    left: 50%;\n    -webkit-transform: translateX(-50%);\n            transform: translateX(-50%); }\n  body.swal2-no-backdrop .swal2-shown.swal2-top-start, body.swal2-no-backdrop .swal2-shown.swal2-top-left {\n    top: 0;\n    left: 0; }\n  body.swal2-no-backdrop .swal2-shown.swal2-top-end, body.swal2-no-backdrop .swal2-shown.swal2-top-right {\n    top: 0;\n    right: 0; }\n  body.swal2-no-backdrop .swal2-shown.swal2-center {\n    top: 50%;\n    left: 50%;\n    -webkit-transform: translate(-50%, -50%);\n            transform: translate(-50%, -50%); }\n  body.swal2-no-backdrop .swal2-shown.swal2-center-start, body.swal2-no-backdrop .swal2-shown.swal2-center-left {\n    top: 50%;\n    left: 0;\n    -webkit-transform: translateY(-50%);\n            transform: translateY(-50%); }\n  body.swal2-no-backdrop .swal2-shown.swal2-center-end, body.swal2-no-backdrop .swal2-shown.swal2-center-right {\n    top: 50%;\n    right: 0;\n    -webkit-transform: translateY(-50%);\n            transform: translateY(-50%); }\n  body.swal2-no-backdrop .swal2-shown.swal2-bottom {\n    bottom: 0;\n    left: 50%;\n    -webkit-transform: translateX(-50%);\n            transform: translateX(-50%); }\n  body.swal2-no-backdrop .swal2-shown.swal2-bottom-start, body.swal2-no-backdrop .swal2-shown.swal2-bottom-left {\n    bottom: 0;\n    left: 0; }\n  body.swal2-no-backdrop .swal2-shown.swal2-bottom-end, body.swal2-no-backdrop .swal2-shown.swal2-bottom-right {\n    right: 0;\n    bottom: 0; }\n\n.swal2-container {\n  display: flex;\n  position: fixed;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n  padding: 10px;\n  background-color: transparent;\n  z-index: 1060;\n  overflow-x: hidden;\n  -webkit-overflow-scrolling: touch; }\n  .swal2-container.swal2-top {\n    align-items: flex-start; }\n  .swal2-container.swal2-top-start, .swal2-container.swal2-top-left {\n    align-items: flex-start;\n    justify-content: flex-start; }\n  .swal2-container.swal2-top-end, .swal2-container.swal2-top-right {\n    align-items: flex-start;\n    justify-content: flex-end; }\n  .swal2-container.swal2-center {\n    align-items: center; }\n  .swal2-container.swal2-center-start, .swal2-container.swal2-center-left {\n    align-items: center;\n    justify-content: flex-start; }\n  .swal2-container.swal2-center-end, .swal2-container.swal2-center-right {\n    align-items: center;\n    justify-content: flex-end; }\n  .swal2-container.swal2-bottom {\n    align-items: flex-end; }\n  .swal2-container.swal2-bottom-start, .swal2-container.swal2-bottom-left {\n    align-items: flex-end;\n    justify-content: flex-start; }\n  .swal2-container.swal2-bottom-end, .swal2-container.swal2-bottom-right {\n    align-items: flex-end;\n    justify-content: flex-end; }\n  .swal2-container.swal2-grow-fullscreen > .swal2-modal {\n    display: flex !important;\n    flex: 1;\n    align-self: stretch;\n    justify-content: center; }\n  .swal2-container.swal2-grow-row > .swal2-modal {\n    display: flex !important;\n    flex: 1;\n    align-content: center;\n    justify-content: center; }\n  .swal2-container.swal2-grow-column {\n    flex: 1;\n    flex-direction: column; }\n    .swal2-container.swal2-grow-column.swal2-top, .swal2-container.swal2-grow-column.swal2-center, .swal2-container.swal2-grow-column.swal2-bottom {\n      align-items: center; }\n    .swal2-container.swal2-grow-column.swal2-top-start, .swal2-container.swal2-grow-column.swal2-center-start, .swal2-container.swal2-grow-column.swal2-bottom-start, .swal2-container.swal2-grow-column.swal2-top-left, .swal2-container.swal2-grow-column.swal2-center-left, .swal2-container.swal2-grow-column.swal2-bottom-left {\n      align-items: flex-start; }\n    .swal2-container.swal2-grow-column.swal2-top-end, .swal2-container.swal2-grow-column.swal2-center-end, .swal2-container.swal2-grow-column.swal2-bottom-end, .swal2-container.swal2-grow-column.swal2-top-right, .swal2-container.swal2-grow-column.swal2-center-right, .swal2-container.swal2-grow-column.swal2-bottom-right {\n      align-items: flex-end; }\n    .swal2-container.swal2-grow-column > .swal2-modal {\n      display: flex !important;\n      flex: 1;\n      align-content: center;\n      justify-content: center; }\n  .swal2-container:not(.swal2-top):not(.swal2-top-start):not(.swal2-top-end):not(.swal2-top-left):not(.swal2-top-right):not(.swal2-center-start):not(.swal2-center-end):not(.swal2-center-left):not(.swal2-center-right):not(.swal2-bottom):not(.swal2-bottom-start):not(.swal2-bottom-end):not(.swal2-bottom-left):not(.swal2-bottom-right) > .swal2-modal {\n    margin: auto; }\n  @media all and (-ms-high-contrast: none), (-ms-high-contrast: active) {\n    .swal2-container .swal2-modal {\n      margin: 0 !important; } }\n  .swal2-container.swal2-fade {\n    transition: background-color .1s; }\n  .swal2-container.swal2-shown {\n    background-color: rgba(0, 0, 0, 0.4); }\n\n.swal2-popup {\n  display: none;\n  position: relative;\n  flex-direction: column;\n  justify-content: center;\n  width: 32em;\n  max-width: 100%;\n  padding: 1.25em;\n  border-radius: 0.3125em;\n  background: #fff;\n  font-family: inherit;\n  font-size: 1rem;\n  box-sizing: border-box; }\n  .swal2-popup:focus {\n    outline: none; }\n  .swal2-popup.swal2-loading {\n    overflow-y: hidden; }\n  .swal2-popup .swal2-header {\n    display: flex;\n    flex-direction: column;\n    align-items: center; }\n  .swal2-popup .swal2-title {\n    display: block;\n    position: relative;\n    max-width: 100%;\n    margin: 0 0 0.4em;\n    padding: 0;\n    color: #595959;\n    font-size: 1.875em;\n    font-weight: 600;\n    text-align: center;\n    text-transform: none;\n    word-wrap: break-word; }\n  .swal2-popup .swal2-actions {\n    align-items: center;\n    justify-content: center;\n    margin: 1.25em auto 0; }\n    .swal2-popup .swal2-actions:not(.swal2-loading) .swal2-styled[disabled] {\n      opacity: .4; }\n    .swal2-popup .swal2-actions:not(.swal2-loading) .swal2-styled:hover {\n      background-image: linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1)); }\n    .swal2-popup .swal2-actions:not(.swal2-loading) .swal2-styled:active {\n      background-image: linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2)); }\n    .swal2-popup .swal2-actions.swal2-loading .swal2-styled.swal2-confirm {\n      width: 2.5em;\n      height: 2.5em;\n      margin: .46875em;\n      padding: 0;\n      border: .25em solid transparent;\n      border-radius: 100%;\n      border-color: transparent;\n      background-color: transparent !important;\n      color: transparent;\n      cursor: default;\n      box-sizing: border-box;\n      -webkit-animation: swal2-rotate-loading 1.5s linear 0s infinite normal;\n              animation: swal2-rotate-loading 1.5s linear 0s infinite normal;\n      -webkit-user-select: none;\n         -moz-user-select: none;\n          -ms-user-select: none;\n              user-select: none; }\n    .swal2-popup .swal2-actions.swal2-loading .swal2-styled.swal2-cancel {\n      margin-right: 30px;\n      margin-left: 30px; }\n    .swal2-popup .swal2-actions.swal2-loading :not(.swal2-styled).swal2-confirm::after {\n      display: inline-block;\n      width: 15px;\n      height: 15px;\n      margin-left: 5px;\n      border: 3px solid #999999;\n      border-radius: 50%;\n      border-right-color: transparent;\n      box-shadow: 1px 1px 1px #fff;\n      content: '';\n      -webkit-animation: swal2-rotate-loading 1.5s linear 0s infinite normal;\n              animation: swal2-rotate-loading 1.5s linear 0s infinite normal; }\n  .swal2-popup .swal2-styled {\n    margin: 0 .3125em;\n    padding: .625em 2em;\n    font-weight: 500;\n    box-shadow: none; }\n    .swal2-popup .swal2-styled:not([disabled]) {\n      cursor: pointer; }\n    .swal2-popup .swal2-styled.swal2-confirm {\n      border: 0;\n      border-radius: 0.25em;\n      background-color: #3085d6;\n      color: #fff;\n      font-size: 1.0625em; }\n    .swal2-popup .swal2-styled.swal2-cancel {\n      border: 0;\n      border-radius: 0.25em;\n      background-color: #aaa;\n      color: #fff;\n      font-size: 1.0625em; }\n    .swal2-popup .swal2-styled:focus {\n      outline: none;\n      box-shadow: 0 0 0 2px #fff, 0 0 0 4px rgba(50, 100, 150, 0.4); }\n    .swal2-popup .swal2-styled::-moz-focus-inner {\n      border: 0; }\n  .swal2-popup .swal2-footer {\n    justify-content: center;\n    margin: 1.25em 0 0;\n    padding-top: 1em;\n    border-top: 1px solid #eee;\n    color: #545454;\n    font-size: 1em; }\n  .swal2-popup .swal2-image {\n    max-width: 100%;\n    margin: 1.25em auto; }\n  .swal2-popup .swal2-close {\n    position: absolute;\n    top: 0;\n    right: 0;\n    justify-content: center;\n    width: 1.2em;\n    min-width: 1.2em;\n    height: 1.2em;\n    margin: 0;\n    padding: 0;\n    transition: color 0.1s ease-out;\n    border: none;\n    border-radius: 0;\n    background: transparent;\n    color: #cccccc;\n    font-family: serif;\n    font-size: calc(2.5em - 0.25em);\n    line-height: 1.2em;\n    cursor: pointer; }\n    .swal2-popup .swal2-close:hover {\n      -webkit-transform: none;\n              transform: none;\n      color: #f27474; }\n  .swal2-popup > .swal2-input,\n  .swal2-popup > .swal2-file,\n  .swal2-popup > .swal2-textarea,\n  .swal2-popup > .swal2-select,\n  .swal2-popup > .swal2-radio,\n  .swal2-popup > .swal2-checkbox {\n    display: none; }\n  .swal2-popup .swal2-content {\n    justify-content: center;\n    margin: 0;\n    padding: 0;\n    color: #545454;\n    font-size: 1.125em;\n    font-weight: 300;\n    line-height: normal;\n    word-wrap: break-word; }\n  .swal2-popup #swal2-content {\n    text-align: center; }\n  .swal2-popup .swal2-input,\n  .swal2-popup .swal2-file,\n  .swal2-popup .swal2-textarea,\n  .swal2-popup .swal2-select,\n  .swal2-popup .swal2-radio,\n  .swal2-popup .swal2-checkbox {\n    margin: 1em auto; }\n  .swal2-popup .swal2-input,\n  .swal2-popup .swal2-file,\n  .swal2-popup .swal2-textarea {\n    width: 100%;\n    transition: border-color .3s, box-shadow .3s;\n    border: 1px solid #d9d9d9;\n    border-radius: 0.1875em;\n    font-size: 1.125em;\n    box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06);\n    box-sizing: border-box; }\n    .swal2-popup .swal2-input.swal2-inputerror,\n    .swal2-popup .swal2-file.swal2-inputerror,\n    .swal2-popup .swal2-textarea.swal2-inputerror {\n      border-color: #f27474 !important;\n      box-shadow: 0 0 2px #f27474 !important; }\n    .swal2-popup .swal2-input:focus,\n    .swal2-popup .swal2-file:focus,\n    .swal2-popup .swal2-textarea:focus {\n      border: 1px solid #b4dbed;\n      outline: none;\n      box-shadow: 0 0 3px #c4e6f5; }\n    .swal2-popup .swal2-input::-webkit-input-placeholder,\n    .swal2-popup .swal2-file::-webkit-input-placeholder,\n    .swal2-popup .swal2-textarea::-webkit-input-placeholder {\n      color: #cccccc; }\n    .swal2-popup .swal2-input:-ms-input-placeholder,\n    .swal2-popup .swal2-file:-ms-input-placeholder,\n    .swal2-popup .swal2-textarea:-ms-input-placeholder {\n      color: #cccccc; }\n    .swal2-popup .swal2-input::-ms-input-placeholder,\n    .swal2-popup .swal2-file::-ms-input-placeholder,\n    .swal2-popup .swal2-textarea::-ms-input-placeholder {\n      color: #cccccc; }\n    .swal2-popup .swal2-input::placeholder,\n    .swal2-popup .swal2-file::placeholder,\n    .swal2-popup .swal2-textarea::placeholder {\n      color: #cccccc; }\n  .swal2-popup .swal2-range input {\n    width: 80%; }\n  .swal2-popup .swal2-range output {\n    width: 20%;\n    font-weight: 600;\n    text-align: center; }\n  .swal2-popup .swal2-range input,\n  .swal2-popup .swal2-range output {\n    height: 2.625em;\n    margin: 1em auto;\n    padding: 0;\n    font-size: 1.125em;\n    line-height: 2.625em; }\n  .swal2-popup .swal2-input {\n    height: 2.625em;\n    padding: 0.75em; }\n    .swal2-popup .swal2-input[type='number'] {\n      max-width: 10em; }\n  .swal2-popup .swal2-file {\n    font-size: 1.125em; }\n  .swal2-popup .swal2-textarea {\n    height: 6.75em;\n    padding: 0.75em; }\n  .swal2-popup .swal2-select {\n    min-width: 50%;\n    max-width: 100%;\n    padding: .375em .625em;\n    color: #545454;\n    font-size: 1.125em; }\n  .swal2-popup .swal2-radio,\n  .swal2-popup .swal2-checkbox {\n    align-items: center;\n    justify-content: center; }\n    .swal2-popup .swal2-radio label,\n    .swal2-popup .swal2-checkbox label {\n      margin: 0 .6em;\n      font-size: 1.125em; }\n    .swal2-popup .swal2-radio input,\n    .swal2-popup .swal2-checkbox input {\n      margin: 0 .4em; }\n  .swal2-popup .swal2-validationerror {\n    display: none;\n    align-items: center;\n    justify-content: center;\n    padding: 0.625em;\n    background: #f0f0f0;\n    color: #666666;\n    font-size: 1em;\n    font-weight: 300;\n    overflow: hidden; }\n    .swal2-popup .swal2-validationerror::before {\n      display: inline-block;\n      width: 1.5em;\n      height: 1.5em;\n      margin: 0 .625em;\n      border-radius: 50%;\n      background-color: #f27474;\n      color: #fff;\n      font-weight: 600;\n      line-height: 1.5em;\n      text-align: center;\n      content: '!';\n      zoom: normal; }\n\n@supports (-ms-accelerator: true) {\n  .swal2-range input {\n    width: 100% !important; }\n  .swal2-range output {\n    display: none; } }\n\n@media all and (-ms-high-contrast: none), (-ms-high-contrast: active) {\n  .swal2-range input {\n    width: 100% !important; }\n  .swal2-range output {\n    display: none; } }\n\n.swal2-icon {\n  position: relative;\n  justify-content: center;\n  width: 5em;\n  height: 5em;\n  margin: 1.25em auto 1.875em;\n  border: .25em solid transparent;\n  border-radius: 50%;\n  line-height: 5em;\n  cursor: default;\n  box-sizing: content-box;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n  zoom: normal; }\n  .swal2-icon-text {\n    font-size: 3.75em; }\n  .swal2-icon.swal2-error {\n    border-color: #f27474; }\n    .swal2-icon.swal2-error .swal2-x-mark {\n      position: relative;\n      flex-grow: 1; }\n    .swal2-icon.swal2-error [class^='swal2-x-mark-line'] {\n      display: block;\n      position: absolute;\n      top: 2.3125em;\n      width: 2.9375em;\n      height: .3125em;\n      border-radius: .125em;\n      background-color: #f27474; }\n      .swal2-icon.swal2-error [class^='swal2-x-mark-line'][class$='left'] {\n        left: 1.0625em;\n        -webkit-transform: rotate(45deg);\n                transform: rotate(45deg); }\n      .swal2-icon.swal2-error [class^='swal2-x-mark-line'][class$='right'] {\n        right: 1em;\n        -webkit-transform: rotate(-45deg);\n                transform: rotate(-45deg); }\n  .swal2-icon.swal2-warning {\n    border-color: #facea8;\n    color: #f8bb86; }\n  .swal2-icon.swal2-info {\n    border-color: #9de0f6;\n    color: #3fc3ee; }\n  .swal2-icon.swal2-question {\n    border-color: #c9dae1;\n    color: #87adbd; }\n  .swal2-icon.swal2-success {\n    border-color: #a5dc86; }\n    .swal2-icon.swal2-success [class^='swal2-success-circular-line'] {\n      position: absolute;\n      width: 3.75em;\n      height: 7.5em;\n      -webkit-transform: rotate(45deg);\n              transform: rotate(45deg);\n      border-radius: 50%; }\n      .swal2-icon.swal2-success [class^='swal2-success-circular-line'][class$='left'] {\n        top: -.4375em;\n        left: -2.0635em;\n        -webkit-transform: rotate(-45deg);\n                transform: rotate(-45deg);\n        -webkit-transform-origin: 3.75em 3.75em;\n                transform-origin: 3.75em 3.75em;\n        border-radius: 7.5em 0 0 7.5em; }\n      .swal2-icon.swal2-success [class^='swal2-success-circular-line'][class$='right'] {\n        top: -.6875em;\n        left: 1.875em;\n        -webkit-transform: rotate(-45deg);\n                transform: rotate(-45deg);\n        -webkit-transform-origin: 0 3.75em;\n                transform-origin: 0 3.75em;\n        border-radius: 0 7.5em 7.5em 0; }\n    .swal2-icon.swal2-success .swal2-success-ring {\n      position: absolute;\n      top: -.25em;\n      left: -.25em;\n      width: 100%;\n      height: 100%;\n      border: 0.25em solid rgba(165, 220, 134, 0.3);\n      border-radius: 50%;\n      z-index: 2;\n      box-sizing: content-box; }\n    .swal2-icon.swal2-success .swal2-success-fix {\n      position: absolute;\n      top: .5em;\n      left: 1.625em;\n      width: .4375em;\n      height: 5.625em;\n      -webkit-transform: rotate(-45deg);\n              transform: rotate(-45deg);\n      z-index: 1; }\n    .swal2-icon.swal2-success [class^='swal2-success-line'] {\n      display: block;\n      position: absolute;\n      height: .3125em;\n      border-radius: .125em;\n      background-color: #a5dc86;\n      z-index: 2; }\n      .swal2-icon.swal2-success [class^='swal2-success-line'][class$='tip'] {\n        top: 2.875em;\n        left: .875em;\n        width: 1.5625em;\n        -webkit-transform: rotate(45deg);\n                transform: rotate(45deg); }\n      .swal2-icon.swal2-success [class^='swal2-success-line'][class$='long'] {\n        top: 2.375em;\n        right: .5em;\n        width: 2.9375em;\n        -webkit-transform: rotate(-45deg);\n                transform: rotate(-45deg); }\n\n.swal2-progresssteps {\n  align-items: center;\n  margin: 0 0 1.25em;\n  padding: 0;\n  font-weight: 600; }\n  .swal2-progresssteps li {\n    display: inline-block;\n    position: relative; }\n  .swal2-progresssteps .swal2-progresscircle {\n    width: 2em;\n    height: 2em;\n    border-radius: 2em;\n    background: #3085d6;\n    color: #fff;\n    line-height: 2em;\n    text-align: center;\n    z-index: 20; }\n    .swal2-progresssteps .swal2-progresscircle:first-child {\n      margin-left: 0; }\n    .swal2-progresssteps .swal2-progresscircle:last-child {\n      margin-right: 0; }\n    .swal2-progresssteps .swal2-progresscircle.swal2-activeprogressstep {\n      background: #3085d6; }\n      .swal2-progresssteps .swal2-progresscircle.swal2-activeprogressstep ~ .swal2-progresscircle {\n        background: #add8e6; }\n      .swal2-progresssteps .swal2-progresscircle.swal2-activeprogressstep ~ .swal2-progressline {\n        background: #add8e6; }\n  .swal2-progresssteps .swal2-progressline {\n    width: 2.5em;\n    height: .4em;\n    margin: 0 -1px;\n    background: #3085d6;\n    z-index: 10; }\n\n[class^='swal2'] {\n  -webkit-tap-highlight-color: transparent; }\n\n.swal2-show {\n  -webkit-animation: swal2-show 0.3s;\n          animation: swal2-show 0.3s; }\n  .swal2-show.swal2-noanimation {\n    -webkit-animation: none;\n            animation: none; }\n\n.swal2-hide {\n  -webkit-animation: swal2-hide 0.15s forwards;\n          animation: swal2-hide 0.15s forwards; }\n  .swal2-hide.swal2-noanimation {\n    -webkit-animation: none;\n            animation: none; }\n\n[dir='rtl'] .swal2-close {\n  right: auto;\n  left: 0; }\n\n.swal2-animate-success-icon .swal2-success-line-tip {\n  -webkit-animation: swal2-animate-success-line-tip 0.75s;\n          animation: swal2-animate-success-line-tip 0.75s; }\n\n.swal2-animate-success-icon .swal2-success-line-long {\n  -webkit-animation: swal2-animate-success-line-long 0.75s;\n          animation: swal2-animate-success-line-long 0.75s; }\n\n.swal2-animate-success-icon .swal2-success-circular-line-right {\n  -webkit-animation: swal2-rotate-success-circular-line 4.25s ease-in;\n          animation: swal2-rotate-success-circular-line 4.25s ease-in; }\n\n.swal2-animate-error-icon {\n  -webkit-animation: swal2-animate-error-icon 0.5s;\n          animation: swal2-animate-error-icon 0.5s; }\n  .swal2-animate-error-icon .swal2-x-mark {\n    -webkit-animation: swal2-animate-error-x-mark 0.5s;\n            animation: swal2-animate-error-x-mark 0.5s; }\n\n@-webkit-keyframes swal2-rotate-loading {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg); }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg); } }\n\n@keyframes swal2-rotate-loading {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg); }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg); } }");var AdminLTEOptions={navbarMenuSlimscroll:!0,navbarMenuSlimscrollWidth:"3px",navbarMenuHeight:"200px",animationSpeed:500,sidebarToggleSelector:"[data-toggle='offcanvas']",sidebarPushMenu:!0,sidebarSlimScroll:!0,sidebarExpandOnHover:!1,enableBoxRefresh:!0,enableBSToppltip:!0,BSTooltipSelector:"[data-toggle='tooltip']",enableFastclick:!1,enableControlTreeView:!0,enableControlSidebar:!0,controlSidebarOptions:{toggleBtnSelector:"[data-toggle='control-sidebar']",selector:".control-sidebar",slide:!0},enableBoxWidget:!0,boxWidgetOptions:{boxWidgetIcons:{collapse:"fa-minus",open:"fa-plus",remove:"fa-times"},boxWidgetSelectors:{remove:'[data-widget="remove"]',collapse:'[data-widget="collapse"]'}},directChat:{enable:!0,contactToggleSelector:'[data-widget="chat-pane-toggle"]'},colors:{lightBlue:"#3c8dbc",red:"#f56954",green:"#00a65a",aqua:"#00c0ef",yellow:"#f39c12",blue:"#0073b7",navy:"#001F3F",teal:"#39CCCC",olive:"#3D9970",lime:"#01FF70",orange:"#FF851B",fuchsia:"#F012BE",purple:"#8E24AA",maroon:"#D81B60",black:"#222222",gray:"#d2d6de"},screenSizes:{xs:480,sm:768,md:992,lg:1200}};!function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e():t.Sifter=e()}(this,function(){var t=function(t,e){this.items=t,this.settings=e||{diacritics:!0}};t.prototype.tokenize=function(t){if(!(t=o(String(t||"").toLowerCase()))||!t.length)return[];var e,n,i,r,l=[],c=t.split(/ +/);for(e=0,n=c.length;e<n;e++){if(i=s(c[e]),this.settings.diacritics)for(r in a)a.hasOwnProperty(r)&&(i=i.replace(new RegExp(r,"g"),a[r]));l.push({string:c[e],regex:new RegExp(i,"i")})}return l},t.prototype.iterator=function(t,e){(r(t)?Array.prototype.forEach||function(t){for(var e=0,n=this.length;e<n;e++)t(this[e],e,this)}:function(t){for(var e in this)this.hasOwnProperty(e)&&t(this[e],e,this)}).apply(t,[e])},t.prototype.getScoreFunction=function(t,e){var n,o,s,r;t=this.prepareSearch(t,e),n=t.options.fields,s=(o=t.tokens).length,r=t.options.nesting;var a=function(t,e){var n,i;return t?-1===(i=(t=String(t||"")).search(e.regex))?0:(n=e.string.length/t.length,0===i&&(n+=.5),n):0},l=function(){var t=n.length;return t?1===t?function(t,e){return a(i(e,n[0],r),t)}:function(e,o){for(var s=0,l=0;s<t;s++)l+=a(i(o,n[s],r),e);return l/t}:function(){return 0}}();return s?1===s?function(t){return l(o[0],t)}:"and"===t.options.conjunction?function(t){for(var e,n=0,i=0;n<s;n++){if((e=l(o[n],t))<=0)return 0;i+=e}return i/s}:function(t){for(var e=0,n=0;e<s;e++)n+=l(o[e],t);return n/s}:function(){return 0}},t.prototype.getSortFunction=function(t,n){var o,s,r,a,l,c,u,h,d,f,p;if(t=(r=this).prepareSearch(t,n),d=function(t,e){return"$score"===t?e.score:i(r.items[e.id],t,n.nesting)},l=[],p=!t.query&&n.sort_empty||n.sort)for(o=0,s=p.length;o<s;o++)(t.query||"$score"!==p[o].field)&&l.push(p[o]);if(t.query){for(f=!0,o=0,s=l.length;o<s;o++)if("$score"===l[o].field){f=!1;break}f&&l.unshift({field:"$score",direction:"desc"})}else for(o=0,s=l.length;o<s;o++)if("$score"===l[o].field){l.splice(o,1);break}for(h=[],o=0,s=l.length;o<s;o++)h.push("desc"===l[o].direction?-1:1);return(c=l.length)?1===c?(a=l[0].field,u=h[0],function(t,n){return u*e(d(a,t),d(a,n))}):function(t,n){var i,o,s;for(i=0;i<c;i++)if(o=h[i]*e(d(s=l[i].field,t),d(s,n)))return o;return 0}:null},t.prototype.prepareSearch=function(t,e){if("object"==typeof t)return t;var i=(e=n({},e)).fields,o=e.sort,s=e.sort_empty;return i&&!r(i)&&(e.fields=[i]),o&&!r(o)&&(e.sort=[o]),s&&!r(s)&&(e.sort_empty=[s]),{options:e,query:String(t||"").toLowerCase(),tokens:this.tokenize(t),total:0,items:[]}},t.prototype.search=function(t,e){var n,i,o,s,r=this;return t=(i=this.prepareSearch(t,e)).query,s=(e=i.options).score||r.getScoreFunction(i),r.iterator(r.items,t.length?function(t,o){n=s(t),(!1===e.filter||n>0)&&i.items.push({score:n,id:o})}:function(t,e){i.items.push({score:1,id:e})}),(o=r.getSortFunction(i,e))&&i.items.sort(o),i.total=i.items.length,"number"==typeof e.limit&&(i.items=i.items.slice(0,e.limit)),i};var e=function(t,e){return"number"==typeof t&&"number"==typeof e?t>e?1:t<e?-1:0:(t=l(String(t||"")))>(e=l(String(e||"")))?1:e>t?-1:0},n=function(t,e){var n,i,o,s;for(n=1,i=arguments.length;n<i;n++)if(s=arguments[n])for(o in s)s.hasOwnProperty(o)&&(t[o]=s[o]);return t},i=function(t,e,n){if(t&&e){if(!n)return t[e];for(var i=e.split(".");i.length&&(t=t[i.shift()]););return t}},o=function(t){return(t+"").replace(/^\s+|\s+$|/g,"")},s=function(t){return(t+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},r=Array.isArray||"undefined"!=typeof $&&$.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},a={a:"[a\u1e00\u1e01\u0102\u0103\xc2\xe2\u01cd\u01ce\u023a\u2c65\u0226\u0227\u1ea0\u1ea1\xc4\xe4\xc0\xe0\xc1\xe1\u0100\u0101\xc3\xe3\xc5\xe5\u0105\u0104\xc3\u0105\u0104]",b:"[b\u2422\u03b2\u0392B\u0e3f\ud800\udf01\u16d2]",c:"[c\u0106\u0107\u0108\u0109\u010c\u010d\u010a\u010bC\u0304c\u0304\xc7\xe7\u1e08\u1e09\u023b\u023c\u0187\u0188\u0255\u1d04\uff23\uff43]",d:"[d\u010e\u010f\u1e0a\u1e0b\u1e10\u1e11\u1e0c\u1e0d\u1e12\u1e13\u1e0e\u1e0f\u0110\u0111D\u0326d\u0326\u0189\u0256\u018a\u0257\u018b\u018c\u1d6d\u1d81\u1d91\u0221\u1d05\uff24\uff44\xf0]",e:"[e\xc9\xe9\xc8\xe8\xca\xea\u1e18\u1e19\u011a\u011b\u0114\u0115\u1ebc\u1ebd\u1e1a\u1e1b\u1eba\u1ebb\u0116\u0117\xcb\xeb\u0112\u0113\u0228\u0229\u0118\u0119\u1d92\u0246\u0247\u0204\u0205\u1ebe\u1ebf\u1ec0\u1ec1\u1ec4\u1ec5\u1ec2\u1ec3\u1e1c\u1e1d\u1e16\u1e17\u1e14\u1e15\u0206\u0207\u1eb8\u1eb9\u1ec6\u1ec7\u2c78\u1d07\uff25\uff45\u0258\u01dd\u018f\u0190\u03b5]",f:"[f\u0191\u0192\u1e1e\u1e1f]",g:"[g\u0262\u20b2\u01e4\u01e5\u011c\u011d\u011e\u011f\u0122\u0123\u0193\u0260\u0120\u0121]",h:"[h\u0124\u0125\u0126\u0127\u1e28\u1e29\u1e96\u1e96\u1e24\u1e25\u1e22\u1e23\u0266\u02b0\u01f6\u0195]",i:"[i\xcd\xed\xcc\xec\u012c\u012d\xce\xee\u01cf\u01d0\xcf\xef\u1e2e\u1e2f\u0128\u0129\u012e\u012f\u012a\u012b\u1ec8\u1ec9\u0208\u0209\u020a\u020b\u1eca\u1ecb\u1e2c\u1e2d\u0197\u0268\u0268\u0306\u1d7b\u1d96\u0130iI\u0131\u026a\uff29\uff49]",j:"[j\u0237\u0134\u0135\u0248\u0249\u029d\u025f\u02b2]",k:"[k\u0198\u0199\ua740\ua741\u1e30\u1e31\u01e8\u01e9\u1e32\u1e33\u1e34\u1e35\u03ba\u03f0\u20ad]",l:"[l\u0141\u0142\u013d\u013e\u013b\u013c\u0139\u013a\u1e36\u1e37\u1e38\u1e39\u1e3c\u1e3d\u1e3a\u1e3b\u013f\u0140\u023d\u019a\u2c60\u2c61\u2c62\u026b\u026c\u1d85\u026d\u0234\u029f\uff2c\uff4c]",n:"[n\u0143\u0144\u01f8\u01f9\u0147\u0148\xd1\xf1\u1e44\u1e45\u0145\u0146\u1e46\u1e47\u1e4a\u1e4b\u1e48\u1e49N\u0308n\u0308\u019d\u0272\u0220\u019e\u1d70\u1d87\u0273\u0235\u0274\uff2e\uff4e\u014a\u014b]",o:"[o\xd8\xf8\xd6\xf6\xd3\xf3\xd2\xf2\xd4\xf4\u01d1\u01d2\u0150\u0151\u014e\u014f\u022e\u022f\u1ecc\u1ecd\u019f\u0275\u01a0\u01a1\u1ece\u1ecf\u014c\u014d\xd5\xf5\u01ea\u01eb\u020c\u020d\u0555\u0585]",p:"[p\u1e54\u1e55\u1e56\u1e57\u2c63\u1d7d\u01a4\u01a5\u1d71]",q:"[q\ua756\ua757\u02a0\u024a\u024b\ua758\ua759q\u0303]",r:"[r\u0154\u0155\u024c\u024d\u0158\u0159\u0156\u0157\u1e58\u1e59\u0210\u0211\u0212\u0213\u1e5a\u1e5b\u2c64\u027d]",s:"[s\u015a\u015b\u1e60\u1e61\u1e62\u1e63\ua7a8\ua7a9\u015c\u015d\u0160\u0161\u015e\u015f\u0218\u0219S\u0308s\u0308]",t:"[t\u0164\u0165\u1e6a\u1e6b\u0162\u0163\u1e6c\u1e6d\u01ae\u0288\u021a\u021b\u1e70\u1e71\u1e6e\u1e6f\u01ac\u01ad]",u:"[u\u016c\u016d\u0244\u0289\u1ee4\u1ee5\xdc\xfc\xda\xfa\xd9\xf9\xdb\xfb\u01d3\u01d4\u0170\u0171\u016c\u016d\u01af\u01b0\u1ee6\u1ee7\u016a\u016b\u0168\u0169\u0172\u0173\u0214\u0215\u222a]",v:"[v\u1e7c\u1e7d\u1e7e\u1e7f\u01b2\u028b\ua75e\ua75f\u2c71\u028b]",w:"[w\u1e82\u1e83\u1e80\u1e81\u0174\u0175\u1e84\u1e85\u1e86\u1e87\u1e88\u1e89]",x:"[x\u1e8c\u1e8d\u1e8a\u1e8b\u03c7]",y:"[y\xdd\xfd\u1ef2\u1ef3\u0176\u0177\u0178\xff\u1ef8\u1ef9\u1e8e\u1e8f\u1ef4\u1ef5\u024e\u024f\u01b3\u01b4]",z:"[z\u0179\u017a\u1e90\u1e91\u017d\u017e\u017b\u017c\u1e92\u1e93\u1e94\u1e95\u01b5\u01b6]"},l=function(){var t,e,n,i,o="",s={};for(n in a)if(a.hasOwnProperty(n))for(o+=i=a[n].substring(2,a[n].length-1),t=0,e=i.length;t<e;t++)s[i.charAt(t)]=n;var r=new RegExp("["+o+"]","g");return function(t){return t.replace(r,function(t){return s[t]}).toLowerCase()}}();return t}),function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e():t.MicroPlugin=e()}(this,function(){var t={mixin:function(t){t.plugins={},t.prototype.initializePlugins=function(t){var n,i,o,s=[];if(this.plugins={names:[],settings:{},requested:{},loaded:{}},e.isArray(t))for(n=0,i=t.length;n<i;n++)"string"==typeof t[n]?s.push(t[n]):(this.plugins.settings[t[n].name]=t[n].options,s.push(t[n].name));else if(t)for(o in t)t.hasOwnProperty(o)&&(this.plugins.settings[o]=t[o],s.push(o));for(;s.length;)this.require(s.shift())},t.prototype.loadPlugin=function(e){var n=this.plugins,i=t.plugins[e];if(!t.plugins.hasOwnProperty(e))throw new Error('Unable to find "'+e+'" plugin');n.requested[e]=!0,n.loaded[e]=i.fn.apply(this,[this.plugins.settings[e]||{}]),n.names.push(e)},t.prototype.require=function(t){var e=this.plugins;if(!this.plugins.loaded.hasOwnProperty(t)){if(e.requested[t])throw new Error('Plugin has circular dependency ("'+t+'")');this.loadPlugin(t)}return e.loaded[t]},t.define=function(e,n){t.plugins[e]={name:e,fn:n}}}},e={isArray:Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}};return t}),function(t,e){"function"==typeof define&&define.amd?define(["jquery","sifter","microplugin"],e):"object"==typeof exports?module.exports=e(require("jquery"),require("sifter"),require("microplugin")):t.Selectize=e(t.jQuery,t.Sifter,t.MicroPlugin)}(this,function(t,e,n){"use strict";var i=function(t,e){if("string"!=typeof e||e.length){var n="string"==typeof e?new RegExp(e,"i"):e,i=function(t){var e=0;if(3===t.nodeType){var o=t.data.search(n);if(o>=0&&t.data.length>0){var s=t.data.match(n),r=document.createElement("span");r.className="highlight";var a=t.splitText(o),l=(a.splitText(s[0].length),a.cloneNode(!0));r.appendChild(l),a.parentNode.replaceChild(r,a),e=1}}else if(1===t.nodeType&&t.childNodes&&!/(script|style)/i.test(t.tagName))for(var c=0;c<t.childNodes.length;++c)c+=i(t.childNodes[c]);return e};return t.each(function(){i(this)})}};t.fn.removeHighlight=function(){return this.find("span.highlight").each(function(){var t=this.parentNode;t.replaceChild(this.firstChild,this),t.normalize()}).end()};var o=function(){};o.prototype={on:function(t,e){this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(e)},off:function(t,e){var n=arguments.length;return 0===n?delete this._events:1===n?delete this._events[t]:(this._events=this._events||{},void(t in this._events!=0&&this._events[t].splice(this._events[t].indexOf(e),1)))},trigger:function(t){if(this._events=this._events||{},t in this._events!=0)for(var e=0;e<this._events[t].length;e++)this._events[t][e].apply(this,Array.prototype.slice.call(arguments,1))}},o.mixin=function(t){for(var e=["on","off","trigger"],n=0;n<e.length;n++)t.prototype[e[n]]=o.prototype[e[n]]};var s,r=/Mac/.test(navigator.userAgent),a=r?91:17,l=r?18:17,c=!/android/i.test(window.navigator.userAgent)&&!!document.createElement("input").validity,u=function(t){return"undefined"!=typeof t},h=function(t){return"undefined"==typeof t||null===t?null:"boolean"==typeof t?t?"1":"0":t+""},d=function(t){return(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},f=function(t,e,n){var i=t[e];t[e]=function(){var e=i.apply(t,arguments);return n.apply(t,arguments),e}},p=function(t,e,n){var i,o=t.trigger,s={};for(i in t.trigger=function(){var n=arguments[0];if(-1===e.indexOf(n))return o.apply(t,arguments);s[n]=arguments},n.apply(t,[]),t.trigger=o,s)s.hasOwnProperty(i)&&o.apply(t,s[i])},g=function(t){var e={};if("selectionStart"in t)e.start=t.selectionStart,e.length=t.selectionEnd-e.start;else if(document.selection){t.focus();var n=document.selection.createRange(),i=document.selection.createRange().text.length;n.moveStart("character",-t.value.length),e.start=n.text.length-i,e.length=i}return e},m=function(n,i){var o,s,r,a;(a=n[0]).selectize=this;var l,c,u,h=window.getComputedStyle&&window.getComputedStyle(a,null);if(r=(r=h?h.getPropertyValue("direction"):a.currentStyle&&a.currentStyle.direction)||n.parents("[dir]:first").attr("dir")||"",t.extend(this,{order:0,settings:i,$input:n,tabIndex:n.attr("tabindex")||"",tagType:"select"===a.tagName.toLowerCase()?1:2,rtl:/rtl/i.test(r),eventNS:".selectize"+ ++m.count,highlightedValue:null,isOpen:!1,isDisabled:!1,isRequired:n.is("[required]"),isInvalid:!1,isLocked:!1,isFocused:!1,isInputHidden:!1,isSetup:!1,isShiftDown:!1,isCmdDown:!1,isCtrlDown:!1,ignoreFocus:!1,ignoreBlur:!1,ignoreHover:!1,hasOptions:!1,currentResults:null,lastValue:"",caretPos:0,loading:0,loadedSearches:{},$activeOption:null,$activeItems:[],optgroups:{},options:{},userOptions:{},items:[],renderCache:{},onSearchChange:null===i.loadThrottle?this.onSearchChange:(l=this.onSearchChange,c=i.loadThrottle,function(){var t=this,e=arguments;window.clearTimeout(u),u=window.setTimeout(function(){l.apply(t,e)},c)})}),this.sifter=new e(this.options,{diacritics:i.diacritics}),this.settings.options){for(o=0,s=this.settings.options.length;o<s;o++)this.registerOption(this.settings.options[o]);delete this.settings.options}if(this.settings.optgroups){for(o=0,s=this.settings.optgroups.length;o<s;o++)this.registerOptionGroup(this.settings.optgroups[o]);delete this.settings.optgroups}this.settings.mode=this.settings.mode||(1===this.settings.maxItems?"single":"multi"),"boolean"!=typeof this.settings.hideSelected&&(this.settings.hideSelected="multi"===this.settings.mode),this.initializePlugins(this.settings.plugins),this.setupCallbacks(),this.setupTemplates(),this.setup()};return o.mixin(m),"undefined"!=typeof n?n.mixin(m):((s={explanation:'Make sure you either: (1) are using the "standalone" version of Selectize, or (2) require MicroPlugin before you load Selectize.'})||(s={}),console.error("Selectize: Dependency MicroPlugin is missing"),s.explanation&&(console.group&&console.group(),console.error(s.explanation),console.group&&console.groupEnd())),t.extend(m.prototype,{setup:function(){var e,n,i,o,s,u,h,d,f,p,m,v,y=this,b=y.settings,w=y.eventNS,_=t(window),x=t(document),C=y.$input;if(h=y.settings.mode,d=C.attr("class")||"",e=t("<div>").addClass(b.wrapperClass).addClass(d).addClass(h),n=t("<div>").addClass(b.inputClass).addClass("items").appendTo(e),i=t('<input type="text" autocomplete="off" />').appendTo(n).attr("tabindex",C.is(":disabled")?"-1":y.tabIndex),u=t(b.dropdownParent||e),o=t("<div>").addClass(b.dropdownClass).addClass(h).hide().appendTo(u),s=t("<div>").addClass(b.dropdownContentClass).appendTo(o),(p=C.attr("id"))&&(i.attr("id",p+"-selectized"),t("label[for='"+p+"']").attr("for",p+"-selectized")),y.settings.copyClassesToDropdown&&o.addClass(d),e.css({width:C[0].style.width}),y.plugins.names.length&&(f="plugin-"+y.plugins.names.join(" plugin-"),e.addClass(f),o.addClass(f)),(null===b.maxItems||b.maxItems>1)&&1===y.tagType&&C.attr("multiple","multiple"),y.settings.placeholder&&i.attr("placeholder",b.placeholder),!y.settings.splitOn&&y.settings.delimiter){var k=y.settings.delimiter.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");y.settings.splitOn=new RegExp("\\s*"+k+"+\\s*")}C.attr("autocorrect")&&i.attr("autocorrect",C.attr("autocorrect")),C.attr("autocapitalize")&&i.attr("autocapitalize",C.attr("autocapitalize")),y.$wrapper=e,y.$control=n,y.$control_input=i,y.$dropdown=o,y.$dropdown_content=s,o.on("mouseenter","[data-selectable]",function(){return y.onOptionHover.apply(y,arguments)}),o.on("mousedown click","[data-selectable]",function(){return y.onOptionSelect.apply(y,arguments)}),v=function(){return y.onItemSelect.apply(y,arguments)},(m=n).on("mousedown","*:not(input)",function(t){for(var e=t.target;e&&e.parentNode!==m[0];)e=e.parentNode;return t.currentTarget=e,v.apply(this,[t])}),function(e){var n=null,i=function(i,o){var s,r,a,l,c,u,h,d;i=i||window.event||{},o=o||{},i.metaKey||i.altKey||(o.force||!1!==e.data("grow"))&&(s=e.val(),i.type&&"keydown"===i.type.toLowerCase()&&(a=(r=i.keyCode)>=97&&r<=122||r>=65&&r<=90||r>=48&&r<=57||32===r,46===r||8===r?(d=g(e[0])).length?s=s.substring(0,d.start)+s.substring(d.start+d.length):8===r&&d.start?s=s.substring(0,d.start-1)+s.substring(d.start+1):46===r&&"undefined"!=typeof d.start&&(s=s.substring(0,d.start)+s.substring(d.start+1)):a&&(u=i.shiftKey,h=String.fromCharCode(i.keyCode),s+=h=u?h.toUpperCase():h.toLowerCase())),l=e.attr("placeholder"),!s&&l&&(s=l),(c=function(e,n){if(!e)return 0;var i=t("<test>").css({position:"absolute",top:-99999,left:-99999,width:"auto",padding:0,whiteSpace:"pre"}).text(e).appendTo("body");!function(t,e,n){var i,o,s={};if(n)for(i=0,o=n.length;i<o;i++)s[n[i]]=t.css(n[i]);else s=t.css();e.css(s)}(n,i,["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"]);var o=i.width();return i.remove(),o}(s,e)+4)!==n&&(n=c,e.width(c),e.triggerHandler("resize")))};e.on("keydown keyup update blur",i),i()}(i),n.on({mousedown:function(){return y.onMouseDown.apply(y,arguments)},click:function(){return y.onClick.apply(y,arguments)}}),i.on({mousedown:function(t){t.stopPropagation()},keydown:function(){return y.onKeyDown.apply(y,arguments)},keyup:function(){return y.onKeyUp.apply(y,arguments)},keypress:function(){return y.onKeyPress.apply(y,arguments)},resize:function(){y.positionDropdown.apply(y,[])},blur:function(){return y.onBlur.apply(y,arguments)},focus:function(){return y.ignoreBlur=!1,y.onFocus.apply(y,arguments)},paste:function(){return y.onPaste.apply(y,arguments)}}),x.on("keydown"+w,function(t){y.isCmdDown=t[r?"metaKey":"ctrlKey"],y.isCtrlDown=t[r?"altKey":"ctrlKey"],y.isShiftDown=t.shiftKey}),x.on("keyup"+w,function(t){t.keyCode===l&&(y.isCtrlDown=!1),16===t.keyCode&&(y.isShiftDown=!1),t.keyCode===a&&(y.isCmdDown=!1)}),x.on("mousedown"+w,function(t){if(y.isFocused){if(t.target===y.$dropdown[0]||t.target.parentNode===y.$dropdown[0])return!1;y.$control.has(t.target).length||t.target===y.$control[0]||y.blur(t.target)}}),_.on(["scroll"+w,"resize"+w].join(" "),function(){y.isOpen&&y.positionDropdown.apply(y,arguments)}),_.on("mousemove"+w,function(){y.ignoreHover=!1}),this.revertSettings={$children:C.children().detach(),tabindex:C.attr("tabindex")},C.attr("tabindex",-1).hide().after(y.$wrapper),t.isArray(b.items)&&(y.setValue(b.items),delete b.items),c&&C.on("invalid"+w,function(t){t.preventDefault(),y.isInvalid=!0,y.refreshState()}),y.updateOriginalInput(),y.refreshItems(),y.refreshState(),y.updatePlaceholder(),y.isSetup=!0,C.is(":disabled")&&y.disable(),y.on("change",this.onChange),C.data("selectize",y),C.addClass("selectized"),y.trigger("initialize"),!0===b.preload&&y.onSearchChange("")},setupTemplates:function(){var e=this.settings.labelField,n=this.settings.optgroupLabelField;this.settings.render=t.extend({},{optgroup:function(t){return'<div class="optgroup">'+t.html+"</div>"},optgroup_header:function(t,e){return'<div class="optgroup-header">'+e(t[n])+"</div>"},option:function(t,n){return'<div class="option">'+n(t[e])+"</div>"},item:function(t,n){return'<div class="item">'+n(t[e])+"</div>"},option_create:function(t,e){return'<div class="create">Add <strong>'+e(t.input)+"</strong>&hellip;</div>"}},this.settings.render)},setupCallbacks:function(){var t,e,n={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(t in n)n.hasOwnProperty(t)&&(e=this.settings[n[t]])&&this.on(t,e)},onClick:function(t){this.isFocused||(this.focus(),t.preventDefault())},onMouseDown:function(e){var n=this,i=e.isDefaultPrevented();if(t(e.target),n.isFocused){if(e.target!==n.$control_input[0])return"single"===n.settings.mode?n.isOpen?n.close():n.open():i||n.setActiveItem(null),!1}else i||window.setTimeout(function(){n.focus()},0)},onChange:function(){this.$input.trigger("change")},onPaste:function(e){var n=this;n.isFull()||n.isInputHidden||n.isLocked?e.preventDefault():n.settings.splitOn&&setTimeout(function(){var e=n.$control_input.val();if(e.match(n.settings.splitOn))for(var i=t.trim(e).split(n.settings.splitOn),o=0,s=i.length;o<s;o++)n.createItem(i[o])},0)},onKeyPress:function(t){if(this.isLocked)return t&&t.preventDefault();var e=String.fromCharCode(t.keyCode||t.which);return this.settings.create&&"multi"===this.settings.mode&&e===this.settings.delimiter?(this.createItem(),t.preventDefault(),!1):void 0},onKeyDown:function(t){if(this.isLocked)9!==t.keyCode&&t.preventDefault();else{switch(t.keyCode){case 65:if(this.isCmdDown)return void this.selectAll();break;case 27:return void(this.isOpen&&(t.preventDefault(),t.stopPropagation(),this.close()));case 78:if(!t.ctrlKey||t.altKey)break;case 40:if(!this.isOpen&&this.hasOptions)this.open();else if(this.$activeOption){this.ignoreHover=!0;var e=this.getAdjacentOption(this.$activeOption,1);e.length&&this.setActiveOption(e,!0,!0)}return void t.preventDefault();case 80:if(!t.ctrlKey||t.altKey)break;case 38:if(this.$activeOption){this.ignoreHover=!0;var n=this.getAdjacentOption(this.$activeOption,-1);n.length&&this.setActiveOption(n,!0,!0)}return void t.preventDefault();case 13:return void(this.isOpen&&this.$activeOption&&(this.onOptionSelect({currentTarget:this.$activeOption}),t.preventDefault()));case 37:return void this.advanceSelection(-1,t);case 39:return void this.advanceSelection(1,t);case 9:return this.settings.selectOnTab&&this.isOpen&&this.$activeOption&&(this.onOptionSelect({currentTarget:this.$activeOption}),this.isFull()||t.preventDefault()),void(this.settings.create&&this.createItem()&&t.preventDefault());case 8:case 46:return void this.deleteSelection(t)}!this.isFull()&&!this.isInputHidden||(r?t.metaKey:t.ctrlKey)||t.preventDefault()}},onKeyUp:function(t){if(this.isLocked)return t&&t.preventDefault();var e=this.$control_input.val()||"";this.lastValue!==e&&(this.lastValue=e,this.onSearchChange(e),this.refreshOptions(),this.trigger("type",e))},onSearchChange:function(t){var e=this,n=e.settings.load;n&&(e.loadedSearches.hasOwnProperty(t)||(e.loadedSearches[t]=!0,e.load(function(i){n.apply(e,[t,i])})))},onFocus:function(t){var e=this.isFocused;if(this.isDisabled)return this.blur(),t&&t.preventDefault(),!1;this.ignoreFocus||(this.isFocused=!0,"focus"===this.settings.preload&&this.onSearchChange(""),e||this.trigger("focus"),this.$activeItems.length||(this.showInput(),this.setActiveItem(null),this.refreshOptions(!!this.settings.openOnFocus)),this.refreshState())},onBlur:function(t,e){var n=this;if(n.isFocused&&(n.isFocused=!1,!n.ignoreFocus)){if(!n.ignoreBlur&&document.activeElement===n.$dropdown_content[0])return n.ignoreBlur=!0,void n.onFocus(t);var i=function(){n.close(),n.setTextboxValue(""),n.setActiveItem(null),n.setActiveOption(null),n.setCaret(n.items.length),n.refreshState(),e&&e.focus&&e.focus(),n.ignoreFocus=!1,n.trigger("blur")};n.ignoreFocus=!0,n.settings.create&&n.settings.createOnBlur?n.createItem(null,!1,i):i()}},onOptionHover:function(t){this.ignoreHover||this.setActiveOption(t.currentTarget,!1)},onOptionSelect:function(e){var n,i,o=this;e.preventDefault&&(e.preventDefault(),e.stopPropagation()),(i=t(e.currentTarget)).hasClass("create")?o.createItem(null,function(){o.settings.closeAfterSelect&&o.close()}):"undefined"!=typeof(n=i.attr("data-value"))&&(o.lastQuery=null,o.setTextboxValue(""),o.addItem(n),o.settings.closeAfterSelect?o.close():!o.settings.hideSelected&&e.type&&/mouse/.test(e.type)&&o.setActiveOption(o.getOption(n)))},onItemSelect:function(t){this.isLocked||"multi"===this.settings.mode&&(t.preventDefault(),this.setActiveItem(t.currentTarget,t))},load:function(t){var e=this,n=e.$wrapper.addClass(e.settings.loadingClass);e.loading++,t.apply(e,[function(t){e.loading=Math.max(e.loading-1,0),t&&t.length&&(e.addOption(t),e.refreshOptions(e.isFocused&&!e.isInputHidden)),e.loading||n.removeClass(e.settings.loadingClass),e.trigger("load",t)}])},setTextboxValue:function(t){var e=this.$control_input;e.val()!==t&&(e.val(t).triggerHandler("update"),this.lastValue=t)},getValue:function(){return 1===this.tagType&&this.$input.attr("multiple")?this.items:this.items.join(this.settings.delimiter)},setValue:function(t,e){p(this,e?[]:["change"],function(){this.clear(e),this.addItems(t,e)})},setActiveItem:function(e,n){var i,o,s,r,a,l,c,u;if("single"!==this.settings.mode){if(!(e=t(e)).length)return t(this.$activeItems).removeClass("active"),this.$activeItems=[],void(this.isFocused&&this.showInput());if("mousedown"===(i=n&&n.type.toLowerCase())&&this.isShiftDown&&this.$activeItems.length){for(u=this.$control.children(".active:last"),(r=Array.prototype.indexOf.apply(this.$control[0].childNodes,[u[0]]))>(a=Array.prototype.indexOf.apply(this.$control[0].childNodes,[e[0]]))&&(c=r,r=a,a=c),o=r;o<=a;o++)-1===this.$activeItems.indexOf(l=this.$control[0].childNodes[o])&&(t(l).addClass("active"),this.$activeItems.push(l));n.preventDefault()}else"mousedown"===i&&this.isCtrlDown||"keydown"===i&&this.isShiftDown?e.hasClass("active")?(s=this.$activeItems.indexOf(e[0]),this.$activeItems.splice(s,1),e.removeClass("active")):this.$activeItems.push(e.addClass("active")[0]):(t(this.$activeItems).removeClass("active"),this.$activeItems=[e.addClass("active")[0]]);this.hideInput(),this.isFocused||this.focus()}},setActiveOption:function(e,n,i){var o,s,r,a,l;this.$activeOption&&this.$activeOption.removeClass("active"),this.$activeOption=null,(e=t(e)).length&&(this.$activeOption=e.addClass("active"),!n&&u(n)||(o=this.$dropdown_content.height(),s=this.$activeOption.outerHeight(!0),n=this.$dropdown_content.scrollTop()||0,a=r=this.$activeOption.offset().top-this.$dropdown_content.offset().top+n,l=r-o+s,r+s>o+n?this.$dropdown_content.stop().animate({scrollTop:l},i?this.settings.scrollDuration:0):r<n&&this.$dropdown_content.stop().animate({scrollTop:a},i?this.settings.scrollDuration:0)))},selectAll:function(){"single"!==this.settings.mode&&(this.$activeItems=Array.prototype.slice.apply(this.$control.children(":not(input)").addClass("active")),this.$activeItems.length&&(this.hideInput(),this.close()),this.focus())},hideInput:function(){this.setTextboxValue(""),this.$control_input.css({opacity:0,position:"absolute",left:this.rtl?1e4:-1e4}),this.isInputHidden=!0},showInput:function(){this.$control_input.css({opacity:1,position:"relative",left:0}),this.isInputHidden=!1},focus:function(){var t=this;t.isDisabled||(t.ignoreFocus=!0,t.$control_input[0].focus(),window.setTimeout(function(){t.ignoreFocus=!1,t.onFocus()},0))},blur:function(t){this.$control_input[0].blur(),this.onBlur(null,t)},getScoreFunction:function(t){return this.sifter.getScoreFunction(t,this.getSearchOptions())},getSearchOptions:function(){var t=this.settings,e=t.sortField;return"string"==typeof e&&(e=[{field:e}]),{fields:t.searchField,conjunction:t.searchConjunction,sort:e}},search:function(e){var n,i,o,s=this.settings,r=this.getSearchOptions();if(s.score&&"function"!=typeof(o=this.settings.score.apply(this,[e])))throw new Error('Selectize "score" setting must be a function that returns a function');if(e!==this.lastQuery?(this.lastQuery=e,i=this.sifter.search(e,t.extend(r,{score:o})),this.currentResults=i):i=t.extend(!0,{},this.currentResults),s.hideSelected)for(n=i.items.length-1;n>=0;n--)-1!==this.items.indexOf(h(i.items[n].id))&&i.items.splice(n,1);return i},refreshOptions:function(e){var n,o,s,r,a,l,c,u,d,f,p,g,m,v,y,b;"undefined"==typeof e&&(e=!0);var w,_,x=this,C=t.trim(x.$control_input.val()),k=x.search(C),S=x.$dropdown_content,T=x.$activeOption&&h(x.$activeOption.attr("data-value"));for(r=k.items.length,"number"==typeof x.settings.maxOptions&&(r=Math.min(r,x.settings.maxOptions)),a={},l=[],n=0;n<r;n++)for(u=x.render("option",c=x.options[k.items[n].id]),o=0,s=(f=t.isArray(d=c[x.settings.optgroupField]||"")?d:[d])&&f.length;o<s;o++)x.optgroups.hasOwnProperty(d=f[o])||(d=""),a.hasOwnProperty(d)||(a[d]=document.createDocumentFragment(),l.push(d)),a[d].appendChild(u);for(this.settings.lockOptgroupOrder&&l.sort(function(t,e){return(x.optgroups[t].$order||0)-(x.optgroups[e].$order||0)}),p=document.createDocumentFragment(),n=0,r=l.length;n<r;n++)x.optgroups.hasOwnProperty(d=l[n])&&a[d].childNodes.length?((g=document.createDocumentFragment()).appendChild(x.render("optgroup_header",x.optgroups[d])),g.appendChild(a[d]),p.appendChild(x.render("optgroup",t.extend({},x.optgroups[d],{html:(w=g,_=void 0,_=document.createElement("div"),_.appendChild(w.cloneNode(!0)),_.innerHTML),dom:g})))):p.appendChild(a[d]);if(S.html(p),x.settings.highlight&&k.query.length&&k.tokens.length)for(S.removeHighlight(),n=0,r=k.tokens.length;n<r;n++)i(S,k.tokens[n].regex);if(!x.settings.hideSelected)for(n=0,r=x.items.length;n<r;n++)x.getOption(x.items[n]).addClass("selected");(m=x.canCreate(C))&&(S.prepend(x.render("option_create",{input:C})),b=t(S[0].childNodes[0])),x.hasOptions=k.items.length>0||m,x.hasOptions?(k.items.length>0?((y=T&&x.getOption(T))&&y.length?v=y:"single"===x.settings.mode&&x.items.length&&(v=x.getOption(x.items[0])),v&&v.length||(v=b&&!x.settings.addPrecedence?x.getAdjacentOption(b,1):S.find("[data-selectable]:first"))):v=b,x.setActiveOption(v),e&&!x.isOpen&&x.open()):(x.setActiveOption(null),e&&x.isOpen&&x.close())},addOption:function(e){var n,i,o;if(t.isArray(e))for(n=0,i=e.length;n<i;n++)this.addOption(e[n]);else(o=this.registerOption(e))&&(this.userOptions[o]=!0,this.lastQuery=null,this.trigger("option_add",o,e))},registerOption:function(t){var e=h(t[this.settings.valueField]);return"undefined"!=typeof e&&null!==e&&!this.options.hasOwnProperty(e)&&(t.$order=t.$order||++this.order,this.options[e]=t,e)},registerOptionGroup:function(t){var e=h(t[this.settings.optgroupValueField]);return!!e&&(t.$order=t.$order||++this.order,this.optgroups[e]=t,e)},addOptionGroup:function(t,e){e[this.settings.optgroupValueField]=t,(t=this.registerOptionGroup(e))&&this.trigger("optgroup_add",t,e)},removeOptionGroup:function(t){this.optgroups.hasOwnProperty(t)&&(delete this.optgroups[t],this.renderCache={},this.trigger("optgroup_remove",t))},clearOptionGroups:function(){this.optgroups={},this.renderCache={},this.trigger("optgroup_clear")},updateOption:function(e,n){var i,o,s,r,a,l,c;if(e=h(e),s=h(n[this.settings.valueField]),null!==e&&this.options.hasOwnProperty(e)){if("string"!=typeof s)throw new Error("Value must be set in option data");c=this.options[e].$order,s!==e&&(delete this.options[e],-1!==(r=this.items.indexOf(e))&&this.items.splice(r,1,s)),n.$order=n.$order||c,this.options[s]=n,l=this.renderCache.option,(a=this.renderCache.item)&&(delete a[e],delete a[s]),l&&(delete l[e],delete l[s]),-1!==this.items.indexOf(s)&&(i=this.getItem(e),o=t(this.render("item",n)),i.hasClass("active")&&o.addClass("active"),i.replaceWith(o)),this.lastQuery=null,this.isOpen&&this.refreshOptions(!1)}},removeOption:function(t,e){t=h(t);var n=this.renderCache.item,i=this.renderCache.option;n&&delete n[t],i&&delete i[t],delete this.userOptions[t],delete this.options[t],this.lastQuery=null,this.trigger("option_remove",t),this.removeItem(t,e)},clearOptions:function(){this.loadedSearches={},this.userOptions={},this.renderCache={},this.options=this.sifter.items={},this.lastQuery=null,this.trigger("option_clear"),this.clear()},getOption:function(t){return this.getElementWithValue(t,this.$dropdown_content.find("[data-selectable]"))},getAdjacentOption:function(e,n){var i=this.$dropdown.find("[data-selectable]"),o=i.index(e)+n;return o>=0&&o<i.length?i.eq(o):t()},getElementWithValue:function(e,n){if("undefined"!=typeof(e=h(e))&&null!==e)for(var i=0,o=n.length;i<o;i++)if(n[i].getAttribute("data-value")===e)return t(n[i]);return t()},getItem:function(t){return this.getElementWithValue(t,this.$control.children())},addItems:function(e,n){for(var i=t.isArray(e)?e:[e],o=0,s=i.length;o<s;o++)this.isPending=o<s-1,this.addItem(i[o],n)},addItem:function(e,n){p(this,n?[]:["change"],function(){var i,o,s,r,a,l=this.settings.mode;e=h(e),-1===this.items.indexOf(e)?this.options.hasOwnProperty(e)&&("single"===l&&this.clear(n),"multi"===l&&this.isFull()||(i=t(this.render("item",this.options[e])),a=this.isFull(),this.items.splice(this.caretPos,0,e),this.insertAtCaret(i),(!this.isPending||!a&&this.isFull())&&this.refreshState(),this.isSetup&&(s=this.$dropdown_content.find("[data-selectable]"),this.isPending||(o=this.getOption(e),r=this.getAdjacentOption(o,1).attr("data-value"),this.refreshOptions(this.isFocused&&"single"!==l),r&&this.setActiveOption(this.getOption(r))),!s.length||this.isFull()?this.close():this.positionDropdown(),this.updatePlaceholder(),this.trigger("item_add",e,i),this.updateOriginalInput({silent:n})))):"single"===l&&this.close()})},removeItem:function(e,n){var i,o,s;i=e instanceof t?e:this.getItem(e),e=h(i.attr("data-value")),-1!==(o=this.items.indexOf(e))&&(i.remove(),i.hasClass("active")&&(s=this.$activeItems.indexOf(i[0]),this.$activeItems.splice(s,1)),this.items.splice(o,1),this.lastQuery=null,!this.settings.persist&&this.userOptions.hasOwnProperty(e)&&this.removeOption(e,n),o<this.caretPos&&this.setCaret(this.caretPos-1),this.refreshState(),this.updatePlaceholder(),this.updateOriginalInput({silent:n}),this.positionDropdown(),this.trigger("item_remove",e,i))},createItem:function(e,n){var i=this,o=i.caretPos;e=e||t.trim(i.$control_input.val()||"");var s=arguments[arguments.length-1];if("function"!=typeof s&&(s=function(){}),"boolean"!=typeof n&&(n=!0),!i.canCreate(e))return s(),!1;i.lock();var r,a,l=(r=function(t){if(i.unlock(),!t||"object"!=typeof t)return s();var e=h(t[i.settings.valueField]);if("string"!=typeof e)return s();i.setTextboxValue(""),i.addOption(t),i.setCaret(o),i.addItem(e),i.refreshOptions(n&&"single"!==i.settings.mode),s(t)},a=!1,function(){a||(a=!0,r.apply(this,arguments))}),c=("function"==typeof i.settings.create?this.settings.create:function(t){var e={};return e[i.settings.labelField]=t,e[i.settings.valueField]=t,e}).apply(this,[e,l]);return"undefined"!=typeof c&&l(c),!0},refreshItems:function(){this.lastQuery=null,this.isSetup&&this.addItem(this.items),this.refreshState(),this.updateOriginalInput()},refreshState:function(){this.refreshValidityState(),this.refreshClasses()},refreshValidityState:function(){if(!this.isRequired)return!1;var t=!this.items.length;this.isInvalid=t,this.$control_input.prop("required",t),this.$input.prop("required",!t)},refreshClasses:function(){var e=this.isFull(),n=this.isLocked;this.$wrapper.toggleClass("rtl",this.rtl),this.$control.toggleClass("focus",this.isFocused).toggleClass("disabled",this.isDisabled).toggleClass("required",this.isRequired).toggleClass("invalid",this.isInvalid).toggleClass("locked",n).toggleClass("full",e).toggleClass("not-full",!e).toggleClass("input-active",this.isFocused&&!this.isInputHidden).toggleClass("dropdown-active",this.isOpen).toggleClass("has-options",!t.isEmptyObject(this.options)).toggleClass("has-items",this.items.length>0),this.$control_input.data("grow",!e&&!n)},isFull:function(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems},updateOriginalInput:function(t){var e,n,i,o;if(t=t||{},1===this.tagType){for(i=[],e=0,n=this.items.length;e<n;e++)o=this.options[this.items[e]][this.settings.labelField]||"",i.push('<option value="'+d(this.items[e])+'" selected="selected">'+d(o)+"</option>");i.length||this.$input.attr("multiple")||i.push('<option value="" selected="selected"></option>'),this.$input.html(i.join(""))}else this.$input.val(this.getValue()),this.$input.attr("value",this.$input.val());this.isSetup&&(t.silent||this.trigger("change",this.$input.val()))},updatePlaceholder:function(){if(this.settings.placeholder){var t=this.$control_input;this.items.length?t.removeAttr("placeholder"):t.attr("placeholder",this.settings.placeholder),t.triggerHandler("update",{force:!0})}},open:function(){this.isLocked||this.isOpen||"multi"===this.settings.mode&&this.isFull()||(this.focus(),this.isOpen=!0,this.refreshState(),this.$dropdown.css({visibility:"hidden",display:"block"}),this.positionDropdown(),this.$dropdown.css({visibility:"visible"}),this.trigger("dropdown_open",this.$dropdown))},close:function(){var t=this.isOpen;"single"===this.settings.mode&&this.items.length&&(this.hideInput(),this.$control_input.blur()),this.isOpen=!1,this.$dropdown.hide(),this.setActiveOption(null),this.refreshState(),t&&this.trigger("dropdown_close",this.$dropdown)},positionDropdown:function(){var t=this.$control,e="body"===this.settings.dropdownParent?t.offset():t.position();e.top+=t.outerHeight(!0),this.$dropdown.css({width:t.outerWidth(),top:e.top,left:e.left})},clear:function(t){this.items.length&&(this.$control.children(":not(input)").remove(),this.items=[],this.lastQuery=null,this.setCaret(0),this.setActiveItem(null),this.updatePlaceholder(),this.updateOriginalInput({silent:t}),this.refreshState(),this.showInput(),this.trigger("clear"))},insertAtCaret:function(e){var n=Math.min(this.caretPos,this.items.length);0===n?this.$control.prepend(e):t(this.$control[0].childNodes[n]).before(e),this.setCaret(n+1)},deleteSelection:function(e){var n,i,o,s,r,a,l,c,u;if(o=e&&8===e.keyCode?-1:1,s=g(this.$control_input[0]),this.$activeOption&&!this.settings.hideSelected&&(l=this.getAdjacentOption(this.$activeOption,-1).attr("data-value")),r=[],this.$activeItems.length){for(u=this.$control.children(".active:"+(o>0?"last":"first")),a=this.$control.children(":not(input)").index(u),o>0&&a++,n=0,i=this.$activeItems.length;n<i;n++)r.push(t(this.$activeItems[n]).attr("data-value"));e&&(e.preventDefault(),e.stopPropagation())}else(this.isFocused||"single"===this.settings.mode)&&this.items.length&&(o<0&&0===s.start&&0===s.length?r.push(this.items[this.caretPos-1]):o>0&&s.start===this.$control_input.val().length&&r.push(this.items[this.caretPos]));if(!r.length||"function"==typeof this.settings.onDelete&&!1===this.settings.onDelete.apply(this,[r]))return!1;for("undefined"!=typeof a&&this.setCaret(a);r.length;)this.removeItem(r.pop());return this.showInput(),this.positionDropdown(),this.refreshOptions(!0),l&&(c=this.getOption(l)).length&&this.setActiveOption(c),!0},advanceSelection:function(t,e){var n,i,o,s,r;0!==t&&(this.rtl&&(t*=-1),n=t>0?"last":"first",i=g(this.$control_input[0]),this.isFocused&&!this.isInputHidden?(s=this.$control_input.val().length,(t<0?0===i.start&&0===i.length:i.start===s)&&!s&&this.advanceCaret(t,e)):(r=this.$control.children(".active:"+n)).length&&(o=this.$control.children(":not(input)").index(r),this.setActiveItem(null),this.setCaret(t>0?o+1:o)))},advanceCaret:function(t,e){var n;0!==t&&(this.isShiftDown?(n=this.$control_input[t>0?"next":"prev"]()).length&&(this.hideInput(),this.setActiveItem(n),e&&e.preventDefault()):this.setCaret(this.caretPos+t))},setCaret:function(e){var n,i,o,s;if(e="single"===this.settings.mode?this.items.length:Math.max(0,Math.min(this.items.length,e)),!this.isPending)for(n=0,i=(o=this.$control.children(":not(input)")).length;n<i;n++)s=t(o[n]).detach(),n<e?this.$control_input.before(s):this.$control.append(s);this.caretPos=e},lock:function(){this.close(),this.isLocked=!0,this.refreshState()},unlock:function(){this.isLocked=!1,this.refreshState()},disable:function(){this.$input.prop("disabled",!0),this.$control_input.prop("disabled",!0).prop("tabindex",-1),this.isDisabled=!0,this.lock()},enable:function(){this.$input.prop("disabled",!1),this.$control_input.prop("disabled",!1).prop("tabindex",this.tabIndex),this.isDisabled=!1,this.unlock()},destroy:function(){var e=this.eventNS,n=this.revertSettings;this.trigger("destroy"),this.off(),this.$wrapper.remove(),this.$dropdown.remove(),this.$input.html("").append(n.$children).removeAttr("tabindex").removeClass("selectized").attr({tabindex:n.tabindex}).show(),this.$control_input.removeData("grow"),this.$input.removeData("selectize"),t(window).off(e),t(document).off(e),t(document.body).off(e),delete this.$input[0].selectize},render:function(e,n){var i,o="",s=!1;return"option"!==e&&"item"!==e||(s=!!(i=h(n[this.settings.valueField]))),s&&(u(this.renderCache[e])||(this.renderCache[e]={}),this.renderCache[e].hasOwnProperty(i))?this.renderCache[e][i]:(o=t(this.settings.render[e].apply(this,[n,d])),"option"===e||"option_create"===e?o.attr("data-selectable",""):"optgroup"===e&&o.attr("data-group",n[this.settings.optgroupValueField]||""),"option"!==e&&"item"!==e||o.attr("data-value",i||""),s&&(this.renderCache[e][i]=o[0]),o[0])},clearCache:function(t){"undefined"==typeof t?this.renderCache={}:delete this.renderCache[t]},canCreate:function(t){if(!this.settings.create)return!1;var e=this.settings.createFilter;return t.length&&("function"!=typeof e||e.apply(this,[t]))&&("string"!=typeof e||new RegExp(e).test(t))&&(!(e instanceof RegExp)||e.test(t))}}),m.count=0,m.defaults={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:!1,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,maxOptions:1e3,maxItems:null,hideSelected:null,addPrecedence:!1,selectOnTab:!1,preload:!1,allowEmptyOption:!1,closeAfterSelect:!1,scrollDuration:60,loadThrottle:300,loadingClass:"loading",dataAttr:"data-data",optgroupField:"optgroup",valueField:"value",labelField:"text",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"selectize-control",inputClass:"selectize-input",dropdownClass:"selectize-dropdown",dropdownContentClass:"selectize-dropdown-content",dropdownParent:null,copyClassesToDropdown:!0,render:{}},t.fn.selectize=function(e){var n=t.fn.selectize.defaults,i=t.extend({},n,e),o=i.dataAttr,s=i.labelField,r=i.valueField,a=i.optgroupField,l=i.optgroupLabelField,c=i.optgroupValueField;return this.each(function(){if(!this.selectize){var u=t(this),d=this.tagName.toLowerCase(),f=u.attr("placeholder")||u.attr("data-placeholder");f||i.allowEmptyOption||(f=u.children('option[value=""]').text());var p={placeholder:f,options:[],optgroups:[],items:[]};"select"===d?function(e,n){var u,d,f,p,g=n.options,m={},v=function(t){var e=o&&t.attr(o);return"string"==typeof e&&e.length?JSON.parse(e):null},y=function(e,o){e=t(e);var l=h(e.val());if(l||i.allowEmptyOption)if(m.hasOwnProperty(l)){if(o){var c=m[l][a];c?t.isArray(c)?c.push(o):m[l][a]=[c,o]:m[l][a]=o}}else{var u=v(e)||{};u[s]=u[s]||e.text(),u[r]=u[r]||l,u[a]=u[a]||o,m[l]=u,g.push(u),e.is(":selected")&&n.items.push(l)}},b=function(e){var i,o,s,r,a;for((s=(e=t(e)).attr("label"))&&((r=v(e)||{})[l]=s,r[c]=s,n.optgroups.push(r)),i=0,o=(a=t("option",e)).length;i<o;i++)y(a[i],s)};for(n.maxItems=e.attr("multiple")?null:1,u=0,d=(p=e.children()).length;u<d;u++)"optgroup"===(f=p[u].tagName.toLowerCase())?b(p[u]):"option"===f&&y(p[u])}(u,p):function(e,n){var a,l,c,u,h=e.attr(o);if(h)for(n.options=JSON.parse(h),a=0,l=n.options.length;a<l;a++)n.items.push(n.options[a][r]);else{var d=t.trim(e.val()||"");if(!i.allowEmptyOption&&!d.length)return;for(a=0,l=(c=d.split(i.delimiter)).length;a<l;a++)(u={})[s]=c[a],u[r]=c[a],n.options.push(u);n.items=c}}(u,p),new m(u,t.extend(!0,{},n,p,e))}})},t.fn.selectize.defaults=m.defaults,t.fn.selectize.support={validity:c},m.define("drag_drop",function(e){if(!t.fn.sortable)throw new Error('The "drag_drop" plugin requires jQuery UI "sortable".');if("multi"===this.settings.mode){var n,i=this;i.lock=(n=i.lock,function(){var t=i.$control.data("sortable");return t&&t.disable(),n.apply(i,arguments)}),i.unlock=function(){var t=i.unlock;return function(){var e=i.$control.data("sortable");return e&&e.enable(),t.apply(i,arguments)}}(),i.setup=function(){var e=i.setup;return function(){e.apply(this,arguments);var n=i.$control.sortable({items:"[data-value]",forcePlaceholderSize:!0,disabled:i.isLocked,start:function(t,e){e.placeholder.css("width",e.helper.css("width")),n.css({overflow:"visible"})},stop:function(){n.css({overflow:"hidden"});var e=i.$activeItems?i.$activeItems.slice():null,o=[];n.children("[data-value]").each(function(){o.push(t(this).attr("data-value"))}),i.setValue(o),i.setActiveItem(e)}})}}()}}),m.define("dropdown_header",function(e){var n,i=this;e=t.extend({title:"Untitled",headerClass:"selectize-dropdown-header",titleRowClass:"selectize-dropdown-header-title",labelClass:"selectize-dropdown-header-label",closeClass:"selectize-dropdown-header-close",html:function(t){return'<div class="'+t.headerClass+'"><div class="'+t.titleRowClass+'"><span class="'+t.labelClass+'">'+t.title+'</span><a href="javascript:void(0)" class="'+t.closeClass+'">&times;</a></div></div>'}},e),i.setup=(n=i.setup,function(){n.apply(i,arguments),i.$dropdown_header=t(e.html(e)),i.$dropdown.prepend(i.$dropdown_header)})}),m.define("optgroup_columns",function(e){var n,i=this;e=t.extend({equalizeWidth:!0,equalizeHeight:!0},e),this.getAdjacentOption=function(e,n){var i=e.closest("[data-group]").find("[data-selectable]"),o=i.index(e)+n;return o>=0&&o<i.length?i.eq(o):t()},this.onKeyDown=(n=i.onKeyDown,function(t){var e,o,s,r;return!this.isOpen||37!==t.keyCode&&39!==t.keyCode?n.apply(this,arguments):(i.ignoreHover=!0,e=(r=this.$activeOption.closest("[data-group]")).find("[data-selectable]").index(this.$activeOption),void((o=(s=(r=37===t.keyCode?r.prev("[data-group]"):r.next("[data-group]")).find("[data-selectable]")).eq(Math.min(s.length-1,e))).length&&this.setActiveOption(o)))});var o=function(){var t,e=o.width,n=document;return"undefined"==typeof e&&((t=n.createElement("div")).innerHTML='<div style="width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;"><div style="width:1px;height:100px;"></div></div>',n.body.appendChild(t=t.firstChild),e=o.width=t.offsetWidth-t.clientWidth,n.body.removeChild(t)),e},s=function(){var n,s,r,a,l,c,u;if((s=(u=t("[data-group]",i.$dropdown_content)).length)&&i.$dropdown_content.width()){if(e.equalizeHeight){for(r=0,n=0;n<s;n++)r=Math.max(r,u.eq(n).height());u.css({height:r})}e.equalizeWidth&&(c=i.$dropdown_content.innerWidth()-o(),a=Math.round(c/s),u.css({width:a}),s>1&&(l=c-a*(s-1),u.eq(s-1).css({width:l})))}};(e.equalizeHeight||e.equalizeWidth)&&(f(this,"positionDropdown",s),f(this,"refreshOptions",s))}),m.define("remove_button",function(e){e=t.extend({label:"&times;",title:"Remove",className:"remove",append:!0},e),"single"!==this.settings.mode?function(e,n){var i,o=e,s='<a href="javascript:void(0)" class="'+n.className+'" tabindex="-1" title="'+d(n.title)+'">'+n.label+"</a>";e.setup=(i=o.setup,function(){if(n.append){var r=o.settings.render.item;o.settings.render.item=function(t){return n=r.apply(e,arguments),i=s,o=n.search(/(<\/[^>]+>\s*)$/),n.substring(0,o)+i+n.substring(o);var n,i,o}}i.apply(e,arguments),e.$control.on("click","."+n.className,function(e){if(e.preventDefault(),!o.isLocked){var n=t(e.currentTarget).parent();o.setActiveItem(n),o.deleteSelection()&&o.setCaret(o.items.length)}})})}(this,e):function(e,n){n.className="remove-single";var i,o=e,s='<a href="javascript:void(0)" class="'+n.className+'" tabindex="-1" title="'+d(n.title)+'">'+n.label+"</a>";e.setup=(i=o.setup,function(){if(n.append){var r=t(o.$input.context).attr("id"),a=(t("#"+r),o.settings.render.item);o.settings.render.item=function(t){return a.apply(e,arguments)+s}}i.apply(e,arguments),e.$control.on("click","."+n.className,function(t){t.preventDefault(),o.isLocked||o.clear()})})}(this,e)}),m.define("restore_on_backspace",function(t){var e;t.text=t.text||function(t){return t[this.settings.labelField]},this.onKeyDown=(e=this.onKeyDown,function(n){var i,o;return 8===n.keyCode&&""===this.$control_input.val()&&!this.$activeItems.length&&(i=this.caretPos-1)>=0&&i<this.items.length?(o=this.options[this.items[i]],this.deleteSelection(n)&&(this.setTextboxValue(t.text.apply(this,[o])),this.refreshOptions(!0)),void n.preventDefault()):e.apply(this,arguments)})}),m}),function(t,e){"function"==typeof define&&define.amd?define("sifter",e):"object"==typeof exports?module.exports=e():t.Sifter=e()}(this,function(){var t=function(t,e){this.items=t,this.settings=e||{diacritics:!0}};t.prototype.tokenize=function(t){if(!(t=o(String(t||"").toLowerCase()))||!t.length)return[];var e,n,i,r,l=[],c=t.split(/ +/);for(e=0,n=c.length;e<n;e++){if(i=s(c[e]),this.settings.diacritics)for(r in a)a.hasOwnProperty(r)&&(i=i.replace(new RegExp(r,"g"),a[r]));l.push({string:c[e],regex:new RegExp(i,"i")})}return l},t.prototype.iterator=function(t,e){(r(t)?Array.prototype.forEach||function(t){for(var e=0,n=this.length;e<n;e++)t(this[e],e,this)}:function(t){for(var e in this)this.hasOwnProperty(e)&&t(this[e],e,this)}).apply(t,[e])},t.prototype.getScoreFunction=function(t,e){var n,o,s,r;t=this.prepareSearch(t,e),s=(o=t.tokens).length,r=t.options.nesting;var a,l=function(t,e){var n,i;return t?-1===(i=(t=String(t||"")).search(e.regex))?0:(n=e.string.length/t.length,0===i&&(n+=.5),n):0},c=(a=(n=t.options.fields).length)?1===a?function(t,e){return l(i(e,n[0],r),t)}:function(t,e){for(var o=0,s=0;o<a;o++)s+=l(i(e,n[o],r),t);return s/a}:function(){return 0};return s?1===s?function(t){return c(o[0],t)}:"and"===t.options.conjunction?function(t){for(var e,n=0,i=0;n<s;n++){if((e=c(o[n],t))<=0)return 0;i+=e}return i/s}:function(t){for(var e=0,n=0;e<s;e++)n+=c(o[e],t);return n/s}:function(){return 0}},t.prototype.getSortFunction=function(t,n){var o,s,r,a,l,c,u,h,d,f,p;if(t=(r=this).prepareSearch(t,n),d=function(t,e){return"$score"===t?e.score:i(r.items[e.id],t,n.nesting)},l=[],p=!t.query&&n.sort_empty||n.sort)for(o=0,s=p.length;o<s;o++)(t.query||"$score"!==p[o].field)&&l.push(p[o]);if(t.query){for(f=!0,o=0,s=l.length;o<s;o++)if("$score"===l[o].field){f=!1;break}f&&l.unshift({field:"$score",direction:"desc"})}else for(o=0,s=l.length;o<s;o++)if("$score"===l[o].field){l.splice(o,1);break}for(h=[],o=0,s=l.length;o<s;o++)h.push("desc"===l[o].direction?-1:1);return(c=l.length)?1===c?(a=l[0].field,u=h[0],function(t,n){return u*e(d(a,t),d(a,n))}):function(t,n){var i,o,s;for(i=0;i<c;i++)if(o=h[i]*e(d(s=l[i].field,t),d(s,n)))return o;return 0}:null},t.prototype.prepareSearch=function(t,e){if("object"==typeof t)return t;var i=(e=n({},e)).fields,o=e.sort,s=e.sort_empty;return i&&!r(i)&&(e.fields=[i]),o&&!r(o)&&(e.sort=[o]),s&&!r(s)&&(e.sort_empty=[s]),{options:e,query:String(t||"").toLowerCase(),tokens:this.tokenize(t),total:0,items:[]}},t.prototype.search=function(t,e){var n,i,o,s;return t=(i=this.prepareSearch(t,e)).query,s=(e=i.options).score||this.getScoreFunction(i),this.iterator(this.items,t.length?function(t,o){n=s(t),(!1===e.filter||n>0)&&i.items.push({score:n,id:o})}:function(t,e){i.items.push({score:1,id:e})}),(o=this.getSortFunction(i,e))&&i.items.sort(o),i.total=i.items.length,"number"==typeof e.limit&&(i.items=i.items.slice(0,e.limit)),i};var e=function(t,e){return"number"==typeof t&&"number"==typeof e?t>e?1:t<e?-1:0:(t=l(String(t||"")))>(e=l(String(e||"")))?1:e>t?-1:0},n=function(t,e){var n,i,o,s;for(n=1,i=arguments.length;n<i;n++)if(s=arguments[n])for(o in s)s.hasOwnProperty(o)&&(t[o]=s[o]);return t},i=function(t,e,n){if(t&&e){if(!n)return t[e];for(var i=e.split(".");i.length&&(t=t[i.shift()]););return t}},o=function(t){return(t+"").replace(/^\s+|\s+$|/g,"")},s=function(t){return(t+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},r=Array.isArray||"undefined"!=typeof $&&$.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},a={a:"[a\u1e00\u1e01\u0102\u0103\xc2\xe2\u01cd\u01ce\u023a\u2c65\u0226\u0227\u1ea0\u1ea1\xc4\xe4\xc0\xe0\xc1\xe1\u0100\u0101\xc3\xe3\xc5\xe5\u0105\u0104\xc3\u0105\u0104]",b:"[b\u2422\u03b2\u0392B\u0e3f\ud800\udf01\u16d2]",c:"[c\u0106\u0107\u0108\u0109\u010c\u010d\u010a\u010bC\u0304c\u0304\xc7\xe7\u1e08\u1e09\u023b\u023c\u0187\u0188\u0255\u1d04\uff23\uff43]",d:"[d\u010e\u010f\u1e0a\u1e0b\u1e10\u1e11\u1e0c\u1e0d\u1e12\u1e13\u1e0e\u1e0f\u0110\u0111D\u0326d\u0326\u0189\u0256\u018a\u0257\u018b\u018c\u1d6d\u1d81\u1d91\u0221\u1d05\uff24\uff44\xf0]",e:"[e\xc9\xe9\xc8\xe8\xca\xea\u1e18\u1e19\u011a\u011b\u0114\u0115\u1ebc\u1ebd\u1e1a\u1e1b\u1eba\u1ebb\u0116\u0117\xcb\xeb\u0112\u0113\u0228\u0229\u0118\u0119\u1d92\u0246\u0247\u0204\u0205\u1ebe\u1ebf\u1ec0\u1ec1\u1ec4\u1ec5\u1ec2\u1ec3\u1e1c\u1e1d\u1e16\u1e17\u1e14\u1e15\u0206\u0207\u1eb8\u1eb9\u1ec6\u1ec7\u2c78\u1d07\uff25\uff45\u0258\u01dd\u018f\u0190\u03b5]",f:"[f\u0191\u0192\u1e1e\u1e1f]",g:"[g\u0262\u20b2\u01e4\u01e5\u011c\u011d\u011e\u011f\u0122\u0123\u0193\u0260\u0120\u0121]",h:"[h\u0124\u0125\u0126\u0127\u1e28\u1e29\u1e96\u1e96\u1e24\u1e25\u1e22\u1e23\u0266\u02b0\u01f6\u0195]",i:"[i\xcd\xed\xcc\xec\u012c\u012d\xce\xee\u01cf\u01d0\xcf\xef\u1e2e\u1e2f\u0128\u0129\u012e\u012f\u012a\u012b\u1ec8\u1ec9\u0208\u0209\u020a\u020b\u1eca\u1ecb\u1e2c\u1e2d\u0197\u0268\u0268\u0306\u1d7b\u1d96\u0130iI\u0131\u026a\uff29\uff49]",j:"[j\u0237\u0134\u0135\u0248\u0249\u029d\u025f\u02b2]",k:"[k\u0198\u0199\ua740\ua741\u1e30\u1e31\u01e8\u01e9\u1e32\u1e33\u1e34\u1e35\u03ba\u03f0\u20ad]",l:"[l\u0141\u0142\u013d\u013e\u013b\u013c\u0139\u013a\u1e36\u1e37\u1e38\u1e39\u1e3c\u1e3d\u1e3a\u1e3b\u013f\u0140\u023d\u019a\u2c60\u2c61\u2c62\u026b\u026c\u1d85\u026d\u0234\u029f\uff2c\uff4c]",n:"[n\u0143\u0144\u01f8\u01f9\u0147\u0148\xd1\xf1\u1e44\u1e45\u0145\u0146\u1e46\u1e47\u1e4a\u1e4b\u1e48\u1e49N\u0308n\u0308\u019d\u0272\u0220\u019e\u1d70\u1d87\u0273\u0235\u0274\uff2e\uff4e\u014a\u014b]",o:"[o\xd8\xf8\xd6\xf6\xd3\xf3\xd2\xf2\xd4\xf4\u01d1\u01d2\u0150\u0151\u014e\u014f\u022e\u022f\u1ecc\u1ecd\u019f\u0275\u01a0\u01a1\u1ece\u1ecf\u014c\u014d\xd5\xf5\u01ea\u01eb\u020c\u020d\u0555\u0585]",p:"[p\u1e54\u1e55\u1e56\u1e57\u2c63\u1d7d\u01a4\u01a5\u1d71]",q:"[q\ua756\ua757\u02a0\u024a\u024b\ua758\ua759q\u0303]",r:"[r\u0154\u0155\u024c\u024d\u0158\u0159\u0156\u0157\u1e58\u1e59\u0210\u0211\u0212\u0213\u1e5a\u1e5b\u2c64\u027d]",s:"[s\u015a\u015b\u1e60\u1e61\u1e62\u1e63\ua7a8\ua7a9\u015c\u015d\u0160\u0161\u015e\u015f\u0218\u0219S\u0308s\u0308]",t:"[t\u0164\u0165\u1e6a\u1e6b\u0162\u0163\u1e6c\u1e6d\u01ae\u0288\u021a\u021b\u1e70\u1e71\u1e6e\u1e6f\u01ac\u01ad]",u:"[u\u016c\u016d\u0244\u0289\u1ee4\u1ee5\xdc\xfc\xda\xfa\xd9\xf9\xdb\xfb\u01d3\u01d4\u0170\u0171\u016c\u016d\u01af\u01b0\u1ee6\u1ee7\u016a\u016b\u0168\u0169\u0172\u0173\u0214\u0215\u222a]",v:"[v\u1e7c\u1e7d\u1e7e\u1e7f\u01b2\u028b\ua75e\ua75f\u2c71\u028b]",w:"[w\u1e82\u1e83\u1e80\u1e81\u0174\u0175\u1e84\u1e85\u1e86\u1e87\u1e88\u1e89]",x:"[x\u1e8c\u1e8d\u1e8a\u1e8b\u03c7]",y:"[y\xdd\xfd\u1ef2\u1ef3\u0176\u0177\u0178\xff\u1ef8\u1ef9\u1e8e\u1e8f\u1ef4\u1ef5\u024e\u024f\u01b3\u01b4]",z:"[z\u0179\u017a\u1e90\u1e91\u017d\u017e\u017b\u017c\u1e92\u1e93\u1e94\u1e95\u01b5\u01b6]"},l=function(){var t,e,n,i,o="",s={};for(n in a)if(a.hasOwnProperty(n))for(o+=i=a[n].substring(2,a[n].length-1),t=0,e=i.length;t<e;t++)s[i.charAt(t)]=n;var r=new RegExp("["+o+"]","g");return function(t){return t.replace(r,function(t){return s[t]}).toLowerCase()}}();return t}),function(t,e){"function"==typeof define&&define.amd?define("microplugin",e):"object"==typeof exports?module.exports=e():t.MicroPlugin=e()}(this,function(){var t={mixin:function(t){t.plugins={},t.prototype.initializePlugins=function(t){var n,i,o,s=[];if(this.plugins={names:[],settings:{},requested:{},loaded:{}},e.isArray(t))for(n=0,i=t.length;n<i;n++)"string"==typeof t[n]?s.push(t[n]):(this.plugins.settings[t[n].name]=t[n].options,s.push(t[n].name));else if(t)for(o in t)t.hasOwnProperty(o)&&(this.plugins.settings[o]=t[o],s.push(o));for(;s.length;)this.require(s.shift())},t.prototype.loadPlugin=function(e){var n=this.plugins,i=t.plugins[e];if(!t.plugins.hasOwnProperty(e))throw new Error('Unable to find "'+e+'" plugin');n.requested[e]=!0,n.loaded[e]=i.fn.apply(this,[this.plugins.settings[e]||{}]),n.names.push(e)},t.prototype.require=function(t){var e=this.plugins;if(!this.plugins.loaded.hasOwnProperty(t)){if(e.requested[t])throw new Error('Plugin has circular dependency ("'+t+'")');this.loadPlugin(t)}return e.loaded[t]},t.define=function(e,n){t.plugins[e]={name:e,fn:n}}}},e={isArray:Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}};return t}),function(t,e){"function"==typeof define&&define.amd?define("selectize",["jquery","sifter","microplugin"],e):"object"==typeof exports?module.exports=e(require("jquery"),require("sifter"),require("microplugin")):t.Selectize=e(t.jQuery,t.Sifter,t.MicroPlugin)}(this,function(t,e,n){"use strict";var i=function(t,e){if("string"!=typeof e||e.length){var n="string"==typeof e?new RegExp(e,"i"):e,i=function(t){var e=0;if(3===t.nodeType){var o=t.data.search(n);if(o>=0&&t.data.length>0){var s=t.data.match(n),r=document.createElement("span");r.className="highlight";var a=t.splitText(o),l=(a.splitText(s[0].length),a.cloneNode(!0));r.appendChild(l),a.parentNode.replaceChild(r,a),e=1}}else if(1===t.nodeType&&t.childNodes&&!/(script|style)/i.test(t.tagName))for(var c=0;c<t.childNodes.length;++c)c+=i(t.childNodes[c]);return e};return t.each(function(){i(this)})}};t.fn.removeHighlight=function(){return this.find("span.highlight").each(function(){var t=this.parentNode;t.replaceChild(this.firstChild,this),t.normalize()}).end()};var o=function(){};o.prototype={on:function(t,e){this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(e)},off:function(t,e){var n=arguments.length;return 0===n?delete this._events:1===n?delete this._events[t]:(this._events=this._events||{},void(t in this._events!=0&&this._events[t].splice(this._events[t].indexOf(e),1)))},trigger:function(t){if(this._events=this._events||{},t in this._events!=0)for(var e=0;e<this._events[t].length;e++)this._events[t][e].apply(this,Array.prototype.slice.call(arguments,1))}},o.mixin=function(t){for(var e=["on","off","trigger"],n=0;n<e.length;n++)t.prototype[e[n]]=o.prototype[e[n]]};var s,r=/Mac/.test(navigator.userAgent),a=r?91:17,l=r?18:17,c=!/android/i.test(window.navigator.userAgent)&&!!document.createElement("input").validity,u=function(t){return"undefined"!=typeof t},h=function(t){return"undefined"==typeof t||null===t?null:"boolean"==typeof t?t?"1":"0":t+""},d=function(t){return(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},f=function(t,e,n){var i=t[e];t[e]=function(){var e=i.apply(t,arguments);return n.apply(t,arguments),e}},p=function(t,e,n){var i,o=t.trigger,s={};for(i in t.trigger=function(){var n=arguments[0];if(-1===e.indexOf(n))return o.apply(t,arguments);s[n]=arguments},n.apply(t,[]),t.trigger=o,s)s.hasOwnProperty(i)&&o.apply(t,s[i])},g=function(t){var e={};if("selectionStart"in t)e.start=t.selectionStart,e.length=t.selectionEnd-e.start;else if(document.selection){t.focus();var n=document.selection.createRange(),i=document.selection.createRange().text.length;n.moveStart("character",-t.value.length),e.start=n.text.length-i,e.length=i}return e},m=function(n,i){var o,s,r,a;(a=n[0]).selectize=this;var l,c,u,h=window.getComputedStyle&&window.getComputedStyle(a,null);if(r=(r=h?h.getPropertyValue("direction"):a.currentStyle&&a.currentStyle.direction)||n.parents("[dir]:first").attr("dir")||"",t.extend(this,{order:0,settings:i,$input:n,tabIndex:n.attr("tabindex")||"",tagType:"select"===a.tagName.toLowerCase()?1:2,rtl:/rtl/i.test(r),eventNS:".selectize"+ ++m.count,highlightedValue:null,isOpen:!1,isDisabled:!1,isRequired:n.is("[required]"),isInvalid:!1,isLocked:!1,isFocused:!1,isInputHidden:!1,isSetup:!1,isShiftDown:!1,isCmdDown:!1,isCtrlDown:!1,ignoreFocus:!1,ignoreBlur:!1,ignoreHover:!1,hasOptions:!1,currentResults:null,lastValue:"",caretPos:0,loading:0,loadedSearches:{},$activeOption:null,$activeItems:[],optgroups:{},options:{},userOptions:{},items:[],renderCache:{},onSearchChange:null===i.loadThrottle?this.onSearchChange:(l=this.onSearchChange,c=i.loadThrottle,function(){var t=this,e=arguments;window.clearTimeout(u),u=window.setTimeout(function(){l.apply(t,e)},c)}),dropdownDirection:"down"}),this.sifter=new e(this.options,{diacritics:i.diacritics}),this.settings.options){for(o=0,s=this.settings.options.length;o<s;o++)this.registerOption(this.settings.options[o]);delete this.settings.options}if(this.settings.optgroups){for(o=0,s=this.settings.optgroups.length;o<s;o++)this.registerOptionGroup(this.settings.optgroups[o]);delete this.settings.optgroups}this.settings.mode=this.settings.mode||(1===this.settings.maxItems?"single":"multi"),"boolean"!=typeof this.settings.hideSelected&&(this.settings.hideSelected="multi"===this.settings.mode),this.initializePlugins(this.settings.plugins),this.setupCallbacks(),this.setupTemplates(),this.setup()};return o.mixin(m),"undefined"!=typeof n?n.mixin(m):((s={explanation:'Make sure you either: (1) are using the "standalone" version of Selectize, or (2) require MicroPlugin before you load Selectize.'})||(s={}),console.error("Selectize: Dependency MicroPlugin is missing"),s.explanation&&(console.group&&console.group(),console.error(s.explanation),console.group&&console.groupEnd())),t.extend(m.prototype,{setup:function(){var e,n,i,o,s,u,h,d,f,p,m,v,y=this,b=y.settings,w=y.eventNS,_=t(window),x=t(document),C=y.$input;if(h=y.settings.mode,d=C.attr("class")||"",e=t("<div>").addClass(b.wrapperClass).addClass(d).addClass(h),n=t("<div>").addClass(b.inputClass).addClass("items").appendTo(e),i=t('<input type="text" autocomplete="off" />').appendTo(n).attr("tabindex",C.is(":disabled")?"-1":y.tabIndex),u=t(b.dropdownParent||e),o=t("<div>").addClass(b.dropdownClass).addClass(h).hide().appendTo(u),s=t("<div>").addClass(b.dropdownContentClass).appendTo(o),(p=C.attr("id"))&&(i.attr("id",p+"-selectized"),t("label[for='"+p+"']").attr("for",p+"-selectized")),y.settings.copyClassesToDropdown&&o.addClass(d),e.css({width:C[0].style.width}),y.plugins.names.length&&(f="plugin-"+y.plugins.names.join(" plugin-"),e.addClass(f),o.addClass(f)),(null===b.maxItems||b.maxItems>1)&&1===y.tagType&&C.attr("multiple","multiple"),y.settings.placeholder&&i.attr("placeholder",b.placeholder),!y.settings.splitOn&&y.settings.delimiter){var k=y.settings.delimiter.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");y.settings.splitOn=new RegExp("\\s*"+k+"+\\s*")}C.attr("autocorrect")&&i.attr("autocorrect",C.attr("autocorrect")),C.attr("autocapitalize")&&i.attr("autocapitalize",C.attr("autocapitalize")),y.$wrapper=e,y.$control=n,y.$control_input=i,y.$dropdown=o,y.$dropdown_content=s,o.on("mouseenter","[data-selectable]",function(){return y.onOptionHover.apply(y,arguments)}),o.on("mousedown click","[data-selectable]",function(){return y.onOptionSelect.apply(y,arguments)}),v=function(){return y.onItemSelect.apply(y,arguments)},(m=n).on("mousedown","*:not(input)",function(t){for(var e=t.target;e&&e.parentNode!==m[0];)e=e.parentNode;return t.currentTarget=e,v.apply(this,[t])}),function(e){var n=null,i=function(i,o){var s,r,a,l,c,u,h,d;i=i||window.event||{},o=o||{},i.metaKey||i.altKey||(o.force||!1!==e.data("grow"))&&(s=e.val(),i.type&&"keydown"===i.type.toLowerCase()&&(a=(r=i.keyCode)>=97&&r<=122||r>=65&&r<=90||r>=48&&r<=57||32===r,46===r||8===r?(d=g(e[0])).length?s=s.substring(0,d.start)+s.substring(d.start+d.length):8===r&&d.start?s=s.substring(0,d.start-1)+s.substring(d.start+1):46===r&&"undefined"!=typeof d.start&&(s=s.substring(0,d.start)+s.substring(d.start+1)):a&&(u=i.shiftKey,h=String.fromCharCode(i.keyCode),s+=h=u?h.toUpperCase():h.toLowerCase())),l=e.attr("placeholder"),!s&&l&&(s=l),(c=function(e,n){if(!e)return 0;var i=t("<test>").css({position:"absolute",top:-99999,left:-99999,width:"auto",padding:0,whiteSpace:"pre"}).text(e).appendTo("body");!function(t,e,n){var i,o,s={};if(n)for(i=0,o=n.length;i<o;i++)s[n[i]]=t.css(n[i]);else s=t.css();e.css(s)}(n,i,["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"]);var o=i.width();return i.remove(),o}(s,e)+4)!==n&&(n=c,e.width(c),e.triggerHandler("resize")))};e.on("keydown keyup update blur",i),i()}(i),n.on({mousedown:function(){return y.onMouseDown.apply(y,arguments)},click:function(){return y.onClick.apply(y,arguments)}}),i.on({mousedown:function(t){t.stopPropagation()},keydown:function(){return y.onKeyDown.apply(y,arguments)},keyup:function(){return y.onKeyUp.apply(y,arguments)},keypress:function(){return y.onKeyPress.apply(y,arguments)},resize:function(){y.positionDropdown.apply(y,[])},blur:function(){return y.onBlur.apply(y,arguments)},focus:function(){return y.ignoreBlur=!1,y.onFocus.apply(y,arguments)},paste:function(){return y.onPaste.apply(y,arguments)}}),x.on("keydown"+w,function(t){y.isCmdDown=t[r?"metaKey":"ctrlKey"],y.isCtrlDown=t[r?"altKey":"ctrlKey"],y.isShiftDown=t.shiftKey}),x.on("keyup"+w,function(t){t.keyCode===l&&(y.isCtrlDown=!1),16===t.keyCode&&(y.isShiftDown=!1),t.keyCode===a&&(y.isCmdDown=!1)}),x.on("mousedown"+w,function(t){if(y.isFocused){if(t.target===y.$dropdown[0]||t.target.parentNode===y.$dropdown[0])return!1;y.$control.has(t.target).length||t.target===y.$control[0]||y.blur(t.target)}}),_.on(["scroll"+w,"resize"+w].join(" "),function(){y.isOpen&&y.positionDropdown.apply(y,arguments)}),this.ignoreHoverUntilMouseMove(),this.revertSettings={$children:C.children().detach(),tabindex:C.attr("tabindex")},C.attr("tabindex",-1).hide().after(y.$wrapper),t.isArray(b.items)&&(y.setValue(b.items),delete b.items),c&&C.on("invalid"+w,function(t){t.preventDefault(),y.isInvalid=!0,y.refreshState()}),y.updateOriginalInput(),y.refreshItems(),y.refreshState(),y.updatePlaceholder(),y.isSetup=!0,C.is(":disabled")&&y.disable(),y.on("change",this.onChange),C.data("selectize",y),C.addClass("selectized"),y.trigger("initialize"),!0===b.preload&&y.onSearchChange("")},ignoreHoverUntilMouseMove:function(){this.ignoreHover=!0;var e=t(document);e.on("mousemove"+this.eventNS,(function(){e.off("mousemove"+this.eventNS),this.ignoreHover=!1}).bind(this))},setupTemplates:function(){var e=this.settings.labelField,n=this.settings.optgroupLabelField;this.settings.render=t.extend({},{optgroup:function(t){return'<div class="optgroup">'+t.html+"</div>"},optgroup_header:function(t,e){return'<div class="optgroup-header">'+e(t[n])+"</div>"},option:function(t,n){return'<div class="option">'+n(t[e])+"</div>"},item:function(t,n){return'<div class="item">'+n(t[e])+"</div>"},option_create:function(t,e){return'<div class="create">Add <strong>'+e(t.input)+"</strong>&hellip;</div>"}},this.settings.render)},setupCallbacks:function(){var t,e,n={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(t in n)n.hasOwnProperty(t)&&(e=this.settings[n[t]])&&this.on(t,e)},onClick:function(t){this.isFocused||(this.focus(),t.preventDefault())},onMouseDown:function(e){var n=this,i=e.isDefaultPrevented();if(t(e.target),n.isFocused){if(e.target!==n.$control_input[0])return"single"===n.settings.mode?n.isOpen?n.close():n.open():i||n.setActiveItem(null),!1}else i||window.setTimeout(function(){n.focus()},0)},onChange:function(){this.$input.trigger("change")},onPaste:function(e){var n=this;n.isFull()||n.isInputHidden||n.isLocked?e.preventDefault():n.settings.splitOn&&setTimeout(function(){var e=n.$control_input.val();if(e.match(n.settings.splitOn))for(var i=t.trim(e).split(n.settings.splitOn),o=0,s=i.length;o<s;o++)n.createItem(i[o])},0)},onKeyPress:function(t){if(this.isLocked)return t&&t.preventDefault();var e=String.fromCharCode(t.keyCode||t.which);return this.settings.create&&"multi"===this.settings.mode&&e===this.settings.delimiter?(this.createItem(),t.preventDefault(),!1):void 0},onKeyDown:function(t){if(this.isLocked)9!==t.keyCode&&t.preventDefault();else{switch(t.keyCode){case 65:if(this.isCmdDown)return void this.selectAll();break;case 27:return void(this.isOpen&&(t.preventDefault(),t.stopPropagation(),this.close()));case 78:if(!t.ctrlKey||t.altKey)break;case 40:if(!this.isOpen&&this.hasOptions)this.open();else if(this.$activeOption){this.ignoreHoverUntilMouseMove();var e=this.getAdjacentOption(this.$activeOption,1);e.length&&this.setActiveOption(e,!0,!0)}return void t.preventDefault();case 80:if(!t.ctrlKey||t.altKey)break;case 38:if(this.$activeOption){this.ignoreHoverUntilMouseMove();var n=this.getAdjacentOption(this.$activeOption,-1);n.length&&this.setActiveOption(n,!0,!0)}return void t.preventDefault();case 13:return void(this.isOpen&&this.$activeOption&&(this.onOptionSelect({currentTarget:this.$activeOption}),t.preventDefault()));case 37:return void this.advanceSelection(-1,t);case 39:return void this.advanceSelection(1,t);case 9:return this.settings.selectOnTab&&this.isOpen&&this.$activeOption&&(this.onOptionSelect({currentTarget:this.$activeOption}),this.isFull()||t.preventDefault()),void(this.settings.create&&this.createItem()&&t.preventDefault());case 8:case 46:return void this.deleteSelection(t)}!this.isFull()&&!this.isInputHidden||(r?t.metaKey:t.ctrlKey)||t.preventDefault()}},onKeyUp:function(t){if(this.isLocked)return t&&t.preventDefault();var e=this.$control_input.val()||"";this.lastValue!==e&&(this.lastValue=e,this.onSearchChange(e),this.refreshOptions(),this.trigger("type",e))},onSearchChange:function(t){var e=this,n=e.settings.load;n&&(e.loadedSearches.hasOwnProperty(t)||(e.loadedSearches[t]=!0,e.load(function(i){n.apply(e,[t,i])})))},onFocus:function(t){var e=this.isFocused;if(this.isDisabled)return this.blur(),t&&t.preventDefault(),!1;this.ignoreFocus||(this.isFocused=!0,"focus"===this.settings.preload&&this.onSearchChange(""),e||this.trigger("focus"),this.$activeItems.length||(this.showInput(),this.setActiveItem(null),this.refreshOptions(!!this.settings.openOnFocus)),this.refreshState())},onBlur:function(t,e){var n=this;if(n.isFocused&&(n.isFocused=!1,!n.ignoreFocus)){if(!n.ignoreBlur&&document.activeElement===n.$dropdown_content[0])return n.ignoreBlur=!0,void n.onFocus(t);var i=function(){n.close(),n.setTextboxValue(""),n.setActiveItem(null),n.setActiveOption(null),n.setCaret(n.items.length),n.refreshState(),e&&e.focus&&e.focus(),n.ignoreFocus=!1,n.trigger("blur")};n.ignoreFocus=!0,n.settings.create&&n.settings.createOnBlur?n.createItem(null,!1,i):i()}},onOptionHover:function(t){this.ignoreHover||this.setActiveOption(t.currentTarget,!1)},onOptionSelect:function(e){var n,i,o=this;e.preventDefault&&(e.preventDefault(),e.stopPropagation()),(i=t(e.currentTarget)).hasClass("create")?o.createItem(null,function(){o.settings.closeAfterSelect&&o.close()}):"undefined"!=typeof(n=i.attr("data-value"))&&(o.lastQuery=null,o.setTextboxValue(""),o.addItem(n),o.settings.closeAfterSelect?o.close():!o.settings.hideSelected&&e.type&&/mouse/.test(e.type)&&o.setActiveOption(o.getOption(n)))},onItemSelect:function(t){this.isLocked||"multi"===this.settings.mode&&(t.preventDefault(),this.setActiveItem(t.currentTarget,t))},load:function(t){var e=this,n=e.$wrapper.addClass(e.settings.loadingClass);e.loading++,t.apply(e,[function(t){e.loading=Math.max(e.loading-1,0),t&&t.length&&(e.addOption(t),e.refreshOptions(e.isFocused&&!e.isInputHidden)),e.loading||n.removeClass(e.settings.loadingClass),e.trigger("load",t)}])},setTextboxValue:function(t){var e=this.$control_input;e.val()!==t&&(e.val(t).triggerHandler("update"),this.lastValue=t)},getValue:function(){return 1===this.tagType&&this.$input.attr("multiple")?this.items:this.items.join(this.settings.delimiter)},setValue:function(t,e){p(this,e?[]:["change"],function(){this.clear(e),this.addItems(t,e)})},setActiveItem:function(e,n){var i,o,s,r,a,l,c,u;if("single"!==this.settings.mode){if(!(e=t(e)).length)return t(this.$activeItems).removeClass("active"),this.$activeItems=[],void(this.isFocused&&this.showInput());if("mousedown"===(i=n&&n.type.toLowerCase())&&this.isShiftDown&&this.$activeItems.length){for(u=this.$control.children(".active:last"),(r=Array.prototype.indexOf.apply(this.$control[0].childNodes,[u[0]]))>(a=Array.prototype.indexOf.apply(this.$control[0].childNodes,[e[0]]))&&(c=r,r=a,a=c),o=r;o<=a;o++)-1===this.$activeItems.indexOf(l=this.$control[0].childNodes[o])&&(t(l).addClass("active"),this.$activeItems.push(l));n.preventDefault()}else"mousedown"===i&&this.isCtrlDown||"keydown"===i&&this.isShiftDown?e.hasClass("active")?(s=this.$activeItems.indexOf(e[0]),this.$activeItems.splice(s,1),e.removeClass("active")):this.$activeItems.push(e.addClass("active")[0]):(t(this.$activeItems).removeClass("active"),this.$activeItems=[e.addClass("active")[0]]);this.hideInput(),this.isFocused||this.focus()}},setActiveOption:function(e,n,i){var o,s,r,a,l;this.$activeOption&&this.$activeOption.removeClass("active"),this.$activeOption=null,(e=t(e)).length&&(this.$activeOption=e.addClass("active"),!n&&u(n)||(o=this.$dropdown_content.height(),s=this.$activeOption.outerHeight(!0),n=this.$dropdown_content.scrollTop()||0,a=r=this.$activeOption.offset().top-this.$dropdown_content.offset().top+n,l=r-o+s,r+s>o+n?this.$dropdown_content.stop().animate({scrollTop:l},i?this.settings.scrollDuration:0):r<n&&this.$dropdown_content.stop().animate({scrollTop:a},i?this.settings.scrollDuration:0)))},selectAll:function(){"single"!==this.settings.mode&&(this.$activeItems=Array.prototype.slice.apply(this.$control.children(":not(input)").addClass("active")),this.$activeItems.length&&(this.hideInput(),this.close()),this.focus())},hideInput:function(){this.setTextboxValue(""),this.$control_input.css({opacity:0,position:"absolute",left:this.rtl?1e4:-1e4}),this.isInputHidden=!0},showInput:function(){this.$control_input.css({opacity:1,position:"relative",left:0}),this.isInputHidden=!1},focus:function(){var t=this;t.isDisabled||(t.ignoreFocus=!0,t.$control_input[0].focus(),window.setTimeout(function(){t.ignoreFocus=!1,t.onFocus()},0))},blur:function(t){this.$control_input[0].blur(),this.onBlur(null,t)},getScoreFunction:function(t){return this.sifter.getScoreFunction(t,this.getSearchOptions())},getSearchOptions:function(){var t=this.settings,e=t.sortField;return"string"==typeof e&&(e=[{field:e}]),{fields:t.searchField,conjunction:t.searchConjunction,sort:e}},search:function(e){var n,i,o,s=this.settings,r=this.getSearchOptions();if(s.score&&"function"!=typeof(o=this.settings.score.apply(this,[e])))throw new Error('Selectize "score" setting must be a function that returns a function');if(e!==this.lastQuery?(this.lastQuery=e,i=this.sifter.search(e,t.extend(r,{score:o})),this.currentResults=i):i=t.extend(!0,{},this.currentResults),s.hideSelected)for(n=i.items.length-1;n>=0;n--)-1!==this.items.indexOf(h(i.items[n].id))&&i.items.splice(n,1);return i},refreshOptions:function(e){var n,o,s,r,a,l,c,u,d,f,p,g,m,v,y,b;"undefined"==typeof e&&(e=!0);var w,_,x=this,C=t.trim(x.$control_input.val()),k=x.search(C),S=x.$dropdown_content,T=x.$activeOption&&h(x.$activeOption.attr("data-value"));for(r=k.items.length,"number"==typeof x.settings.maxOptions&&(r=Math.min(r,x.settings.maxOptions)),a={},l=[],n=0;n<r;n++)for(u=x.render("option",c=x.options[k.items[n].id]),o=0,s=(f=t.isArray(d=c[x.settings.optgroupField]||"")?d:[d])&&f.length;o<s;o++)x.optgroups.hasOwnProperty(d=f[o])||(d=""),a.hasOwnProperty(d)||(a[d]=document.createDocumentFragment(),l.push(d)),a[d].appendChild(u);for(this.settings.lockOptgroupOrder&&l.sort(function(t,e){return(x.optgroups[t].$order||0)-(x.optgroups[e].$order||0)}),p=document.createDocumentFragment(),n=0,r=l.length;n<r;n++)x.optgroups.hasOwnProperty(d=l[n])&&a[d].childNodes.length?((g=document.createDocumentFragment()).appendChild(x.render("optgroup_header",x.optgroups[d])),g.appendChild(a[d]),p.appendChild(x.render("optgroup",t.extend({},x.optgroups[d],{html:(w=g,_=void 0,_=document.createElement("div"),_.appendChild(w.cloneNode(!0)),_.innerHTML),dom:g})))):p.appendChild(a[d]);if(S.html(p),x.settings.highlight&&(S.removeHighlight(),k.query.length&&k.tokens.length))for(n=0,r=k.tokens.length;n<r;n++)i(S,k.tokens[n].regex);if(!x.settings.hideSelected)for(n=0,r=x.items.length;n<r;n++)x.getOption(x.items[n]).addClass("selected");(m=x.canCreate(C))&&(S.prepend(x.render("option_create",{input:C})),b=t(S[0].childNodes[0])),x.hasOptions=k.items.length>0||m,x.hasOptions?(k.items.length>0?((y=T&&x.getOption(T))&&y.length?v=y:"single"===x.settings.mode&&x.items.length&&(v=x.getOption(x.items[0])),v&&v.length||(v=b&&!x.settings.addPrecedence?x.getAdjacentOption(b,1):S.find("[data-selectable]:first"))):v=b,x.setActiveOption(v),x.positionDropdown(),e&&!x.isOpen&&x.open()):(x.setActiveOption(null),e&&x.isOpen&&x.close())},addOption:function(e){var n,i,o;if(t.isArray(e))for(n=0,i=e.length;n<i;n++)this.addOption(e[n]);else(o=this.registerOption(e))&&(this.userOptions[o]=!0,this.lastQuery=null,this.trigger("option_add",o,e))},registerOption:function(t){var e=h(t[this.settings.valueField]);return"undefined"!=typeof e&&null!==e&&!this.options.hasOwnProperty(e)&&(t.$order=t.$order||++this.order,this.options[e]=t,e)},registerOptionGroup:function(t){var e=h(t[this.settings.optgroupValueField]);return!!e&&(t.$order=t.$order||++this.order,this.optgroups[e]=t,e)},addOptionGroup:function(t,e){e[this.settings.optgroupValueField]=t,(t=this.registerOptionGroup(e))&&this.trigger("optgroup_add",t,e)},removeOptionGroup:function(t){this.optgroups.hasOwnProperty(t)&&(delete this.optgroups[t],this.renderCache={},this.trigger("optgroup_remove",t))},clearOptionGroups:function(){this.optgroups={},this.renderCache={},this.trigger("optgroup_clear")},updateOption:function(e,n){var i,o,s,r,a,l,c;if(e=h(e),s=h(n[this.settings.valueField]),null!==e&&this.options.hasOwnProperty(e)){if("string"!=typeof s)throw new Error("Value must be set in option data");c=this.options[e].$order,s!==e&&(delete this.options[e],-1!==(r=this.items.indexOf(e))&&this.items.splice(r,1,s)),n.$order=n.$order||c,this.options[s]=n,l=this.renderCache.option,(a=this.renderCache.item)&&(delete a[e],delete a[s]),l&&(delete l[e],delete l[s]),-1!==this.items.indexOf(s)&&(i=this.getItem(e),o=t(this.render("item",n)),i.hasClass("active")&&o.addClass("active"),i.replaceWith(o)),this.lastQuery=null,this.isOpen&&this.refreshOptions(!1)}},removeOption:function(t,e){t=h(t);var n=this.renderCache.item,i=this.renderCache.option;n&&delete n[t],i&&delete i[t],delete this.userOptions[t],delete this.options[t],this.lastQuery=null,this.trigger("option_remove",t),this.removeItem(t,e)},clearOptions:function(){this.loadedSearches={},this.userOptions={},this.renderCache={},this.options=this.sifter.items={},this.lastQuery=null,this.trigger("option_clear"),this.clear()},getOption:function(t){return this.getElementWithValue(t,this.$dropdown_content.find("[data-selectable]"))},getAdjacentOption:function(e,n){var i=this.$dropdown.find("[data-selectable]"),o=i.index(e)+n;return o>=0&&o<i.length?i.eq(o):t()},getElementWithValue:function(e,n){if("undefined"!=typeof(e=h(e))&&null!==e)for(var i=0,o=n.length;i<o;i++)if(n[i].getAttribute("data-value")===e)return t(n[i]);return t()},getItem:function(t){return this.getElementWithValue(t,this.$control.children())},addItems:function(e,n){for(var i=t.isArray(e)?e:[e],o=0,s=i.length;o<s;o++)this.isPending=o<s-1,this.addItem(i[o],n)},addItem:function(e,n){p(this,n?[]:["change"],function(){var i,o,s,r,a,l=this.settings.mode;e=h(e),-1===this.items.indexOf(e)?this.options.hasOwnProperty(e)&&("single"===l&&this.clear(n),"multi"===l&&this.isFull()||(i=t(this.render("item",this.options[e])),a=this.isFull(),this.items.splice(this.caretPos,0,e),this.insertAtCaret(i),(!this.isPending||!a&&this.isFull())&&this.refreshState(),this.isSetup&&(s=this.$dropdown_content.find("[data-selectable]"),this.isPending||(o=this.getOption(e),r=this.getAdjacentOption(o,1).attr("data-value"),this.refreshOptions(this.isFocused&&"single"!==l),r&&this.setActiveOption(this.getOption(r))),!s.length||this.isFull()?this.close():this.positionDropdown(),this.updatePlaceholder(),this.trigger("item_add",e,i),this.updateOriginalInput({silent:n})))):"single"===l&&this.close()})},removeItem:function(e,n){var i,o,s;i=e instanceof t?e:this.getItem(e),e=h(i.attr("data-value")),-1!==(o=this.items.indexOf(e))&&(i.remove(),i.hasClass("active")&&(s=this.$activeItems.indexOf(i[0]),this.$activeItems.splice(s,1)),this.items.splice(o,1),this.lastQuery=null,!this.settings.persist&&this.userOptions.hasOwnProperty(e)&&this.removeOption(e,n),o<this.caretPos&&this.setCaret(this.caretPos-1),this.refreshState(),this.updatePlaceholder(),this.updateOriginalInput({silent:n}),this.positionDropdown(),this.trigger("item_remove",e,i))},createItem:function(e,n){var i=this,o=i.caretPos;e=e||t.trim(i.$control_input.val()||"");var s=arguments[arguments.length-1];if("function"!=typeof s&&(s=function(){}),"boolean"!=typeof n&&(n=!0),!i.canCreate(e))return s(),!1;i.lock();var r,a,l=(r=function(t){if(i.unlock(),!t||"object"!=typeof t)return s();var e=h(t[i.settings.valueField]);if("string"!=typeof e)return s();i.setTextboxValue(""),i.addOption(t),i.setCaret(o),i.addItem(e),i.refreshOptions(n&&"single"!==i.settings.mode),s(t)},a=!1,function(){a||(a=!0,r.apply(this,arguments))}),c=("function"==typeof i.settings.create?this.settings.create:function(t){var e={};return e[i.settings.labelField]=t,e[i.settings.valueField]=t,e}).apply(this,[e,l]);return"undefined"!=typeof c&&l(c),!0},refreshItems:function(){this.lastQuery=null,this.isSetup&&this.addItem(this.items),this.refreshState(),this.updateOriginalInput()},refreshState:function(){this.refreshValidityState(),this.refreshClasses()},refreshValidityState:function(){if(!this.isRequired)return!1;var t=!this.items.length;this.isInvalid=t,this.$control_input.prop("required",t),this.$input.prop("required",!t)},refreshClasses:function(){var e=this.isFull(),n=this.isLocked;this.$wrapper.toggleClass("rtl",this.rtl),this.$control.toggleClass("focus",this.isFocused).toggleClass("disabled",this.isDisabled).toggleClass("required",this.isRequired).toggleClass("invalid",this.isInvalid).toggleClass("locked",n).toggleClass("full",e).toggleClass("not-full",!e).toggleClass("input-active",this.isFocused&&!this.isInputHidden).toggleClass("dropdown-active",this.isOpen).toggleClass("has-options",!t.isEmptyObject(this.options)).toggleClass("has-items",this.items.length>0),this.$control_input.data("grow",!e&&!n)},isFull:function(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems},updateOriginalInput:function(t){var e,n,i,o;if(t=t||{},1===this.tagType){for(i=[],e=0,n=this.items.length;e<n;e++)o=this.options[this.items[e]][this.settings.labelField]||"",i.push('<option value="'+d(this.items[e])+'" selected="selected">'+d(o)+"</option>");i.length||this.$input.attr("multiple")||i.push('<option value="" selected="selected"></option>'),this.$input.html(i.join(""))}else this.$input.val(this.getValue()),this.$input.attr("value",this.$input.val());this.isSetup&&(t.silent||this.trigger("change",this.$input.val()))},updatePlaceholder:function(){if(this.settings.placeholder){var t=this.$control_input;this.items.length?t.removeAttr("placeholder"):t.attr("placeholder",this.settings.placeholder),t.triggerHandler("update",{force:!0})}},open:function(){this.isLocked||this.isOpen||"multi"===this.settings.mode&&this.isFull()||(this.focus(),this.isOpen=!0,this.refreshState(),this.$dropdown.css({visibility:"hidden",display:"block"}),this.positionDropdown(),this.$dropdown.css({visibility:"visible"}),this.trigger("dropdown_open",this.$dropdown))},close:function(){var t=this.isOpen;"single"===this.settings.mode&&this.items.length&&(this.hideInput(),this.$control_input.blur()),this.isOpen=!1,this.$dropdown.hide(),this.setActiveOption(null),this.refreshState(),t&&this.trigger("dropdown_close",this.$dropdown)},positionDropdown:function(){var t=this.$control,e=this.$dropdown,n=this.getPositions(),i=this.getDropdownDirection(n);"up"===i?(e.addClass("direction-up"),e.removeClass("direction-down")):(e.removeClass("direction-up"),e.addClass("direction-down")),t.attr("data-dropdown-direction",i);var o,s="body"===this.settings.dropdownParent?t.offset():t.position();switch(i){case"up":s.top-=n.dropdown.height,n.dropdown.height>n.control.above&&(o=n.control.above-5);break;case"down":s.top+=n.control.height,n.dropdown.height>n.control.below&&(o=n.control.below-5)}this.$dropdown_content.css(o?{"max-height":o}:{"max-height":""}),this.$dropdown.css({width:t.outerWidth(),top:s.top,left:s.left})},getDropdownDirection:function(t){var e=this.settings.dropdownDirection;return"auto"===e&&(e=t.control.below>t.dropdown.height?"down":t.control.above>t.control.below?"up":"down"),e},getPositions:function(){var e=this.$control,n=t(window),i=e.outerHeight(!1),o=e.offset().top-n.scrollTop();return{control:{height:i,above:o,below:n.height()-o-i},dropdown:{height:this.$dropdown.outerHeight(!1)}}},clear:function(t){this.items.length&&(this.$control.children(":not(input)").remove(),this.items=[],this.lastQuery=null,this.setCaret(0),this.setActiveItem(null),this.updatePlaceholder(),this.updateOriginalInput({silent:t}),this.refreshState(),this.showInput(),this.trigger("clear"))},insertAtCaret:function(e){var n=Math.min(this.caretPos,this.items.length);0===n?this.$control.prepend(e):t(this.$control[0].childNodes[n]).before(e),this.setCaret(n+1)},deleteSelection:function(e){var n,i,o,s,r,a,l,c,u;if(o=e&&8===e.keyCode?-1:1,s=g(this.$control_input[0]),this.$activeOption&&!this.settings.hideSelected&&(l=this.getAdjacentOption(this.$activeOption,-1).attr("data-value")),r=[],this.$activeItems.length){for(u=this.$control.children(".active:"+(o>0?"last":"first")),a=this.$control.children(":not(input)").index(u),o>0&&a++,n=0,i=this.$activeItems.length;n<i;n++)r.push(t(this.$activeItems[n]).attr("data-value"));e&&(e.preventDefault(),e.stopPropagation())}else(this.isFocused||"single"===this.settings.mode)&&this.items.length&&(o<0&&0===s.start&&0===s.length?r.push(this.items[this.caretPos-1]):o>0&&s.start===this.$control_input.val().length&&r.push(this.items[this.caretPos]));if(!r.length||"function"==typeof this.settings.onDelete&&!1===this.settings.onDelete.apply(this,[r]))return!1;for("undefined"!=typeof a&&this.setCaret(a);r.length;)this.removeItem(r.pop());return this.showInput(),this.positionDropdown(),this.refreshOptions(!0),l&&(c=this.getOption(l)).length&&this.setActiveOption(c),!0},advanceSelection:function(t,e){var n,i,o,s,r;0!==t&&(this.rtl&&(t*=-1),n=t>0?"last":"first",i=g(this.$control_input[0]),this.isFocused&&!this.isInputHidden?(s=this.$control_input.val().length,(t<0?0===i.start&&0===i.length:i.start===s)&&!s&&this.advanceCaret(t,e)):(r=this.$control.children(".active:"+n)).length&&(o=this.$control.children(":not(input)").index(r),this.setActiveItem(null),this.setCaret(t>0?o+1:o)))},advanceCaret:function(t,e){var n;0!==t&&(this.isShiftDown?(n=this.$control_input[t>0?"next":"prev"]()).length&&(this.hideInput(),this.setActiveItem(n),e&&e.preventDefault()):this.setCaret(this.caretPos+t))},setCaret:function(e){var n,i,o,s;if(e="single"===this.settings.mode?this.items.length:Math.max(0,Math.min(this.items.length,e)),!this.isPending)for(n=0,i=(o=this.$control.children(":not(input)")).length;n<i;n++)s=t(o[n]).detach(),n<e?this.$control_input.before(s):this.$control.append(s);this.caretPos=e},lock:function(){this.close(),this.isLocked=!0,this.refreshState()},unlock:function(){this.isLocked=!1,this.refreshState()},disable:function(){this.$input.prop("disabled",!0),this.$control_input.prop("disabled",!0).prop("tabindex",-1),this.isDisabled=!0,this.lock()},enable:function(){this.$input.prop("disabled",!1),this.$control_input.prop("disabled",!1).prop("tabindex",this.tabIndex),this.isDisabled=!1,this.unlock()},destroy:function(){var e=this.eventNS,n=this.revertSettings;this.trigger("destroy"),this.off(),this.$wrapper.remove(),this.$dropdown.remove(),this.$input.html("").append(n.$children).removeAttr("tabindex").removeClass("selectized").attr({tabindex:n.tabindex}).show(),this.$control_input.removeData("grow"),this.$input.removeData("selectize"),t(window).off(e),t(document).off(e),t(document.body).off(e),delete this.$input[0].selectize},render:function(e,n){var i,o="",s=!1;return"option"!==e&&"item"!==e||(s=!!(i=h(n[this.settings.valueField]))),s&&(u(this.renderCache[e])||(this.renderCache[e]={}),this.renderCache[e].hasOwnProperty(i))?this.renderCache[e][i]:(o=t(this.settings.render[e].apply(this,[n,d])),"option"===e||"option_create"===e?o.attr("data-selectable",""):"optgroup"===e&&o.attr("data-group",n[this.settings.optgroupValueField]||""),"option"!==e&&"item"!==e||o.attr("data-value",i||""),s&&(this.renderCache[e][i]=o[0]),o[0])},clearCache:function(t){"undefined"==typeof t?this.renderCache={}:delete this.renderCache[t]},canCreate:function(t){if(!this.settings.create)return!1;var e=this.settings.createFilter;return t.length&&("function"!=typeof e||e.apply(this,[t]))&&("string"!=typeof e||new RegExp(e).test(t))&&(!(e instanceof RegExp)||e.test(t))}}),m.count=0,m.defaults={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:!1,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,maxOptions:1e3,maxItems:null,hideSelected:null,addPrecedence:!1,selectOnTab:!1,preload:!1,allowEmptyOption:!1,closeAfterSelect:!1,scrollDuration:60,loadThrottle:300,loadingClass:"loading",dataAttr:"data-data",optgroupField:"optgroup",valueField:"value",labelField:"text",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"selectize-control",inputClass:"selectize-input",dropdownClass:"selectize-dropdown",dropdownContentClass:"selectize-dropdown-content",dropdownParent:null,copyClassesToDropdown:!0,render:{}},t.fn.selectize=function(e){var n=t.fn.selectize.defaults,i=t.extend({},n,e),o=i.dataAttr,s=i.labelField,r=i.valueField,a=i.optgroupField,l=i.optgroupLabelField,c=i.optgroupValueField;return this.each(function(){if(!this.selectize){var u=t(this),d=this.tagName.toLowerCase(),f=u.attr("placeholder")||u.attr("data-placeholder");f||i.allowEmptyOption||(f=u.children('option[value=""]').text());var p={placeholder:f,options:[],optgroups:[],items:[]};"select"===d?function(e,n){var u,d,f,p,g=n.options,m={},v=function(t){var e=o&&t.attr(o);return"string"==typeof e&&e.length?JSON.parse(e):null},y=function(e,o){e=t(e);var l=h(e.val());if(l||i.allowEmptyOption)if(m.hasOwnProperty(l)){if(o){var c=m[l][a];c?t.isArray(c)?c.push(o):m[l][a]=[c,o]:m[l][a]=o}}else{var u=v(e)||{};u[s]=u[s]||e.text(),u[r]=u[r]||l,u[a]=u[a]||o,m[l]=u,g.push(u),e.is(":selected")&&n.items.push(l)}},b=function(e){var i,o,s,r,a;for((s=(e=t(e)).attr("label"))&&((r=v(e)||{})[l]=s,r[c]=s,n.optgroups.push(r)),i=0,o=(a=t("option",e)).length;i<o;i++)y(a[i],s)};for(n.maxItems=e.attr("multiple")?null:1,u=0,d=(p=e.children()).length;u<d;u++)"optgroup"===(f=p[u].tagName.toLowerCase())?b(p[u]):"option"===f&&y(p[u])}(u,p):function(e,n){var a,l,c,u,h=e.attr(o);if(h)for(n.options=JSON.parse(h),a=0,l=n.options.length;a<l;a++)n.items.push(n.options[a][r]);else{var d=t.trim(e.val()||"");if(!i.allowEmptyOption&&!d.length)return;for(a=0,l=(c=d.split(i.delimiter)).length;a<l;a++)(u={})[s]=c[a],u[r]=c[a],n.options.push(u);n.items=c}}(u,p),new m(u,t.extend(!0,{},n,p,e))}})},t.fn.selectize.defaults=m.defaults,t.fn.selectize.support={validity:c},m.define("drag_drop",function(e){if(!t.fn.sortable)throw new Error('The "drag_drop" plugin requires jQuery UI "sortable".');if("multi"===this.settings.mode){var n,i=this;i.lock=(n=i.lock,function(){var t=i.$control.data("sortable");return t&&t.disable(),n.apply(i,arguments)}),i.unlock=function(){var t=i.unlock;return function(){var e=i.$control.data("sortable");return e&&e.enable(),t.apply(i,arguments)}}(),i.setup=function(){var e=i.setup;return function(){e.apply(this,arguments);var n=i.$control.sortable({items:"[data-value]",forcePlaceholderSize:!0,disabled:i.isLocked,start:function(t,e){e.placeholder.css("width",e.helper.css("width")),n.css({overflow:"visible"})},stop:function(){n.css({overflow:"hidden"});var e=i.$activeItems?i.$activeItems.slice():null,o=[];n.children("[data-value]").each(function(){o.push(t(this).attr("data-value"))}),i.setValue(o),i.setActiveItem(e)}})}}()}}),m.define("dropdown_header",function(e){var n,i=this;e=t.extend({title:"Untitled",headerClass:"selectize-dropdown-header",titleRowClass:"selectize-dropdown-header-title",labelClass:"selectize-dropdown-header-label",closeClass:"selectize-dropdown-header-close",html:function(t){return'<div class="'+t.headerClass+'"><div class="'+t.titleRowClass+'"><span class="'+t.labelClass+'">'+t.title+'</span><a href="javascript:void(0)" class="'+t.closeClass+'">&times;</a></div></div>'}},e),i.setup=(n=i.setup,function(){n.apply(i,arguments),i.$dropdown_header=t(e.html(e)),i.$dropdown.prepend(i.$dropdown_header)})}),m.define("optgroup_columns",function(e){var n,i=this;e=t.extend({equalizeWidth:!0,equalizeHeight:!0},e),this.getAdjacentOption=function(e,n){var i=e.closest("[data-group]").find("[data-selectable]"),o=i.index(e)+n;return o>=0&&o<i.length?i.eq(o):t()},this.onKeyDown=(n=i.onKeyDown,function(t){var e,o,s,r;return!this.isOpen||37!==t.keyCode&&39!==t.keyCode?n.apply(this,arguments):(i.ignoreHoverUntilMouseMove(),e=(r=this.$activeOption.closest("[data-group]")).find("[data-selectable]").index(this.$activeOption),void((o=(s=(r=37===t.keyCode?r.prev("[data-group]"):r.next("[data-group]")).find("[data-selectable]")).eq(Math.min(s.length-1,e))).length&&this.setActiveOption(o)))});var o=function(){var t,e=o.width,n=document;return"undefined"==typeof e&&((t=n.createElement("div")).innerHTML='<div style="width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;"><div style="width:1px;height:100px;"></div></div>',n.body.appendChild(t=t.firstChild),e=o.width=t.offsetWidth-t.clientWidth,n.body.removeChild(t)),e},s=function(){var n,s,r,a,l,c,u;if((s=(u=t("[data-group]",i.$dropdown_content)).length)&&i.$dropdown_content.width()){if(e.equalizeHeight){for(r=0,n=0;n<s;n++)r=Math.max(r,u.eq(n).height());u.css({height:r})}e.equalizeWidth&&(c=i.$dropdown_content.innerWidth()-o(),a=Math.round(c/s),u.css({width:a}),s>1&&(l=c-a*(s-1),u.eq(s-1).css({width:l})))}};(e.equalizeHeight||e.equalizeWidth)&&(f(this,"positionDropdown",s),f(this,"refreshOptions",s))}),m.define("remove_button",function(e){e=t.extend({label:"&times;",title:"Remove",className:"remove",append:!0},e),"single"===this.settings.mode?function(e,n){n.className="remove-single";var i,o=e,s='<a href="javascript:void(0)" class="'+n.className+'" tabindex="-1" title="'+d(n.title)+'">'+n.label+"</a>";e.setup=(i=o.setup,function(){if(n.append){var r=t(o.$input.context).attr("id"),a=(t("#"+r),o.settings.render.item);o.settings.render.item=function(t){return a.apply(e,arguments)+s}}i.apply(e,arguments),e.$control.on("click","."+n.className,function(t){t.preventDefault(),o.isLocked||o.clear()})})}(this,e):function(e,n){var i,o=e,s='<a href="javascript:void(0)" class="'+n.className+'" tabindex="-1" title="'+d(n.title)+'">'+n.label+"</a>";e.setup=(i=o.setup,function(){if(n.append){var r=o.settings.render.item;o.settings.render.item=function(t){return n=r.apply(e,arguments),i=s,o=n.search(/(<\/[^>]+>\s*)$/),n.substring(0,o)+i+n.substring(o);var n,i,o}}i.apply(e,arguments),e.$control.on("click","."+n.className,function(e){if(e.preventDefault(),!o.isLocked){var n=t(e.currentTarget).parent();o.setActiveItem(n),o.deleteSelection()&&o.setCaret(o.items.length)}})})}(this,e)}),m.define("restore_on_backspace",function(t){var e;t.text=t.text||function(t){return t[this.settings.labelField]},this.onKeyDown=(e=this.onKeyDown,function(n){var i,o;return 8===n.keyCode&&""===this.$control_input.val()&&!this.$activeItems.length&&(i=this.caretPos-1)>=0&&i<this.items.length?(o=this.options[this.items[i]],this.deleteSelection(n)&&(this.setTextboxValue(t.text.apply(this,[o])),this.refreshOptions(!0)),void n.preventDefault()):e.apply(this,arguments)})}),m.define("dropdown_direction",function(e){var n=this;this.positionDropdown=function(){var e=this.$control,i=this.$dropdown,o=function(){var e=n.$control,i=t(window),o=e.outerHeight(!1),s=e.offset().top-i.scrollTop();return{control:{height:o,above:s,below:i.height()-s-o},dropdown:{height:n.$dropdown.outerHeight(!1)}}}(),s=function(t){var e=n.settings.dropdownDirection;return"auto"===e&&(e=o.control.below>o.dropdown.height?"down":o.control.above>o.control.below?"up":"down"),e}();"up"===s?i.addClass("direction-up").removeClass("direction-down"):i.addClass("direction-down").removeClass("direction-up"),e.attr("data-dropdown-direction",s);var r,a="body"===this.settings.dropdownParent?e.offset():e.position();switch(s){case"up":a.top-=o.dropdown.height,o.dropdown.height>o.control.above&&(r=o.control.above-15);break;case"down":a.top+=o.control.height,o.dropdown.height>o.control.below&&(r=o.control.below-15)}this.$dropdown_content.css(r?{"max-height":r}:{"max-height":""}),this.$dropdown.css({width:e.outerWidth(),top:a.top,left:a.left})}}),m}),$.widget.bridge("uibutton",$.ui.button);var AdminLTE={init(){$(()=>{$.AdminLTE.layout.activate(),$.AdminLTE.layout.fix(),$.AdminLTE.layout.fixSidebar()})}};!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Pusher=e():t.Pusher=e()}(this,function(){return function(t){function e(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return t[i].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";var i=n(1);t.exports=i.default},function(t,e,n){"use strict";var i=n(2),o=n(9),s=n(24),r=n(39),a=n(40),l=n(41),c=n(12),u=n(5),h=n(63),d=n(8),f=n(43),p=n(14),g=function(){function t(e,n){var c=this;if(function(t){if(null===e||void 0===e)throw"You must pass your app key when you instantiate Pusher."}(),!(n=n||{}).cluster&&!n.wsHost&&!n.httpHost){var g=p.default.buildLogSuffix("javascriptQuickStart");d.default.warn("You should always specify a cluster when connecting. "+g)}this.key=e,this.config=o.extend(h.getGlobalConfig(),n.cluster?h.getClusterConfig(n.cluster):{},n),this.channels=f.default.createChannels(),this.global_emitter=new s.default,this.sessionID=Math.floor(1e9*Math.random()),this.timeline=new r.default(this.key,this.sessionID,{cluster:this.config.cluster,features:t.getClientFeatures(),params:this.config.timelineParams||{},limit:50,level:a.default.INFO,version:u.default.VERSION}),this.config.disableStats||(this.timelineSender=f.default.createTimelineSender(this.timeline,{host:this.config.statsHost,path:"/timeline/v2/"+i.default.TimelineTransport.name})),this.connection=f.default.createConnectionManager(this.key,o.extend({getStrategy:function(t){var e=o.extend({},c.config,t);return l.build(i.default.getDefaultStrategy(e),e)},timeline:this.timeline,activityTimeout:this.config.activity_timeout,pongTimeout:this.config.pong_timeout,unavailableTimeout:this.config.unavailable_timeout},this.config,{encrypted:this.isEncrypted()})),this.connection.bind("connected",function(){c.subscribeAll(),c.timelineSender&&c.timelineSender.send(c.connection.isEncrypted())}),this.connection.bind("message",function(t){var e=0===t.event.indexOf("pusher_internal:");if(t.channel){var n=c.channel(t.channel);n&&n.handleEvent(t.event,t.data)}e||c.global_emitter.emit(t.event,t.data)}),this.connection.bind("connecting",function(){c.channels.disconnect()}),this.connection.bind("disconnected",function(){c.channels.disconnect()}),this.connection.bind("error",function(t){d.default.warn("Error",t)}),t.instances.push(this),this.timeline.info({instances:t.instances.length}),t.isReady&&this.connect()}return t.ready=function(){t.isReady=!0;for(var e=0,n=t.instances.length;e<n;e++)t.instances[e].connect()},t.log=function(e){t.logToConsole&&window.console&&window.console.log&&window.console.log(e)},t.getClientFeatures=function(){return o.keys(o.filterObject({ws:i.default.Transports.ws},function(t){return t.isSupported({})}))},t.prototype.channel=function(t){return this.channels.find(t)},t.prototype.allChannels=function(){return this.channels.all()},t.prototype.connect=function(){if(this.connection.connect(),this.timelineSender&&!this.timelineSenderTimer){var t=this.connection.isEncrypted(),e=this.timelineSender;this.timelineSenderTimer=new c.PeriodicTimer(6e4,function(){e.send(t)})}},t.prototype.disconnect=function(){this.connection.disconnect(),this.timelineSenderTimer&&(this.timelineSenderTimer.ensureAborted(),this.timelineSenderTimer=null)},t.prototype.bind=function(t,e,n){return this.global_emitter.bind(t,e,n),this},t.prototype.unbind=function(t,e,n){return this.global_emitter.unbind(t,e,n),this},t.prototype.bind_global=function(t){return this.global_emitter.bind_global(t),this},t.prototype.unbind_global=function(t){return this.global_emitter.unbind_global(t),this},t.prototype.unbind_all=function(t){return this.global_emitter.unbind_all(),this},t.prototype.subscribeAll=function(){var t;for(t in this.channels.channels)this.channels.channels.hasOwnProperty(t)&&this.subscribe(t)},t.prototype.subscribe=function(t){var e=this.channels.add(t,this);return e.subscriptionPending&&e.subscriptionCancelled?e.reinstateSubscription():e.subscriptionPending||"connected"!==this.connection.state||e.subscribe(),e},t.prototype.unsubscribe=function(t){var e=this.channels.find(t);e&&e.subscriptionPending?e.cancelSubscription():(e=this.channels.remove(t))&&"connected"===this.connection.state&&e.unsubscribe()},t.prototype.send_event=function(t,e,n){return this.connection.send_event(t,e,n)},t.prototype.isEncrypted=function(){return"https:"===i.default.getProtocol()||Boolean(this.config.encrypted)},t.instances=[],t.isReady=!1,t.logToConsole=!1,t.Runtime=i.default,t.ScriptReceivers=i.default.ScriptReceivers,t.DependenciesReceivers=i.default.DependenciesReceivers,t.auth_callbacks=i.default.auth_callbacks,t}();e.__esModule=!0,e.default=g,i.default.setup(g)},function(t,e,n){"use strict";var i=n(3),o=n(7),s=n(15),r=n(16),a=n(17),l=n(4),c=n(18),u=n(19),h=n(26),d=n(27),f=n(28),p=n(29),g={nextAuthCallbackID:1,auth_callbacks:{},ScriptReceivers:l.ScriptReceivers,DependenciesReceivers:i.DependenciesReceivers,getDefaultStrategy:d.default,Transports:u.default,transportConnectionInitializer:f.default,HTTPFactory:p.default,TimelineTransport:c.default,getXHRAPI:function(){return window.XMLHttpRequest},getWebSocketAPI:function(){return window.WebSocket||window.MozWebSocket},setup:function(t){var e=this;window.Pusher=t;var n=function(){e.onDocumentBody(t.ready)};window.JSON?n():i.Dependencies.load("json2",{},n)},getDocument:function(){return document},getProtocol:function(){return this.getDocument().location.protocol},getAuthorizers:function(){return{ajax:o.default,jsonp:s.default}},onDocumentBody:function(t){var e=this;document.body?t():setTimeout(function(){e.onDocumentBody(t)},0)},createJSONPRequest:function(t,e){return new a.default(t,e)},createScriptRequest:function(t){return new r.default(t)},getLocalStorage:function(){try{return window.localStorage}catch(t){return}},createXHR:function(){return this.getXHRAPI()?this.createXMLHttpRequest():this.createMicrosoftXHR()},createXMLHttpRequest:function(){return new(this.getXHRAPI())},createMicrosoftXHR:function(){return new ActiveXObject("Microsoft.XMLHTTP")},getNetwork:function(){return h.Network},createWebSocket:function(t){return new(this.getWebSocketAPI())(t)},createSocketRequest:function(t,e){if(this.isXHRSupported())return this.HTTPFactory.createXHR(t,e);if(this.isXDRSupported(0===e.indexOf("https:")))return this.HTTPFactory.createXDR(t,e);throw"Cross-origin HTTP requests are not supported"},isXHRSupported:function(){var t=this.getXHRAPI();return Boolean(t)&&void 0!==(new t).withCredentials},isXDRSupported:function(t){var e=t?"https:":"http:",n=this.getProtocol();return Boolean(window.XDomainRequest)&&n===e},addUnloadListener:function(t){void 0!==window.addEventListener?window.addEventListener("unload",t,!1):void 0!==window.attachEvent&&window.attachEvent("onunload",t)},removeUnloadListener:function(t){void 0!==window.addEventListener?window.removeEventListener("unload",t,!1):void 0!==window.detachEvent&&window.detachEvent("onunload",t)}};e.__esModule=!0,e.default=g},function(t,e,n){"use strict";var i=n(4),o=n(5),s=n(6);e.DependenciesReceivers=new i.ScriptReceiverFactory("_pusher_dependencies","Pusher.DependenciesReceivers"),e.Dependencies=new s.default({cdn_http:o.default.cdn_http,cdn_https:o.default.cdn_https,version:o.default.VERSION,suffix:o.default.dependency_suffix,receivers:e.DependenciesReceivers})},function(t,e){"use strict";var n=function(){function t(t,e){this.lastId=0,this.prefix=t,this.name=e}return t.prototype.create=function(t){this.lastId++;var e=this.lastId,n=this.prefix+e,i=this.name+"["+e+"]",o=!1,s=function(){o||(t.apply(null,arguments),o=!0)};return this[e]=s,{number:e,id:n,name:i,callback:s}},t.prototype.remove=function(t){delete this[t.number]},t}();e.ScriptReceiverFactory=n,e.ScriptReceivers=new n("_pusher_script_","Pusher.ScriptReceivers")},function(t,e){"use strict";e.__esModule=!0,e.default={VERSION:"4.2.2",PROTOCOL:7,host:"ws.pusherapp.com",ws_port:80,wss_port:443,ws_path:"",sockjs_host:"sockjs.pusher.com",sockjs_http_port:80,sockjs_https_port:443,sockjs_path:"/pusher",stats_host:"stats.pusher.com",channel_auth_endpoint:"/pusher/auth",channel_auth_transport:"ajax",activity_timeout:12e4,pong_timeout:3e4,unavailable_timeout:1e4,cdn_http:"http://js.pusher.com",cdn_https:"https://js.pusher.com",dependency_suffix:".min"}},function(t,e,n){"use strict";var i=n(4),o=n(2),s=function(){function t(t){this.options=t,this.receivers=t.receivers||i.ScriptReceivers,this.loading={}}return t.prototype.load=function(t,e,n){var i=this;if(i.loading[t]&&i.loading[t].length>0)i.loading[t].push(n);else{i.loading[t]=[n];var s=o.default.createScriptRequest(i.getPath(t,e)),r=i.receivers.create(function(e){if(i.receivers.remove(r),i.loading[t]){var n=i.loading[t];delete i.loading[t];for(var o=function(t){t||s.cleanup()},a=0;a<n.length;a++)n[a](e,o)}});s.send(r)}},t.prototype.getRoot=function(t){var e=o.default.getDocument().location.protocol;return(t&&t.encrypted||"https:"===e?this.options.cdn_https:this.options.cdn_http).replace(/\/*$/,"")+"/"+this.options.version},t.prototype.getPath=function(t,e){return this.getRoot(e)+"/"+t+this.options.suffix+".js"},t}();e.__esModule=!0,e.default=s},function(t,e,n){"use strict";var i=n(8),o=n(2),s=n(14);e.__esModule=!0,e.default=function(t,e,n){var r;for(var a in(r=o.default.createXHR()).open("POST",this.options.authEndpoint,!0),r.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),this.authOptions.headers)r.setRequestHeader(a,this.authOptions.headers[a]);return r.onreadystatechange=function(){if(4===r.readyState)if(200===r.status){var t,e=!1;try{t=JSON.parse(r.responseText),e=!0}catch(t){n(!0,"JSON returned from webapp was invalid, yet status code was 200. Data was: "+r.responseText)}e&&n(!1,t)}else{var o=s.default.buildLogSuffix("authenticationEndpoint");i.default.warn("Couldn't retrieve authentication info. "+r.status+"Clients must be authenticated to join private or presence channels. "+o),n(!0,r.status)}},r.send(this.composeQuery(e)),r}},function(t,e,n){"use strict";var i=n(9),o=n(1),s={debug:function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];o.default.log&&o.default.log(i.stringify.apply(this,arguments))},warn:function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var n=i.stringify.apply(this,arguments);o.default.log?o.default.log(n):window.console&&(window.console.warn?window.console.warn(n):window.console.log&&window.console.log(n))}};e.__esModule=!0,e.default=s},function(t,e,n){"use strict";function i(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(t[n],n,t)}function o(t,e){for(var n=[],i=0;i<t.length;i++)n.push(e(t[i],i,t,n));return n}function s(t,e){var n={};return i(t,function(t,i){n[i]=e(t)}),n}function r(t,e){var n={};return i(t,function(i,o){(e&&e(i,o,t,n)||Boolean(i))&&(n[o]=i)}),n}function a(t){var e=[];return i(t,function(t,n){e.push([n,t])}),e}function l(t){return s(t,function(t){return"object"==typeof t&&(t=u(t)),encodeURIComponent(h.default(t.toString()))})}function c(t){var e=[],n=[];return function t(i,o){var s,r,a;switch(typeof i){case"object":if(!i)return null;for(s=0;s<e.length;s+=1)if(e[s]===i)return{$ref:n[s]};if(e.push(i),n.push(o),"[object Array]"===Object.prototype.toString.apply(i))for(a=[],s=0;s<i.length;s+=1)a[s]=t(i[s],o+"["+s+"]");else for(r in a={},i)Object.prototype.hasOwnProperty.call(i,r)&&(a[r]=t(i[r],o+"["+JSON.stringify(r)+"]"));return a;case"number":case"string":case"boolean":return i}}(t,"$")}function u(t){try{return JSON.stringify(t)}catch(e){return JSON.stringify(c(t))}}var h=n(10),d=n(11);e.extend=function t(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];for(var o=0;o<n.length;o++){var s=n[o];for(var r in s)e[r]=s[r]&&s[r].constructor&&s[r].constructor===Object?t(e[r]||{},s[r]):s[r]}return e},e.stringify=function(){for(var t=["Pusher"],e=0;e<arguments.length;e++)t.push("string"==typeof arguments[e]?arguments[e]:u(arguments[e]));return t.join(" : ")},e.arrayIndexOf=function(t,e){var n=Array.prototype.indexOf;if(null===t)return-1;if(n&&t.indexOf===n)return t.indexOf(e);for(var i=0,o=t.length;i<o;i++)if(t[i]===e)return i;return-1},e.objectApply=i,e.keys=function(t){var e=[];return i(t,function(t,n){e.push(n)}),e},e.values=function(t){var e=[];return i(t,function(t){e.push(t)}),e},e.apply=function(t,e,n){for(var i=0;i<t.length;i++)e.call(n||window,t[i],i,t)},e.map=o,e.mapObject=s,e.filter=function(t,e){e=e||function(t){return!!t};for(var n=[],i=0;i<t.length;i++)e(t[i],i,t,n)&&n.push(t[i]);return n},e.filterObject=r,e.flatten=a,e.any=function(t,e){for(var n=0;n<t.length;n++)if(e(t[n],n,t))return!0;return!1},e.all=function(t,e){for(var n=0;n<t.length;n++)if(!e(t[n],n,t))return!1;return!0},e.encodeParamsObject=l,e.buildQueryString=function(t){return o(a(l(r(t,function(t){return void 0!==t}))),d.default.method("join","=")).join("&")},e.decycleObject=c,e.safeJSONStringify=u},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t){return h(c(t))};for(var i=String.fromCharCode,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s={},r=0,a=o.length;r<a;r++)s[o.charAt(r)]=r;var l=function(t){var e=t.charCodeAt(0);return e<128?t:e<2048?i(192|e>>>6)+i(128|63&e):i(224|e>>>12&15)+i(128|e>>>6&63)+i(128|63&e)},c=function(t){return t.replace(/[^\x00-\x7F]/g,l)},u=function(t){var e=[0,2,1][t.length%3],n=t.charCodeAt(0)<<16|(t.length>1?t.charCodeAt(1):0)<<8|(t.length>2?t.charCodeAt(2):0);return[o.charAt(n>>>18),o.charAt(n>>>12&63),e>=2?"=":o.charAt(n>>>6&63),e>=1?"=":o.charAt(63&n)].join("")},h=window.btoa||function(t){return t.replace(/[\s\S]{1,3}/g,u)}},function(t,e,n){"use strict";var i=n(12),o={now:function(){return Date.now?Date.now():(new Date).valueOf()},defer:function(t){return new i.OneOffTimer(0,t)},method:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=Array.prototype.slice.call(arguments,1);return function(e){return e[t].apply(e,i.concat(arguments))}}};e.__esModule=!0,e.default=o},function(t,e,n){"use strict";function i(t){window.clearTimeout(t)}function o(t){window.clearInterval(t)}var s=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n(13),a=function(t){function e(e,n){t.call(this,setTimeout,i,e,function(t){return n(),null})}return s(e,t),e}(r.default);e.OneOffTimer=a;var l=function(t){function e(e,n){t.call(this,setInterval,o,e,function(t){return n(),t})}return s(e,t),e}(r.default);e.PeriodicTimer=l},function(t,e){"use strict";var n=function(){function t(t,e,n,i){var o=this;this.clear=e,this.timer=t(function(){o.timer&&(o.timer=i(o.timer))},n)}return t.prototype.isRunning=function(){return null!==this.timer},t.prototype.ensureAborted=function(){this.timer&&(this.clear(this.timer),this.timer=null)},t}();e.__esModule=!0,e.default=n},function(t,e){"use strict";var n={baseUrl:"https://pusher.com",urls:{authenticationEndpoint:{path:"/docs/authenticating_users"},javascriptQuickStart:{path:"/docs/javascript_quick_start"}}};e.__esModule=!0,e.default={buildLogSuffix:function(t){var e,i=n.urls[t];return i?(i.fullUrl?e=i.fullUrl:i.path&&(e=n.baseUrl+i.path),e?"See: "+e:""):""}}},function(t,e,n){"use strict";var i=n(8);e.__esModule=!0,e.default=function(t,e,n){void 0!==this.authOptions.headers&&i.default.warn("Warn","To send headers with the auth request, you must use AJAX, rather than JSONP.");var o=t.nextAuthCallbackID.toString();t.nextAuthCallbackID++;var s=t.getDocument(),r=s.createElement("script");t.auth_callbacks[o]=function(t){n(!1,t)},r.src=this.options.authEndpoint+"?callback="+encodeURIComponent("Pusher.auth_callbacks['"+o+"']")+"&"+this.composeQuery(e);var a=s.getElementsByTagName("head")[0]||s.documentElement;a.insertBefore(r,a.firstChild)}},function(t,e){"use strict";var n=function(){function t(t){this.src=t}return t.prototype.send=function(t){var e=this,n="Error loading "+e.src;e.script=document.createElement("script"),e.script.id=t.id,e.script.src=e.src,e.script.type="text/javascript",e.script.charset="UTF-8",e.script.addEventListener?(e.script.onerror=function(){t.callback(n)},e.script.onload=function(){t.callback(null)}):e.script.onreadystatechange=function(){"loaded"!==e.script.readyState&&"complete"!==e.script.readyState||t.callback(null)},void 0===e.script.async&&document.attachEvent&&/opera/i.test(navigator.userAgent)?(e.errorScript=document.createElement("script"),e.errorScript.id=t.id+"_error",e.errorScript.text=t.name+"('"+n+"');",e.script.async=e.errorScript.async=!1):e.script.async=!0;var i=document.getElementsByTagName("head")[0];i.insertBefore(e.script,i.firstChild),e.errorScript&&i.insertBefore(e.errorScript,e.script.nextSibling)},t.prototype.cleanup=function(){this.script&&(this.script.onload=this.script.onerror=null,this.script.onreadystatechange=null),this.script&&this.script.parentNode&&this.script.parentNode.removeChild(this.script),this.errorScript&&this.errorScript.parentNode&&this.errorScript.parentNode.removeChild(this.errorScript),this.script=null,this.errorScript=null},t}();e.__esModule=!0,e.default=n},function(t,e,n){"use strict";var i=n(9),o=n(2),s=function(){function t(t,e){this.url=t,this.data=e}return t.prototype.send=function(t){if(!this.request){var e=i.buildQueryString(this.data);this.request=o.default.createScriptRequest(this.url+"/"+t.number+"?"+e),this.request.send(t)}},t.prototype.cleanup=function(){this.request&&this.request.cleanup()},t}();e.__esModule=!0,e.default=s},function(t,e,n){"use strict";var i=n(2),o=n(4),s={name:"jsonp",getAgent:function(t,e){return function(n,s){var r=i.default.createJSONPRequest("http"+(e?"s":"")+"://"+(t.host||t.options.host)+t.options.path,n),a=i.default.ScriptReceivers.create(function(e,n){o.ScriptReceivers.remove(a),r.cleanup(),n&&n.host&&(t.host=n.host),s&&s(e,n)});r.send(a)}}};e.__esModule=!0,e.default=s},function(t,e,n){"use strict";var i=n(20),o=n(22),s=n(21),r=n(2),a=n(3),l=n(9),c=new o.default({file:"sockjs",urls:s.sockjs,handlesActivityChecks:!0,supportsPing:!1,isSupported:function(){return!0},isInitialized:function(){return void 0!==window.SockJS},getSocket:function(t,e){return new window.SockJS(t,null,{js_path:a.Dependencies.getPath("sockjs",{encrypted:e.encrypted}),ignore_null_origin:e.ignoreNullOrigin})},beforeOpen:function(t,e){t.send(JSON.stringify({path:e}))}}),u={isSupported:function(t){return r.default.isXDRSupported(t.encrypted)}},h=new o.default(l.extend({},i.streamingConfiguration,u)),d=new o.default(l.extend({},i.pollingConfiguration,u));i.default.xdr_streaming=h,i.default.xdr_polling=d,i.default.sockjs=c,e.__esModule=!0,e.default=i.default},function(t,e,n){"use strict";var i=n(21),o=n(22),s=n(9),r=n(2),a=new o.default({urls:i.ws,handlesActivityChecks:!1,supportsPing:!1,isInitialized:function(){return Boolean(r.default.getWebSocketAPI())},isSupported:function(){return Boolean(r.default.getWebSocketAPI())},getSocket:function(t){return r.default.createWebSocket(t)}}),l={urls:i.http,handlesActivityChecks:!1,supportsPing:!0,isInitialized:function(){return!0}};e.streamingConfiguration=s.extend({getSocket:function(t){return r.default.HTTPFactory.createStreamingSocket(t)}},l),e.pollingConfiguration=s.extend({getSocket:function(t){return r.default.HTTPFactory.createPollingSocket(t)}},l);var c={isSupported:function(){return r.default.isXHRSupported()}},u={ws:a,xhr_streaming:new o.default(s.extend({},e.streamingConfiguration,c)),xhr_polling:new o.default(s.extend({},e.pollingConfiguration,c))};e.__esModule=!0,e.default=u},function(t,e,n){"use strict";function i(t,e,n){return t+(e.encrypted?"s":"")+"://"+(e.encrypted?e.hostEncrypted:e.hostUnencrypted)+n}function o(t,e){return"/app/"+t+"?protocol="+s.default.PROTOCOL+"&client=js&version="+s.default.VERSION+(e?"&"+e:"")}var s=n(5);e.ws={getInitial:function(t,e){return i("ws",e,(e.httpPath||"")+o(t,"flash=false"))}},e.http={getInitial:function(t,e){return i("http",e,(e.httpPath||"/pusher")+o(t))}},e.sockjs={getInitial:function(t,e){return i("http",e,e.httpPath||"/pusher")},getPath:function(t,e){return o(t)}}},function(t,e,n){"use strict";var i=n(23),o=function(){function t(t){this.hooks=t}return t.prototype.isSupported=function(t){return this.hooks.isSupported(t)},t.prototype.createConnection=function(t,e,n,o){return new i.default(this.hooks,t,e,n,o)},t}();e.__esModule=!0,e.default=o},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(11),s=n(9),r=n(24),a=n(8),l=n(2),c=function(t){function e(e,n,i,o,s){t.call(this),this.initialize=l.default.transportConnectionInitializer,this.hooks=e,this.name=n,this.priority=i,this.key=o,this.options=s,this.state="new",this.timeline=s.timeline,this.activityTimeout=s.activityTimeout,this.id=this.timeline.generateUniqueID()}return i(e,t),e.prototype.handlesActivityChecks=function(){return Boolean(this.hooks.handlesActivityChecks)},e.prototype.supportsPing=function(){return Boolean(this.hooks.supportsPing)},e.prototype.connect=function(){var t=this;if(this.socket||"initialized"!==this.state)return!1;var e=this.hooks.urls.getInitial(this.key,this.options);try{this.socket=this.hooks.getSocket(e,this.options)}catch(e){return o.default.defer(function(){t.onError(e),t.changeState("closed")}),!1}return this.bindListeners(),a.default.debug("Connecting",{transport:this.name,url:e}),this.changeState("connecting"),!0},e.prototype.close=function(){return!!this.socket&&(this.socket.close(),!0)},e.prototype.send=function(t){var e=this;return"open"===this.state&&(o.default.defer(function(){e.socket&&e.socket.send(t)}),!0)},e.prototype.ping=function(){"open"===this.state&&this.supportsPing()&&this.socket.ping()},e.prototype.onOpen=function(){this.hooks.beforeOpen&&this.hooks.beforeOpen(this.socket,this.hooks.urls.getPath(this.key,this.options)),this.changeState("open"),this.socket.onopen=void 0},e.prototype.onError=function(t){this.emit("error",{type:"WebSocketError",error:t}),this.timeline.error(this.buildTimelineMessage({error:t.toString()}))},e.prototype.onClose=function(t){t?this.changeState("closed",{code:t.code,reason:t.reason,wasClean:t.wasClean}):this.changeState("closed"),this.unbindListeners(),this.socket=void 0},e.prototype.onMessage=function(t){this.emit("message",t)},e.prototype.onActivity=function(){this.emit("activity")},e.prototype.bindListeners=function(){var t=this;this.socket.onopen=function(){t.onOpen()},this.socket.onerror=function(e){t.onError(e)},this.socket.onclose=function(e){t.onClose(e)},this.socket.onmessage=function(e){t.onMessage(e)},this.supportsPing()&&(this.socket.onactivity=function(){t.onActivity()})},e.prototype.unbindListeners=function(){this.socket&&(this.socket.onopen=void 0,this.socket.onerror=void 0,this.socket.onclose=void 0,this.socket.onmessage=void 0,this.supportsPing()&&(this.socket.onactivity=void 0))},e.prototype.changeState=function(t,e){this.state=t,this.timeline.info(this.buildTimelineMessage({state:t,params:e})),this.emit(t,e)},e.prototype.buildTimelineMessage=function(t){return s.extend({cid:this.id},t)},e}(r.default);e.__esModule=!0,e.default=c},function(t,e,n){"use strict";var i=n(9),o=n(25),s=function(){function t(t){this.callbacks=new o.default,this.global_callbacks=[],this.failThrough=t}return t.prototype.bind=function(t,e,n){return this.callbacks.add(t,e,n),this},t.prototype.bind_global=function(t){return this.global_callbacks.push(t),this},t.prototype.unbind=function(t,e,n){return this.callbacks.remove(t,e,n),this},t.prototype.unbind_global=function(t){return t?(this.global_callbacks=i.filter(this.global_callbacks||[],function(e){return e!==t}),this):(this.global_callbacks=[],this)},t.prototype.unbind_all=function(){return this.unbind(),this.unbind_global(),this},t.prototype.emit=function(t,e){var n;for(n=0;n<this.global_callbacks.length;n++)this.global_callbacks[n](t,e);var i=this.callbacks.get(t);if(i&&i.length>0)for(n=0;n<i.length;n++)i[n].fn.call(i[n].context||window,e);else this.failThrough&&this.failThrough(t,e);return this},t}();e.__esModule=!0,e.default=s},function(t,e,n){"use strict";function i(t){return"_"+t}var o=n(9),s=function(){function t(){this._callbacks={}}return t.prototype.get=function(t){return this._callbacks[i(t)]},t.prototype.add=function(t,e,n){var o=i(t);this._callbacks[o]=this._callbacks[o]||[],this._callbacks[o].push({fn:e,context:n})},t.prototype.remove=function(t,e,n){if(t||e||n){var s=t?[i(t)]:o.keys(this._callbacks);e||n?this.removeCallback(s,e,n):this.removeAllCallbacks(s)}else this._callbacks={}},t.prototype.removeCallback=function(t,e,n){o.apply(t,function(t){this._callbacks[t]=o.filter(this._callbacks[t]||[],function(t){return e&&e!==t.fn||n&&n!==t.context}),0===this._callbacks[t].length&&delete this._callbacks[t]},this)},t.prototype.removeAllCallbacks=function(t){o.apply(t,function(t){delete this._callbacks[t]},this)},t}();e.__esModule=!0,e.default=s},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=function(t){function e(){t.call(this);var e=this;void 0!==window.addEventListener&&(window.addEventListener("online",function(){e.emit("online")},!1),window.addEventListener("offline",function(){e.emit("offline")},!1))}return i(e,t),e.prototype.isOnline=function(){return void 0===window.navigator.onLine||window.navigator.onLine},e}(n(24).default);e.NetInfo=o,e.Network=new o},function(t,e){"use strict";e.__esModule=!0,e.default=function(t){return[[":def","ws_options",{hostUnencrypted:t.wsHost+":"+t.wsPort,hostEncrypted:t.wsHost+":"+t.wssPort,httpPath:t.wsPath}],[":def","wss_options",[":extend",":ws_options",{encrypted:!0}]],[":def","sockjs_options",{hostUnencrypted:t.httpHost+":"+t.httpPort,hostEncrypted:t.httpHost+":"+t.httpsPort,httpPath:t.httpPath}],[":def","timeouts",{loop:!0,timeout:15e3,timeoutLimit:6e4}],[":def","ws_manager",[":transport_manager",{lives:2,minPingDelay:1e4,maxPingDelay:t.activity_timeout}]],[":def","streaming_manager",[":transport_manager",{lives:2,minPingDelay:1e4,maxPingDelay:t.activity_timeout}]],[":def_transport","ws","ws",3,":ws_options",":ws_manager"],[":def_transport","wss","ws",3,":wss_options",":ws_manager"],[":def_transport","sockjs","sockjs",1,":sockjs_options"],[":def_transport","xhr_streaming","xhr_streaming",1,":sockjs_options",":streaming_manager"],[":def_transport","xdr_streaming","xdr_streaming",1,":sockjs_options",":streaming_manager"],[":def_transport","xhr_polling","xhr_polling",1,":sockjs_options"],[":def_transport","xdr_polling","xdr_polling",1,":sockjs_options"],[":def","ws_loop",[":sequential",":timeouts",":ws"]],[":def","wss_loop",[":sequential",":timeouts",":wss"]],[":def","sockjs_loop",[":sequential",":timeouts",":sockjs"]],[":def","streaming_loop",[":sequential",":timeouts",[":if",[":is_supported",":xhr_streaming"],":xhr_streaming",":xdr_streaming"]]],[":def","polling_loop",[":sequential",":timeouts",[":if",[":is_supported",":xhr_polling"],":xhr_polling",":xdr_polling"]]],[":def","http_loop",[":if",[":is_supported",":streaming_loop"],[":best_connected_ever",":streaming_loop",[":delayed",4e3,[":polling_loop"]]],[":polling_loop"]]],[":def","http_fallback_loop",[":if",[":is_supported",":http_loop"],[":http_loop"],[":sockjs_loop"]]],[":def","strategy",[":cached",18e5,[":first_connected",[":if",[":is_supported",":ws"],t.encrypted?[":best_connected_ever",":ws_loop",[":delayed",2e3,[":http_fallback_loop"]]]:[":best_connected_ever",":ws_loop",[":delayed",2e3,[":wss_loop"]],[":delayed",5e3,[":http_fallback_loop"]]],":http_fallback_loop"]]]]]}},function(t,e,n){"use strict";var i=n(3);e.__esModule=!0,e.default=function(){var t=this;t.timeline.info(t.buildTimelineMessage({transport:t.name+(t.options.encrypted?"s":"")})),t.hooks.isInitialized()?t.changeState("initialized"):t.hooks.file?(t.changeState("initializing"),i.Dependencies.load(t.hooks.file,{encrypted:t.options.encrypted},function(e,n){t.hooks.isInitialized()?(t.changeState("initialized"),n(!0)):(e&&t.onError(e),t.onClose(),n(!1))})):t.onClose()}},function(t,e,n){"use strict";var i=n(30),o=n(32);o.default.createXDR=function(t,e){return this.createRequest(i.default,t,e)},e.__esModule=!0,e.default=o.default},function(t,e,n){"use strict";var i=n(31),o={getRequest:function(t){var e=new window.XDomainRequest;return e.ontimeout=function(){t.emit("error",new i.RequestTimedOut),t.close()},e.onerror=function(e){t.emit("error",e),t.close()},e.onprogress=function(){e.responseText&&e.responseText.length>0&&t.onChunk(200,e.responseText)},e.onload=function(){e.responseText&&e.responseText.length>0&&t.onChunk(200,e.responseText),t.emit("finished",200),t.close()},e},abortRequest:function(t){t.ontimeout=t.onerror=t.onprogress=t.onload=null,t.abort()}};e.__esModule=!0,e.default=o},function(t,e){"use strict";var n=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=function(t){function e(){t.apply(this,arguments)}return n(e,t),e}(Error);e.BadEventName=i;var o=function(t){function e(){t.apply(this,arguments)}return n(e,t),e}(Error);e.RequestTimedOut=o;var s=function(t){function e(){t.apply(this,arguments)}return n(e,t),e}(Error);e.TransportPriorityTooLow=s;var r=function(t){function e(){t.apply(this,arguments)}return n(e,t),e}(Error);e.TransportClosed=r;var a=function(t){function e(){t.apply(this,arguments)}return n(e,t),e}(Error);e.UnsupportedTransport=a;var l=function(t){function e(){t.apply(this,arguments)}return n(e,t),e}(Error);e.UnsupportedStrategy=l},function(t,e,n){"use strict";var i=n(33),o=n(34),s=n(36),r=n(37),a=n(38),l={createStreamingSocket:function(t){return this.createSocket(s.default,t)},createPollingSocket:function(t){return this.createSocket(r.default,t)},createSocket:function(t,e){return new o.default(t,e)},createXHR:function(t,e){return this.createRequest(a.default,t,e)},createRequest:function(t,e,n){return new i.default(t,e,n)}};e.__esModule=!0,e.default=l},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(2),s=function(t){function e(e,n,i){t.call(this),this.hooks=e,this.method=n,this.url=i}return i(e,t),e.prototype.start=function(t){var e=this;this.position=0,this.xhr=this.hooks.getRequest(this),this.unloader=function(){e.close()},o.default.addUnloadListener(this.unloader),this.xhr.open(this.method,this.url,!0),this.xhr.setRequestHeader&&this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.send(t)},e.prototype.close=function(){this.unloader&&(o.default.removeUnloadListener(this.unloader),this.unloader=null),this.xhr&&(this.hooks.abortRequest(this.xhr),this.xhr=null)},e.prototype.onChunk=function(t,e){for(;;){var n=this.advanceBuffer(e);if(!n)break;this.emit("chunk",{status:t,data:n})}this.isBufferTooLong(e)&&this.emit("buffer_too_long")},e.prototype.advanceBuffer=function(t){var e=t.slice(this.position),n=e.indexOf("\n");return-1!==n?(this.position+=n+1,e.slice(0,n)):null},e.prototype.isBufferTooLong=function(t){return this.position===t.length&&t.length>262144},e}(n(24).default);e.__esModule=!0,e.default=s},function(t,e,n){"use strict";function i(t){return t+(-1===t.indexOf("?")?"?":"&")+"t="+ +new Date+"&n="+l++}function o(t){return Math.floor(Math.random()*t)}var s=n(35),r=n(11),a=n(2),l=1,c=function(){function t(t,e){this.hooks=t,this.session=o(1e3)+"/"+function(t){for(var e=[],n=0;n<8;n++)e.push(o(32).toString(32));return e.join("")}(),this.location=function(t){var e=/([^\?]*)\/*(\??.*)/.exec(t);return{base:e[1],queryString:e[2]}}(e),this.readyState=s.default.CONNECTING,this.openStream()}return t.prototype.send=function(t){return this.sendRaw(JSON.stringify([t]))},t.prototype.ping=function(){this.hooks.sendHeartbeat(this)},t.prototype.close=function(t,e){this.onClose(t,e,!0)},t.prototype.sendRaw=function(t){if(this.readyState!==s.default.OPEN)return!1;try{return a.default.createSocketRequest("POST",i(function(t,e){return t.base+"/"+e+"/xhr_send"}(this.location,this.session))).start(t),!0}catch(t){return!1}},t.prototype.reconnect=function(){this.closeStream(),this.openStream()},t.prototype.onClose=function(t,e,n){this.closeStream(),this.readyState=s.default.CLOSED,this.onclose&&this.onclose({code:t,reason:e,wasClean:n})},t.prototype.onChunk=function(t){var e;if(200===t.status)switch(this.readyState===s.default.OPEN&&this.onActivity(),t.data.slice(0,1)){case"o":e=JSON.parse(t.data.slice(1)||"{}"),this.onOpen(e);break;case"a":e=JSON.parse(t.data.slice(1)||"[]");for(var n=0;n<e.length;n++)this.onEvent(e[n]);break;case"m":e=JSON.parse(t.data.slice(1)||"null"),this.onEvent(e);break;case"h":this.hooks.onHeartbeat(this);break;case"c":e=JSON.parse(t.data.slice(1)||"[]"),this.onClose(e[0],e[1],!0)}},t.prototype.onOpen=function(t){this.readyState===s.default.CONNECTING?(t&&t.hostname&&(this.location.base=function(t,e){var n=/(https?:\/\/)([^\/:]+)((\/|:)?.*)/.exec(t);return n[1]+e+n[3]}(this.location.base,t.hostname)),this.readyState=s.default.OPEN,this.onopen&&this.onopen()):this.onClose(1006,"Server lost session",!0)},t.prototype.onEvent=function(t){this.readyState===s.default.OPEN&&this.onmessage&&this.onmessage({data:t})},t.prototype.onActivity=function(){this.onactivity&&this.onactivity()},t.prototype.onError=function(t){this.onerror&&this.onerror(t)},t.prototype.openStream=function(){var t=this;this.stream=a.default.createSocketRequest("POST",i(this.hooks.getReceiveURL(this.location,this.session))),this.stream.bind("chunk",function(e){t.onChunk(e)}),this.stream.bind("finished",function(e){t.hooks.onFinished(t,e)}),this.stream.bind("buffer_too_long",function(){t.reconnect()});try{this.stream.start()}catch(e){r.default.defer(function(){t.onError(e),t.onClose(1006,"Could not start streaming",!1)})}},t.prototype.closeStream=function(){this.stream&&(this.stream.unbind_all(),this.stream.close(),this.stream=null)},t}();e.__esModule=!0,e.default=c},function(t,e){"use strict";var n;!function(t){t[t.CONNECTING=0]="CONNECTING",t[t.OPEN=1]="OPEN",t[t.CLOSED=3]="CLOSED"}(n||(n={})),e.__esModule=!0,e.default=n},function(t,e){"use strict";e.__esModule=!0,e.default={getReceiveURL:function(t,e){return t.base+"/"+e+"/xhr_streaming"+t.queryString},onHeartbeat:function(t){t.sendRaw("[]")},sendHeartbeat:function(t){t.sendRaw("[]")},onFinished:function(t,e){t.onClose(1006,"Connection interrupted ("+e+")",!1)}}},function(t,e){"use strict";e.__esModule=!0,e.default={getReceiveURL:function(t,e){return t.base+"/"+e+"/xhr"+t.queryString},onHeartbeat:function(){},sendHeartbeat:function(t){t.sendRaw("[]")},onFinished:function(t,e){200===e?t.reconnect():t.onClose(1006,"Connection interrupted ("+e+")",!1)}}},function(t,e,n){"use strict";var i=n(2),o={getRequest:function(t){var e=new(i.default.getXHRAPI());return e.onreadystatechange=e.onprogress=function(){switch(e.readyState){case 3:e.responseText&&e.responseText.length>0&&t.onChunk(e.status,e.responseText);break;case 4:e.responseText&&e.responseText.length>0&&t.onChunk(e.status,e.responseText),t.emit("finished",e.status),t.close()}},e},abortRequest:function(t){t.onreadystatechange=null,t.abort()}};e.__esModule=!0,e.default=o},function(t,e,n){"use strict";var i=n(9),o=n(11),s=n(40),r=function(){function t(t,e,n){this.key=t,this.session=e,this.events=[],this.options=n||{},this.sent=0,this.uniqueID=0}return t.prototype.log=function(t,e){t<=this.options.level&&(this.events.push(i.extend({},e,{timestamp:o.default.now()})),this.options.limit&&this.events.length>this.options.limit&&this.events.shift())},t.prototype.error=function(t){this.log(s.default.ERROR,t)},t.prototype.info=function(t){this.log(s.default.INFO,t)},t.prototype.debug=function(t){this.log(s.default.DEBUG,t)},t.prototype.isEmpty=function(){return 0===this.events.length},t.prototype.send=function(t,e){var n=this,o=i.extend({session:this.session,bundle:this.sent+1,key:this.key,lib:"js",version:this.options.version,cluster:this.options.cluster,features:this.options.features,timeline:this.events},this.options.params);return this.events=[],t(o,function(t,i){t||n.sent++,e&&e(t,i)}),!0},t.prototype.generateUniqueID=function(){return this.uniqueID++,this.uniqueID},t}();e.__esModule=!0,e.default=r},function(t,e){"use strict";var n;!function(t){t[t.ERROR=3]="ERROR",t[t.INFO=6]="INFO",t[t.DEBUG=7]="DEBUG"}(n||(n={})),e.__esModule=!0,e.default=n},function(t,e,n){"use strict";function i(t){return function(e){return[t.apply(this,arguments),e]}}function o(t){return"string"==typeof t&&":"===t.charAt(0)}function s(t,e){return e[t.slice(1)]}var r=n(9),a=n(11),l=n(42),c=n(31),u=n(56),h=n(57),d=n(58),f=n(59),p=n(60),g=n(61),m=n(62),v=n(2).default.Transports;e.build=function(t,e){return function t(e,n){return"string"==typeof e?function(t,e){if(!o(t))return[t,e];var n=s(t,e);if(void 0===n)throw"Undefined symbol "+t;return[n,e]}(e,n):"object"==typeof e&&e instanceof Array&&e.length>0?function(e,n){if(o(e[0])){var i=s(e[0],n);if(e.length>1){if("function"!=typeof i)throw"Calling non-function "+e[0];var a=[r.extend({},n)].concat(r.map(e.slice(1),function(e){return t(e,r.extend({},n))[0]}));return i.apply(this,a)}return[i,n]}return function e(n,i){if(0===n.length)return[[],i];var o=t(n[0],i),s=e(n.slice(1),o[1]);return[[o[0]].concat(s[0]),s[1]]}(e,n)}(e,n):[e,n]}(t,r.extend({},b,e))[1].strategy};var y={isSupported:function(){return!1},connect:function(t,e){var n=a.default.defer(function(){e(new c.UnsupportedStrategy)});return{abort:function(){n.ensureAborted()},forceMinPriority:function(){}}}},b={extend:function(t,e,n){return[r.extend({},e,n),t]},def:function(t,e,n){if(void 0!==t[e])throw"Redefining symbol "+e;return t[e]=n,[void 0,t]},def_transport:function(t,e,n,i,o,s){var a,l=v[n];if(!l)throw new c.UnsupportedTransport(n);a=t.enabledTransports&&-1===r.arrayIndexOf(t.enabledTransports,e)||t.disabledTransports&&-1!==r.arrayIndexOf(t.disabledTransports,e)?y:new u.default(e,i,s?s.getAssistant(l):l,r.extend({key:t.key,encrypted:t.encrypted,timeline:t.timeline,ignoreNullOrigin:t.ignoreNullOrigin},o));var h=t.def(t,e,a)[1];return h.Transports=t.Transports||{},h.Transports[e]=a,[void 0,h]},transport_manager:i(function(t,e){return new l.default(e)}),sequential:i(function(t,e){var n=Array.prototype.slice.call(arguments,2);return new h.default(n,e)}),cached:i(function(t,e,n){return new f.default(n,t.Transports,{ttl:e,timeline:t.timeline,encrypted:t.encrypted})}),first_connected:i(function(t,e){return new m.default(e)}),best_connected_ever:i(function(){var t=Array.prototype.slice.call(arguments,1);return new d.default(t)}),delayed:i(function(t,e,n){return new p.default(n,{delay:e})}),if:i(function(t,e,n,i){return new g.default(e,n,i)}),is_supported:i(function(t,e){return function(){return e.isSupported()}})}},function(t,e,n){"use strict";var i=n(43),o=function(){function t(t){this.options=t||{},this.livesLeft=this.options.lives||1/0}return t.prototype.getAssistant=function(t){return i.default.createAssistantToTheTransportManager(this,t,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})},t.prototype.isAlive=function(){return this.livesLeft>0},t.prototype.reportDeath=function(){this.livesLeft-=1},t}();e.__esModule=!0,e.default=o},function(t,e,n){"use strict";var i=n(44),o=n(45),s=n(48),r=n(49),a=n(50),l=n(51),c=n(52),u=n(54),h=n(55),d={createChannels:function(){return new h.default},createConnectionManager:function(t,e){return new u.default(t,e)},createChannel:function(t,e){return new c.default(t,e)},createPrivateChannel:function(t,e){return new l.default(t,e)},createPresenceChannel:function(t,e){return new a.default(t,e)},createTimelineSender:function(t,e){return new r.default(t,e)},createAuthorizer:function(t,e){return e.authorizer?e.authorizer(t,e):new s.default(t,e)},createHandshake:function(t,e){return new o.default(t,e)},createAssistantToTheTransportManager:function(t,e,n){return new i.default(t,e,n)}};e.__esModule=!0,e.default=d},function(t,e,n){"use strict";var i=n(11),o=n(9),s=function(){function t(t,e,n){this.manager=t,this.transport=e,this.minPingDelay=n.minPingDelay,this.maxPingDelay=n.maxPingDelay,this.pingDelay=void 0}return t.prototype.createConnection=function(t,e,n,s){var r=this;s=o.extend({},s,{activityTimeout:this.pingDelay});var a=this.transport.createConnection(t,e,n,s),l=null,c=function(){a.unbind("open",c),a.bind("closed",u),l=i.default.now()},u=function(t){if(a.unbind("closed",u),1002===t.code||1003===t.code)r.manager.reportDeath();else if(!t.wasClean&&l){var e=i.default.now()-l;e<2*r.maxPingDelay&&(r.manager.reportDeath(),r.pingDelay=Math.max(e/2,r.minPingDelay))}};return a.bind("open",c),a},t.prototype.isSupported=function(t){return this.manager.isAlive()&&this.transport.isSupported(t)},t}();e.__esModule=!0,e.default=s},function(t,e,n){"use strict";var i=n(9),o=n(46),s=n(47),r=function(){function t(t,e){this.transport=t,this.callback=e,this.bindListeners()}return t.prototype.close=function(){this.unbindListeners(),this.transport.close()},t.prototype.bindListeners=function(){var t=this;this.onMessage=function(e){var n;t.unbindListeners();try{n=o.processHandshake(e)}catch(e){return t.finish("error",{error:e}),void t.transport.close()}"connected"===n.action?t.finish("connected",{connection:new s.default(n.id,t.transport),activityTimeout:n.activityTimeout}):(t.finish(n.action,{error:n.error}),t.transport.close())},this.onClosed=function(e){t.unbindListeners();var n=o.getCloseAction(e)||"backoff",i=o.getCloseError(e);t.finish(n,{error:i})},this.transport.bind("message",this.onMessage),this.transport.bind("closed",this.onClosed)},t.prototype.unbindListeners=function(){this.transport.unbind("message",this.onMessage),this.transport.unbind("closed",this.onClosed)},t.prototype.finish=function(t,e){this.callback(i.extend({transport:this.transport,action:t},e))},t}();e.__esModule=!0,e.default=r},function(t,e){"use strict";e.decodeMessage=function(t){try{var e=JSON.parse(t.data);if("string"==typeof e.data)try{e.data=JSON.parse(e.data)}catch(t){if(!(t instanceof SyntaxError))throw t}return e}catch(e){throw{type:"MessageParseError",error:e,data:t.data}}},e.encodeMessage=function(t){return JSON.stringify(t)},e.processHandshake=function(t){if("pusher:connection_established"===(t=e.decodeMessage(t)).event){if(!t.data.activity_timeout)throw"No activity timeout specified in handshake";return{action:"connected",id:t.data.socket_id,activityTimeout:1e3*t.data.activity_timeout}}if("pusher:error"===t.event)return{action:this.getCloseAction(t.data),error:this.getCloseError(t.data)};throw"Invalid handshake"},e.getCloseAction=function(t){return t.code<4e3?t.code>=1002&&t.code<=1004?"backoff":null:4e3===t.code?"ssl_only":t.code<4100?"refused":t.code<4200?"backoff":t.code<4300?"retry":"refused"},e.getCloseError=function(t){return 1e3!==t.code&&1001!==t.code?{type:"PusherError",data:{code:t.code,message:t.reason||t.message}}:null}},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(9),s=n(24),r=n(46),a=n(8),l=function(t){function e(e,n){t.call(this),this.id=e,this.transport=n,this.activityTimeout=n.activityTimeout,this.bindListeners()}return i(e,t),e.prototype.handlesActivityChecks=function(){return this.transport.handlesActivityChecks()},e.prototype.send=function(t){return this.transport.send(t)},e.prototype.send_event=function(t,e,n){var i={event:t,data:e};return n&&(i.channel=n),a.default.debug("Event sent",i),this.send(r.encodeMessage(i))},e.prototype.ping=function(){this.transport.supportsPing()?this.transport.ping():this.send_event("pusher:ping",{})},e.prototype.close=function(){this.transport.close()},e.prototype.bindListeners=function(){var t=this,e={message:function(e){var n;try{n=r.decodeMessage(e)}catch(n){t.emit("error",{type:"MessageParseError",error:n,data:e.data})}if(void 0!==n){switch(a.default.debug("Event recd",n),n.event){case"pusher:error":t.emit("error",{type:"PusherError",data:n.data});break;case"pusher:ping":t.emit("ping");break;case"pusher:pong":t.emit("pong")}t.emit("message",n)}},activity:function(){t.emit("activity")},error:function(e){t.emit("error",{type:"WebSocketError",error:e})},closed:function(e){n(),e&&e.code&&t.handleCloseEvent(e),t.transport=null,t.emit("closed")}},n=function(){o.objectApply(e,function(e,n){t.transport.unbind(n,e)})};o.objectApply(e,function(e,n){t.transport.bind(n,e)})},e.prototype.handleCloseEvent=function(t){var e=r.getCloseAction(t),n=r.getCloseError(t);n&&this.emit("error",n),e&&this.emit(e)},e}(s.default);e.__esModule=!0,e.default=l},function(t,e,n){"use strict";var i=n(2),o=function(){function t(t,e){this.channel=t;var n=e.authTransport;if("undefined"==typeof i.default.getAuthorizers()[n])throw"'"+n+"' is not a recognized auth transport";this.type=n,this.options=e,this.authOptions=(e||{}).auth||{}}return t.prototype.composeQuery=function(t){var e="socket_id="+encodeURIComponent(t)+"&channel_name="+encodeURIComponent(this.channel.name);for(var n in this.authOptions.params)e+="&"+encodeURIComponent(n)+"="+encodeURIComponent(this.authOptions.params[n]);return e},t.prototype.authorize=function(e,n){return(t.authorizers=t.authorizers||i.default.getAuthorizers())[this.type].call(this,i.default,e,n)},t}();e.__esModule=!0,e.default=o},function(t,e,n){"use strict";var i=n(2),o=function(){function t(t,e){this.timeline=t,this.options=e||{}}return t.prototype.send=function(t,e){this.timeline.isEmpty()||this.timeline.send(i.default.TimelineTransport.getAgent(this,t),e)},t}();e.__esModule=!0,e.default=o},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(51),s=n(8),r=n(53),a=n(14),l=function(t){function e(e,n){t.call(this,e,n),this.members=new r.default}return i(e,t),e.prototype.authorize=function(e,n){var i=this;t.prototype.authorize.call(this,e,function(t,e){if(!t){if(void 0===e.channel_data){var o=a.default.buildLogSuffix("authenticationEndpoint");return s.default.warn("Invalid auth response for channel '"+i.name+"',expected 'channel_data' field. "+o),void n("Invalid auth response")}var r=JSON.parse(e.channel_data);i.members.setMyID(r.user_id)}n(t,e)})},e.prototype.handleEvent=function(t,e){switch(t){case"pusher_internal:subscription_succeeded":this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):(this.members.onSubscription(e),this.emit("pusher:subscription_succeeded",this.members));break;case"pusher_internal:member_added":var n=this.members.addMember(e);this.emit("pusher:member_added",n);break;case"pusher_internal:member_removed":var i=this.members.removeMember(e);i&&this.emit("pusher:member_removed",i);break;default:o.default.prototype.handleEvent.call(this,t,e)}},e.prototype.disconnect=function(){this.members.reset(),t.prototype.disconnect.call(this)},e}(o.default);e.__esModule=!0,e.default=l},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(43),s=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.authorize=function(t,e){return o.default.createAuthorizer(this,this.pusher.config).authorize(t,e)},e}(n(52).default);e.__esModule=!0,e.default=s},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(24),s=n(31),r=n(8),a=function(t){function e(e,n){t.call(this,function(t,n){r.default.debug("No callbacks on "+e+" for "+t)}),this.name=e,this.pusher=n,this.subscribed=!1,this.subscriptionPending=!1,this.subscriptionCancelled=!1}return i(e,t),e.prototype.authorize=function(t,e){return e(!1,{})},e.prototype.trigger=function(t,e){if(0!==t.indexOf("client-"))throw new s.BadEventName("Event '"+t+"' does not start with 'client-'");return this.pusher.send_event(t,e,this.name)},e.prototype.disconnect=function(){this.subscribed=!1,this.subscriptionPending=!1},e.prototype.handleEvent=function(t,e){0===t.indexOf("pusher_internal:")?"pusher_internal:subscription_succeeded"===t&&(this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):this.emit("pusher:subscription_succeeded",e)):this.emit(t,e)},e.prototype.subscribe=function(){var t=this;this.subscribed||(this.subscriptionPending=!0,this.subscriptionCancelled=!1,this.authorize(this.pusher.connection.socket_id,function(e,n){e?t.handleEvent("pusher:subscription_error",n):t.pusher.send_event("pusher:subscribe",{auth:n.auth,channel_data:n.channel_data,channel:t.name})}))},e.prototype.unsubscribe=function(){this.subscribed=!1,this.pusher.send_event("pusher:unsubscribe",{channel:this.name})},e.prototype.cancelSubscription=function(){this.subscriptionCancelled=!0},e.prototype.reinstateSubscription=function(){this.subscriptionCancelled=!1},e}(o.default);e.__esModule=!0,e.default=a},function(t,e,n){"use strict";var i=n(9),o=function(){function t(){this.reset()}return t.prototype.get=function(t){return Object.prototype.hasOwnProperty.call(this.members,t)?{id:t,info:this.members[t]}:null},t.prototype.each=function(t){var e=this;i.objectApply(this.members,function(n,i){t(e.get(i))})},t.prototype.setMyID=function(t){this.myID=t},t.prototype.onSubscription=function(t){this.members=t.presence.hash,this.count=t.presence.count,this.me=this.get(this.myID)},t.prototype.addMember=function(t){return null===this.get(t.user_id)&&this.count++,this.members[t.user_id]=t.user_info,this.get(t.user_id)},t.prototype.removeMember=function(t){var e=this.get(t.user_id);return e&&(delete this.members[t.user_id],this.count--),e},t.prototype.reset=function(){this.members={},this.count=0,this.myID=null,this.me=null},t}();e.__esModule=!0,e.default=o},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(24),s=n(12),r=n(8),a=n(9),l=n(2),c=function(t){function e(e,n){var i=this;t.call(this),this.key=e,this.options=n||{},this.state="initialized",this.connection=null,this.encrypted=!!n.encrypted,this.timeline=this.options.timeline,this.connectionCallbacks=this.buildConnectionCallbacks(),this.errorCallbacks=this.buildErrorCallbacks(),this.handshakeCallbacks=this.buildHandshakeCallbacks(this.errorCallbacks);var o=l.default.getNetwork();o.bind("online",function(){i.timeline.info({netinfo:"online"}),"connecting"!==i.state&&"unavailable"!==i.state||i.retryIn(0)}),o.bind("offline",function(){i.timeline.info({netinfo:"offline"}),i.connection&&i.sendActivityCheck()}),this.updateStrategy()}return i(e,t),e.prototype.connect=function(){if(!this.connection&&!this.runner){if(!this.strategy.isSupported())return void this.updateState("failed");this.updateState("connecting"),this.startConnecting(),this.setUnavailableTimer()}},e.prototype.send=function(t){return!!this.connection&&this.connection.send(t)},e.prototype.send_event=function(t,e,n){return!!this.connection&&this.connection.send_event(t,e,n)},e.prototype.disconnect=function(){this.disconnectInternally(),this.updateState("disconnected")},e.prototype.isEncrypted=function(){return this.encrypted},e.prototype.startConnecting=function(){var t=this,e=function(n,i){n?t.runner=t.strategy.connect(0,e):"error"===i.action?(t.emit("error",{type:"HandshakeError",error:i.error}),t.timeline.error({handshakeError:i.error})):(t.abortConnecting(),t.handshakeCallbacks[i.action](i))};this.runner=this.strategy.connect(0,e)},e.prototype.abortConnecting=function(){this.runner&&(this.runner.abort(),this.runner=null)},e.prototype.disconnectInternally=function(){this.abortConnecting(),this.clearRetryTimer(),this.clearUnavailableTimer(),this.connection&&this.abandonConnection().close()},e.prototype.updateStrategy=function(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,encrypted:this.encrypted})},e.prototype.retryIn=function(t){var e=this;this.timeline.info({action:"retry",delay:t}),t>0&&this.emit("connecting_in",Math.round(t/1e3)),this.retryTimer=new s.OneOffTimer(t||0,function(){e.disconnectInternally(),e.connect()})},e.prototype.clearRetryTimer=function(){this.retryTimer&&(this.retryTimer.ensureAborted(),this.retryTimer=null)},e.prototype.setUnavailableTimer=function(){var t=this;this.unavailableTimer=new s.OneOffTimer(this.options.unavailableTimeout,function(){t.updateState("unavailable")})},e.prototype.clearUnavailableTimer=function(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()},e.prototype.sendActivityCheck=function(){var t=this;this.stopActivityCheck(),this.connection.ping(),this.activityTimer=new s.OneOffTimer(this.options.pongTimeout,function(){t.timeline.error({pong_timed_out:t.options.pongTimeout}),t.retryIn(0)})},e.prototype.resetActivityCheck=function(){var t=this;this.stopActivityCheck(),this.connection&&!this.connection.handlesActivityChecks()&&(this.activityTimer=new s.OneOffTimer(this.activityTimeout,function(){t.sendActivityCheck()}))},e.prototype.stopActivityCheck=function(){this.activityTimer&&this.activityTimer.ensureAborted()},e.prototype.buildConnectionCallbacks=function(){var t=this;return{message:function(e){t.resetActivityCheck(),t.emit("message",e)},ping:function(){t.send_event("pusher:pong",{})},activity:function(){t.resetActivityCheck()},error:function(e){t.emit("error",{type:"WebSocketError",error:e})},closed:function(){t.abandonConnection(),t.shouldRetry()&&t.retryIn(1e3)}}},e.prototype.buildHandshakeCallbacks=function(t){var e=this;return a.extend({},t,{connected:function(t){e.activityTimeout=Math.min(e.options.activityTimeout,t.activityTimeout,t.connection.activityTimeout||1/0),e.clearUnavailableTimer(),e.setConnection(t.connection),e.socket_id=e.connection.id,e.updateState("connected",{socket_id:e.socket_id})}})},e.prototype.buildErrorCallbacks=function(){var t=this,e=function(e){return function(n){n.error&&t.emit("error",{type:"WebSocketError",error:n.error}),e(n)}};return{ssl_only:e(function(){t.encrypted=!0,t.updateStrategy(),t.retryIn(0)}),refused:e(function(){t.disconnect()}),backoff:e(function(){t.retryIn(1e3)}),retry:e(function(){t.retryIn(0)})}},e.prototype.setConnection=function(t){for(var e in this.connection=t,this.connectionCallbacks)this.connection.bind(e,this.connectionCallbacks[e]);this.resetActivityCheck()},e.prototype.abandonConnection=function(){if(this.connection){for(var t in this.stopActivityCheck(),this.connectionCallbacks)this.connection.unbind(t,this.connectionCallbacks[t]);var e=this.connection;return this.connection=null,e}},e.prototype.updateState=function(t,e){var n=this.state;if(this.state=t,n!==t){var i=t;"connected"===i&&(i+=" with new socket ID "+e.socket_id),r.default.debug("State changed",n+" -> "+i),this.timeline.info({state:t,params:e}),this.emit("state_change",{previous:n,current:t}),this.emit(t,e)}},e.prototype.shouldRetry=function(){return"connecting"===this.state||"connected"===this.state},e}(o.default);e.__esModule=!0,e.default=c},function(t,e,n){"use strict";var i=n(9),o=n(43),s=function(){function t(){this.channels={}}return t.prototype.add=function(t,e){return this.channels[t]||(this.channels[t]=function(t,e){return 0===t.indexOf("private-")?o.default.createPrivateChannel(t,e):0===t.indexOf("presence-")?o.default.createPresenceChannel(t,e):o.default.createChannel(t,e)}(t,e)),this.channels[t]},t.prototype.all=function(){return i.values(this.channels)},t.prototype.find=function(t){return this.channels[t]},t.prototype.remove=function(t){var e=this.channels[t];return delete this.channels[t],e},t.prototype.disconnect=function(){i.objectApply(this.channels,function(t){t.disconnect()})},t}();e.__esModule=!0,e.default=s},function(t,e,n){"use strict";function i(t,e){return s.default.defer(function(){e(t)}),{abort:function(){},forceMinPriority:function(){}}}var o=n(43),s=n(11),r=n(31),a=n(9),l=function(){function t(t,e,n,i){this.name=t,this.priority=e,this.transport=n,this.options=i||{}}return t.prototype.isSupported=function(){return this.transport.isSupported({encrypted:this.options.encrypted})},t.prototype.connect=function(t,e){var n=this;if(!this.isSupported())return i(new r.UnsupportedStrategy,e);if(this.priority<t)return i(new r.TransportPriorityTooLow,e);var s=!1,l=this.transport.createConnection(this.name,this.priority,this.options.key,this.options),c=null,u=function(){l.unbind("initialized",u),l.connect()},h=function(){c=o.default.createHandshake(l,function(t){s=!0,p(),e(null,t)})},d=function(t){p(),e(t)},f=function(){var t;p(),t=a.safeJSONStringify(l),e(new r.TransportClosed(t))},p=function(){l.unbind("initialized",u),l.unbind("open",h),l.unbind("error",d),l.unbind("closed",f)};return l.bind("initialized",u),l.bind("open",h),l.bind("error",d),l.bind("closed",f),l.initialize(),{abort:function(){s||(p(),c?c.close():l.close())},forceMinPriority:function(t){s||n.priority<t&&(c?c.close():l.close())}}},t}();e.__esModule=!0,e.default=l},function(t,e,n){"use strict";var i=n(9),o=n(11),s=n(12),r=function(){function t(t,e){this.strategies=t,this.loop=Boolean(e.loop),this.failFast=Boolean(e.failFast),this.timeout=e.timeout,this.timeoutLimit=e.timeoutLimit}return t.prototype.isSupported=function(){return i.any(this.strategies,o.default.method("isSupported"))},t.prototype.connect=function(t,e){var n=this,i=this.strategies,o=0,s=this.timeout,r=null,a=function(l,c){c?e(null,c):(o+=1,n.loop&&(o%=i.length),o<i.length?(s&&(s*=2,n.timeoutLimit&&(s=Math.min(s,n.timeoutLimit))),r=n.tryStrategy(i[o],t,{timeout:s,failFast:n.failFast},a)):e(!0))};return r=this.tryStrategy(i[o],t,{timeout:s,failFast:this.failFast},a),{abort:function(){r.abort()},forceMinPriority:function(e){t=e,r&&r.forceMinPriority(e)}}},t.prototype.tryStrategy=function(t,e,n,i){var o=null,r=null;return n.timeout>0&&(o=new s.OneOffTimer(n.timeout,function(){r.abort(),i(!0)})),r=t.connect(e,function(t,e){t&&o&&o.isRunning()&&!n.failFast||(o&&o.ensureAborted(),i(t,e))}),{abort:function(){o&&o.ensureAborted(),r.abort()},forceMinPriority:function(t){r.forceMinPriority(t)}}},t}();e.__esModule=!0,e.default=r},function(t,e,n){"use strict";function i(t){t.error||t.aborted||(t.abort(),t.aborted=!0)}var o=n(9),s=n(11),r=function(){function t(t){this.strategies=t}return t.prototype.isSupported=function(){return o.any(this.strategies,s.default.method("isSupported"))},t.prototype.connect=function(t,e){return function(t,e,n){var s=o.map(t,function(t,i,o,s){return t.connect(e,n(i,s))});return{abort:function(){o.apply(s,i)},forceMinPriority:function(t){o.apply(s,function(e){e.forceMinPriority(t)})}}}(this.strategies,t,function(t,n){return function(i,s){return n[t].error=i,i?void(o.all(n,function(t){return Boolean(t.error)})&&e(!0)):(o.apply(n,function(t){t.forceMinPriority(s.transport.priority)}),void e(null,s))}})},t}();e.__esModule=!0,e.default=r},function(t,e,n){"use strict";function i(t){return"pusherTransport"+(t?"Encrypted":"Unencrypted")}function o(t){var e=l.default.getLocalStorage();if(e)try{var n=e[i(t)];if(n)return JSON.parse(n)}catch(e){r(t)}return null}function s(t,e,n){var o=l.default.getLocalStorage();if(o)try{o[i(t)]=u.safeJSONStringify({timestamp:a.default.now(),transport:e,latency:n})}catch(t){}}function r(t){var e=l.default.getLocalStorage();if(e)try{delete e[i(t)]}catch(t){}}var a=n(11),l=n(2),c=n(57),u=n(9),h=function(){function t(t,e,n){this.strategy=t,this.transports=e,this.ttl=n.ttl||18e5,this.encrypted=n.encrypted,this.timeline=n.timeline}return t.prototype.isSupported=function(){return this.strategy.isSupported()},t.prototype.connect=function(t,e){var n=this.encrypted,i=o(n),l=[this.strategy];if(i&&i.timestamp+this.ttl>=a.default.now()){var u=this.transports[i.transport];u&&(this.timeline.info({cached:!0,transport:i.transport,latency:i.latency}),l.push(new c.default([u],{timeout:2*i.latency+1e3,failFast:!0})))}var h=a.default.now(),d=l.pop().connect(t,function i(o,c){o?(r(n),l.length>0?(h=a.default.now(),d=l.pop().connect(t,i)):e(o)):(s(n,c.transport.name,a.default.now()-h),e(null,c))});return{abort:function(){d.abort()},forceMinPriority:function(e){t=e,d&&d.forceMinPriority(e)}}},t}();e.__esModule=!0,e.default=h},function(t,e,n){"use strict";var i=n(12),o=function(){function t(t,e){var n=e.delay;this.strategy=t,this.options={delay:n}}return t.prototype.isSupported=function(){return this.strategy.isSupported()},t.prototype.connect=function(t,e){var n,o=this.strategy,s=new i.OneOffTimer(this.options.delay,function(){n=o.connect(t,e)});return{abort:function(){s.ensureAborted(),n&&n.abort()},forceMinPriority:function(e){t=e,n&&n.forceMinPriority(e)}}},t}();e.__esModule=!0,e.default=o},function(t,e){"use strict";var n=function(){function t(t,e,n){this.test=t,this.trueBranch=e,this.falseBranch=n}return t.prototype.isSupported=function(){return(this.test()?this.trueBranch:this.falseBranch).isSupported()},t.prototype.connect=function(t,e){return(this.test()?this.trueBranch:this.falseBranch).connect(t,e)},t}();e.__esModule=!0,e.default=n},function(t,e){"use strict";var n=function(){function t(t){this.strategy=t}return t.prototype.isSupported=function(){return this.strategy.isSupported()},t.prototype.connect=function(t,e){var n=this.strategy.connect(t,function(t,i){i&&n.abort(),e(t,i)});return n},t}();e.__esModule=!0,e.default=n},function(t,e,n){"use strict";var i=n(5);e.getGlobalConfig=function(){return{wsHost:i.default.host,wsPort:i.default.ws_port,wssPort:i.default.wss_port,wsPath:i.default.ws_path,httpHost:i.default.sockjs_host,httpPort:i.default.sockjs_http_port,httpsPort:i.default.sockjs_https_port,httpPath:i.default.sockjs_path,statsHost:i.default.stats_host,authEndpoint:i.default.channel_auth_endpoint,authTransport:i.default.channel_auth_transport,activity_timeout:i.default.activity_timeout,pong_timeout:i.default.pong_timeout,unavailable_timeout:i.default.unavailable_timeout}},e.getClusterConfig=function(t){return{wsHost:"ws-"+t+".pusher.com",httpHost:"sockjs-"+t+".pusher.com"}}}])}),function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Quill=e():t.Quill=e()}("undefined"!=typeof self?self:this,function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=109)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(17),o=n(18),s=n(19),r=n(45),a=n(46),l=n(47),c=n(48),u=n(49),h=n(12),d=n(32),f=n(33),p=n(31),g=n(1);e.default={Scope:g.Scope,create:g.create,find:g.find,query:g.query,register:g.register,Container:i.default,Format:o.default,Leaf:s.default,Embed:c.default,Scroll:r.default,Block:l.default,Inline:a.default,Text:u.default,Attributor:{Attribute:h.default,Class:d.default,Style:f.default,Store:p.default}}},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(e){var n=this;return(n=t.call(this,e="[Parchment] "+e)||this).message=e,n.name=n.constructor.name,n}return o(e,t),e}(Error);e.ParchmentError=s;var r,a={},l={},c={},u={};function h(t,e){var n;if(void 0===e&&(e=r.ANY),"string"==typeof t)n=u[t]||a[t];else if(t instanceof Text||t.nodeType===Node.TEXT_NODE)n=u.text;else if("number"==typeof t)t&r.LEVEL&r.BLOCK?n=u.block:t&r.LEVEL&r.INLINE&&(n=u.inline);else if(t instanceof HTMLElement){var i=(t.getAttribute("class")||"").split(/\s+/);for(var o in i)if(n=l[i[o]])break;n=n||c[t.tagName]}return null==n?null:e&r.LEVEL&n.scope&&e&r.TYPE&n.scope?n:null}e.DATA_KEY="__blot",function(t){t[t.TYPE=3]="TYPE",t[t.LEVEL=12]="LEVEL",t[t.ATTRIBUTE=13]="ATTRIBUTE",t[t.BLOT=14]="BLOT",t[t.INLINE=7]="INLINE",t[t.BLOCK=11]="BLOCK",t[t.BLOCK_BLOT=10]="BLOCK_BLOT",t[t.INLINE_BLOT=6]="INLINE_BLOT",t[t.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",t[t.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",t[t.ANY=15]="ANY"}(r=e.Scope||(e.Scope={})),e.create=function(t,e){var n=h(t);if(null==n)throw new s("Unable to create "+t+" blot");return new n(t instanceof Node||t.nodeType===Node.TEXT_NODE?t:n.create(e),e)},e.find=function t(n,i){return void 0===i&&(i=!1),null==n?null:null!=n[e.DATA_KEY]?n[e.DATA_KEY].blot:i?t(n.parentNode,i):null},e.query=h,e.register=function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(e.length>1)return e.map(function(e){return t(e)});var i=e[0];if("string"!=typeof i.blotName&&"string"!=typeof i.attrName)throw new s("Invalid definition");if("abstract"===i.blotName)throw new s("Cannot register abstract class");return u[i.blotName||i.attrName]=i,"string"==typeof i.keyName?a[i.keyName]=i:(null!=i.className&&(l[i.className]=i),null!=i.tagName&&(i.tagName=Array.isArray(i.tagName)?i.tagName.map(function(t){return t.toUpperCase()}):i.tagName.toUpperCase(),(Array.isArray(i.tagName)?i.tagName:[i.tagName]).forEach(function(t){null!=c[t]&&null!=i.className||(c[t]=i)}))),i}},function(t,e,n){var i=n(51),o=n(11),s=n(3),r=n(20),a=String.fromCharCode(0),l=function(t){this.ops=Array.isArray(t)?t:null!=t&&Array.isArray(t.ops)?t.ops:[]};l.prototype.insert=function(t,e){var n={};return 0===t.length?this:(n.insert=t,null!=e&&"object"==typeof e&&Object.keys(e).length>0&&(n.attributes=e),this.push(n))},l.prototype.delete=function(t){return t<=0?this:this.push({delete:t})},l.prototype.retain=function(t,e){if(t<=0)return this;var n={retain:t};return null!=e&&"object"==typeof e&&Object.keys(e).length>0&&(n.attributes=e),this.push(n)},l.prototype.push=function(t){var e=this.ops.length,n=this.ops[e-1];if(t=s(!0,{},t),"object"==typeof n){if("number"==typeof t.delete&&"number"==typeof n.delete)return this.ops[e-1]={delete:n.delete+t.delete},this;if("number"==typeof n.delete&&null!=t.insert&&"object"!=typeof(n=this.ops[(e-=1)-1]))return this.ops.unshift(t),this;if(o(t.attributes,n.attributes)){if("string"==typeof t.insert&&"string"==typeof n.insert)return this.ops[e-1]={insert:n.insert+t.insert},"object"==typeof t.attributes&&(this.ops[e-1].attributes=t.attributes),this;if("number"==typeof t.retain&&"number"==typeof n.retain)return this.ops[e-1]={retain:n.retain+t.retain},"object"==typeof t.attributes&&(this.ops[e-1].attributes=t.attributes),this}}return e===this.ops.length?this.ops.push(t):this.ops.splice(e,0,t),this},l.prototype.chop=function(){var t=this.ops[this.ops.length-1];return t&&t.retain&&!t.attributes&&this.ops.pop(),this},l.prototype.filter=function(t){return this.ops.filter(t)},l.prototype.forEach=function(t){this.ops.forEach(t)},l.prototype.map=function(t){return this.ops.map(t)},l.prototype.partition=function(t){var e=[],n=[];return this.forEach(function(i){(t(i)?e:n).push(i)}),[e,n]},l.prototype.reduce=function(t,e){return this.ops.reduce(t,e)},l.prototype.changeLength=function(){return this.reduce(function(t,e){return e.insert?t+r.length(e):e.delete?t-e.delete:t},0)},l.prototype.length=function(){return this.reduce(function(t,e){return t+r.length(e)},0)},l.prototype.slice=function(t,e){t=t||0,"number"!=typeof e&&(e=1/0);for(var n=[],i=r.iterator(this.ops),o=0;o<e&&i.hasNext();){var s;o<t?s=i.next(t-o):(s=i.next(e-o),n.push(s)),o+=r.length(s)}return new l(n)},l.prototype.compose=function(t){for(var e=r.iterator(this.ops),n=r.iterator(t.ops),i=new l;e.hasNext()||n.hasNext();)if("insert"===n.peekType())i.push(n.next());else if("delete"===e.peekType())i.push(e.next());else{var o=Math.min(e.peekLength(),n.peekLength()),s=e.next(o),a=n.next(o);if("number"==typeof a.retain){var c={};"number"==typeof s.retain?c.retain=o:c.insert=s.insert;var u=r.attributes.compose(s.attributes,a.attributes,"number"==typeof s.retain);u&&(c.attributes=u),i.push(c)}else"number"==typeof a.delete&&"number"==typeof s.retain&&i.push(a)}return i.chop()},l.prototype.concat=function(t){var e=new l(this.ops.slice());return t.ops.length>0&&(e.push(t.ops[0]),e.ops=e.ops.concat(t.ops.slice(1))),e},l.prototype.diff=function(t,e){if(this.ops===t.ops)return new l;var n=[this,t].map(function(e){return e.map(function(n){if(null!=n.insert)return"string"==typeof n.insert?n.insert:a;throw new Error("diff() called "+(e===t?"on":"with")+" non-document")}).join("")}),s=new l,c=i(n[0],n[1],e),u=r.iterator(this.ops),h=r.iterator(t.ops);return c.forEach(function(t){for(var e=t[1].length;e>0;){var n=0;switch(t[0]){case i.INSERT:n=Math.min(h.peekLength(),e),s.push(h.next(n));break;case i.DELETE:n=Math.min(e,u.peekLength()),u.next(n),s.delete(n);break;case i.EQUAL:n=Math.min(u.peekLength(),h.peekLength(),e);var a=u.next(n),l=h.next(n);o(a.insert,l.insert)?s.retain(n,r.attributes.diff(a.attributes,l.attributes)):s.push(l).delete(n)}e-=n}}),s.chop()},l.prototype.eachLine=function(t,e){e=e||"\n";for(var n=r.iterator(this.ops),i=new l,o=0;n.hasNext();){if("insert"!==n.peekType())return;var s=n.peek(),a=r.length(s)-n.peekLength(),c="string"==typeof s.insert?s.insert.indexOf(e,a)-a:-1;if(c<0)i.push(n.next());else if(c>0)i.push(n.next(c));else{if(!1===t(i,n.next(1).attributes||{},o))return;o+=1,i=new l}}i.length()>0&&t(i,{},o)},l.prototype.transform=function(t,e){if(e=!!e,"number"==typeof t)return this.transformPosition(t,e);for(var n=r.iterator(this.ops),i=r.iterator(t.ops),o=new l;n.hasNext()||i.hasNext();)if("insert"!==n.peekType()||!e&&"insert"===i.peekType())if("insert"===i.peekType())o.push(i.next());else{var s=Math.min(n.peekLength(),i.peekLength()),a=n.next(s),c=i.next(s);if(a.delete)continue;c.delete?o.push(c):o.retain(s,r.attributes.transform(a.attributes,c.attributes,e))}else o.retain(r.length(n.next()));return o.chop()},l.prototype.transformPosition=function(t,e){e=!!e;for(var n=r.iterator(this.ops),i=0;n.hasNext()&&i<=t;){var o=n.peekLength(),s=n.peekType();n.next(),"delete"!==s?("insert"===s&&(i<t||!e)&&(t+=o),i+=o):t-=Math.min(o,t-i)}return t},t.exports=l},function(t,e){"use strict";var n=Object.prototype.hasOwnProperty,i=Object.prototype.toString,o=function(t){return"function"==typeof Array.isArray?Array.isArray(t):"[object Array]"===i.call(t)},s=function(t){if(!t||"[object Object]"!==i.call(t))return!1;var e,o=n.call(t,"constructor"),s=t.constructor&&t.constructor.prototype&&n.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!o&&!s)return!1;for(e in t);return"undefined"==typeof e||n.call(t,e)};t.exports=function t(){var e,n,i,r,a,l,c=arguments[0],u=1,h=arguments.length,d=!1;for("boolean"==typeof c&&(d=c,c=arguments[1]||{},u=2),(null==c||"object"!=typeof c&&"function"!=typeof c)&&(c={});u<h;++u)if(null!=(e=arguments[u]))for(n in e)i=c[n],c!==(r=e[n])&&(d&&r&&(s(r)||(a=o(r)))?(a?(a=!1,l=i&&o(i)?i:[]):l=i&&s(i)?i:{},c[n]=t(d,l,r)):"undefined"!=typeof r&&(c[n]=r));return c}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.BlockEmbed=e.bubbleFormats=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,n,i)}if("value"in o)return o.value;var r=o.get;return void 0!==r?r.call(i):void 0},s=h(n(3)),r=h(n(2)),a=h(n(0)),l=h(n(16)),c=h(n(6)),u=h(n(7));function h(t){return t&&t.__esModule?t:{default:t}}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var g=function(t){function e(){return d(this,e),f(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return p(e,a.default.Embed),i(e,[{key:"attach",value:function(){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"attach",this).call(this),this.attributes=new a.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return(new r.default).insert(this.value(),(0,s.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(t,e){var n=a.default.query(t,a.default.Scope.BLOCK_ATTRIBUTE);null!=n&&this.attributes.attribute(n,e)}},{key:"formatAt",value:function(t,e,n,i){this.format(n,i)}},{key:"insertAt",value:function(t,n,i){if("string"==typeof n&&n.endsWith("\n")){var s=a.default.create(m.blotName);this.parent.insertBefore(s,0===t?this:this.next),s.insertAt(0,n.slice(0,-1))}else o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertAt",this).call(this,t,n,i)}}]),e}();g.scope=a.default.Scope.BLOCK_BLOT;var m=function(t){function e(t){d(this,e);var n=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.cache={},n}return p(e,a.default.Block),i(e,[{key:"delta",value:function(){return null==this.cache.delta&&(this.cache.delta=this.descendants(a.default.Leaf).reduce(function(t,e){return 0===e.length()?t:t.insert(e.value(),v(e))},new r.default).insert("\n",v(this))),this.cache.delta}},{key:"deleteAt",value:function(t,n){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"deleteAt",this).call(this,t,n),this.cache={}}},{key:"formatAt",value:function(t,n,i,s){n<=0||(a.default.query(i,a.default.Scope.BLOCK)?t+n===this.length()&&this.format(i,s):o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"formatAt",this).call(this,t,Math.min(n,this.length()-t-1),i,s),this.cache={})}},{key:"insertAt",value:function(t,n,i){if(null!=i)return o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertAt",this).call(this,t,n,i);if(0!==n.length){var s=n.split("\n"),r=s.shift();r.length>0&&(t<this.length()-1||null==this.children.tail?o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertAt",this).call(this,Math.min(t,this.length()-1),r):this.children.tail.insertAt(this.children.tail.length(),r),this.cache={});var a=this;s.reduce(function(t,e){return(a=a.split(t,!0)).insertAt(0,e),e.length},t+r.length)}}},{key:"insertBefore",value:function(t,n){var i=this.children.head;o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertBefore",this).call(this,t,n),i instanceof l.default&&i.remove(),this.cache={}}},{key:"length",value:function(){return null==this.cache.length&&(this.cache.length=o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"length",this).call(this)+1),this.cache.length}},{key:"moveChildren",value:function(t,n){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"moveChildren",this).call(this,t,n),this.cache={}}},{key:"optimize",value:function(t){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t),this.cache={}}},{key:"path",value:function(t){return o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"path",this).call(this,t,!0)}},{key:"removeChild",value:function(t){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"removeChild",this).call(this,t),this.cache={}}},{key:"split",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(n&&(0===t||t>=this.length()-1)){var i=this.clone();return 0===t?(this.parent.insertBefore(i,this),this):(this.parent.insertBefore(i,this.next),i)}var s=o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"split",this).call(this,t,n);return this.cache={},s}}]),e}();function v(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==t?e:("function"==typeof t.formats&&(e=(0,s.default)(e,t.formats())),null==t.parent||"scroll"==t.parent.blotName||t.parent.statics.scope!==t.statics.scope?e:v(t.parent,e))}m.blotName="block",m.tagName="P",m.defaultChild="break",m.allowedChildren=[c.default,a.default.Embed,u.default],e.bubbleFormats=v,e.BlockEmbed=g,e.default=m},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.overload=e.expandConfig=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,o=!1,s=void 0;try{for(var r,a=t[Symbol.iterator]();!(i=(r=a.next()).done)&&(n.push(r.value),!e||n.length!==e);i=!0);}catch(t){o=!0,s=t}finally{try{!i&&a.return&&a.return()}finally{if(o)throw s}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();n(50);var r=m(n(2)),a=m(n(14)),l=m(n(8)),c=m(n(9)),u=m(n(0)),h=n(15),d=m(h),f=m(n(3)),p=m(n(10)),g=m(n(34));function m(t){return t&&t.__esModule?t:{default:t}}function v(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var y=(0,p.default)("quill"),b=function(){function t(e){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.options=w(e,i),this.container=this.options.container,null==this.container)return y.error("Invalid Quill container",e);this.options.debug&&t.debug(this.options.debug);var o=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new l.default,this.scroll=u.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new a.default(this.scroll),this.selection=new d.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(l.default.events.EDITOR_CHANGE,function(t){t===l.default.events.TEXT_CHANGE&&n.root.classList.toggle("ql-blank",n.editor.isBlank())}),this.emitter.on(l.default.events.SCROLL_UPDATE,function(t,e){var i=n.selection.lastRange,o=i&&0===i.length?i.index:void 0;_.call(n,function(){return n.editor.update(null,e,o)},t)});var s=this.clipboard.convert("<div class='ql-editor' style=\"white-space: normal;\">"+o+"<p><br></p></div>");this.setContents(s),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return s(t,null,[{key:"debug",value:function(t){!0===t&&(t="log"),p.default.level(t)}},{key:"find",value:function(t){return t.__quill||u.default.find(t)}},{key:"import",value:function(t){return null==this.imports[t]&&y.error("Cannot import "+t+". Are you sure it was registered?"),this.imports[t]}},{key:"register",value:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!=typeof t){var o=t.attrName||t.blotName;"string"==typeof o?this.register("formats/"+o,t,e):Object.keys(t).forEach(function(i){n.register(i,t[i],e)})}else null==this.imports[t]||i||y.warn("Overwriting "+t+" with",e),this.imports[t]=e,(t.startsWith("blots/")||t.startsWith("formats/"))&&"abstract"!==e.blotName?u.default.register(e):t.startsWith("modules")&&"function"==typeof e.register&&e.register()}}]),s(t,[{key:"addContainer",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"==typeof t){var n=t;(t=document.createElement("div")).classList.add(n)}return this.container.insertBefore(t,e),t}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(t,e,n){var i=this,s=x(t,e,n),r=o(s,4);return _.call(this,function(){return i.editor.deleteText(t,e)},n=r[3],t=r[0],-1*(e=r[1]))}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(t),this.container.classList.toggle("ql-disabled",!t)}},{key:"focus",value:function(){var t=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=t,this.scrollIntoView()}},{key:"format",value:function(t,e){var n=this;return _.call(this,function(){var i=n.getSelection(!0),o=new r.default;if(null==i)return o;if(u.default.query(t,u.default.Scope.BLOCK))o=n.editor.formatLine(i.index,i.length,v({},t,e));else{if(0===i.length)return n.selection.format(t,e),o;o=n.editor.formatText(i.index,i.length,v({},t,e))}return n.setSelection(i,l.default.sources.SILENT),o},arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.default.sources.API)}},{key:"formatLine",value:function(t,e,n,i,s){var r,a=this,l=x(t,e,n,i,s),c=o(l,4);return e=c[1],r=c[2],_.call(this,function(){return a.editor.formatLine(t,e,r)},s=c[3],t=c[0],0)}},{key:"formatText",value:function(t,e,n,i,s){var r,a=this,l=x(t,e,n,i,s),c=o(l,4);return e=c[1],r=c[2],_.call(this,function(){return a.editor.formatText(t,e,r)},s=c[3],t=c[0],0)}},{key:"getBounds",value:function(t){var e;e="number"==typeof t?this.selection.getBounds(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0):this.selection.getBounds(t.index,t.length);var n=this.container.getBoundingClientRect();return{bottom:e.bottom-n.top,height:e.height,left:e.left-n.left,right:e.right-n.left,top:e.top-n.top,width:e.width}}},{key:"getContents",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-t,n=x(t,e),i=o(n,2);return this.editor.getContents(t=i[0],e=i[1])}},{key:"getFormat",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0);return"number"==typeof t?this.editor.getFormat(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0):this.editor.getFormat(t.index,t.length)}},{key:"getIndex",value:function(t){return t.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(t){return this.scroll.leaf(t)}},{key:"getLine",value:function(t){return this.scroll.line(t)}},{key:"getLines",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!=typeof t?this.scroll.lines(t.index,t.length):this.scroll.lines(t,e)}},{key:"getModule",value:function(t){return this.theme.modules[t]}},{key:"getSelection",value:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-t,n=x(t,e),i=o(n,2);return this.editor.getText(t=i[0],e=i[1])}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(e,n,i){var o=this;return _.call(this,function(){return o.editor.insertEmbed(e,n,i)},arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.sources.API,e)}},{key:"insertText",value:function(t,e,n,i,s){var r,a=this,l=x(t,0,n,i,s),c=o(l,4);return r=c[2],_.call(this,function(){return a.editor.insertText(t,e,r)},s=c[3],t=c[0],e.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(t,e,n){this.clipboard.dangerouslyPasteHTML(t,e,n)}},{key:"removeFormat",value:function(t,e,n){var i=this,s=x(t,e,n),r=o(s,4);return e=r[1],_.call(this,function(){return i.editor.removeFormat(t,e)},n=r[3],t=r[0])}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(t){var e=this;return _.call(this,function(){t=new r.default(t);var n=e.getLength(),i=e.editor.deleteText(0,n),o=e.editor.applyDelta(t),s=o.ops[o.ops.length-1];return null!=s&&"string"==typeof s.insert&&"\n"===s.insert[s.insert.length-1]&&(e.editor.deleteText(e.getLength()-1,1),o.delete(1)),i.compose(o)},arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.sources.API)}},{key:"setSelection",value:function(e,n,i){if(null==e)this.selection.setRange(null,n||t.sources.API);else{var s=x(e,n,i),r=o(s,4);i=r[3],this.selection.setRange(new h.Range(e=r[0],n=r[1]),i),i!==l.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.sources.API,n=(new r.default).insert(t);return this.setContents(n,e)}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.default.sources.USER,e=this.scroll.update(t);return this.selection.update(t),e}},{key:"updateContents",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.sources.API;return _.call(this,function(){return t=new r.default(t),e.editor.applyDelta(t,n)},n,!0)}}]),t}();function w(t,e){if((e=(0,f.default)(!0,{container:t,modules:{clipboard:!0,keyboard:!0,history:!0}},e)).theme&&e.theme!==b.DEFAULTS.theme){if(e.theme=b.import("themes/"+e.theme),null==e.theme)throw new Error("Invalid theme "+e.theme+". Did you register it?")}else e.theme=g.default;var n=(0,f.default)(!0,{},e.theme.DEFAULTS);[n,e].forEach(function(t){t.modules=t.modules||{},Object.keys(t.modules).forEach(function(e){!0===t.modules[e]&&(t.modules[e]={})})});var i=Object.keys(n.modules).concat(Object.keys(e.modules)).reduce(function(t,e){var n=b.import("modules/"+e);return null==n?y.error("Cannot load "+e+" module. Are you sure you registered it?"):t[e]=n.DEFAULTS||{},t},{});return null!=e.modules&&e.modules.toolbar&&e.modules.toolbar.constructor!==Object&&(e.modules.toolbar={container:e.modules.toolbar}),e=(0,f.default)(!0,{},b.DEFAULTS,{modules:i},n,e),["bounds","container","scrollingContainer"].forEach(function(t){"string"==typeof e[t]&&(e[t]=document.querySelector(e[t]))}),e.modules=Object.keys(e.modules).reduce(function(t,n){return e.modules[n]&&(t[n]=e.modules[n]),t},{}),e}function _(t,e,n,i){if(this.options.strict&&!this.isEnabled()&&e===l.default.sources.USER)return new r.default;var o=null==n?null:this.getSelection(),s=this.editor.delta,a=t();if(null!=o&&(!0===n&&(n=o.index),null==i?o=C(o,a,e):0!==i&&(o=C(o,n,i,e)),this.setSelection(o,l.default.sources.SILENT)),a.length()>0){var c,u,h=[l.default.events.TEXT_CHANGE,a,s,e];(c=this.emitter).emit.apply(c,[l.default.events.EDITOR_CHANGE].concat(h)),e!==l.default.sources.SILENT&&(u=this.emitter).emit.apply(u,h)}return a}function x(t,e,n,o,s){var r={};return"number"==typeof t.index&&"number"==typeof t.length?"number"!=typeof e?(s=o,o=n,n=e,e=t.length,t=t.index):(e=t.length,t=t.index):"number"!=typeof e&&(s=o,o=n,n=e,e=0),"object"===("undefined"==typeof n?"undefined":i(n))?(r=n,s=o):"string"==typeof n&&(null!=o?r[n]=o:s=n),[t,e,r,s=s||l.default.sources.API]}function C(t,e,n,i){if(null==t)return null;var s=void 0,a=void 0;if(e instanceof r.default){var c=[t.index,t.index+t.length].map(function(t){return e.transformPosition(t,i!==l.default.sources.USER)}),u=o(c,2);s=u[0],a=u[1]}else{var d=[t.index,t.index+t.length].map(function(t){return t<e||t===e&&i===l.default.sources.USER?t:n>=0?t+n:Math.max(e,t+n)}),f=o(d,2);s=f[0],a=f[1]}return new h.Range(s,a-s)}b.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},b.events=l.default.events,b.sources=l.default.sources,b.version="1.3.6",b.imports={delta:r.default,parchment:u.default,"core/module":c.default,"core/theme":g.default},e.expandConfig=w,e.overload=x,e.default=b},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,n,i)}if("value"in o)return o.value;var r=o.get;return void 0!==r?r.call(i):void 0},s=a(n(7)),r=a(n(0));function a(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(){return function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.default.Inline),i(e,[{key:"formatAt",value:function(t,n,i,s){if(e.compare(this.statics.blotName,i)<0&&r.default.query(i,r.default.Scope.BLOT)){var a=this.isolate(t,n);s&&a.wrap(i,s)}else o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"formatAt",this).call(this,t,n,i,s)}},{key:"optimize",value:function(t){if(o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t),this.parent instanceof e&&e.compare(this.statics.blotName,this.parent.statics.blotName)>0){var n=this.parent.isolate(this.offset(),this.length());this.moveChildren(n),n.wrap(this)}}}],[{key:"compare",value:function(t,n){var i=e.order.indexOf(t),o=e.order.indexOf(n);return i>=0||o>=0?i-o:t===n?0:t<n?-1:1}}]),e}();l.allowedChildren=[l,r.default.Embed,s.default],l.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=(i=n(0))&&i.__esModule?i:{default:i},s=function(t){function e(){return function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.default.Text),e}();e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=s(n(54));function s(t){return t&&t.__esModule?t:{default:t}}var r=(0,s(n(10)).default)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach(function(t){document.addEventListener(t,function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(t){var n;t.__quill&&t.__quill.emitter&&(n=t.__quill.emitter).handleDOM.apply(n,e)})})});var a=function(t){function e(){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.listeners={},t.on("error",r.error),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.default),i(e,[{key:"emit",value:function(){r.log.apply(r,arguments),function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,n,i)}if("value"in o)return o.value;var r=o.get;return void 0!==r?r.call(i):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];(this.listeners[t.type]||[]).forEach(function(e){var i=e.node,o=e.handler;(t.target===i||i.contains(t.target))&&o.apply(void 0,[t].concat(n))})}},{key:"listenDOM",value:function(t,e,n){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push({node:e,handler:n})}}]),e}();a.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},a.sources={API:"api",SILENT:"silent",USER:"user"},e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.quill=e,this.options=n};i.DEFAULTS={},e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=["error","warn","log","info"],o="warn";function s(t){if(i.indexOf(t)<=i.indexOf(o)){for(var e,n=arguments.length,s=Array(n>1?n-1:0),r=1;r<n;r++)s[r-1]=arguments[r];(e=console)[t].apply(e,s)}}function r(t){return i.reduce(function(e,n){return e[n]=s.bind(console,n,t),e},{})}s.level=r.level=function(t){o=t},e.default=r},function(t,e,n){var i=Array.prototype.slice,o=n(52),s=n(53),r=t.exports=function(t,e,n){return n||(n={}),t===e||(t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():!t||!e||"object"!=typeof t&&"object"!=typeof e?n.strict?t===e:t==e:function(t,e,n){var c,u;if(a(t)||a(e))return!1;if(t.prototype!==e.prototype)return!1;if(s(t))return!!s(e)&&(t=i.call(t),e=i.call(e),r(t,e,n));if(l(t)){if(!l(e))return!1;if(t.length!==e.length)return!1;for(c=0;c<t.length;c++)if(t[c]!==e[c])return!1;return!0}try{var h=o(t),d=o(e)}catch(t){return!1}if(h.length!=d.length)return!1;for(h.sort(),d.sort(),c=h.length-1;c>=0;c--)if(h[c]!=d[c])return!1;for(c=h.length-1;c>=0;c--)if(!r(t[u=h[c]],e[u],n))return!1;return typeof t==typeof e}(t,e,n))};function a(t){return null===t||void 0===t}function l(t){return!(!t||"object"!=typeof t||"number"!=typeof t.length||"function"!=typeof t.copy||"function"!=typeof t.slice||t.length>0&&"number"!=typeof t[0])}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=function(){function t(t,e,n){void 0===n&&(n={}),this.attrName=t,this.keyName=e,this.scope=null!=n.scope?n.scope&i.Scope.LEVEL|i.Scope.TYPE&i.Scope.ATTRIBUTE:i.Scope.ATTRIBUTE,null!=n.whitelist&&(this.whitelist=n.whitelist)}return t.keys=function(t){return[].map.call(t.attributes,function(t){return t.name})},t.prototype.add=function(t,e){return!!this.canAdd(t,e)&&(t.setAttribute(this.keyName,e),!0)},t.prototype.canAdd=function(t,e){return null!=i.query(t,i.Scope.BLOT&(this.scope|i.Scope.TYPE))&&(null==this.whitelist||("string"==typeof e?this.whitelist.indexOf(e.replace(/["']/g,""))>-1:this.whitelist.indexOf(e)>-1))},t.prototype.remove=function(t){t.removeAttribute(this.keyName)},t.prototype.value=function(t){var e=t.getAttribute(this.keyName);return this.canAdd(t,e)&&e?e:""},t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.Code=void 0;var i=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,o=!1,s=void 0;try{for(var r,a=t[Symbol.iterator]();!(i=(r=a.next()).done)&&(n.push(r.value),!e||n.length!==e);i=!0);}catch(t){o=!0,s=t}finally{try{!i&&a.return&&a.return()}finally{if(o)throw s}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,n,i)}if("value"in o)return o.value;var r=o.get;return void 0!==r?r.call(i):void 0},r=h(n(2)),a=h(n(0)),l=h(n(4)),c=h(n(6)),u=h(n(7));function h(t){return t&&t.__esModule?t:{default:t}}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var g=function(t){function e(){return d(this,e),f(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return p(e,c.default),e}();g.blotName="code",g.tagName="CODE";var m=function(t){function e(){return d(this,e),f(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return p(e,l.default),o(e,[{key:"delta",value:function(){var t=this,e=this.domNode.textContent;return e.endsWith("\n")&&(e=e.slice(0,-1)),e.split("\n").reduce(function(e,n){return e.insert(n).insert("\n",t.formats())},new r.default)}},{key:"format",value:function(t,n){if(t!==this.statics.blotName||!n){var o=this.descendant(u.default,this.length()-1),r=i(o,1)[0];null!=r&&r.deleteAt(r.length()-1,1),s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n)}}},{key:"formatAt",value:function(t,n,i,o){if(0!==n&&null!=a.default.query(i,a.default.Scope.BLOCK)&&(i!==this.statics.blotName||o!==this.statics.formats(this.domNode))){var s=this.newlineIndex(t);if(!(s<0||s>=t+n)){var r=this.newlineIndex(t,!0)+1,l=s-r+1,c=this.isolate(r,l),u=c.next;c.format(i,o),u instanceof e&&u.formatAt(0,t-r+n-l,i,o)}}}},{key:"insertAt",value:function(t,e,n){if(null==n){var o=this.descendant(u.default,t),s=i(o,2);s[0].insertAt(s[1],e)}}},{key:"length",value:function(){var t=this.domNode.textContent.length;return this.domNode.textContent.endsWith("\n")?t:t+1}},{key:"newlineIndex",value:function(t){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1])return this.domNode.textContent.slice(0,t).lastIndexOf("\n");var e=this.domNode.textContent.slice(t).indexOf("\n");return e>-1?t+e:-1}},{key:"optimize",value:function(t){this.domNode.textContent.endsWith("\n")||this.appendChild(a.default.create("text","\n")),s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t);var n=this.next;null!=n&&n.prev===this&&n.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===n.statics.formats(n.domNode)&&(n.optimize(t),n.moveChildren(this),n.remove())}},{key:"replace",value:function(t){s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"replace",this).call(this,t),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(t){var e=a.default.find(t);null==e?t.parentNode.removeChild(t):e instanceof a.default.Embed?e.remove():e.unwrap()})}}],[{key:"create",value:function(t){var n=s(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t);return n.setAttribute("spellcheck",!1),n}},{key:"formats",value:function(){return!0}}]),e}();m.blotName="code-block",m.tagName="PRE",m.TAB="  ",e.Code=g,e.default=m},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,o=!1,s=void 0;try{for(var r,a=t[Symbol.iterator]();!(i=(r=a.next()).done)&&(n.push(r.value),!e||n.length!==e);i=!0);}catch(t){o=!0,s=t}finally{try{!i&&a.return&&a.return()}finally{if(o)throw s}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=v(n(2)),a=v(n(20)),l=v(n(0)),c=v(n(13)),u=v(n(24)),h=n(4),d=v(h),f=v(n(16)),p=v(n(21)),g=v(n(11)),m=v(n(3));function v(t){return t&&t.__esModule?t:{default:t}}var y=/^[ -~]*$/,b=function(){function t(e){!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.scroll=e,this.delta=this.getDelta()}return s(t,[{key:"applyDelta",value:function(t){var e=this,n=!1;this.scroll.update();var s=this.scroll.length();return this.scroll.batchStart(),(t=function(t){return t.reduce(function(t,e){if(1===e.insert){var n=(0,p.default)(e.attributes);return delete n.image,t.insert({image:e.attributes.image},n)}if(null==e.attributes||!0!==e.attributes.list&&!0!==e.attributes.bullet||((e=(0,p.default)(e)).attributes.list?e.attributes.list="ordered":(e.attributes.list="bullet",delete e.attributes.bullet)),"string"==typeof e.insert){var i=e.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return t.insert(i,e.attributes)}return t.push(e)},new r.default)}(t)).reduce(function(t,r){var c=r.retain||r.delete||r.insert.length||1,u=r.attributes||{};if(null!=r.insert){if("string"==typeof r.insert){var f=r.insert;f.endsWith("\n")&&n&&(n=!1,f=f.slice(0,-1)),t>=s&&!f.endsWith("\n")&&(n=!0),e.scroll.insertAt(t,f);var p=e.scroll.line(t),g=o(p,2),v=g[0],y=g[1],b=(0,m.default)({},(0,h.bubbleFormats)(v));if(v instanceof d.default){var w=v.descendant(l.default.Leaf,y),_=o(w,1);b=(0,m.default)(b,(0,h.bubbleFormats)(_[0]))}u=a.default.attributes.diff(b,u)||{}}else if("object"===i(r.insert)){var x=Object.keys(r.insert)[0];if(null==x)return t;e.scroll.insertAt(t,x,r.insert[x])}s+=c}return Object.keys(u).forEach(function(n){e.scroll.formatAt(t,c,n,u[n])}),t+c},0),t.reduce(function(t,n){return"number"==typeof n.delete?(e.scroll.deleteAt(t,n.delete),t):t+(n.retain||n.insert.length||1)},0),this.scroll.batchEnd(),this.update(t)}},{key:"deleteText",value:function(t,e){return this.scroll.deleteAt(t,e),this.update((new r.default).retain(t).delete(e))}},{key:"formatLine",value:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.scroll.update(),Object.keys(i).forEach(function(o){if(null==n.scroll.whitelist||n.scroll.whitelist[o]){var s=n.scroll.lines(t,Math.max(e,1)),r=e;s.forEach(function(e){var s=e.length();if(e instanceof c.default){var a=t-e.offset(n.scroll),l=e.newlineIndex(a+r)-a+1;e.formatAt(a,l,o,i[o])}else e.format(o,i[o]);r-=s})}}),this.scroll.optimize(),this.update((new r.default).retain(t).retain(e,(0,p.default)(i)))}},{key:"formatText",value:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.keys(i).forEach(function(o){n.scroll.formatAt(t,e,o,i[o])}),this.update((new r.default).retain(t).retain(e,(0,p.default)(i)))}},{key:"getContents",value:function(t,e){return this.delta.slice(t,t+e)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(t,e){return t.concat(e.delta())},new r.default)}},{key:"getFormat",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[],i=[];0===e?this.scroll.path(t).forEach(function(t){var e=o(t,1)[0];e instanceof d.default?n.push(e):e instanceof l.default.Leaf&&i.push(e)}):(n=this.scroll.lines(t,e),i=this.scroll.descendants(l.default.Leaf,t,e));var s=[n,i].map(function(t){if(0===t.length)return{};for(var e=(0,h.bubbleFormats)(t.shift());Object.keys(e).length>0;){var n=t.shift();if(null==n)return e;e=w((0,h.bubbleFormats)(n),e)}return e});return m.default.apply(m.default,s)}},{key:"getText",value:function(t,e){return this.getContents(t,e).filter(function(t){return"string"==typeof t.insert}).map(function(t){return t.insert}).join("")}},{key:"insertEmbed",value:function(t,e,n){return this.scroll.insertAt(t,e,n),this.update((new r.default).retain(t).insert(function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},e,n)))}},{key:"insertText",value:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e=e.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(t,e),Object.keys(i).forEach(function(o){n.scroll.formatAt(t,e.length,o,i[o])}),this.update((new r.default).retain(t).insert(e,(0,p.default)(i)))}},{key:"isBlank",value:function(){if(0==this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;var t=this.scroll.children.head;return t.statics.blotName===d.default.blotName&&!(t.children.length>1)&&t.children.head instanceof f.default}},{key:"removeFormat",value:function(t,e){var n=this.getText(t,e),i=this.scroll.line(t+e),s=o(i,2),a=s[0],l=s[1],u=0,h=new r.default;null!=a&&(u=a instanceof c.default?a.newlineIndex(l)-l+1:a.length()-l,h=a.delta().slice(l,l+u-1).insert("\n"));var d=this.getContents(t,e+u).diff((new r.default).insert(n).concat(h)),f=(new r.default).retain(t).concat(d);return this.applyDelta(f)}},{key:"update",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i=this.delta;if(1===e.length&&"characterData"===e[0].type&&e[0].target.data.match(y)&&l.default.find(e[0].target)){var o=l.default.find(e[0].target),s=(0,h.bubbleFormats)(o),a=o.offset(this.scroll),c=e[0].oldValue.replace(u.default.CONTENTS,""),d=(new r.default).insert(c),f=(new r.default).insert(o.value());t=(new r.default).retain(a).concat(d.diff(f,n)).reduce(function(t,e){return e.insert?t.insert(e.insert,s):t.push(e)},new r.default),this.delta=i.compose(t)}else this.delta=this.getDelta(),t&&(0,g.default)(i.compose(t),this.delta)||(t=i.diff(this.delta,n));return t}}]),t}();function w(t,e){return Object.keys(e).reduce(function(n,i){return null==t[i]?n:(e[i]===t[i]?n[i]=e[i]:Array.isArray(e[i])?e[i].indexOf(t[i])<0&&(n[i]=e[i].concat([t[i]])):n[i]=[e[i],t[i]],n)},{})}e.default=b},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.Range=void 0;var i=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,o=!1,s=void 0;try{for(var r,a=t[Symbol.iterator]();!(i=(r=a.next()).done)&&(n.push(r.value),!e||n.length!==e);i=!0);}catch(t){o=!0,s=t}finally{try{!i&&a.return&&a.return()}finally{if(o)throw s}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=c(n(0)),r=c(n(21)),a=c(n(11)),l=c(n(8));function c(t){return t&&t.__esModule?t:{default:t}}function u(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var d=(0,c(n(10)).default)("quill:selection"),f=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;h(this,t),this.index=e,this.length=n},p=function(){function t(e,n){var i=this;h(this,t),this.emitter=n,this.scroll=e,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=s.default.create("cursor",this),this.lastRange=this.savedRange=new f(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){i.mouseDown||setTimeout(i.update.bind(i,l.default.sources.USER),1)}),this.emitter.on(l.default.events.EDITOR_CHANGE,function(t,e){t===l.default.events.TEXT_CHANGE&&e.length()>0&&i.update(l.default.sources.SILENT)}),this.emitter.on(l.default.events.SCROLL_BEFORE_UPDATE,function(){if(i.hasFocus()){var t=i.getNativeRange();null!=t&&t.start.node!==i.cursor.textNode&&i.emitter.once(l.default.events.SCROLL_UPDATE,function(){try{i.setNativeRange(t.start.node,t.start.offset,t.end.node,t.end.offset)}catch(t){}})}}),this.emitter.on(l.default.events.SCROLL_OPTIMIZE,function(t,e){if(e.range){var n=e.range;i.setNativeRange(n.startNode,n.startOffset,n.endNode,n.endOffset)}}),this.update(l.default.sources.SILENT)}return o(t,[{key:"handleComposition",value:function(){var t=this;this.root.addEventListener("compositionstart",function(){t.composing=!0}),this.root.addEventListener("compositionend",function(){if(t.composing=!1,t.cursor.parent){var e=t.cursor.restore();if(!e)return;setTimeout(function(){t.setNativeRange(e.startNode,e.startOffset,e.endNode,e.endOffset)},1)}})}},{key:"handleDragging",value:function(){var t=this;this.emitter.listenDOM("mousedown",document.body,function(){t.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){t.mouseDown=!1,t.update(l.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(t,e){if(null==this.scroll.whitelist||this.scroll.whitelist[t]){this.scroll.update();var n=this.getNativeRange();if(null!=n&&n.native.collapsed&&!s.default.query(t,s.default.Scope.BLOCK)){if(n.start.node!==this.cursor.textNode){var i=s.default.find(n.start.node,!1);if(null==i)return;if(i instanceof s.default.Leaf){var o=i.split(n.start.offset);i.parent.insertBefore(this.cursor,o)}else i.insertBefore(this.cursor,n.start.node);this.cursor.attach()}this.cursor.format(t,e),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.scroll.length();t=Math.min(t,n-1),e=Math.min(t+e,n-1)-t;var o=void 0,s=this.scroll.leaf(t),r=i(s,2),a=r[0],l=r[1];if(null==a)return null;var c=a.position(l,!0),u=i(c,2);o=u[0],l=u[1];var h=document.createRange();if(e>0){h.setStart(o,l);var d=this.scroll.leaf(t+e),f=i(d,2);if(l=f[1],null==(a=f[0]))return null;var p=a.position(l,!0),g=i(p,2);return h.setEnd(o=g[0],l=g[1]),h.getBoundingClientRect()}var m="left",v=void 0;return o instanceof Text?(l<o.data.length?(h.setStart(o,l),h.setEnd(o,l+1)):(h.setStart(o,l-1),h.setEnd(o,l),m="right"),v=h.getBoundingClientRect()):(v=a.domNode.getBoundingClientRect(),l>0&&(m="right")),{bottom:v.top+v.height,height:v.height,left:v[m],right:v[m],top:v.top,width:0}}},{key:"getNativeRange",value:function(){var t=document.getSelection();if(null==t||t.rangeCount<=0)return null;var e=t.getRangeAt(0);if(null==e)return null;var n=this.normalizeNative(e);return d.info("getNativeRange",n),n}},{key:"getRange",value:function(){var t=this.getNativeRange();return null==t?[null,null]:[this.normalizedToRange(t),t]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(t){var e=this,n=[[t.start.node,t.start.offset]];t.native.collapsed||n.push([t.end.node,t.end.offset]);var o=n.map(function(t){var n=i(t,2),o=n[0],r=n[1],a=s.default.find(o,!0),l=a.offset(e.scroll);return 0===r?l:a instanceof s.default.Container?l+a.length():l+a.index(o,r)}),r=Math.min(Math.max.apply(Math,u(o)),this.scroll.length()-1),a=Math.min.apply(Math,[r].concat(u(o)));return new f(a,r-a)}},{key:"normalizeNative",value:function(t){if(!g(this.root,t.startContainer)||!t.collapsed&&!g(this.root,t.endContainer))return null;var e={start:{node:t.startContainer,offset:t.startOffset},end:{node:t.endContainer,offset:t.endOffset},native:t};return[e.start,e.end].forEach(function(t){for(var e=t.node,n=t.offset;!(e instanceof Text)&&e.childNodes.length>0;)if(e.childNodes.length>n)e=e.childNodes[n],n=0;else{if(e.childNodes.length!==n)break;n=(e=e.lastChild)instanceof Text?e.data.length:e.childNodes.length+1}t.node=e,t.offset=n}),e}},{key:"rangeToNative",value:function(t){var e=this,n=t.collapsed?[t.index]:[t.index,t.index+t.length],o=[],s=this.scroll.length();return n.forEach(function(t,n){t=Math.min(s-1,t);var r=e.scroll.leaf(t),a=i(r,2),l=a[1],c=a[0].position(l,0!==n),u=i(c,2);o.push(u[0],l=u[1])}),o.length<2&&(o=o.concat(o)),o}},{key:"scrollIntoView",value:function(t){var e=this.lastRange;if(null!=e){var n=this.getBounds(e.index,e.length);if(null!=n){var o=this.scroll.length()-1,s=this.scroll.line(Math.min(e.index,o)),r=i(s,1)[0],a=r;if(e.length>0){var l=this.scroll.line(Math.min(e.index+e.length,o));a=i(l,1)[0]}if(null!=r&&null!=a){var c=t.getBoundingClientRect();n.top<c.top?t.scrollTop-=c.top-n.top:n.bottom>c.bottom&&(t.scrollTop+=n.bottom-c.bottom)}}}}},{key:"setNativeRange",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(d.info("setNativeRange",t,e,n,i),null==t||null!=this.root.parentNode&&null!=t.parentNode&&null!=n.parentNode){var s=document.getSelection();if(null!=s)if(null!=t){this.hasFocus()||this.root.focus();var r=(this.getNativeRange()||{}).native;if(null==r||o||t!==r.startContainer||e!==r.startOffset||n!==r.endContainer||i!==r.endOffset){"BR"==t.tagName&&(e=[].indexOf.call(t.parentNode.childNodes,t),t=t.parentNode),"BR"==n.tagName&&(i=[].indexOf.call(n.parentNode.childNodes,n),n=n.parentNode);var a=document.createRange();a.setStart(t,e),a.setEnd(n,i),s.removeAllRanges(),s.addRange(a)}}else s.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.default.sources.API;if("string"==typeof e&&(n=e,e=!1),d.info("setRange",t),null!=t){var i=this.rangeToNative(t);this.setNativeRange.apply(this,u(i).concat([e]))}else this.setNativeRange(null);this.update(n)}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.default.sources.USER,e=this.lastRange,n=this.getRange(),o=i(n,2),s=o[1];if(this.lastRange=o[0],null!=this.lastRange&&(this.savedRange=this.lastRange),!(0,a.default)(e,this.lastRange)){var c;!this.composing&&null!=s&&s.native.collapsed&&s.start.node!==this.cursor.textNode&&this.cursor.restore();var u,h=[l.default.events.SELECTION_CHANGE,(0,r.default)(this.lastRange),(0,r.default)(e),t];(c=this.emitter).emit.apply(c,[l.default.events.EDITOR_CHANGE].concat(h)),t!==l.default.sources.SILENT&&(u=this.emitter).emit.apply(u,h)}}}]),t}();function g(t,e){return e instanceof Text&&(e=e.parentNode),t.contains(e)}e.Range=f,e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=(i=n(0))&&i.__esModule?i:{default:i},r=function(t){function e(){return function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.default.Embed),o(e,[{key:"insertInto",value:function(t,n){0===t.children.length?function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,n,i)}if("value"in o)return o.value;var r=o.get;return void 0!==r?r.call(i):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertInto",this).call(this,t,n):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),e}();r.blotName="break",r.tagName="BR",e.default=r},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var s=n(44),r=n(30),a=n(1),l=function(t){function e(e){var n=t.call(this,e)||this;return n.build(),n}return o(e,t),e.prototype.appendChild=function(t){this.insertBefore(t)},e.prototype.attach=function(){t.prototype.attach.call(this),this.children.forEach(function(t){t.attach()})},e.prototype.build=function(){var t=this;this.children=new s.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(e){try{var n=c(e);t.insertBefore(n,t.children.head||void 0)}catch(t){if(t instanceof a.ParchmentError)return;throw t}})},e.prototype.deleteAt=function(t,e){if(0===t&&e===this.length())return this.remove();this.children.forEachAt(t,e,function(t,e,n){t.deleteAt(e,n)})},e.prototype.descendant=function(t,n){var i=this.children.find(n),o=i[0],s=i[1];return null==t.blotName&&t(o)||null!=t.blotName&&o instanceof t?[o,s]:o instanceof e?o.descendant(t,s):[null,-1]},e.prototype.descendants=function(t,n,i){void 0===n&&(n=0),void 0===i&&(i=Number.MAX_VALUE);var o=[],s=i;return this.children.forEachAt(n,i,function(n,i,r){(null==t.blotName&&t(n)||null!=t.blotName&&n instanceof t)&&o.push(n),n instanceof e&&(o=o.concat(n.descendants(t,i,s))),s-=r}),o},e.prototype.detach=function(){this.children.forEach(function(t){t.detach()}),t.prototype.detach.call(this)},e.prototype.formatAt=function(t,e,n,i){this.children.forEachAt(t,e,function(t,e,o){t.formatAt(e,o,n,i)})},e.prototype.insertAt=function(t,e,n){var i=this.children.find(t),o=i[0];if(o)o.insertAt(i[1],e,n);else{var s=null==n?a.create("text",e):a.create(e,n);this.appendChild(s)}},e.prototype.insertBefore=function(t,e){if(null!=this.statics.allowedChildren&&!this.statics.allowedChildren.some(function(e){return t instanceof e}))throw new a.ParchmentError("Cannot insert "+t.statics.blotName+" into "+this.statics.blotName);t.insertInto(this,e)},e.prototype.length=function(){return this.children.reduce(function(t,e){return t+e.length()},0)},e.prototype.moveChildren=function(t,e){this.children.forEach(function(n){t.insertBefore(n,e)})},e.prototype.optimize=function(e){if(t.prototype.optimize.call(this,e),0===this.children.length)if(null!=this.statics.defaultChild){var n=a.create(this.statics.defaultChild);this.appendChild(n),n.optimize(e)}else this.remove()},e.prototype.path=function(t,n){void 0===n&&(n=!1);var i=this.children.find(t,n),o=i[0],s=i[1],r=[[this,t]];return o instanceof e?r.concat(o.path(s,n)):(null!=o&&r.push([o,s]),r)},e.prototype.removeChild=function(t){this.children.remove(t)},e.prototype.replace=function(n){n instanceof e&&n.moveChildren(this),t.prototype.replace.call(this,n)},e.prototype.split=function(t,e){if(void 0===e&&(e=!1),!e){if(0===t)return this;if(t===this.length())return this.next}var n=this.clone();return this.parent.insertBefore(n,this.next),this.children.forEachAt(t,this.length(),function(t,i,o){t=t.split(i,e),n.appendChild(t)}),n},e.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},e.prototype.update=function(t,e){var n=this,i=[],o=[];t.forEach(function(t){t.target===n.domNode&&"childList"===t.type&&(i.push.apply(i,t.addedNodes),o.push.apply(o,t.removedNodes))}),o.forEach(function(t){if(!(null!=t.parentNode&&"IFRAME"!==t.tagName&&document.body.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var e=a.find(t);null!=e&&(null!=e.domNode.parentNode&&e.domNode.parentNode!==n.domNode||e.detach())}}),i.filter(function(t){return t.parentNode==n.domNode}).sort(function(t,e){return t===e?0:t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(t){var e=null;null!=t.nextSibling&&(e=a.find(t.nextSibling));var i=c(t);i.next==e&&null!=i.next||(null!=i.parent&&i.parent.removeChild(n),n.insertBefore(i,e||void 0))})},e}(r.default);function c(t){var e=a.find(t);if(null==e)try{e=a.create(t)}catch(n){e=a.create(a.Scope.INLINE),[].slice.call(t.childNodes).forEach(function(t){e.domNode.appendChild(t)}),t.parentNode&&t.parentNode.replaceChild(e.domNode,t),e.attach()}return e}e.default=l},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var s=n(12),r=n(31),a=n(17),l=n(1),c=function(t){function e(e){var n=t.call(this,e)||this;return n.attributes=new r.default(n.domNode),n}return o(e,t),e.formats=function(t){return"string"==typeof this.tagName||(Array.isArray(this.tagName)?t.tagName.toLowerCase():void 0)},e.prototype.format=function(t,e){var n=l.query(t);n instanceof s.default?this.attributes.attribute(n,e):e&&(null==n||t===this.statics.blotName&&this.formats()[t]===e||this.replaceWith(t,e))},e.prototype.formats=function(){var t=this.attributes.values(),e=this.statics.formats(this.domNode);return null!=e&&(t[this.statics.blotName]=e),t},e.prototype.replaceWith=function(e,n){var i=t.prototype.replaceWith.call(this,e,n);return this.attributes.copy(i),i},e.prototype.update=function(e,n){var i=this;t.prototype.update.call(this,e,n),e.some(function(t){return t.target===i.domNode&&"attributes"===t.type})&&this.attributes.build()},e.prototype.wrap=function(n,i){var o=t.prototype.wrap.call(this,n,i);return o instanceof e&&o.statics.scope===this.statics.scope&&this.attributes.move(o),o},e}(a.default);e.default=c},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var s=n(30),r=n(1),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.value=function(t){return!0},e.prototype.index=function(t,e){return this.domNode===t||this.domNode.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(e,1):-1},e.prototype.position=function(t,e){var n=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return t>0&&(n+=1),[this.parent.domNode,n]},e.prototype.value=function(){return(t={})[this.statics.blotName]=this.statics.value(this.domNode)||!0,t;var t},e.scope=r.Scope.INLINE_BLOT,e}(s.default);e.default=a},function(t,e,n){var i=n(11),o=n(3),s={attributes:{compose:function(t,e,n){"object"!=typeof t&&(t={}),"object"!=typeof e&&(e={});var i=o(!0,{},e);for(var s in n||(i=Object.keys(i).reduce(function(t,e){return null!=i[e]&&(t[e]=i[e]),t},{})),t)void 0!==t[s]&&void 0===e[s]&&(i[s]=t[s]);return Object.keys(i).length>0?i:void 0},diff:function(t,e){"object"!=typeof t&&(t={}),"object"!=typeof e&&(e={});var n=Object.keys(t).concat(Object.keys(e)).reduce(function(n,o){return i(t[o],e[o])||(n[o]=void 0===e[o]?null:e[o]),n},{});return Object.keys(n).length>0?n:void 0},transform:function(t,e,n){if("object"!=typeof t)return e;if("object"==typeof e){if(!n)return e;var i=Object.keys(e).reduce(function(n,i){return void 0===t[i]&&(n[i]=e[i]),n},{});return Object.keys(i).length>0?i:void 0}}},iterator:function(t){return new r(t)},length:function(t){return"number"==typeof t.delete?t.delete:"number"==typeof t.retain?t.retain:"string"==typeof t.insert?t.insert.length:1}};function r(t){this.ops=t,this.index=0,this.offset=0}r.prototype.hasNext=function(){return this.peekLength()<1/0},r.prototype.next=function(t){t||(t=1/0);var e=this.ops[this.index];if(e){var n=this.offset,i=s.length(e);if(t>=i-n?(t=i-n,this.index+=1,this.offset=0):this.offset+=t,"number"==typeof e.delete)return{delete:t};var o={};return e.attributes&&(o.attributes=e.attributes),"number"==typeof e.retain?o.retain=t:o.insert="string"==typeof e.insert?e.insert.substr(n,t):e.insert,o}return{retain:1/0}},r.prototype.peek=function(){return this.ops[this.index]},r.prototype.peekLength=function(){return this.ops[this.index]?s.length(this.ops[this.index])-this.offset:1/0},r.prototype.peekType=function(){return this.ops[this.index]?"number"==typeof this.ops[this.index].delete?"delete":"number"==typeof this.ops[this.index].retain?"retain":"insert":"retain"},t.exports=s},function(t,e){var n=function(){"use strict";function t(t,e){return null!=e&&t instanceof e}var e,n,i;try{e=Map}catch(t){e=function(){}}try{n=Set}catch(t){n=function(){}}try{i=Promise}catch(t){i=function(){}}function o(s,a,l,c,u){"object"==typeof a&&(l=a.depth,c=a.prototype,u=a.includeNonEnumerable,a=a.circular);var h=[],d=[],f="undefined"!=typeof Buffer;return"undefined"==typeof a&&(a=!0),"undefined"==typeof l&&(l=1/0),function s(l,p){if(null===l)return null;if(0===p)return l;var g,m;if("object"!=typeof l)return l;if(t(l,e))g=new e;else if(t(l,n))g=new n;else if(t(l,i))g=new i(function(t,e){l.then(function(e){t(s(e,p-1))},function(t){e(s(t,p-1))})});else if(o.__isArray(l))g=[];else if(o.__isRegExp(l))g=new RegExp(l.source,r(l)),l.lastIndex&&(g.lastIndex=l.lastIndex);else if(o.__isDate(l))g=new Date(l.getTime());else{if(f&&Buffer.isBuffer(l))return g=new Buffer(l.length),l.copy(g),g;t(l,Error)?g=Object.create(l):"undefined"==typeof c?(m=Object.getPrototypeOf(l),g=Object.create(m)):(g=Object.create(c),m=c)}if(a){var v=h.indexOf(l);if(-1!=v)return d[v];h.push(l),d.push(g)}for(var y in t(l,e)&&l.forEach(function(t,e){var n=s(e,p-1),i=s(t,p-1);g.set(n,i)}),t(l,n)&&l.forEach(function(t){var e=s(t,p-1);g.add(e)}),l){var b;m&&(b=Object.getOwnPropertyDescriptor(m,y)),b&&null==b.set||(g[y]=s(l[y],p-1))}if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(l);for(y=0;y<w.length;y++){var _=w[y];(!(C=Object.getOwnPropertyDescriptor(l,_))||C.enumerable||u)&&(g[_]=s(l[_],p-1),C.enumerable||Object.defineProperty(g,_,{enumerable:!1}))}}if(u){var x=Object.getOwnPropertyNames(l);for(y=0;y<x.length;y++){var C,k=x[y];(C=Object.getOwnPropertyDescriptor(l,k))&&C.enumerable||(g[k]=s(l[k],p-1),Object.defineProperty(g,k,{enumerable:!1}))}}return g}(s,l)}function s(t){return Object.prototype.toString.call(t)}function r(t){var e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),e}return o.clonePrototype=function(t){if(null===t)return null;var e=function(){};return e.prototype=t,new e},o.__objToStr=s,o.__isDate=function(t){return"object"==typeof t&&"[object Date]"===s(t)},o.__isArray=function(t){return"object"==typeof t&&"[object Array]"===s(t)},o.__isRegExp=function(t){return"object"==typeof t&&"[object RegExp]"===s(t)},o.__getRegExpFlags=r,o}();"object"==typeof t&&t.exports&&(t.exports=n)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,o=!1,s=void 0;try{for(var r,a=t[Symbol.iterator]();!(i=(r=a.next()).done)&&(n.push(r.value),!e||n.length!==e);i=!0);}catch(t){o=!0,s=t}finally{try{!i&&a.return&&a.return()}finally{if(o)throw s}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,n,i)}if("value"in o)return o.value;var r=o.get;return void 0!==r?r.call(i):void 0},r=f(n(0)),a=f(n(8)),l=n(4),c=f(l),u=f(n(16)),h=f(n(13)),d=f(n(25));function f(t){return t&&t.__esModule?t:{default:t}}function p(t){return t instanceof c.default||t instanceof l.BlockEmbed}var g=function(t){function e(t,n){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.emitter=n.emitter,Array.isArray(n.whitelist)&&(i.whitelist=n.whitelist.reduce(function(t,e){return t[e]=!0,t},{})),i.domNode.addEventListener("DOMNodeInserted",function(){}),i.optimize(),i.enable(),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.default.Scroll),o(e,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(t,n){var o=this.line(t),r=i(o,2),a=r[0],c=r[1],d=this.line(t+n),f=i(d,1)[0];if(s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"deleteAt",this).call(this,t,n),null!=f&&a!==f&&c>0){if(a instanceof l.BlockEmbed||f instanceof l.BlockEmbed)return void this.optimize();if(a instanceof h.default){var p=a.newlineIndex(a.length(),!0);if(p>-1&&(a=a.split(p+1))===f)return void this.optimize()}else if(f instanceof h.default){var g=f.newlineIndex(0);g>-1&&f.split(g+1)}a.moveChildren(f,f.children.head instanceof u.default?null:f.children.head),a.remove()}this.optimize()}},{key:"enable",value:function(){this.domNode.setAttribute("contenteditable",!(arguments.length>0&&void 0!==arguments[0])||arguments[0])}},{key:"formatAt",value:function(t,n,i,o){(null==this.whitelist||this.whitelist[i])&&(s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"formatAt",this).call(this,t,n,i,o),this.optimize())}},{key:"insertAt",value:function(t,n,i){if(null==i||null==this.whitelist||this.whitelist[n]){if(t>=this.length())if(null==i||null==r.default.query(n,r.default.Scope.BLOCK)){var o=r.default.create(this.statics.defaultChild);this.appendChild(o),null==i&&n.endsWith("\n")&&(n=n.slice(0,-1)),o.insertAt(0,n,i)}else{var a=r.default.create(n,i);this.appendChild(a)}else s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertAt",this).call(this,t,n,i);this.optimize()}}},{key:"insertBefore",value:function(t,n){if(t.statics.scope===r.default.Scope.INLINE_BLOT){var i=r.default.create(this.statics.defaultChild);i.appendChild(t),t=i}s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertBefore",this).call(this,t,n)}},{key:"leaf",value:function(t){return this.path(t).pop()||[null,-1]}},{key:"line",value:function(t){return t===this.length()?this.line(t-1):this.descendant(p,t)}},{key:"lines",value:function(){return function t(e,n,i){var o=[],s=i;return e.children.forEachAt(n,i,function(e,n,i){p(e)?o.push(e):e instanceof r.default.Container&&(o=o.concat(t(e,n,s))),s-=i}),o}(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE)}},{key:"optimize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!0!==this.batch&&(s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t,n),t.length>0&&this.emitter.emit(a.default.events.SCROLL_OPTIMIZE,t,n))}},{key:"path",value:function(t){return s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"path",this).call(this,t).slice(1)}},{key:"update",value:function(t){if(!0!==this.batch){var n=a.default.sources.USER;"string"==typeof t&&(n=t),Array.isArray(t)||(t=this.observer.takeRecords()),t.length>0&&this.emitter.emit(a.default.events.SCROLL_BEFORE_UPDATE,n,t),s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"update",this).call(this,t.concat([])),t.length>0&&this.emitter.emit(a.default.events.SCROLL_UPDATE,n,t)}}}]),e}();g.blotName="scroll",g.className="ql-editor",g.tagName="DIV",g.defaultChild="block",g.allowedChildren=[c.default,l.BlockEmbed,d.default],e.default=g},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SHORTKEY=e.default=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,o=!1,s=void 0;try{for(var r,a=t[Symbol.iterator]();!(i=(r=a.next()).done)&&(n.push(r.value),!e||n.length!==e);i=!0);}catch(t){o=!0,s=t}finally{try{!i&&a.return&&a.return()}finally{if(o)throw s}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=g(n(21)),a=g(n(11)),l=g(n(3)),c=g(n(2)),u=g(n(20)),h=g(n(0)),d=g(n(5)),f=g(n(10)),p=g(n(9));function g(t){return t&&t.__esModule?t:{default:t}}function m(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var v=(0,f.default)("quill:keyboard"),y=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",b=function(t){function e(t,n){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.bindings={},Object.keys(i.options.bindings).forEach(function(e){("list autofill"!==e||null==t.scroll.whitelist||t.scroll.whitelist.list)&&i.options.bindings[e]&&i.addBinding(i.options.bindings[e])}),i.addBinding({key:e.keys.ENTER,shiftKey:null},k),i.addBinding({key:e.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(i.addBinding({key:e.keys.BACKSPACE},{collapsed:!0},_),i.addBinding({key:e.keys.DELETE},{collapsed:!0},x)):(i.addBinding({key:e.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},_),i.addBinding({key:e.keys.DELETE},{collapsed:!0,suffix:/^.?$/},x)),i.addBinding({key:e.keys.BACKSPACE},{collapsed:!1},C),i.addBinding({key:e.keys.DELETE},{collapsed:!1},C),i.addBinding({key:e.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},_),i.listen(),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,p.default),s(e,null,[{key:"match",value:function(t,e){return e=D(e),!["altKey","ctrlKey","metaKey","shiftKey"].some(function(n){return!!e[n]!==t[n]&&null!==e[n]})&&e.key===(t.which||t.keyCode)}}]),s(e,[{key:"addBinding",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=D(t);if(null==i||null==i.key)return v.warn("Attempted to add invalid keyboard binding",i);"function"==typeof e&&(e={handler:e}),"function"==typeof n&&(n={handler:n}),i=(0,l.default)(i,e,n),this.bindings[i.key]=this.bindings[i.key]||[],this.bindings[i.key].push(i)}},{key:"listen",value:function(){var t=this;this.quill.root.addEventListener("keydown",function(n){if(!n.defaultPrevented){var s=(t.bindings[n.which||n.keyCode]||[]).filter(function(t){return e.match(n,t)});if(0!==s.length){var r=t.quill.getSelection();if(null!=r&&t.quill.hasFocus()){var l=t.quill.getLine(r.index),c=o(l,2),u=c[0],d=c[1],f=t.quill.getLeaf(r.index),p=o(f,2),g=p[0],m=p[1],v=0===r.length?[g,m]:t.quill.getLeaf(r.index+r.length),y=o(v,2),b=y[0],w=y[1],_=g instanceof h.default.Text?g.value().slice(0,m):"",x=b instanceof h.default.Text?b.value().slice(w):"",C={collapsed:0===r.length,empty:0===r.length&&u.length()<=1,format:t.quill.getFormat(r),offset:d,prefix:_,suffix:x};s.some(function(e){if(null!=e.collapsed&&e.collapsed!==C.collapsed)return!1;if(null!=e.empty&&e.empty!==C.empty)return!1;if(null!=e.offset&&e.offset!==C.offset)return!1;if(Array.isArray(e.format)){if(e.format.every(function(t){return null==C.format[t]}))return!1}else if("object"===i(e.format)&&!Object.keys(e.format).every(function(t){return!0===e.format[t]?null!=C.format[t]:!1===e.format[t]?null==C.format[t]:(0,a.default)(e.format[t],C.format[t])}))return!1;return!(null!=e.prefix&&!e.prefix.test(C.prefix)||null!=e.suffix&&!e.suffix.test(C.suffix)||!0===e.handler.call(t,r,C))})&&n.preventDefault()}}}})}}]),e}();function w(t,e){var n;return m(n={key:t,shiftKey:e,altKey:null},t===b.keys.LEFT?"prefix":"suffix",/^$/),m(n,"handler",function(n){var i=n.index;t===b.keys.RIGHT&&(i+=n.length+1);var s=this.quill.getLeaf(i);return!(o(s,1)[0]instanceof h.default.Embed&&(t===b.keys.LEFT?e?this.quill.setSelection(n.index-1,n.length+1,d.default.sources.USER):this.quill.setSelection(n.index-1,d.default.sources.USER):e?this.quill.setSelection(n.index,n.length+1,d.default.sources.USER):this.quill.setSelection(n.index+n.length+1,d.default.sources.USER),1))}),n}function _(t,e){if(!(0===t.index||this.quill.getLength()<=1)){var n=this.quill.getLine(t.index),i=o(n,1)[0],s={};if(0===e.offset){var r=this.quill.getLine(t.index-1),a=o(r,1)[0];if(null!=a&&a.length()>1){var l=i.formats(),c=this.quill.getFormat(t.index-1,1);s=u.default.attributes.diff(l,c)||{}}}var h=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(e.prefix)?2:1;this.quill.deleteText(t.index-h,h,d.default.sources.USER),Object.keys(s).length>0&&this.quill.formatLine(t.index-h,h,s,d.default.sources.USER),this.quill.focus()}}function x(t,e){var n=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(e.suffix)?2:1;if(!(t.index>=this.quill.getLength()-n)){var i={},s=0,r=this.quill.getLine(t.index),a=o(r,1)[0];if(e.offset>=a.length()-1){var l=this.quill.getLine(t.index+1),c=o(l,1)[0];if(c){var h=a.formats(),f=this.quill.getFormat(t.index,1);i=u.default.attributes.diff(h,f)||{},s=c.length()}}this.quill.deleteText(t.index,n,d.default.sources.USER),Object.keys(i).length>0&&this.quill.formatLine(t.index+s-1,n,i,d.default.sources.USER)}}function C(t){var e=this.quill.getLines(t),n={};if(e.length>1){var i=e[0].formats(),o=e[e.length-1].formats();n=u.default.attributes.diff(o,i)||{}}this.quill.deleteText(t,d.default.sources.USER),Object.keys(n).length>0&&this.quill.formatLine(t.index,1,n,d.default.sources.USER),this.quill.setSelection(t.index,d.default.sources.SILENT),this.quill.focus()}function k(t,e){var n=this;t.length>0&&this.quill.scroll.deleteAt(t.index,t.length);var i=Object.keys(e.format).reduce(function(t,n){return h.default.query(n,h.default.Scope.BLOCK)&&!Array.isArray(e.format[n])&&(t[n]=e.format[n]),t},{});this.quill.insertText(t.index,"\n",i,d.default.sources.USER),this.quill.setSelection(t.index+1,d.default.sources.SILENT),this.quill.focus(),Object.keys(e.format).forEach(function(t){null==i[t]&&(Array.isArray(e.format[t])||"link"!==t&&n.quill.format(t,e.format[t],d.default.sources.USER))})}function S(t){return{key:b.keys.TAB,shiftKey:!t,format:{"code-block":!0},handler:function(e){var n=h.default.query("code-block"),i=e.index,s=e.length,r=this.quill.scroll.descendant(n,i),a=o(r,2),l=a[0],c=a[1];if(null!=l){var u=this.quill.getIndex(l),f=l.newlineIndex(c,!0)+1,p=l.newlineIndex(u+c+s),g=l.domNode.textContent.slice(f,p).split("\n");c=0,g.forEach(function(e,o){t?(l.insertAt(f+c,n.TAB),c+=n.TAB.length,0===o?i+=n.TAB.length:s+=n.TAB.length):e.startsWith(n.TAB)&&(l.deleteAt(f+c,n.TAB.length),c-=n.TAB.length,0===o?i-=n.TAB.length:s-=n.TAB.length),c+=e.length+1}),this.quill.update(d.default.sources.USER),this.quill.setSelection(i,s,d.default.sources.SILENT)}}}}function T(t){return{key:t[0].toUpperCase(),shortKey:!0,handler:function(e,n){this.quill.format(t,!n.format[t],d.default.sources.USER)}}}function D(t){if("string"==typeof t||"number"==typeof t)return D({key:t});if("object"===("undefined"==typeof t?"undefined":i(t))&&(t=(0,r.default)(t,!1)),"string"==typeof t.key)if(null!=b.keys[t.key.toUpperCase()])t.key=b.keys[t.key.toUpperCase()];else{if(1!==t.key.length)return null;t.key=t.key.toUpperCase().charCodeAt(0)}return t.shortKey&&(t[y]=t.shortKey,delete t.shortKey),t}b.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},b.DEFAULTS={bindings:{bold:T("bold"),italic:T("italic"),underline:T("underline"),indent:{key:b.keys.TAB,format:["blockquote","indent","list"],handler:function(t,e){if(e.collapsed&&0!==e.offset)return!0;this.quill.format("indent","+1",d.default.sources.USER)}},outdent:{key:b.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(t,e){if(e.collapsed&&0!==e.offset)return!0;this.quill.format("indent","-1",d.default.sources.USER)}},"outdent backspace":{key:b.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(t,e){null!=e.format.indent?this.quill.format("indent","-1",d.default.sources.USER):null!=e.format.list&&this.quill.format("list",!1,d.default.sources.USER)}},"indent code-block":S(!0),"outdent code-block":S(!1),"remove tab":{key:b.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(t){this.quill.deleteText(t.index-1,1,d.default.sources.USER)}},tab:{key:b.keys.TAB,handler:function(t){this.quill.history.cutoff();var e=(new c.default).retain(t.index).delete(t.length).insert("\t");this.quill.updateContents(e,d.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index+1,d.default.sources.SILENT)}},"list empty enter":{key:b.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(t,e){this.quill.format("list",!1,d.default.sources.USER),e.format.indent&&this.quill.format("indent",!1,d.default.sources.USER)}},"checklist enter":{key:b.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(t){var e=this.quill.getLine(t.index),n=o(e,2),i=n[0],s=n[1],r=(0,l.default)({},i.formats(),{list:"checked"}),a=(new c.default).retain(t.index).insert("\n",r).retain(i.length()-s-1).retain(1,{list:"unchecked"});this.quill.updateContents(a,d.default.sources.USER),this.quill.setSelection(t.index+1,d.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:b.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(t,e){var n=this.quill.getLine(t.index),i=o(n,2),s=i[0],r=i[1],a=(new c.default).retain(t.index).insert("\n",e.format).retain(s.length()-r-1).retain(1,{header:null});this.quill.updateContents(a,d.default.sources.USER),this.quill.setSelection(t.index+1,d.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(t,e){var n=e.prefix.length,i=this.quill.getLine(t.index),s=o(i,2),r=s[0],a=s[1];if(a>n)return!0;var l=void 0;switch(e.prefix.trim()){case"[]":case"[ ]":l="unchecked";break;case"[x]":l="checked";break;case"-":case"*":l="bullet";break;default:l="ordered"}this.quill.insertText(t.index," ",d.default.sources.USER),this.quill.history.cutoff();var u=(new c.default).retain(t.index-a).delete(n+1).retain(r.length()-2-a).retain(1,{list:l});this.quill.updateContents(u,d.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index-n,d.default.sources.SILENT)}},"code exit":{key:b.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(t){var e=this.quill.getLine(t.index),n=o(e,2),i=n[0],s=n[1],r=(new c.default).retain(t.index+i.length()-s-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(r,d.default.sources.USER)}},"embed left":w(b.keys.LEFT,!1),"embed left shift":w(b.keys.LEFT,!0),"embed right":w(b.keys.RIGHT,!1),"embed right shift":w(b.keys.RIGHT,!0)}},e.default=b,e.SHORTKEY=y},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,n,i)}if("value"in o)return o.value;var r=o.get;return void 0!==r?r.call(i):void 0},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=a(n(0)),r=a(n(7));function a(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(t,n){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.selection=n,i.textNode=document.createTextNode(e.CONTENTS),i.domNode.appendChild(i.textNode),i._length=0,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.default.Embed),o(e,null,[{key:"value",value:function(){}}]),o(e,[{key:"detach",value:function(){null!=this.parent&&this.parent.removeChild(this)}},{key:"format",value:function(t,n){if(0!==this._length)return i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n);for(var o=this,r=0;null!=o&&o.statics.scope!==s.default.Scope.BLOCK_BLOT;)r+=o.offset(o.parent),o=o.parent;null!=o&&(this._length=e.CONTENTS.length,o.optimize(),o.formatAt(r,e.CONTENTS.length,t,n),this._length=0)}},{key:"index",value:function(t,n){return t===this.textNode?0:i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"index",this).call(this,t,n)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!this.selection.composing&&null!=this.parent){var t=this.textNode,n=this.selection.getNativeRange(),i=void 0,o=void 0,a=void 0;if(null!=n&&n.start.node===t&&n.end.node===t){var l=[t,n.start.offset,n.end.offset];i=l[0],o=l[1],a=l[2]}for(;null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==e.CONTENTS){var c=this.textNode.data.split(e.CONTENTS).join("");this.next instanceof r.default?(i=this.next.domNode,this.next.insertAt(0,c),this.textNode.data=e.CONTENTS):(this.textNode.data=c,this.parent.insertBefore(s.default.create(this.textNode),this),this.textNode=document.createTextNode(e.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),null!=o){var u=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,o=!1,s=void 0;try{for(var r,a=t[Symbol.iterator]();!(i=(r=a.next()).done)&&(n.push(r.value),!e||n.length!==e);i=!0);}catch(t){o=!0,s=t}finally{try{!i&&a.return&&a.return()}finally{if(o)throw s}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}([o,a].map(function(t){return Math.max(0,Math.min(i.data.length,t-1))}),2);return{startNode:i,startOffset:o=u[0],endNode:i,endOffset:a=u[1]}}}}},{key:"update",value:function(t,e){var n=this;if(t.some(function(t){return"characterData"===t.type&&t.target===n.textNode})){var i=this.restore();i&&(e.range=i)}}},{key:"value",value:function(){return""}}]),e}();l.blotName="cursor",l.className="ql-cursor",l.tagName="span",l.CONTENTS="\ufeff",e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(0)),o=n(4),s=r(o);function r(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function e(){return function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.default.Container),e}();a.allowedChildren=[s.default,o.BlockEmbed,a],e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorStyle=e.ColorClass=e.ColorAttributor=void 0;var i,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=(i=n(0))&&i.__esModule?i:{default:i},r=function(t){function e(){return function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.default.Attributor.Style),o(e,[{key:"value",value:function(t){var n=function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,n,i)}if("value"in o)return o.value;var r=o.get;return void 0!==r?r.call(i):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"value",this).call(this,t);return n.startsWith("rgb(")?"#"+(n=n.replace(/^[^\d]+/,"").replace(/[^\d]+$/,"")).split(",").map(function(t){return("00"+parseInt(t).toString(16)).slice(-2)}).join(""):n}}]),e}(),a=new s.default.Attributor.Class("color","ql-color",{scope:s.default.Scope.INLINE}),l=new r("color","color",{scope:s.default.Scope.INLINE});e.ColorAttributor=r,e.ColorClass=a,e.ColorStyle=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sanitize=e.default=void 0;var i,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,n,i)}if("value"in o)return o.value;var r=o.get;return void 0!==r?r.call(i):void 0},r=(i=n(6))&&i.__esModule?i:{default:i},a=function(t){function e(){return function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.default),o(e,[{key:"format",value:function(t,n){if(t!==this.statics.blotName||!n)return s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n);n=this.constructor.sanitize(n),this.domNode.setAttribute("href",n)}}],[{key:"create",value:function(t){var n=s(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t);return t=this.sanitize(t),n.setAttribute("href",t),n.setAttribute("target","_blank"),n}},{key:"formats",value:function(t){return t.getAttribute("href")}},{key:"sanitize",value:function(t){return l(t,this.PROTOCOL_WHITELIST)?t:this.SANITIZED_URL}}]),e}();function l(t,e){var n=document.createElement("a");n.href=t;var i=n.href.slice(0,n.href.indexOf(":"));return e.indexOf(i)>-1}a.blotName="link",a.tagName="A",a.SANITIZED_URL="about:blank",a.PROTOCOL_WHITELIST=["http","https","mailto","tel"],e.default=a,e.sanitize=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=a(n(23)),r=a(n(107));function a(t){return t&&t.__esModule?t:{default:t}}var l=0;function c(t,e){t.setAttribute(e,!("true"===t.getAttribute(e)))}var u=function(){function t(e){var n=this;!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.select=e,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){n.togglePicker()}),this.label.addEventListener("keydown",function(t){switch(t.keyCode){case s.default.keys.ENTER:n.togglePicker();break;case s.default.keys.ESCAPE:n.escape(),t.preventDefault()}}),this.select.addEventListener("change",this.update.bind(this))}return o(t,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),c(this.label,"aria-expanded"),c(this.options,"aria-hidden")}},{key:"buildItem",value:function(t){var e=this,n=document.createElement("span");return n.tabIndex="0",n.setAttribute("role","button"),n.classList.add("ql-picker-item"),t.hasAttribute("value")&&n.setAttribute("data-value",t.getAttribute("value")),t.textContent&&n.setAttribute("data-label",t.textContent),n.addEventListener("click",function(){e.selectItem(n,!0)}),n.addEventListener("keydown",function(t){switch(t.keyCode){case s.default.keys.ENTER:e.selectItem(n,!0),t.preventDefault();break;case s.default.keys.ESCAPE:e.escape(),t.preventDefault()}}),n}},{key:"buildLabel",value:function(){var t=document.createElement("span");return t.classList.add("ql-picker-label"),t.innerHTML=r.default,t.tabIndex="0",t.setAttribute("role","button"),t.setAttribute("aria-expanded","false"),this.container.appendChild(t),t}},{key:"buildOptions",value:function(){var t=this,e=document.createElement("span");e.classList.add("ql-picker-options"),e.setAttribute("aria-hidden","true"),e.tabIndex="-1",e.id="ql-picker-options-"+l,l+=1,this.label.setAttribute("aria-controls",e.id),this.options=e,[].slice.call(this.select.options).forEach(function(n){var i=t.buildItem(n);e.appendChild(i),!0===n.selected&&t.selectItem(i)}),this.container.appendChild(e)}},{key:"buildPicker",value:function(){var t=this;[].slice.call(this.select.attributes).forEach(function(e){t.container.setAttribute(e.name,e.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var t=this;this.close(),setTimeout(function(){return t.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.container.querySelector(".ql-selected");if(t!==n&&(null!=n&&n.classList.remove("ql-selected"),null!=t&&(t.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(t.parentNode.children,t),t.hasAttribute("data-value")?this.label.setAttribute("data-value",t.getAttribute("data-value")):this.label.removeAttribute("data-value"),t.hasAttribute("data-label")?this.label.setAttribute("data-label",t.getAttribute("data-label")):this.label.removeAttribute("data-label"),e))){if("function"==typeof Event)this.select.dispatchEvent(new Event("change"));else if("object"===("undefined"==typeof Event?"undefined":i(Event))){var o=document.createEvent("Event");o.initEvent("change",!0,!0),this.select.dispatchEvent(o)}this.close()}}},{key:"update",value:function(){var t=void 0;if(this.select.selectedIndex>-1){var e=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];t=this.select.options[this.select.selectedIndex],this.selectItem(e)}else this.selectItem(null);var n=null!=t&&t!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",n)}}]),t}();e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=v(n(0)),o=v(n(5)),s=n(4),r=v(s),a=v(n(16)),l=v(n(25)),c=v(n(24)),u=v(n(35)),h=v(n(6)),d=v(n(22)),f=v(n(7)),p=v(n(55)),g=v(n(42)),m=v(n(23));function v(t){return t&&t.__esModule?t:{default:t}}o.default.register({"blots/block":r.default,"blots/block/embed":s.BlockEmbed,"blots/break":a.default,"blots/container":l.default,"blots/cursor":c.default,"blots/embed":u.default,"blots/inline":h.default,"blots/scroll":d.default,"blots/text":f.default,"modules/clipboard":p.default,"modules/history":g.default,"modules/keyboard":m.default}),i.default.register(r.default,a.default,c.default,h.default,d.default,f.default),e.default=o.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=function(){function t(t){this.domNode=t,this.domNode[i.DATA_KEY]={blot:this}}return Object.defineProperty(t.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),t.create=function(t){if(null==this.tagName)throw new i.ParchmentError("Blot definition missing tagName");var e;return Array.isArray(this.tagName)?("string"==typeof t&&(t=t.toUpperCase(),parseInt(t).toString()===t&&(t=parseInt(t))),e="number"==typeof t?document.createElement(this.tagName[t-1]):this.tagName.indexOf(t)>-1?document.createElement(t):document.createElement(this.tagName[0])):e=document.createElement(this.tagName),this.className&&e.classList.add(this.className),e},t.prototype.attach=function(){null!=this.parent&&(this.scroll=this.parent.scroll)},t.prototype.clone=function(){var t=this.domNode.cloneNode(!1);return i.create(t)},t.prototype.detach=function(){null!=this.parent&&this.parent.removeChild(this),delete this.domNode[i.DATA_KEY]},t.prototype.deleteAt=function(t,e){this.isolate(t,e).remove()},t.prototype.formatAt=function(t,e,n,o){var s=this.isolate(t,e);if(null!=i.query(n,i.Scope.BLOT)&&o)s.wrap(n,o);else if(null!=i.query(n,i.Scope.ATTRIBUTE)){var r=i.create(this.statics.scope);s.wrap(r),r.format(n,o)}},t.prototype.insertAt=function(t,e,n){var o=null==n?i.create("text",e):i.create(e,n),s=this.split(t);this.parent.insertBefore(o,s)},t.prototype.insertInto=function(t,e){void 0===e&&(e=null),null!=this.parent&&this.parent.children.remove(this);var n=null;t.children.insertBefore(this,e),null!=e&&(n=e.domNode),this.domNode.parentNode==t.domNode&&this.domNode.nextSibling==n||t.domNode.insertBefore(this.domNode,n),this.parent=t,this.attach()},t.prototype.isolate=function(t,e){var n=this.split(t);return n.split(e),n},t.prototype.length=function(){return 1},t.prototype.offset=function(t){return void 0===t&&(t=this.parent),null==this.parent||this==t?0:this.parent.children.offset(this)+this.parent.offset(t)},t.prototype.optimize=function(t){null!=this.domNode[i.DATA_KEY]&&delete this.domNode[i.DATA_KEY].mutations},t.prototype.remove=function(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},t.prototype.replace=function(t){null!=t.parent&&(t.parent.insertBefore(this,t.next),t.remove())},t.prototype.replaceWith=function(t,e){var n="string"==typeof t?i.create(t,e):t;return n.replace(this),n},t.prototype.split=function(t,e){return 0===t?this:this.next},t.prototype.update=function(t,e){},t.prototype.wrap=function(t,e){var n="string"==typeof t?i.create(t,e):t;return null!=this.parent&&this.parent.insertBefore(n,this.next),n.appendChild(this),n},t.blotName="abstract",t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(12),o=n(32),s=n(33),r=n(1),a=function(){function t(t){this.attributes={},this.domNode=t,this.build()}return t.prototype.attribute=function(t,e){e?t.add(this.domNode,e)&&(null!=t.value(this.domNode)?this.attributes[t.attrName]=t:delete this.attributes[t.attrName]):(t.remove(this.domNode),delete this.attributes[t.attrName])},t.prototype.build=function(){var t=this;this.attributes={};var e=i.default.keys(this.domNode),n=o.default.keys(this.domNode),a=s.default.keys(this.domNode);e.concat(n).concat(a).forEach(function(e){var n=r.query(e,r.Scope.ATTRIBUTE);n instanceof i.default&&(t.attributes[n.attrName]=n)})},t.prototype.copy=function(t){var e=this;Object.keys(this.attributes).forEach(function(n){var i=e.attributes[n].value(e.domNode);t.format(n,i)})},t.prototype.move=function(t){var e=this;this.copy(t),Object.keys(this.attributes).forEach(function(t){e.attributes[t].remove(e.domNode)}),this.attributes={}},t.prototype.values=function(){var t=this;return Object.keys(this.attributes).reduce(function(e,n){return e[n]=t.attributes[n].value(t.domNode),e},{})},t}();e.default=a},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});function s(t,e){return(t.getAttribute("class")||"").split(/\s+/).filter(function(t){return 0===t.indexOf(e+"-")})}Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.keys=function(t){return(t.getAttribute("class")||"").split(/\s+/).map(function(t){return t.split("-").slice(0,-1).join("-")})},e.prototype.add=function(t,e){return!!this.canAdd(t,e)&&(this.remove(t),t.classList.add(this.keyName+"-"+e),!0)},e.prototype.remove=function(t){s(t,this.keyName).forEach(function(e){t.classList.remove(e)}),0===t.classList.length&&t.removeAttribute("class")},e.prototype.value=function(t){var e=(s(t,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(t,e)?e:""},e}(n(12).default);e.default=r},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});function s(t){var e=t.split("-"),n=e.slice(1).map(function(t){return t[0].toUpperCase()+t.slice(1)}).join("");return e[0]+n}Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.keys=function(t){return(t.getAttribute("style")||"").split(";").map(function(t){return t.split(":")[0].trim()})},e.prototype.add=function(t,e){return!!this.canAdd(t,e)&&(t.style[s(this.keyName)]=e,!0)},e.prototype.remove=function(t){t.style[s(this.keyName)]="",t.getAttribute("style")||t.removeAttribute("style")},e.prototype.value=function(t){var e=t.style[s(this.keyName)];return this.canAdd(t,e)?e:""},e}(n(12).default);e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function(){function t(e,n){!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.quill=e,this.options=n,this.modules={}}return i(t,[{key:"init",value:function(){var t=this;Object.keys(this.options.modules).forEach(function(e){null==t.modules[e]&&t.addModule(e)})}},{key:"addModule",value:function(t){var e=this.quill.constructor.import("modules/"+t);return this.modules[t]=new e(this.quill,this.options.modules[t]||{}),this.modules[t]}}]),t}();o.DEFAULTS={modules:{}},o.themes={default:o},e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=r(n(0)),s=r(n(7));function r(t){return t&&t.__esModule?t:{default:t}}var a="\ufeff",l=function(t){function e(t){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.contentNode=document.createElement("span"),n.contentNode.setAttribute("contenteditable",!1),[].slice.call(n.domNode.childNodes).forEach(function(t){n.contentNode.appendChild(t)}),n.leftGuard=document.createTextNode(a),n.rightGuard=document.createTextNode(a),n.domNode.appendChild(n.leftGuard),n.domNode.appendChild(n.contentNode),n.domNode.appendChild(n.rightGuard),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.default.Embed),i(e,[{key:"index",value:function(t,n){return t===this.leftGuard?0:t===this.rightGuard?1:function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,n,i)}if("value"in o)return o.value;var r=o.get;return void 0!==r?r.call(i):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"index",this).call(this,t,n)}},{key:"restore",value:function(t){var e=void 0,n=void 0,i=t.data.split(a).join("");if(t===this.leftGuard)if(this.prev instanceof s.default){var r=this.prev.length();this.prev.insertAt(r,i),e={startNode:this.prev.domNode,startOffset:r+i.length}}else n=document.createTextNode(i),this.parent.insertBefore(o.default.create(n),this),e={startNode:n,startOffset:i.length};else t===this.rightGuard&&(this.next instanceof s.default?(this.next.insertAt(0,i),e={startNode:this.next.domNode,startOffset:i.length}):(n=document.createTextNode(i),this.parent.insertBefore(o.default.create(n),this.next),e={startNode:n,startOffset:i.length}));return t.data=a,e}},{key:"update",value:function(t,e){var n=this;t.forEach(function(t){if("characterData"===t.type&&(t.target===n.leftGuard||t.target===n.rightGuard)){var i=n.restore(t.target);i&&(e.range=i)}})}}]),e}();e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AlignStyle=e.AlignClass=e.AlignAttribute=void 0;var i,o=(i=n(0))&&i.__esModule?i:{default:i},s={scope:o.default.Scope.BLOCK,whitelist:["right","center","justify"]},r=new o.default.Attributor.Attribute("align","align",s),a=new o.default.Attributor.Class("align","ql-align",s),l=new o.default.Attributor.Style("align","text-align",s);e.AlignAttribute=r,e.AlignClass=a,e.AlignStyle=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BackgroundStyle=e.BackgroundClass=void 0;var i,o=(i=n(0))&&i.__esModule?i:{default:i},s=n(26),r=new o.default.Attributor.Class("background","ql-bg",{scope:o.default.Scope.INLINE}),a=new s.ColorAttributor("background","background-color",{scope:o.default.Scope.INLINE});e.BackgroundClass=r,e.BackgroundStyle=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DirectionStyle=e.DirectionClass=e.DirectionAttribute=void 0;var i,o=(i=n(0))&&i.__esModule?i:{default:i},s={scope:o.default.Scope.BLOCK,whitelist:["rtl"]},r=new o.default.Attributor.Attribute("direction","dir",s),a=new o.default.Attributor.Class("direction","ql-direction",s),l=new o.default.Attributor.Style("direction","direction",s);e.DirectionAttribute=r,e.DirectionClass=a,e.DirectionStyle=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FontClass=e.FontStyle=void 0;var i,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=(i=n(0))&&i.__esModule?i:{default:i},r={scope:s.default.Scope.INLINE,whitelist:["serif","monospace"]},a=new s.default.Attributor.Class("font","ql-font",r),l=new(function(t){function e(){return function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.default.Attributor.Style),o(e,[{key:"value",value:function(t){return function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,n,i)}if("value"in o)return o.value;var r=o.get;return void 0!==r?r.call(i):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"value",this).call(this,t).replace(/["']/g,"")}}]),e}())("font","font-family",r);e.FontStyle=l,e.FontClass=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SizeStyle=e.SizeClass=void 0;var i,o=(i=n(0))&&i.__esModule?i:{default:i},s=new o.default.Attributor.Class("size","ql-size",{scope:o.default.Scope.INLINE,whitelist:["small","large","huge"]}),r=new o.default.Attributor.Style("size","font-size",{scope:o.default.Scope.INLINE,whitelist:["10px","18px","32px"]});e.SizeClass=s,e.SizeStyle=r},function(t,e,n){"use strict";t.exports={align:{"":n(76),center:n(77),right:n(78),justify:n(79)},background:n(80),blockquote:n(81),bold:n(82),clean:n(83),code:n(58),"code-block":n(58),color:n(84),direction:{"":n(85),rtl:n(86)},float:{center:n(87),full:n(88),left:n(89),right:n(90)},formula:n(91),header:{1:n(92),2:n(93)},italic:n(94),image:n(95),indent:{"+1":n(96),"-1":n(97)},link:n(98),list:{ordered:n(99),bullet:n(100),check:n(101)},script:{sub:n(102),super:n(103)},strike:n(104),underline:n(105),video:n(106)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLastChangeIndex=e.default=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=a(n(0)),s=a(n(5)),r=a(n(9));function a(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(t,n){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.lastRecorded=0,i.ignoreChange=!1,i.clear(),i.quill.on(s.default.events.EDITOR_CHANGE,function(t,e,n,o){t!==s.default.events.TEXT_CHANGE||i.ignoreChange||(i.options.userOnly&&o!==s.default.sources.USER?i.transform(e):i.record(e,n))}),i.quill.keyboard.addBinding({key:"Z",shortKey:!0},i.undo.bind(i)),i.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},i.redo.bind(i)),/Win/i.test(navigator.platform)&&i.quill.keyboard.addBinding({key:"Y",shortKey:!0},i.redo.bind(i)),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.default),i(e,[{key:"change",value:function(t,e){if(0!==this.stack[t].length){var n=this.stack[t].pop();this.stack[e].push(n),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(n[t],s.default.sources.USER),this.ignoreChange=!1;var i=c(n[t]);this.quill.setSelection(i)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(t,e){if(0!==t.ops.length){this.stack.redo=[];var n=this.quill.getContents().diff(e),i=Date.now();if(this.lastRecorded+this.options.delay>i&&this.stack.undo.length>0){var o=this.stack.undo.pop();n=n.compose(o.undo),t=o.redo.compose(t)}else this.lastRecorded=i;this.stack.undo.push({redo:t,undo:n}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(t){this.stack.undo.forEach(function(e){e.undo=t.transform(e.undo,!0),e.redo=t.transform(e.redo,!0)}),this.stack.redo.forEach(function(e){e.undo=t.transform(e.undo,!0),e.redo=t.transform(e.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),e}();function c(t){var e=t.reduce(function(t,e){return t+(e.delete||0)},0),n=t.length()-e;return function(t){var e=t.ops[t.ops.length-1];return null!=e&&(null!=e.insert?"string"==typeof e.insert&&e.insert.endsWith("\n"):null!=e.attributes&&Object.keys(e.attributes).some(function(t){return null!=o.default.query(t,o.default.Scope.BLOCK)}))}(t)&&(n-=1),n}l.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1},e.default=l,e.getLastChangeIndex=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.BaseTooltip=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=f(n(3)),s=f(n(2)),r=f(n(8)),a=f(n(23)),l=f(n(34)),c=f(n(59)),u=f(n(60)),h=f(n(28)),d=f(n(61));function f(t){return t&&t.__esModule?t:{default:t}}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function m(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var v=[!1,"center","right","justify"],y=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],b=[!1,"serif","monospace"],w=["1","2","3",!1],_=["small",!1,"large","huge"],x=function(t){function e(t,n){p(this,e);var i=g(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return t.emitter.listenDOM("click",document.body,function e(n){if(!document.body.contains(t.root))return document.body.removeEventListener("click",e);null==i.tooltip||i.tooltip.root.contains(n.target)||document.activeElement===i.tooltip.textbox||i.quill.hasFocus()||i.tooltip.hide(),null!=i.pickers&&i.pickers.forEach(function(t){t.container.contains(n.target)||t.close()})}),i}return m(e,l.default),i(e,[{key:"addModule",value:function(t){var n=function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,n,i)}if("value"in o)return o.value;var r=o.get;return void 0!==r?r.call(i):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"addModule",this).call(this,t);return"toolbar"===t&&this.extendToolbar(n),n}},{key:"buildButtons",value:function(t,e){t.forEach(function(t){(t.getAttribute("class")||"").split(/\s+/).forEach(function(n){if(n.startsWith("ql-")&&(n=n.slice("ql-".length),null!=e[n]))if("direction"===n)t.innerHTML=e[n][""]+e[n].rtl;else if("string"==typeof e[n])t.innerHTML=e[n];else{var i=t.value||"";null!=i&&e[n][i]&&(t.innerHTML=e[n][i])}})})}},{key:"buildPickers",value:function(t,e){var n=this;this.pickers=t.map(function(t){if(t.classList.contains("ql-align"))return null==t.querySelector("option")&&k(t,v),new u.default(t,e.align);if(t.classList.contains("ql-background")||t.classList.contains("ql-color")){var n=t.classList.contains("ql-background")?"background":"color";return null==t.querySelector("option")&&k(t,y,"background"===n?"#ffffff":"#000000"),new c.default(t,e[n])}return null==t.querySelector("option")&&(t.classList.contains("ql-font")?k(t,b):t.classList.contains("ql-header")?k(t,w):t.classList.contains("ql-size")&&k(t,_)),new h.default(t)}),this.quill.on(r.default.events.EDITOR_CHANGE,function(){n.pickers.forEach(function(t){t.update()})})}}]),e}();x.DEFAULTS=(0,o.default)(!0,{},l.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var t=this,e=this.container.querySelector("input.ql-image[type=file]");null==e&&((e=document.createElement("input")).setAttribute("type","file"),e.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),e.classList.add("ql-image"),e.addEventListener("change",function(){if(null!=e.files&&null!=e.files[0]){var n=new FileReader;n.onload=function(n){var i=t.quill.getSelection(!0);t.quill.updateContents((new s.default).retain(i.index).delete(i.length).insert({image:n.target.result}),r.default.sources.USER),t.quill.setSelection(i.index+1,r.default.sources.SILENT),e.value=""},n.readAsDataURL(e.files[0])}}),this.container.appendChild(e)),e.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var C=function(t){function e(t,n){p(this,e);var i=g(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.textbox=i.root.querySelector('input[type="text"]'),i.listen(),i}return m(e,d.default),i(e,[{key:"listen",value:function(){var t=this;this.textbox.addEventListener("keydown",function(e){a.default.match(e,"enter")?(t.save(),e.preventDefault()):a.default.match(e,"escape")&&(t.cancel(),e.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"link",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),null!=e?this.textbox.value=e:t!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+t)||""),this.root.setAttribute("data-mode",t)}},{key:"restoreFocus",value:function(){var t=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=t}},{key:"save",value:function(){var t,e,n=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":var i=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",n,r.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",n,r.default.sources.USER)),this.quill.root.scrollTop=i;break;case"video":n=(e=(t=n).match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||t.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/))?(e[1]||"https")+"://www.youtube.com/embed/"+e[2]+"?showinfo=0":(e=t.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(e[1]||"https")+"://player.vimeo.com/video/"+e[2]+"/":t;case"formula":if(!n)break;var o=this.quill.getSelection(!0);if(null!=o){var s=o.index+o.length;this.quill.insertEmbed(s,this.root.getAttribute("data-mode"),n,r.default.sources.USER),"formula"===this.root.getAttribute("data-mode")&&this.quill.insertText(s+1," ",r.default.sources.USER),this.quill.setSelection(s+2,r.default.sources.USER)}}this.textbox.value="",this.hide()}}]),e}();function k(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e.forEach(function(e){var i=document.createElement("option");e===n?i.setAttribute("selected","selected"):i.setAttribute("value",e),t.appendChild(i)})}e.BaseTooltip=C,e.default=x},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){this.head=this.tail=null,this.length=0}return t.prototype.append=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.insertBefore(t[0],null),t.length>1&&this.append.apply(this,t.slice(1))},t.prototype.contains=function(t){for(var e,n=this.iterator();e=n();)if(e===t)return!0;return!1},t.prototype.insertBefore=function(t,e){t&&(t.next=e,null!=e?(t.prev=e.prev,null!=e.prev&&(e.prev.next=t),e.prev=t,e===this.head&&(this.head=t)):null!=this.tail?(this.tail.next=t,t.prev=this.tail,this.tail=t):(t.prev=null,this.head=this.tail=t),this.length+=1)},t.prototype.offset=function(t){for(var e=0,n=this.head;null!=n;){if(n===t)return e;e+=n.length(),n=n.next}return-1},t.prototype.remove=function(t){this.contains(t)&&(null!=t.prev&&(t.prev.next=t.next),null!=t.next&&(t.next.prev=t.prev),t===this.head&&(this.head=t.next),t===this.tail&&(this.tail=t.prev),this.length-=1)},t.prototype.iterator=function(t){return void 0===t&&(t=this.head),function(){var e=t;return null!=t&&(t=t.next),e}},t.prototype.find=function(t,e){void 0===e&&(e=!1);for(var n,i=this.iterator();n=i();){var o=n.length();if(t<o||e&&t===o&&(null==n.next||0!==n.next.length()))return[n,t];t-=o}return[null,0]},t.prototype.forEach=function(t){for(var e,n=this.iterator();e=n();)t(e)},t.prototype.forEachAt=function(t,e,n){if(!(e<=0))for(var i,o=this.find(t),s=t-o[1],r=this.iterator(o[0]);(i=r())&&s<t+e;){var a=i.length();t>s?n(i,t-s,Math.min(e,s+a-t)):n(i,0,Math.min(a,t+e-s)),s+=a}},t.prototype.map=function(t){return this.reduce(function(e,n){return e.push(t(n)),e},[])},t.prototype.reduce=function(t,e){for(var n,i=this.iterator();n=i();)e=t(e,n);return e},t}();e.default=i},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var s=n(17),r=n(1),a={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},l=function(t){function e(e){var n=t.call(this,e)||this;return n.scroll=n,n.observer=new MutationObserver(function(t){n.update(t)}),n.observer.observe(n.domNode,a),n.attach(),n}return o(e,t),e.prototype.detach=function(){t.prototype.detach.call(this),this.observer.disconnect()},e.prototype.deleteAt=function(e,n){this.update(),0===e&&n===this.length()?this.children.forEach(function(t){t.remove()}):t.prototype.deleteAt.call(this,e,n)},e.prototype.formatAt=function(e,n,i,o){this.update(),t.prototype.formatAt.call(this,e,n,i,o)},e.prototype.insertAt=function(e,n,i){this.update(),t.prototype.insertAt.call(this,e,n,i)},e.prototype.optimize=function(e,n){var i=this;void 0===e&&(e=[]),void 0===n&&(n={}),t.prototype.optimize.call(this,n);for(var o=[].slice.call(this.observer.takeRecords());o.length>0;)e.push(o.pop());for(var a=function(t,e){void 0===e&&(e=!0),null!=t&&t!==i&&null!=t.domNode.parentNode&&(null==t.domNode[r.DATA_KEY].mutations&&(t.domNode[r.DATA_KEY].mutations=[]),e&&a(t.parent))},l=function(t){null!=t.domNode[r.DATA_KEY]&&null!=t.domNode[r.DATA_KEY].mutations&&(t instanceof s.default&&t.children.forEach(l),t.optimize(n))},c=e,u=0;c.length>0;u+=1){if(u>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(c.forEach(function(t){var e=r.find(t.target,!0);null!=e&&(e.domNode===t.target&&("childList"===t.type?(a(r.find(t.previousSibling,!1)),[].forEach.call(t.addedNodes,function(t){var e=r.find(t,!1);a(e,!1),e instanceof s.default&&e.children.forEach(function(t){a(t,!1)})})):"attributes"===t.type&&a(e.prev)),a(e))}),this.children.forEach(l),o=(c=[].slice.call(this.observer.takeRecords())).slice();o.length>0;)e.push(o.pop())}},e.prototype.update=function(e,n){var i=this;void 0===n&&(n={}),(e=e||this.observer.takeRecords()).map(function(t){var e=r.find(t.target,!0);return null==e?null:null==e.domNode[r.DATA_KEY].mutations?(e.domNode[r.DATA_KEY].mutations=[t],e):(e.domNode[r.DATA_KEY].mutations.push(t),null)}).forEach(function(t){null!=t&&t!==i&&null!=t.domNode[r.DATA_KEY]&&t.update(t.domNode[r.DATA_KEY].mutations||[],n)}),null!=this.domNode[r.DATA_KEY].mutations&&t.prototype.update.call(this,this.domNode[r.DATA_KEY].mutations,n),this.optimize(e,n)},e.blotName="scroll",e.defaultChild="block",e.scope=r.Scope.BLOCK_BLOT,e.tagName="DIV",e}(s.default);e.default=l},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var s=n(18),r=n(1),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.formats=function(n){if(n.tagName!==e.tagName)return t.formats.call(this,n)},e.prototype.format=function(n,i){var o=this;n!==this.statics.blotName||i?t.prototype.format.call(this,n,i):(this.children.forEach(function(t){t instanceof s.default||(t=t.wrap(e.blotName,!0)),o.attributes.copy(t)}),this.unwrap())},e.prototype.formatAt=function(e,n,i,o){null!=this.formats()[i]||r.query(i,r.Scope.ATTRIBUTE)?this.isolate(e,n).format(i,o):t.prototype.formatAt.call(this,e,n,i,o)},e.prototype.optimize=function(n){t.prototype.optimize.call(this,n);var i=this.formats();if(0===Object.keys(i).length)return this.unwrap();var o=this.next;o instanceof e&&o.prev===this&&function(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var n in t)if(t[n]!==e[n])return!1;return!0}(i,o.formats())&&(o.moveChildren(this),o.remove())},e.blotName="inline",e.scope=r.Scope.INLINE_BLOT,e.tagName="SPAN",e}(s.default);e.default=a},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var s=n(18),r=n(1),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.formats=function(n){var i=r.query(e.blotName).tagName;if(n.tagName!==i)return t.formats.call(this,n)},e.prototype.format=function(n,i){null!=r.query(n,r.Scope.BLOCK)&&(n!==this.statics.blotName||i?t.prototype.format.call(this,n,i):this.replaceWith(e.blotName))},e.prototype.formatAt=function(e,n,i,o){null!=r.query(i,r.Scope.BLOCK)?this.format(i,o):t.prototype.formatAt.call(this,e,n,i,o)},e.prototype.insertAt=function(e,n,i){if(null==i||null!=r.query(n,r.Scope.INLINE))t.prototype.insertAt.call(this,e,n,i);else{var o=this.split(e),s=r.create(n,i);o.parent.insertBefore(s,o)}},e.prototype.update=function(e,n){navigator.userAgent.match(/Trident/)?this.build():t.prototype.update.call(this,e,n)},e.blotName="block",e.scope=r.Scope.BLOCK_BLOT,e.tagName="P",e}(s.default);e.default=a},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.formats=function(t){},e.prototype.format=function(e,n){t.prototype.formatAt.call(this,0,this.length(),e,n)},e.prototype.formatAt=function(e,n,i,o){0===e&&n===this.length()?this.format(i,o):t.prototype.formatAt.call(this,e,n,i,o)},e.prototype.formats=function(){return this.statics.formats(this.domNode)},e}(n(19).default);e.default=s},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var s=n(19),r=n(1),a=function(t){function e(e){var n=t.call(this,e)||this;return n.text=n.statics.value(n.domNode),n}return o(e,t),e.create=function(t){return document.createTextNode(t)},e.value=function(t){var e=t.data;return e.normalize&&(e=e.normalize()),e},e.prototype.deleteAt=function(t,e){this.domNode.data=this.text=this.text.slice(0,t)+this.text.slice(t+e)},e.prototype.index=function(t,e){return this.domNode===t?e:-1},e.prototype.insertAt=function(e,n,i){null==i?(this.text=this.text.slice(0,e)+n+this.text.slice(e),this.domNode.data=this.text):t.prototype.insertAt.call(this,e,n,i)},e.prototype.length=function(){return this.text.length},e.prototype.optimize=function(n){t.prototype.optimize.call(this,n),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof e&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},e.prototype.position=function(t,e){return void 0===e&&(e=!1),[this.domNode,t]},e.prototype.split=function(t,e){if(void 0===e&&(e=!1),!e){if(0===t)return this;if(t===this.length())return this.next}var n=r.create(this.domNode.splitText(t));return this.parent.insertBefore(n,this.next),this.text=this.statics.value(this.domNode),n},e.prototype.update=function(t,e){var n=this;t.some(function(t){return"characterData"===t.type&&t.target===n.domNode})&&(this.text=this.statics.value(this.domNode))},e.prototype.value=function(){return this.text},e.blotName="text",e.scope=r.Scope.INLINE_BLOT,e}(s.default);e.default=a},function(t,e,n){"use strict";var i=document.createElement("div");if(i.classList.toggle("test-class",!1),i.classList.contains("test-class")){var o=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,e){return arguments.length>1&&!this.contains(t)==!e?e:o.call(this,t)}}String.prototype.startsWith||(String.prototype.startsWith=function(t,e){return this.substr(e=e||0,t.length)===t}),String.prototype.endsWith||(String.prototype.endsWith=function(t,e){var n=this.toString();("number"!=typeof e||!isFinite(e)||Math.floor(e)!==e||e>n.length)&&(e=n.length);var i=n.indexOf(t,e-=t.length);return-1!==i&&i===e}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(t){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var e,n=Object(this),i=n.length>>>0,o=arguments[1],s=0;s<i;s++)if(t.call(o,e=n[s],s,n))return e}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(t,e){var n=-1,i=1,o=0;function s(t,e,c){if(t==e)return t?[[o,t]]:[];(c<0||t.length<c)&&(c=null);var h=a(t,e),d=t.substring(0,h);h=l(t=t.substring(h),e=e.substring(h));var f=t.substring(t.length-h),p=function(t,e){var c;if(!t)return[[i,e]];if(!e)return[[n,t]];var u=t.length>e.length?t:e,h=t.length>e.length?e:t,d=u.indexOf(h);if(-1!=d)return c=[[i,u.substring(0,d)],[o,h],[i,u.substring(d+h.length)]],t.length>e.length&&(c[0][0]=c[2][0]=n),c;if(1==h.length)return[[n,t],[i,e]];var f=function(t,e){var n=t.length>e.length?t:e,i=t.length>e.length?e:t;if(n.length<4||2*i.length<n.length)return null;function o(t,e,n){for(var i,o,s,r,c=t.substring(n,n+Math.floor(t.length/4)),u=-1,h="";-1!=(u=e.indexOf(c,u+1));){var d=a(t.substring(n),e.substring(u)),f=l(t.substring(0,n),e.substring(0,u));h.length<f+d&&(h=e.substring(u-f,u)+e.substring(u,u+d),i=t.substring(0,n-f),o=t.substring(n+d),s=e.substring(0,u-f),r=e.substring(u+d))}return 2*h.length>=t.length?[i,o,s,r,h]:null}var s,r,c,u,h,d=o(n,i,Math.ceil(n.length/4)),f=o(n,i,Math.ceil(n.length/2));return d||f?(s=f?d&&d[4].length>f[4].length?d:f:d,t.length>e.length?(r=s[0],c=s[1],u=s[2],h=s[3]):(u=s[0],h=s[1],r=s[2],c=s[3]),[r,c,u,h,s[4]]):null}(t,e);if(f){var p=f[1],g=f[3],m=f[4],v=s(f[0],f[2]),y=s(p,g);return v.concat([[o,m]],y)}return function(t,e){for(var o=t.length,s=e.length,a=Math.ceil((o+s)/2),l=a,c=2*a,u=new Array(c),h=new Array(c),d=0;d<c;d++)u[d]=-1,h[d]=-1;u[l+1]=0,h[l+1]=0;for(var f=o-s,p=f%2!=0,g=0,m=0,v=0,y=0,b=0;b<a;b++){for(var w=-b+g;w<=b-m;w+=2){for(var _=l+w,x=(D=w==-b||w!=b&&u[_-1]<u[_+1]?u[_+1]:u[_-1]+1)-w;D<o&&x<s&&t.charAt(D)==e.charAt(x);)D++,x++;if(u[_]=D,D>o)m+=2;else if(x>s)g+=2;else if(p&&(S=l+f-w)>=0&&S<c&&-1!=h[S]){var C=o-h[S];if(D>=C)return r(t,e,D,x)}}for(var k=-b+v;k<=b-y;k+=2){for(var S=l+k,T=(C=k==-b||k!=b&&h[S-1]<h[S+1]?h[S+1]:h[S-1]+1)-k;C<o&&T<s&&t.charAt(o-C-1)==e.charAt(s-T-1);)C++,T++;if(h[S]=C,C>o)y+=2;else if(T>s)v+=2;else if(!p&&(_=l+f-k)>=0&&_<c&&-1!=u[_]){var D=u[_];if(x=l+D-_,D>=(C=o-C))return r(t,e,D,x)}}}return[[n,t],[i,e]]}(t,e)}(t=t.substring(0,t.length-h),e=e.substring(0,e.length-h));return d&&p.unshift([o,d]),f&&p.push([o,f]),function t(e){e.push([o,""]);for(var s,r=0,c=0,u=0,h="",d="";r<e.length;)switch(e[r][0]){case i:u++,d+=e[r][1],r++;break;case n:c++,h+=e[r][1],r++;break;case o:c+u>1?(0!==c&&0!==u&&(0!==(s=a(d,h))&&(r-c-u>0&&e[r-c-u-1][0]==o?e[r-c-u-1][1]+=d.substring(0,s):(e.splice(0,0,[o,d.substring(0,s)]),r++),d=d.substring(s),h=h.substring(s)),0!==(s=l(d,h))&&(e[r][1]=d.substring(d.length-s)+e[r][1],d=d.substring(0,d.length-s),h=h.substring(0,h.length-s))),0===c?e.splice(r-u,c+u,[i,d]):0===u?e.splice(r-c,c+u,[n,h]):e.splice(r-c-u,c+u,[n,h],[i,d]),r=r-c-u+(c?1:0)+(u?1:0)+1):0!==r&&e[r-1][0]==o?(e[r-1][1]+=e[r][1],e.splice(r,1)):r++,u=0,c=0,h="",d=""}""===e[e.length-1][1]&&e.pop();var f=!1;for(r=1;r<e.length-1;)e[r-1][0]==o&&e[r+1][0]==o&&(e[r][1].substring(e[r][1].length-e[r-1][1].length)==e[r-1][1]?(e[r][1]=e[r-1][1]+e[r][1].substring(0,e[r][1].length-e[r-1][1].length),e[r+1][1]=e[r-1][1]+e[r+1][1],e.splice(r-1,1),f=!0):e[r][1].substring(0,e[r+1][1].length)==e[r+1][1]&&(e[r-1][1]+=e[r+1][1],e[r][1]=e[r][1].substring(e[r+1][1].length)+e[r+1][1],e.splice(r+1,1),f=!0)),r++;f&&t(e)}(p),null!=c&&(p=function(t,e){var i=function(t,e){if(0===e)return[o,t];for(var i=0,s=0;s<t.length;s++){var r=t[s];if(r[0]===n||r[0]===o){var a=i+r[1].length;if(e===a)return[s+1,t];if(e<a){t=t.slice();var l=e-i,c=[r[0],r[1].slice(0,l)],u=[r[0],r[1].slice(l)];return t.splice(s,1,c,u),[s+1,t]}i=a}}throw new Error("cursor_pos is out of bounds!")}(t,e),s=i[1],r=i[0],a=s[r],l=s[r+1];if(null==a)return t;if(a[0]!==o)return t;if(null!=l&&a[1]+l[1]===l[1]+a[1])return s.splice(r,2,l,a),u(s,r,2);if(null!=l&&0===l[1].indexOf(a[1])){s.splice(r,2,[l[0],a[1]],[0,a[1]]);var c=l[1].slice(a[1].length);return c.length>0&&s.splice(r+2,0,[l[0],c]),u(s,r,3)}return t}(p,c)),function(t){for(var e=!1,s=function(t){return t.charCodeAt(0)>=56320&&t.charCodeAt(0)<=57343},r=2;r<t.length;r+=1)t[r-2][0]===o&&(a=t[r-2][1]).charCodeAt(a.length-1)>=55296&&a.charCodeAt(a.length-1)<=56319&&t[r-1][0]===n&&s(t[r-1][1])&&t[r][0]===i&&s(t[r][1])&&(e=!0,t[r-1][1]=t[r-2][1].slice(-1)+t[r-1][1],t[r][1]=t[r-2][1].slice(-1)+t[r][1],t[r-2][1]=t[r-2][1].slice(0,-1));var a;if(!e)return t;var l=[];for(r=0;r<t.length;r+=1)t[r][1].length>0&&l.push(t[r]);return l}(p)}function r(t,e,n,i){var o=t.substring(0,n),r=e.substring(0,i),a=t.substring(n),l=e.substring(i),c=s(o,r),u=s(a,l);return c.concat(u)}function a(t,e){if(!t||!e||t.charAt(0)!=e.charAt(0))return 0;for(var n=0,i=Math.min(t.length,e.length),o=i,s=0;n<o;)t.substring(s,o)==e.substring(s,o)?s=n=o:i=o,o=Math.floor((i-n)/2+n);return o}function l(t,e){if(!t||!e||t.charAt(t.length-1)!=e.charAt(e.length-1))return 0;for(var n=0,i=Math.min(t.length,e.length),o=i,s=0;n<o;)t.substring(t.length-o,t.length-s)==e.substring(e.length-o,e.length-s)?s=n=o:i=o,o=Math.floor((i-n)/2+n);return o}var c=s;function u(t,e,n){for(var i=e+n-1;i>=0&&i>=e-1;i--)if(i+1<t.length){var o=t[i],s=t[i+1];o[0]===s[1]&&t.splice(i,2,[o[0],o[1]+s[1]])}return t}c.INSERT=i,c.DELETE=n,c.EQUAL=o,t.exports=c},function(t,e){function n(t){var e=[];for(var n in t)e.push(n);return e}(t.exports="function"==typeof Object.keys?Object.keys:n).shim=n},function(t,e){var n="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function i(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function o(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Object.prototype.hasOwnProperty.call(t,"callee")&&!Object.prototype.propertyIsEnumerable.call(t,"callee")||!1}(e=t.exports=n?i:o).supported=i,e.unsupported=o},function(t,e){"use strict";var n=Object.prototype.hasOwnProperty,i="~";function o(){}function s(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function r(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(i=!1)),r.prototype.eventNames=function(){var t,e,o=[];if(0===this._eventsCount)return o;for(e in t=this._events)n.call(t,e)&&o.push(i?e.slice(1):e);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(t)):o},r.prototype.listeners=function(t,e){var n=this._events[i?i+t:t];if(e)return!!n;if(!n)return[];if(n.fn)return[n.fn];for(var o=0,s=n.length,r=new Array(s);o<s;o++)r[o]=n[o].fn;return r},r.prototype.emit=function(t,e,n,o,s,r){var a=i?i+t:t;if(!this._events[a])return!1;var l,c,u=this._events[a],h=arguments.length;if(u.fn){switch(u.once&&this.removeListener(t,u.fn,void 0,!0),h){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,e),!0;case 3:return u.fn.call(u.context,e,n),!0;case 4:return u.fn.call(u.context,e,n,o),!0;case 5:return u.fn.call(u.context,e,n,o,s),!0;case 6:return u.fn.call(u.context,e,n,o,s,r),!0}for(c=1,l=new Array(h-1);c<h;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var d,f=u.length;for(c=0;c<f;c++)switch(u[c].once&&this.removeListener(t,u[c].fn,void 0,!0),h){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,e);break;case 3:u[c].fn.call(u[c].context,e,n);break;case 4:u[c].fn.call(u[c].context,e,n,o);break;default:if(!l)for(d=1,l=new Array(h-1);d<h;d++)l[d-1]=arguments[d];u[c].fn.apply(u[c].context,l)}}return!0},r.prototype.on=function(t,e,n){var o=new s(e,n||this),r=i?i+t:t;return this._events[r]?this._events[r].fn?this._events[r]=[this._events[r],o]:this._events[r].push(o):(this._events[r]=o,this._eventsCount++),this},r.prototype.once=function(t,e,n){var o=new s(e,n||this,!0),r=i?i+t:t;return this._events[r]?this._events[r].fn?this._events[r]=[this._events[r],o]:this._events[r].push(o):(this._events[r]=o,this._eventsCount++),this},r.prototype.removeListener=function(t,e,n,s){var r=i?i+t:t;if(!this._events[r])return this;if(!e)return 0==--this._eventsCount?this._events=new o:delete this._events[r],this;var a=this._events[r];if(a.fn)a.fn!==e||s&&!a.once||n&&a.context!==n||(0==--this._eventsCount?this._events=new o:delete this._events[r]);else{for(var l=0,c=[],u=a.length;l<u;l++)(a[l].fn!==e||s&&!a[l].once||n&&a[l].context!==n)&&c.push(a[l]);c.length?this._events[r]=1===c.length?c[0]:c:0==--this._eventsCount?this._events=new o:delete this._events[r]}return this},r.prototype.removeAllListeners=function(t){var e;return t?this._events[e=i?i+t:t]&&(0==--this._eventsCount?this._events=new o:delete this._events[e]):(this._events=new o,this._eventsCount=0),this},r.prototype.off=r.prototype.removeListener,r.prototype.addListener=r.prototype.on,r.prototype.setMaxListeners=function(){return this},r.prefixed=i,r.EventEmitter=r,"undefined"!=typeof t&&(t.exports=r)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.matchText=e.matchSpacing=e.matchNewline=e.matchBlot=e.matchAttributor=e.default=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,o=!1,s=void 0;try{for(var r,a=t[Symbol.iterator]();!(i=(r=a.next()).done)&&(n.push(r.value),!e||n.length!==e);i=!0);}catch(t){o=!0,s=t}finally{try{!i&&a.return&&a.return()}finally{if(o)throw s}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=b(n(3)),a=b(n(2)),l=b(n(0)),c=b(n(5)),u=b(n(10)),h=b(n(9)),d=n(36),f=n(37),p=b(n(13)),g=n(26),m=n(38),v=n(39),y=n(40);function b(t){return t&&t.__esModule?t:{default:t}}function w(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var _=(0,u.default)("quill:clipboard"),x="__ql-matcher",C=[[Node.TEXT_NODE,L],[Node.TEXT_NODE,I],["br",function(t,e){return E(e,"\n")||e.insert("\n"),e}],[Node.ELEMENT_NODE,I],[Node.ELEMENT_NODE,P],[Node.ELEMENT_NODE,R],[Node.ELEMENT_NODE,M],[Node.ELEMENT_NODE,function(t,e){var n={},i=t.style||{};return i.fontStyle&&"italic"===O(t).fontStyle&&(n.italic=!0),i.fontWeight&&(O(t).fontWeight.startsWith("bold")||parseInt(O(t).fontWeight)>=700)&&(n.bold=!0),Object.keys(n).length>0&&(e=D(e,n)),parseFloat(i.textIndent||0)>0&&(e=(new a.default).insert("\t").concat(e)),e}],["li",function(t,e){var n=l.default.query(t);if(null==n||"list-item"!==n.blotName||!E(e,"\n"))return e;for(var i=-1,o=t.parentNode;!o.classList.contains("ql-clipboard");)"list"===(l.default.query(o)||{}).blotName&&(i+=1),o=o.parentNode;return i<=0?e:e.compose((new a.default).retain(e.length()-1).retain(1,{indent:i}))}],["b",A.bind(A,"bold")],["i",A.bind(A,"italic")],["style",function(){return new a.default}]],k=[d.AlignAttribute,m.DirectionAttribute].reduce(function(t,e){return t[e.keyName]=e,t},{}),S=[d.AlignStyle,f.BackgroundStyle,g.ColorStyle,m.DirectionStyle,v.FontStyle,y.SizeStyle].reduce(function(t,e){return t[e.keyName]=e,t},{}),T=function(t){function e(t,n){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.quill.root.addEventListener("paste",i.onPaste.bind(i)),i.container=i.quill.addContainer("ql-clipboard"),i.container.setAttribute("contenteditable",!0),i.container.setAttribute("tabindex",-1),i.matchers=[],C.concat(i.options.matchers).forEach(function(t){var e=o(t,2),s=e[1];(n.matchVisual||s!==R)&&i.addMatcher(e[0],s)}),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,h.default),s(e,[{key:"addMatcher",value:function(t,e){this.matchers.push([t,e])}},{key:"convert",value:function(t){if("string"==typeof t)return this.container.innerHTML=t.replace(/\>\r?\n +\</g,"><"),this.convert();var e=this.quill.getFormat(this.quill.selection.savedRange.index);if(e[p.default.blotName]){var n=this.container.innerText;return this.container.innerHTML="",(new a.default).insert(n,w({},p.default.blotName,e[p.default.blotName]))}var i=this.prepareMatching(),s=o(i,2),r=function t(e,n,i){return e.nodeType===e.TEXT_NODE?i.reduce(function(t,n){return n(e,t)},new a.default):e.nodeType===e.ELEMENT_NODE?[].reduce.call(e.childNodes||[],function(o,s){var r=t(s,n,i);return s.nodeType===e.ELEMENT_NODE&&(r=n.reduce(function(t,e){return e(s,t)},r),r=(s[x]||[]).reduce(function(t,e){return e(s,t)},r)),o.concat(r)},new a.default):new a.default}(this.container,s[0],s[1]);return E(r,"\n")&&null==r.ops[r.ops.length-1].attributes&&(r=r.compose((new a.default).retain(r.length()-1).delete(1))),_.log("convert",this.container.innerHTML,r),this.container.innerHTML="",r}},{key:"dangerouslyPasteHTML",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c.default.sources.API;if("string"==typeof t)this.quill.setContents(this.convert(t),e),this.quill.setSelection(0,c.default.sources.SILENT);else{var i=this.convert(e);this.quill.updateContents((new a.default).retain(t).concat(i),n),this.quill.setSelection(t+i.length(),c.default.sources.SILENT)}}},{key:"onPaste",value:function(t){var e=this;if(!t.defaultPrevented&&this.quill.isEnabled()){var n=this.quill.getSelection(),i=(new a.default).retain(n.index),o=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(c.default.sources.SILENT),setTimeout(function(){i=i.concat(e.convert()).delete(n.length),e.quill.updateContents(i,c.default.sources.USER),e.quill.setSelection(i.length()-n.length,c.default.sources.SILENT),e.quill.scrollingContainer.scrollTop=o,e.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var t=this,e=[],n=[];return this.matchers.forEach(function(i){var s=o(i,2),r=s[0],a=s[1];switch(r){case Node.TEXT_NODE:n.push(a);break;case Node.ELEMENT_NODE:e.push(a);break;default:[].forEach.call(t.container.querySelectorAll(r),function(t){t[x]=t[x]||[],t[x].push(a)})}}),[e,n]}}]),e}();function D(t,e,n){return"object"===("undefined"==typeof e?"undefined":i(e))?Object.keys(e).reduce(function(t,n){return D(t,n,e[n])},t):t.reduce(function(t,i){return i.attributes&&i.attributes[e]?t.push(i):t.insert(i.insert,(0,r.default)({},w({},e,n),i.attributes))},new a.default)}function O(t){return t.nodeType!==Node.ELEMENT_NODE?{}:t["__ql-computed-style"]||(t["__ql-computed-style"]=window.getComputedStyle(t))}function E(t,e){for(var n="",i=t.ops.length-1;i>=0&&n.length<e.length;--i){var o=t.ops[i];if("string"!=typeof o.insert)break;n=o.insert+n}return n.slice(-1*e.length)===e}function N(t){if(0===t.childNodes.length)return!1;var e=O(t);return["block","list-item"].indexOf(e.display)>-1}function A(t,e,n){return D(n,t,!0)}function M(t,e){var n=l.default.Attributor.Attribute.keys(t),i=l.default.Attributor.Class.keys(t),o=l.default.Attributor.Style.keys(t),s={};return n.concat(i).concat(o).forEach(function(e){var n=l.default.query(e,l.default.Scope.ATTRIBUTE);null!=n&&(s[n.attrName]=n.value(t),s[n.attrName])||(null==(n=k[e])||n.attrName!==e&&n.keyName!==e||(s[n.attrName]=n.value(t)||void 0),null==(n=S[e])||n.attrName!==e&&n.keyName!==e||(s[(n=S[e]).attrName]=n.value(t)||void 0))}),Object.keys(s).length>0&&(e=D(e,s)),e}function P(t,e){var n=l.default.query(t);if(null==n)return e;if(n.prototype instanceof l.default.Embed){var i={},o=n.value(t);null!=o&&(i[n.blotName]=o,e=(new a.default).insert(i,n.formats(t)))}else"function"==typeof n.formats&&(e=D(e,n.blotName,n.formats(t)));return e}function I(t,e){return E(e,"\n")||(N(t)||e.length()>0&&t.nextSibling&&N(t.nextSibling))&&e.insert("\n"),e}function R(t,e){if(N(t)&&null!=t.nextElementSibling&&!E(e,"\n\n")){var n=t.offsetHeight+parseFloat(O(t).marginTop)+parseFloat(O(t).marginBottom);t.nextElementSibling.offsetTop>t.offsetTop+1.5*n&&e.insert("\n")}return e}function L(t,e){var n=t.data;if("O:P"===t.parentNode.tagName)return e.insert(n.trim());if(0===n.trim().length&&t.parentNode.classList.contains("ql-clipboard"))return e;if(!O(t.parentNode).whiteSpace.startsWith("pre")){var i=function(t,e){return(e=e.replace(/[^\u00a0]/g,"")).length<1&&t?" ":e};n=(n=n.replace(/\r\n/g," ").replace(/\n/g," ")).replace(/\s\s+/g,i.bind(i,!0)),(null==t.previousSibling&&N(t.parentNode)||null!=t.previousSibling&&N(t.previousSibling))&&(n=n.replace(/^\s+/,i.bind(i,!1))),(null==t.nextSibling&&N(t.parentNode)||null!=t.nextSibling&&N(t.nextSibling))&&(n=n.replace(/\s+$/,i.bind(i,!1)))}return e.insert(n)}T.DEFAULTS={matchers:[],matchVisual:!0},e.default=T,e.matchAttributor=M,e.matchBlot=P,e.matchNewline=I,e.matchSpacing=R,e.matchText=L},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,n,i)}if("value"in o)return o.value;var r=o.get;return void 0!==r?r.call(i):void 0},r=(i=n(6))&&i.__esModule?i:{default:i},a=function(t){function e(){return function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.default),o(e,[{key:"optimize",value:function(t){s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return s(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),e}();a.blotName="bold",a.tagName=["STRONG","B"],e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.addControls=e.default=void 0;var i=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,o=!1,s=void 0;try{for(var r,a=t[Symbol.iterator]();!(i=(r=a.next()).done)&&(n.push(r.value),!e||n.length!==e);i=!0);}catch(t){o=!0,s=t}finally{try{!i&&a.return&&a.return()}finally{if(o)throw s}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=u(n(2)),r=u(n(0)),a=u(n(5)),l=u(n(10)),c=u(n(9));function u(t){return t&&t.__esModule?t:{default:t}}function h(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var d=(0,l.default)("quill:toolbar"),f=function(t){function e(t,n){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this);var o,s=h(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));if(Array.isArray(s.options.container)){var r=document.createElement("div");g(r,s.options.container),t.container.parentNode.insertBefore(r,t.container),s.container=r}else s.container="string"==typeof s.options.container?document.querySelector(s.options.container):s.options.container;return s.container instanceof HTMLElement?(s.container.classList.add("ql-toolbar"),s.controls=[],s.handlers={},Object.keys(s.options.handlers).forEach(function(t){s.addHandler(t,s.options.handlers[t])}),[].forEach.call(s.container.querySelectorAll("button, select"),function(t){s.attach(t)}),s.quill.on(a.default.events.EDITOR_CHANGE,function(t,e){t===a.default.events.SELECTION_CHANGE&&s.update(e)}),s.quill.on(a.default.events.SCROLL_OPTIMIZE,function(){var t=s.quill.selection.getRange(),e=i(t,1);s.update(e[0])}),s):(o=d.error("Container required for toolbar",s.options),h(s,o))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,c.default),o(e,[{key:"addHandler",value:function(t,e){this.handlers[t]=e}},{key:"attach",value:function(t){var e=this,n=[].find.call(t.classList,function(t){return 0===t.indexOf("ql-")});if(n){if(n=n.slice("ql-".length),"BUTTON"===t.tagName&&t.setAttribute("type","button"),null==this.handlers[n]){if(null!=this.quill.scroll.whitelist&&null==this.quill.scroll.whitelist[n])return void d.warn("ignoring attaching to disabled format",n,t);if(null==r.default.query(n))return void d.warn("ignoring attaching to nonexistent format",n,t)}t.addEventListener("SELECT"===t.tagName?"change":"click",function(o){var l=void 0;if("SELECT"===t.tagName){if(t.selectedIndex<0)return;var c=t.options[t.selectedIndex];l=!c.hasAttribute("selected")&&(c.value||!1)}else l=!t.classList.contains("ql-active")&&(t.value||!t.hasAttribute("value")),o.preventDefault();e.quill.focus();var u=e.quill.selection.getRange(),h=i(u,1)[0];if(null!=e.handlers[n])e.handlers[n].call(e,l);else if(r.default.query(n).prototype instanceof r.default.Embed){if(!(l=prompt("Enter "+n)))return;e.quill.updateContents((new s.default).retain(h.index).delete(h.length).insert(function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},n,l)),a.default.sources.USER)}else e.quill.format(n,l,a.default.sources.USER);e.update(h)}),this.controls.push([n,t])}}},{key:"update",value:function(t){var e=null==t?{}:this.quill.getFormat(t);this.controls.forEach(function(n){var o=i(n,2),s=o[0],r=o[1];if("SELECT"===r.tagName){var a=void 0;if(null==t)a=null;else if(null==e[s])a=r.querySelector("option[selected]");else if(!Array.isArray(e[s])){var l=e[s];"string"==typeof l&&(l=l.replace(/\"/g,'\\"')),a=r.querySelector('option[value="'+l+'"]')}null==a?(r.value="",r.selectedIndex=-1):a.selected=!0}else if(null==t)r.classList.remove("ql-active");else if(r.hasAttribute("value")){var c=e[s]===r.getAttribute("value")||null!=e[s]&&e[s].toString()===r.getAttribute("value")||null==e[s]&&!r.getAttribute("value");r.classList.toggle("ql-active",c)}else r.classList.toggle("ql-active",null!=e[s])})}}]),e}();function p(t,e,n){var i=document.createElement("button");i.setAttribute("type","button"),i.classList.add("ql-"+e),null!=n&&(i.value=n),t.appendChild(i)}function g(t,e){Array.isArray(e[0])||(e=[e]),e.forEach(function(e){var n=document.createElement("span");n.classList.add("ql-formats"),e.forEach(function(t){if("string"==typeof t)p(n,t);else{var e=Object.keys(t)[0],i=t[e];Array.isArray(i)?function(t,e,n){var i=document.createElement("select");i.classList.add("ql-"+e),n.forEach(function(t){var e=document.createElement("option");!1!==t?e.setAttribute("value",t):e.setAttribute("selected","selected"),i.appendChild(e)}),t.appendChild(i)}(n,e,i):p(n,e,i)}}),t.appendChild(n)})}f.DEFAULTS={},f.DEFAULTS={container:null,handlers:{clean:function(){var t=this,e=this.quill.getSelection();if(null!=e)if(0==e.length){var n=this.quill.getFormat();Object.keys(n).forEach(function(e){null!=r.default.query(e,r.default.Scope.INLINE)&&t.quill.format(e,!1)})}else this.quill.removeFormat(e,a.default.sources.USER)},direction:function(t){var e=this.quill.getFormat().align;"rtl"===t&&null==e?this.quill.format("align","right",a.default.sources.USER):t||"right"!==e||this.quill.format("align",!1,a.default.sources.USER),this.quill.format("direction",t,a.default.sources.USER)},indent:function(t){var e=this.quill.getSelection(),n=this.quill.getFormat(e),i=parseInt(n.indent||0);if("+1"===t||"-1"===t){var o="+1"===t?1:-1;"rtl"===n.direction&&(o*=-1),this.quill.format("indent",i+o,a.default.sources.USER)}},link:function(t){!0===t&&(t=prompt("Enter link URL:")),this.quill.format("link",t,a.default.sources.USER)},list:function(t){var e=this.quill.getSelection(),n=this.quill.getFormat(e);this.quill.format("list","check"===t?"checked"!==n.list&&"unchecked"!==n.list&&"unchecked":t,a.default.sources.USER)}}},e.default=f,e.addControls=g},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,n,i)}if("value"in o)return o.value;var r=o.get;return void 0!==r?r.call(i):void 0},r=(i=n(28))&&i.__esModule?i:{default:i},a=function(t){function e(t,n){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.label.innerHTML=n,i.container.classList.add("ql-color-picker"),[].slice.call(i.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(t){t.classList.add("ql-primary")}),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.default),o(e,[{key:"buildItem",value:function(t){var n=s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"buildItem",this).call(this,t);return n.style.backgroundColor=t.getAttribute("value")||"",n}},{key:"selectItem",value:function(t,n){s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"selectItem",this).call(this,t,n);var i=this.label.querySelector(".ql-color-label"),o=t&&t.getAttribute("data-value")||"";i&&("line"===i.tagName?i.style.stroke=o:i.style.fill=o)}}]),e}();e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=(i=n(28))&&i.__esModule?i:{default:i},r=function(t){function e(t,n){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.container.classList.add("ql-icon-picker"),[].forEach.call(i.container.querySelectorAll(".ql-picker-item"),function(t){t.innerHTML=n[t.getAttribute("data-value")||""]}),i.defaultItem=i.container.querySelector(".ql-selected"),i.selectItem(i.defaultItem),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.default),o(e,[{key:"selectItem",value:function(t,n){(function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,n,i)}if("value"in o)return o.value;var r=o.get;return void 0!==r?r.call(i):void 0})(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"selectItem",this).call(this,t,n),this.label.innerHTML=(t=t||this.defaultItem).innerHTML}}]),e}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function(){function t(e,n){var i=this;!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.quill=e,this.boundsContainer=n||document.body,this.root=e.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){i.root.style.marginTop=-1*i.quill.root.scrollTop+"px"}),this.hide()}return i(t,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(t){var e=t.left+t.width/2-this.root.offsetWidth/2,n=t.bottom+this.quill.root.scrollTop;this.root.style.left=e+"px",this.root.style.top=n+"px",this.root.classList.remove("ql-flip");var i=this.boundsContainer.getBoundingClientRect(),o=this.root.getBoundingClientRect(),s=0;return o.right>i.right&&(this.root.style.left=e+(s=i.right-o.right)+"px"),o.left<i.left&&(this.root.style.left=e+(s=i.left-o.left)+"px"),o.bottom>i.bottom&&(this.root.style.top=n-(t.bottom-t.top+(o.bottom-o.top))+"px",this.root.classList.add("ql-flip")),s}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,n,i)}if("value"in o)return o.value;var r=o.get;return void 0!==r?r.call(i):void 0},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=d(n(3)),r=d(n(8)),a=n(43),l=d(a),c=d(n(27)),u=n(15),h=d(n(41));function d(t){return t&&t.__esModule?t:{default:t}}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function g(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var m=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],v=function(t){function e(t,n){f(this,e),null!=n.modules.toolbar&&null==n.modules.toolbar.container&&(n.modules.toolbar.container=m);var i=p(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.quill.container.classList.add("ql-snow"),i}return g(e,l.default),o(e,[{key:"extendToolbar",value:function(t){t.container.classList.add("ql-snow"),this.buildButtons([].slice.call(t.container.querySelectorAll("button")),h.default),this.buildPickers([].slice.call(t.container.querySelectorAll("select")),h.default),this.tooltip=new y(this.quill,this.options.bounds),t.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(e,n){t.handlers.link.call(t,!n.format.link)})}}]),e}();v.DEFAULTS=(0,s.default)(!0,{},l.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(t){if(t){var e=this.quill.getSelection();if(null==e||0==e.length)return;var n=this.quill.getText(e);/^\S+@\S+\.\S+$/.test(n)&&0!==n.indexOf("mailto:")&&(n="mailto:"+n),this.quill.theme.tooltip.edit("link",n)}else this.quill.format("link",!1)}}}}});var y=function(t){function e(t,n){f(this,e);var i=p(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.preview=i.root.querySelector("a.ql-preview"),i}return g(e,a.BaseTooltip),o(e,[{key:"listen",value:function(){var t=this;i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(e){t.root.classList.contains("ql-editing")?t.save():t.edit("link",t.preview.textContent),e.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(e){if(null!=t.linkRange){var n=t.linkRange;t.restoreFocus(),t.quill.formatText(n,"link",!1,r.default.sources.USER),delete t.linkRange}e.preventDefault(),t.hide()}),this.quill.on(r.default.events.SELECTION_CHANGE,function(e,n,i){if(null!=e){if(0===e.length&&i===r.default.sources.USER){var o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,o=!1,s=void 0;try{for(var r,a=t[Symbol.iterator]();!(i=(r=a.next()).done)&&(n.push(r.value),!e||n.length!==e);i=!0);}catch(t){o=!0,s=t}finally{try{!i&&a.return&&a.return()}finally{if(o)throw s}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(t.quill.scroll.descendant(c.default,e.index),2),s=o[0];if(null!=s){t.linkRange=new u.Range(e.index-o[1],s.length());var a=c.default.formats(s.domNode);return t.preview.textContent=a,t.preview.setAttribute("href",a),t.show(),void t.position(t.quill.getBounds(t.linkRange))}}else delete t.linkRange;t.hide()}})}},{key:"show",value:function(){i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),e}();y.TEMPLATE=['<a class="ql-preview" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),e.default=v},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=R(n(29)),o=n(36),s=n(38),r=n(64),a=R(n(65)),l=R(n(66)),c=n(67),u=R(c),h=n(37),d=n(26),f=n(39),p=n(40),g=R(n(56)),m=R(n(68)),v=R(n(27)),y=R(n(69)),b=R(n(70)),w=R(n(71)),_=R(n(72)),x=R(n(73)),C=n(13),k=R(C),S=R(n(74)),T=R(n(75)),D=R(n(57)),O=R(n(41)),E=R(n(28)),N=R(n(59)),A=R(n(60)),M=R(n(61)),P=R(n(108)),I=R(n(62));function R(t){return t&&t.__esModule?t:{default:t}}i.default.register({"attributors/attribute/direction":s.DirectionAttribute,"attributors/class/align":o.AlignClass,"attributors/class/background":h.BackgroundClass,"attributors/class/color":d.ColorClass,"attributors/class/direction":s.DirectionClass,"attributors/class/font":f.FontClass,"attributors/class/size":p.SizeClass,"attributors/style/align":o.AlignStyle,"attributors/style/background":h.BackgroundStyle,"attributors/style/color":d.ColorStyle,"attributors/style/direction":s.DirectionStyle,"attributors/style/font":f.FontStyle,"attributors/style/size":p.SizeStyle},!0),i.default.register({"formats/align":o.AlignClass,"formats/direction":s.DirectionClass,"formats/indent":r.IndentClass,"formats/background":h.BackgroundStyle,"formats/color":d.ColorStyle,"formats/font":f.FontClass,"formats/size":p.SizeClass,"formats/blockquote":a.default,"formats/code-block":k.default,"formats/header":l.default,"formats/list":u.default,"formats/bold":g.default,"formats/code":C.Code,"formats/italic":m.default,"formats/link":v.default,"formats/script":y.default,"formats/strike":b.default,"formats/underline":w.default,"formats/image":_.default,"formats/video":x.default,"formats/list/item":c.ListItem,"modules/formula":S.default,"modules/syntax":T.default,"modules/toolbar":D.default,"themes/bubble":P.default,"themes/snow":I.default,"ui/icons":O.default,"ui/picker":E.default,"ui/icon-picker":A.default,"ui/color-picker":N.default,"ui/tooltip":M.default},!0),e.default=i.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentClass=void 0;var i,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,n,i)}if("value"in o)return o.value;var r=o.get;return void 0!==r?r.call(i):void 0},r=(i=n(0))&&i.__esModule?i:{default:i},a=new(function(t){function e(){return function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.default.Attributor.Class),o(e,[{key:"add",value:function(t,n){if("+1"===n||"-1"===n){var i=this.value(t)||0;n="+1"===n?i+1:i-1}return 0===n?(this.remove(t),!0):s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"add",this).call(this,t,n)}},{key:"canAdd",value:function(t,n){return s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"canAdd",this).call(this,t,n)||s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"canAdd",this).call(this,t,parseInt(n))}},{key:"value",value:function(t){return parseInt(s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"value",this).call(this,t))||void 0}}]),e}())("indent","ql-indent",{scope:r.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});e.IndentClass=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=(i=n(4))&&i.__esModule?i:{default:i},s=function(t){function e(){return function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.default),e}();s.blotName="blockquote",s.tagName="blockquote",e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=(i=n(4))&&i.__esModule?i:{default:i},r=function(t){function e(){return function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.default),o(e,null,[{key:"formats",value:function(t){return this.tagName.indexOf(t.tagName)+1}}]),e}();r.blotName="header",r.tagName=["H1","H2","H3","H4","H5","H6"],e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.ListItem=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,n,i)}if("value"in o)return o.value;var r=o.get;return void 0!==r?r.call(i):void 0},s=l(n(0)),r=l(n(4)),a=l(n(25));function l(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var d=function(t){function e(){return c(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return h(e,r.default),i(e,[{key:"format",value:function(t,n){t!==f.blotName||n?o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n):this.replaceWith(s.default.create(this.statics.scope))}},{key:"remove",value:function(){null==this.prev&&null==this.next?this.parent.remove():o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(t,n){return this.parent.isolate(this.offset(this.parent),this.length()),t===this.parent.statics.blotName?(this.parent.replaceWith(t,n),this):(this.parent.unwrap(),o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"replaceWith",this).call(this,t,n))}}],[{key:"formats",value:function(t){return t.tagName===this.tagName?void 0:o(e.__proto__||Object.getPrototypeOf(e),"formats",this).call(this,t)}}]),e}();d.blotName="list-item",d.tagName="LI";var f=function(t){function e(t){c(this,e);var n=u(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t)),i=function(e){if(e.target.parentNode===t){var i=n.statics.formats(t),o=s.default.find(e.target);"checked"===i?o.format("list","unchecked"):"unchecked"===i&&o.format("list","checked")}};return t.addEventListener("touchstart",i),t.addEventListener("mousedown",i),n}return h(e,a.default),i(e,null,[{key:"create",value:function(t){var n="ordered"===t?"OL":"UL",i=o(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,n);return"checked"!==t&&"unchecked"!==t||i.setAttribute("data-checked","checked"===t),i}},{key:"formats",value:function(t){return"OL"===t.tagName?"ordered":"UL"===t.tagName?t.hasAttribute("data-checked")?"true"===t.getAttribute("data-checked")?"checked":"unchecked":"bullet":void 0}}]),i(e,[{key:"format",value:function(t,e){this.children.length>0&&this.children.tail.format(t,e)}},{key:"formats",value:function(){return t={},e=this.statics.blotName,n=this.statics.formats(this.domNode),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t;var t,e,n}},{key:"insertBefore",value:function(t,n){if(t instanceof d)o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertBefore",this).call(this,t,n);else{var i=null==n?this.length():n.offset(this),s=this.split(i);s.parent.insertBefore(t,s)}}},{key:"optimize",value:function(t){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t);var n=this.next;null!=n&&n.prev===this&&n.statics.blotName===this.statics.blotName&&n.domNode.tagName===this.domNode.tagName&&n.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(n.moveChildren(this),n.remove())}},{key:"replace",value:function(t){if(t.statics.blotName!==this.statics.blotName){var n=s.default.create(this.statics.defaultChild);t.moveChildren(n),this.appendChild(n)}o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"replace",this).call(this,t)}}]),e}();f.blotName="list",f.scope=s.default.Scope.BLOCK_BLOT,f.tagName=["OL","UL"],f.defaultChild="list-item",f.allowedChildren=[d],e.ListItem=d,e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=(i=n(56))&&i.__esModule?i:{default:i},s=function(t){function e(){return function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.default),e}();s.blotName="italic",s.tagName=["EM","I"],e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=(i=n(6))&&i.__esModule?i:{default:i},r=function(t){function e(){return function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.default),o(e,null,[{key:"create",value:function(t){return"super"===t?document.createElement("sup"):"sub"===t?document.createElement("sub"):function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,n,i)}if("value"in o)return o.value;var r=o.get;return void 0!==r?r.call(i):void 0}(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t)}},{key:"formats",value:function(t){return"SUB"===t.tagName?"sub":"SUP"===t.tagName?"super":void 0}}]),e}();r.blotName="script",r.tagName=["SUB","SUP"],e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=(i=n(6))&&i.__esModule?i:{default:i},s=function(t){function e(){return function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.default),e}();s.blotName="strike",s.tagName="S",e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=(i=n(6))&&i.__esModule?i:{default:i},s=function(t){function e(){return function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.default),e}();s.blotName="underline",s.tagName="U",e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,n,i)}if("value"in o)return o.value;var r=o.get;return void 0!==r?r.call(i):void 0},r=(i=n(0))&&i.__esModule?i:{default:i},a=n(27),l=["alt","height","width"],c=function(t){function e(){return function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.default.Embed),o(e,[{key:"format",value:function(t,n){l.indexOf(t)>-1?n?this.domNode.setAttribute(t,n):this.domNode.removeAttribute(t):s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n)}}],[{key:"create",value:function(t){var n=s(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t);return"string"==typeof t&&n.setAttribute("src",this.sanitize(t)),n}},{key:"formats",value:function(t){return l.reduce(function(e,n){return t.hasAttribute(n)&&(e[n]=t.getAttribute(n)),e},{})}},{key:"match",value:function(t){return/\.(jpe?g|gif|png)$/.test(t)||/^data:image\/.+;base64/.test(t)}},{key:"sanitize",value:function(t){return(0,a.sanitize)(t,["http","https","data"])?t:"//:0"}},{key:"value",value:function(t){return t.getAttribute("src")}}]),e}();c.blotName="image",c.tagName="IMG",e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,n,i)}if("value"in o)return o.value;var r=o.get;return void 0!==r?r.call(i):void 0},r=n(4),a=(i=n(27))&&i.__esModule?i:{default:i},l=["height","width"],c=function(t){function e(){return function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.BlockEmbed),o(e,[{key:"format",value:function(t,n){l.indexOf(t)>-1?n?this.domNode.setAttribute(t,n):this.domNode.removeAttribute(t):s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n)}}],[{key:"create",value:function(t){var n=s(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t);return n.setAttribute("frameborder","0"),n.setAttribute("allowfullscreen",!0),n.setAttribute("src",this.sanitize(t)),n}},{key:"formats",value:function(t){return l.reduce(function(e,n){return t.hasAttribute(n)&&(e[n]=t.getAttribute(n)),e},{})}},{key:"sanitize",value:function(t){return a.default.sanitize(t)}},{key:"value",value:function(t){return t.getAttribute("src")}}]),e}();c.blotName="video",c.className="ql-video",c.tagName="IFRAME",e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.FormulaBlot=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=a(n(35)),s=a(n(5)),r=a(n(9));function a(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var h=function(t){function e(){return l(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return u(e,o.default),i(e,null,[{key:"create",value:function(t){var n=function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,n,i)}if("value"in o)return o.value;var r=o.get;return void 0!==r?r.call(i):void 0}(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t);return"string"==typeof t&&(window.katex.render(t,n,{throwOnError:!1,errorColor:"#f00"}),n.setAttribute("data-value",t)),n}},{key:"value",value:function(t){return t.getAttribute("data-value")}}]),e}();h.blotName="formula",h.className="ql-formula",h.tagName="SPAN";var d=function(t){function e(){l(this,e);var t=c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));if(null==window.katex)throw new Error("Formula module requires KaTeX.");return t}return u(e,r.default),i(e,null,[{key:"register",value:function(){s.default.register(h,!0)}}]),e}();e.FormulaBlot=h,e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.CodeToken=e.CodeBlock=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=l(n(0)),s=l(n(5)),r=l(n(9)),a=l(n(13));function l(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var d=function(t){function e(){return c(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return h(e,a.default),i(e,[{key:"replaceWith",value:function(t){this.domNode.textContent=this.domNode.textContent,this.attach(),function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,n,i)}if("value"in o)return o.value;var r=o.get;return void 0!==r?r.call(i):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"replaceWith",this).call(this,t)}},{key:"highlight",value:function(t){var e=this.domNode.textContent;this.cachedText!==e&&((e.trim().length>0||null==this.cachedText)&&(this.domNode.innerHTML=t(e),this.domNode.normalize(),this.attach()),this.cachedText=e)}}]),e}();d.className="ql-syntax";var f=new o.default.Attributor.Class("token","hljs",{scope:o.default.Scope.INLINE}),p=function(t){function e(t,n){c(this,e);var i=u(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));if("function"!=typeof i.options.highlight)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var o=null;return i.quill.on(s.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(o),o=setTimeout(function(){i.highlight(),o=null},i.options.interval)}),i.highlight(),i}return h(e,r.default),i(e,null,[{key:"register",value:function(){s.default.register(f,!0),s.default.register(d,!0)}}]),i(e,[{key:"highlight",value:function(){var t=this;if(!this.quill.selection.composing){this.quill.update(s.default.sources.USER);var e=this.quill.getSelection();this.quill.scroll.descendants(d).forEach(function(e){e.highlight(t.options.highlight)}),this.quill.update(s.default.sources.SILENT),null!=e&&this.quill.setSelection(e,s.default.sources.SILENT)}}}]),e}();p.DEFAULTS={highlight:null==window.hljs?null:function(t){return window.hljs.highlightAuto(t).value},interval:1e3},e.CodeBlock=d,e.CodeToken=f,e.default=p},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(t,e){t.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(t,e){t.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(t,e){t.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(t,e){t.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.BubbleTooltip=void 0;var i=function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,n,i)}if("value"in o)return o.value;var r=o.get;return void 0!==r?r.call(i):void 0},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=h(n(3)),r=h(n(8)),a=n(43),l=h(a),c=n(15),u=h(n(41));function h(t){return t&&t.__esModule?t:{default:t}}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var g=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],m=function(t){function e(t,n){d(this,e),null!=n.modules.toolbar&&null==n.modules.toolbar.container&&(n.modules.toolbar.container=g);var i=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.quill.container.classList.add("ql-bubble"),i}return p(e,l.default),o(e,[{key:"extendToolbar",value:function(t){this.tooltip=new v(this.quill,this.options.bounds),this.tooltip.root.appendChild(t.container),this.buildButtons([].slice.call(t.container.querySelectorAll("button")),u.default),this.buildPickers([].slice.call(t.container.querySelectorAll("select")),u.default)}}]),e}();m.DEFAULTS=(0,s.default)(!0,{},l.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(t){t?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var v=function(t){function e(t,n){d(this,e);var i=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.quill.on(r.default.events.EDITOR_CHANGE,function(t,e,n,o){if(t===r.default.events.SELECTION_CHANGE)if(null!=e&&e.length>0&&o===r.default.sources.USER){i.show(),i.root.style.left="0px",i.root.style.width="",i.root.style.width=i.root.offsetWidth+"px";var s=i.quill.getLines(e.index,e.length);if(1===s.length)i.position(i.quill.getBounds(e));else{var a=s[s.length-1],l=i.quill.getIndex(a),u=Math.min(a.length()-1,e.index+e.length-l),h=i.quill.getBounds(new c.Range(l,u));i.position(h)}}else document.activeElement!==i.textbox&&i.quill.hasFocus()&&i.hide()}),i}return p(e,a.BaseTooltip),o(e,[{key:"listen",value:function(){var t=this;i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){t.root.classList.remove("ql-editing")}),this.quill.on(r.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!t.root.classList.contains("ql-hidden")){var e=t.quill.getSelection();null!=e&&t.position(t.quill.getBounds(e))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(t){var n=i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"position",this).call(this,t),o=this.root.querySelector(".ql-tooltip-arrow");if(o.style.marginLeft="",0===n)return n;o.style.marginLeft=-1*n-o.offsetWidth/2+"px"}}]),e}();v.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),e.BubbleTooltip=v,e.default=m},function(t,e,n){t.exports=n(63)}]).default});